var e=[];let n=[],t=(s=(s="AX153DR3").slice(3,-3),parseInt((a=s,String.fromCharCode(a))));var a,s;let o=0;const _={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},l={1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday",7:"sunday"};var i="free";let c=!1;var r=0;const d="https://tab-scheduler.extfy.com/";let p="_dstrdmp";var u=!1;let m='.container .plan-popup.active .submit-key-cont div input[type="button"]';function h(n,t=!1){n&&0!=n.length&&($.each(n,(function(t,a){n[t].flag="0",n[t].tabid="",chrome.tabs.query({},(async function(s){var o="",_=await chrome.alarms.getAll(),l=[];_&&(l=_.filter(((e,n)=>{if(e.name.indexOf("tabclose_")>-1)return e}))),$.each(s,(function(s,_){var i=a.url_name.replace(/(^\w+:|^)\/\//,"").trim(),c=i.slice(-1),r=_.url.replace(/(^\w+:|^)\/\//,""),d=["none","day","weekly","month","year","custom_minute","custom_second"],p=l.findIndex(((a,s)=>!d.includes(n[t].timer_repeat)&&n[t]?.timer_repeat==e[t]?.timer_repeat&&_.id==a.name.split("_")[2]));if("both"===a?.schedule_type||"close"===a?.schedule_type)if(1==parseInt(a.close_url_filter)&&1==parseInt(a.tab_status)&&p<0>-1&&(n[t].flag="1",o+=_.id+",",n[t].tabid=o.replace(/,\s*$/,""));else if(r.replace(/\/$/,"")==i.replace(/\/$/,"")&&p<0>-1&&p<0>d||s.close_date==d&&l.getTime()>p?1===parseInt(s.flag)&&1==parseInt(s.tab_status)?I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{when:o.getTime()})})):chrome.alarms.clear(s.id+"_"+s.timer_repeat):s.close_date==d&&l.getTime()<=p||s.close_date;else if(1==parseInt(s.tab_status)&&1===parseInt(s.flag)&&"1_min"===s.timer_repeat)L(s.id+"_"+s.timer_repeat,(function(e){e||I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:1})}))}));else if(1==parseInt(s.tab_status)&&1===parseInt(s.flag)&&"5_min"===s.timer_repeat)L(s.id+"_"+s.timer_repeat,(function(e){e||I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:5})}))}));else if(1==parseInt(s.tab_status)&&1===parseInt(s.flag)&&"10_min"===s.timer_repeat)L(s.id+"_"+s.timer_repeat,(function(e){e||I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:10})}))}));else if(1==parseInt(s.tab_status)&&1===parseInt(s.flag)&&"30_min"===s.timer_repeat)L(s.id+"_"+s.timer_repeat,(function(e){e||I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:30})}))}));else if(1==parseInt(s.tab_status)&&1===parseInt(s.flag)&&"60_min"===s.timer_repeat){var m=new Date(parseInt(_.getFullYear()),parseInt(_.getMonth()),_.getDate(),_.getHours(),s.every_hour_close_minute);if(m>_.getTime())u=m;else if(m<_>p)I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{when:u.getTime(),periodInMinutes:1440})}));else if(parseInt(u.getTime())<p>{var t=parseInt(e.split("_")[0]);7==t&&(t=0);var a=new Date(parseInt(_.getFullYear()),parseInt(_.getMonth()),_.getDate(),c[0],c[1]);if(parseInt(_.getDay())===parseInt(t)&&parseInt(a.getTime())>p)I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat+"_"+parseInt(t),{when:a.getTime(),periodInMinutes:h})}));else{var o=parseInt(a.getDate()+(parseInt(t)-1-a.getDay()+7)%7+1);a.setDate(o),q(s.id+"_"+s.timer_repeat+"_"+t,{when:a.getTime(),periodInMinutes:h})}}))}else if(1==parseInt(s.tab_status)&&"year"===s.timer_repeat)l.getTime()>p&&I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{when:o.getTime()})}));else if(1==parseInt(s.tab_status)&&"month"===s.timer_repeat){u=new Date(parseInt(_.getFullYear()),parseInt(_.getMonth()),_.getDate(),c[0],c[1]);s.close_month_day==_.getDate()&&u.getTime()>p?I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{when:u.getTime()})})):s.close_month_day<_>_.getDate()&&(u=new Date(parseInt(_.getFullYear()),parseInt(_.getMonth()),parseInt(s.close_month_day),c[0],c[1]),I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{when:u.getTime()})})))}else if(1==parseInt(s.tab_status)&&1===parseInt(s.flag)&&"custom_minute"===s.timer_repeat){if(null!=n&&0!=n.length){var g=e.findIndex((e=>parseInt(e.id)===parseInt(s.id)));L(s.id+"_"+s.timer_repeat,(function(n){n?e[g].custom_close_minute!==s.custom_close_minute&&I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:parseInt(s.custom_close_minute)})})):(T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:parseInt(s.custom_close_minute)}))}))}}else if(1==parseInt(s.tab_status)&&1===parseInt(s.flag)&&"custom_second"===s.timer_repeat){if(null!=n&&0!=n.length){g=e.findIndex((e=>parseInt(e.id)===parseInt(s.id)));L(s.id+"_"+s.timer_repeat,(function(n){n?e[g].custom_close_second!==s.custom_close_second&&I(s.id,(function(e){T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:parseInt(s.custom_close_second)/60})})):(T(s.id),q(s.id+"_"+s.timer_repeat,{delayInMinutes:parseInt(s.custom_close_second)/60}))}))}}else 0==parseInt(s.tab_status)?T(s.id):I(s.id,(function(e){}))})),setTimeout((function(){e=n,chrome.storage.local.set({scheduled_timer:n}),chrome.runtime.sendMessage({action:"keep_awake"})}),100)}),300)),setTimeout((function(){R()}),2e3)}function g(e){const t=Object.entries(n).find((([n,t])=>t.message===e));return t?t[0]:""}function v(e,n="disabled",t=!1){e&&0!=e.length&&setTimeout((function(){O(),"disabled"===n&&$.each(e,(function(e,n){var a,s=new Date(n.open_date+" "+n.open_time),o=(s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear()+" "+n.open_time).split(" "),_=o[1].split(":"),l=o[0].split("-");a=new Date(l[2],parseInt(l[1],10)-1,l[0],_[0],_[1]);var i=new Date,c=i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+("0"+i.getDate()).slice(-2),r=i.getTime();if("both"===n?.schedule_type||"open"===n?.schedule_type)if(1==parseInt(n.tab_status)&&"none"==n.timer_repeat||"none"==n.timer_repeat&&t)(n.open_date>c||n.open_date==c&&s.getTime()>r)&&A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{when:a.getTime()})}));else if(1==parseInt(n.tab_status)&&"1_min"===n.timer_repeat)E("opentab_"+n.id+"_"+n.timer_repeat,(function(e){e.status||A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{periodInMinutes:1})}))}));else if(1==parseInt(n.tab_status)&&"5_min"===n.timer_repeat)E("opentab_"+n.id+"_"+n.timer_repeat,(function(e){e.status||A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{periodInMinutes:5})}))}));else if(1==parseInt(n.tab_status)&&"10_min"===n.timer_repeat)E("opentab_"+n.id+"_"+n.timer_repeat,(function(e){e.status||A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{periodInMinutes:10})}))}));else if(1==parseInt(n.tab_status)&&"30_min"===n.timer_repeat)E("opentab_"+n.id+"_"+n.timer_repeat,(function(e){e.status||A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{periodInMinutes:30})}))}));else if(1==parseInt(n.tab_status)&&"60_min"===n.timer_repeat){var d=new Date(parseInt(i.getFullYear()),parseInt(i.getMonth()),i.getDate(),i.getHours(),n.every_hour_open_minute);if(d>i.getTime())var p=d;else if(d<i>i.getTime())A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{when:u.getTime(),periodInMinutes:1440})}));else if(parseInt(u.getTime())<i>{var a=e.split("_")[0];7==a&&(a=0);var s=new Date(parseInt(i.getFullYear()),parseInt(i.getMonth()),i.getDate(),_[0],_[1]);if(parseInt(i.getDay())==a&&i.getTime()<s>r?A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{when:p.getTime()})})):1==parseInt(n.tab_status)&&n.open_month_day==i.getDate()&&p.getTime()<r>i.getDate()&&(p=new Date(parseInt(i.getFullYear()),parseInt(i.getMonth()),parseInt(n.open_month_day),_[0],_[1]),A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{when:p.getTime()})})))}else if(1==parseInt(n.tab_status)&&"year"===n.timer_repeat){if(s.getTime()>r)A(n.id,(function(e){q("opentab_"+n.id+"_"+n.timer_repeat,{when:a.getTime()})}));else if(s.getTime()<r>__MSG_appName__</title>\n        <div>\n            ${w("home")}\n            <div>\n             __MSG_freeTral__\n                <div>\n\n                </div>\n            </div>\n            <div>\n                <div>\n                    <div>\n                    </div>\n                    <div>\n                        <label>\n                          __MSG_websiteLink__<span>*</span> \n                          <svg>\n                            <title>__MSG_enterYourURLToSchedule__</title>\n                          <g><path></path></g></svg>\n                        </label>\n                        \n                        <input id="url_name">\n                    </div>\n                    <div>\n                        <label>\n                          __MSG_title__ \n                          <svg>\n                            <title>__MSG_enterTilteOfScheduleUrl__</title>\n                          <g><path></path></g></svg>\n                        </label>\n\n                        <input id="title">\n                    </div>\n                    <div>\n                        <label>\n                          __MSG_selectFrequency__<span>*</span> \n                          <svg>\n                            <title>__MSG_selectFrequencyOfScheduleUrl__</title>\n                          <g><path></path></g></svg>\n                        </label>\n                        <select id="select-frequency">\n                            <option>__MSG_oneTime__</option>\n                            <option>__MSG_everyMinute__</option>\n                            <option>__MSG_every5Min__</option>\n                            <option>__MSG_every10Min__</option>\n                            <option>__MSG_every30Min__</option>\n                            <option>__MSG_everyHour__</option>\n                            <option>__MSG_everyDay__</option>\n                            <option>__MSG_everyWeek__</option>\n                            <option>__MSG_everyMonth__</option>\n                            <option>__MSG_everyYear__</option>\n                            <option>__MSG_custMin__</option>\n                            <option>__MSG_cusSec__</option>\n                            <option>__MSG_browserOpen__</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label>\n                          __MSG_scheduledType__<span>*</span>\n                          <svg>\n                            <title>__MSG_selectTypeOfSchedule__</title>\n                          <g><path></path></g></svg>\n                          </label>\n                        <select id="select-open-close">\n                            <option>__MSG_both__</option>\n                            <option>__MSG_open__</option>\n                            <option>__MSG_close__</option>\n                        </select>\n                    </div>\n                    <div>\n                        <div>\n                            <label>\n                              __MSG_openTime__\n                              <svg>\n                                <title>__MSG_enterTimeToSchedule__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="open_time">\n                        </div>\n                        <div>\n                            <label>\n                              __MSG_openDate__\n                              <svg>\n                                <title>__MSG_enterDateToOpen__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="open_date">\n                        </div>\n                        <div>\n                            <label>\n                              __MSG_openOnDay__\n                              <svg>\n                                <title>__MSG_selectDayToSchdule__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <select id="open_day">\n                                <option>-</option>\n                                <option>1</option>\n                                <option>2</option>\n                                <option>3</option>\n                                <option>4</option>\n                                <option>5</option>\n                                <option>6</option>\n                                <option>7</option>\n                                <option>8</option>\n                                <option>9</option>\n                                <option>10</option>\n                                <option>11</option>\n                                <option>12</option>\n                                <option>13</option>\n                                <option>14</option>\n                                <option>15</option>\n                                <option>16</option>\n                                <option>17</option>\n                                <option>18</option>\n                                <option>19</option>\n                                <option>20</option>\n                                <option>21</option>\n                                <option>22</option>\n                                <option>23</option>\n                                <option>24</option>\n                                <option>25</option>\n                                <option>26</option>\n                                <option>27</option>\n                                <option>28</option>\n                                <option>29</option>\n                                <option>30</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label>\n                              __MSG_openMinute__\n                              <svg>\n                                <title>__MSG_enterMiniutesToOpen__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="custom_open_minute">\n                        </div>\n                        <div>\n                            <label>\n                              __MSG_openSecond__\n                              <svg>\n                                <title>__MSG_enterSecondsToOpen__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="custom_open_second">\n                        </div>\n                        <div>\n                            <label>\n                              __MSG_slectMinute__\n                              <svg>\n                                <title>__MSG_enterTimeToSchedule__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <div>\n                              <input id="openMinutePicker">\n                               <div>\n                                  \x3c!-- Options will be generated dynamically --\x3e\n                                </div>\n                                 <p>__MSG_open_on__ <span></span></p>\n                            </div>\n                        </div>\n                        <div id="open_weekly">\n                            <label>\n                              __MSG_openWeeks__\n                              <svg>\n                                <title>__MSG_slectDayToScheduleWeekly__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <label>\n                                __MSG_select_weeks__\n                                <img>\n                            </label>\n                            <div>\n                                <label>\n                                    __MSG_checkAll__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_monday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_tuesday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_wednesday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_thursday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_friday__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_saturday__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_sunday__\n                                </label>\n                            </div>\n                        </div>\n                        <div id="on_browser_open">\n                            <label>\n                              __MSG_browserOpen__\n                              <svg>\n                                <title>__MSG_slectDayToScheduleWeekly__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <label>\n                                __MSG_select_weeks__\n                                <img>\n                            </label>\n                            <div>\n                                <label>\n                                    __MSG_checkAll__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_monday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_tuesday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_wednesday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_thursday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_friday__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_saturday__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_sunday__\n                                </label>\n                            </div>\n                        </div>\n                      </div>\n\n                 \n                    <div>\n                        <div>\n                            <label>__MSG_closeTime__\n                              <svg>\n                                <title>__MSG_enterTimeToCloseTab__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="close_time">\n                        </div>\n                        <div>\n                            <label>__MSG_closeDate__\n                              <svg>\n                                <title>__MSG_enterDateToCloseTab__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="close_date">\n                        </div>\n                        <div>\n                            <label>__MSG_closeOnDay__\n                              <svg>\n                                <title>__MSG_selectDayToCloseSchTb__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <select id="close_day">\n                               <option>-</option>\n                                <option>01</option>\n                                <option>02</option>\n                                <option>03</option>\n                                <option>04</option>\n                                <option>05</option>\n                                <option>06</option>\n                                <option>07</option>\n                                <option>08</option>\n                                <option>09</option>\n                                <option>10</option>\n                                <option>11</option>\n                                <option>12</option>\n                                <option>13</option>\n                                <option>14</option>\n                                <option>15</option>\n                                <option>16</option>\n                                <option>17</option>\n                                <option>18</option>\n                                <option>19</option>\n                                <option>20</option>\n                                <option>21</option>\n                                <option>22</option>\n                                <option>23</option>\n                                <option>24</option>\n                                <option>25</option>\n                                <option>26</option>\n                                <option>27</option>\n                                <option>28</option>\n                                <option>29</option>\n                                <option>30</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label>__MSG_closeMinute__\n                              <svg>\n                                <title>__MSG_enterMiniutesToCloseTb__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="custom_close_minute">\n                        </div>\n                        <div>\n                            <label>__MSG_closeSecond__\n                              <svg>\n                                <title>__MSG_enterSecondsToCloseTab__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <input id="custom_close_second">\n                        </div>\n                        <div>\n                            <label>\n                              __MSG_slectMinute__\n                              <svg>\n                                <title>__MSG_enterTimeToSchedule__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <div>\n                              <input id="closeMinutePicker">\n                               <div>\n                                  \x3c!-- Options will be generated dynamically --\x3e\n                                </div>\n                                <p>__MSG_close_on__  <span><span></p>\n                            </div>\n                        </div>\n                        <div id="close_weekly">\n                            <label>__MSG_closeWeeks__\n                              <svg>\n                                <title>__MSG_slectDayToScheduleWeekly__</title>\n                              <g><path></path></g></svg>\n                            </label>\n                            <label>\n                                __MSG_select_weeks__\n                                <img>\n                            </label>\n                            <div>\n                                <label>\n                                    __MSG_checkAll__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_monday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_tuesday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_wednesday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_thursday__\n                                </label>\n                                \n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_friday__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_saturday__\n                                </label>\n                                <label>\n                                  <input>\n                                  <span></span>\n                                  __MSG_sunday__\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                      <h2>__MSG_tabSchedulerOptions__</h2>\n                      <div>\n                          <label>__MSG_openInBackground__\n                              <input id="open_url_background">\n                              <span></span>\n                              <svg>\n                                <title>\n                                  __MSG_checkThisOptionToInBg__\n                                </title>\n                              <g><path></path></g></svg>\n                          </label>\n                          <label>__MSG_openInIncognito__\n                              <input id="open_url_incognito">\n                              <span></span>\n                              <svg>\n                                <title>__MSG_checkThisOptionToOpenIncogito__</title>\n                              <g><path></path></g></svg>\n                          </label>\n                          <label>__MSG_sameTabs__\n                              <input id="open_url_sametab">\n                              <span></span>\n                              <svg>\n                                <title>__MSG_sameTabsInfo__</title>\n                              <g><path></path></g></svg>\n                          </label>\n                          <label>__MSG_doNotCloseInPinnedTabs__\n                                <input id="close_pin_tabs">\n                                <span></span>\n                                <svg>\n                                  <title>\n                                    __MSG_checkThisOpToPreventClosePinTb__\n                                  </title>\n                                  <g>\n                                    <path></path>\n                                  </g>\n                                </svg>\n                          </label>\n                          <label>__MSG_closeIncognitoTab__\n                                <input id="close_only_incognito_tabs">\n                                <span></span>\n                                <svg>\n                                  <title>__MSG_checkThisOptionToCloseOnlyInIncgnitoTb__</title>\n                                  <g>\n                                    <path></path>\n                                  </g>\n                                </svg>\n                          </label>\n                          <label>__MSG_urlContExat__\n                                <input id="contain_url">\n                                <span></span>\n                                <svg>\n                                  <title>__MSG_checkThisOptionOnlyPartOfUrlMtch__</title>\n                                  <g>\n                                    <path></path>\n                                  </g>\n                                </svg>\n                          </label>\n                      </div>\n                    </div>\n                    <div>\n                        <label>__MSG_description__\n                          <svg>\n                            <title>__MSG_writeYourDescriptionAboutSchUrl__</title>\n                          <g><path></path></g></svg>\n                        </label>\n                        <textarea id="description"></textarea>\n                    </div>\n                    <div>\n                        <div>\n                            <ul>\n                                <li>\n                                    <div>\n                                        <input id="notify-open-tab">\n                                        <label>\n                                          <span></span>\n                                        </label>\n                                    </div>\n                                    <label>__MSG_doNotShowNotification__\n                                      <svg>\n                                        <title>__MSG_checkThisOptionToInactivNotification__</title>\n                                      <g><path></path></g></svg>\n                                    </label>\n                                </li>\n                                <li>\n                                    <div>\n                                        <input id="inactive-tab">\n                                        <label><span></span></label>\n                                    </div>\n                                    <label>__MSG_inactiveThisScheduledTabs__\n                                      <svg>\n                                        <title>__MSG_checkThisOptionToActivate__</title>\n                                      <g><path></path></g></svg>\n                                    </label>\n                                </li>\n                            </ul>\n                            <div>\n                                <button id="cancel_timer">__MSG_cancel__</button>\n                                <button id="save_timer">__MSG_saveSchedule__</button>\n                            </div>\n\n                        </div>\n                    </div>\n                  </div>\n                <div>\n                    __MSG_withSignMustFill__\n                </div>\n            </div>\n            <div id="snackbar">\n              \x3c!-- Snackbar content --\x3e\n              <div></div>\n              <span><svg><path></path><path></path></svg></span>\n            </div>\n            <div>\n                <div>\n                    <h2>__MSG_scheduledTabList__</h2>\n                    <div>\n                        <div>\n                            <?xml version="1.0" encoding="utf-8"?><svg id="Layer_1"><g><path></g></svg>\n                        </div>\n                      <select id="export_import">\n                          <option>__MSG_importExport__</option>\n                          <option>__MSG_import__</option>\n                          <option>__MSG_export__</option>\n                          <option>__MSG_sampleFile__</option>\n                      </select>\n                     <input id="import_csv_file">\n                    </div>\n                </div>\n                <div>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>__MSG_title__</th>\n                                <th>__MSG_websiteLink__\n                                    <svg>\n                                      <title>__MSG_filterTips__</title>\n                                      <g><path></path></g>\n                                    </svg>\n                                </th>\n                                <th>__MSG_description__</th>\n                                <th>__MSG_openTime__</th>\n                                <th>__MSG_closeTime__</th>\n                                <th>__MSG_activeStatus__</th>\n                                <th>__MSG_action__</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                             \n                        </tbody>\n                    </table>\n\n                </div>\n                <ul id="pagination"></ul>\n            </div>\n            ${f()}\n        </div>\n    `)),$(".ts-faq").html(y(`\n        <title>__MSG_tabScheduler__</title>\n        <div>\n            ${w()}\n            <div>\n                <h2>__MSG_frequentlyAskedQuestions__</h2>\n                <ul>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_1__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                __MSG_faq_a_1__\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_2__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_2__</p>                 \n                                <div>\n                                  <b>__MSG_websiteUrl__</b> \n                                  <div>\n                                    <span>www</span>\n                                    <span>__MSG_subdomain__</span>\n                                  </div>\n                                  <div>\n                                    <span>google</span>\n                                    <span>__MSG_domainName__</span>\n                                  </div>\n                                  <div>\n                                    <span>.com</span>\n                                    <span>__MSG_topLevelDomain__</span>\n                                  </div>\n                                  <div>\n                                    <span>/search?</span>\n                                    <span>__MSG_pagePath__</span>\n                                  </div>\n                                </div> \n                                <div>\n                                  <h3>__MSG_closeUrl__</h3>\n                                  <ul><li><b>__MSG_useSpecificUrl__</b></li>\n                                    <ul>\n                                      <li>__MSG_useSpecificUrl1__</li>\n                                      <li><b>__MSG_exampleSort__ </b>https://www.google.com, https://in.yahoo.com.</li>\n                                    </ul>\n                                  </ul>\n                                  <ul><li><b>__MSG_useUnSpecificUrl1__</b></li>\n                                    <ul>\n                                      <li>__MSG_browserWebAddress__</li>\n                                      <li><b>__MSG_exampleSort__</b>__MSG_browserWebAddress2__<b>*google.com*</b>.</li>\n                                      <li><b>__MSG_exampleSort__ </b>__MSG_browserWebAddress3__  <b>.com</b>__MSG_browserWebAddress31__<b>*.com*</b>.</li>\n                                    </ul>\n                                  </ul>\n                                  <ul><li><b>__MSG_useUnSpecificUrl2__</b></li>\n                                    <ul><li>\n                                      __MSG_browserWebAddress4__\n                                    </li>\n                                    <li>\n                                      <b>__MSG_exampleSort__</b>__MSG_browserWebAddress41__ <b>www</b> __MSG_or__ <b>in</b>, __MSG_put__ <b>*</b> __MSG_browserWebAddress42__<b> *google.com,*yahoo.com</b>.\n                                    </li></ul>\n                                  </ul>\n                                  <ul><li><b>__MSG_useUnSpecificUrl3__</b></li>\n                                    <ul>\n                                      <li> __MSG_browserWebAddress5__ </li>\n                                      <li><b>__MSG_exampleSort__ </b> __MSG_browserWebAddress51__ <b>www.google.com*</b></li>\n                                    </ul>\n                                  </ul> \n\n                                  <ul><li><b>__MSG_useSpecificUrl2__</b></li>\n                                    <ul><li>__MSG_browserWebAddress6__</li></ul>\n                                  </ul>\n                                  <h3>__MSG_openUrl__</h3>\n                                  <ul><li><b>__MSG_useSpecificUrl3__ </b></li>\n                                    <ul>\n                                      <li>__MSG_browserWebAddress7__</li>\n                                      <li>__MSG_browserWebAddress8__</li>\n                                      <li><b>__MSG_exampleSort__ </b>https://www.google.com, in.yahoo.com, www.bing.com.</li>\n                                    </ul>\n                                  </ul>\n                                </div> \n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_3__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_3__\n                                </p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_4__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_4__\n                                </p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_5__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_5__</p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_6__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_6__</p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_7__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_7__\n                                </p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_8__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_8__\n                                </p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_9__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_9__\n                                </p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_10__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_10__\n                                </p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_11__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_11__</p>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_12__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p>__MSG_faq_a_12__</p>\n                            </div>\n                        </div>\n                    </li>                \n                    <li>\n                        <div>\n                            <span>__MSG_faq_13__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p> \n                                    __MSG_faq_a_13__\n                                </p>\n                                <p> __MSG_herAreStepsToAllow__</p>\n                                <ul>\n                                  <li>__MSG_openGoogleChrome__</li>\n                                  <li>__MSG_clickExtIcon__</li>\n                                  <li>__MSG_whenMenuPopup__</li>\n                                  <li>__MSG_whenExtensionTabAppears__</li>\n                                  <li>__MSG_onTheExtensionDetailPage__</li>\n                                  <li>__MSG_clickTheSwitch__</li>\n                                </ul>\n                                <div>\n                                  <p>__MSG_extensionShouldAble__</p>\n                                  <img>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                    <li>\n                        <div>\n                            <span>__MSG_faq_14__\n                            </span><span></span>\n                        </div>\n                        <div>\n                            <div>\n                                <p> \n                                    __MSG_faq_a_14__\n                                </p>\n                                <p> __MSG_for_exp__</p>\n                                <ul>\n                                  <li>__MSG_faq_a_14_1__</li>\n                                  <li>__MSG_faq_a_14_2__</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            ${f("faq")}\n        </div>\n    `)),$(".ts-tutorial").html(y(`\n        <title>__MSG_tabScheduler__</title> \n        ${w()}\n        <div>\n          <h2>__MSG_settingToClose__</h2>\n          <p> __MSG_herAreStepsToAllow__</p>\n          <ul>\n            <li>__MSG_openGoogleChrome__</li>\n            <li>__MSG_clickExtIcon__</li>\n            <li>__MSG_whenMenuPopup__</li>\n            <li>__MSG_whenExtensionTabAppears__</li>\n            <li>__MSG_onTheExtensionDetailPage__</li>\n            <li>__MSG_clickTheSwitch__</li>\n          </ul>\n          <div>\n            <p>__MSG_extensionShouldAble__</p>\n            <img>\n          </div>\n          <h2>__MSG_tabSchTutorial__</h2>\n          <ol>\n            <li>\n              <h2>__MSG_oneTmSch__</h2>\n              __MSG_tutorialImg1__\n              <p>__MSG_oneTmSchExm1__</p>\n              <p>__MSG_oneTmSchExm2__</p>\n            </li>\n            <li>\n              <h2>__MSG_evr10MinSch__</h2>\n              __MSG_tutorialImg2__\n              <p>__MSG_evr10MinSchExm1__\n              </p>\n              <p>__MSG_evr10MinSchExm2__</p>\n            </li>\n            <li>\n              <h2>__MSG_evrDaySch__</h2>\n              __MSG_tutorialImg3__\n              <p>__MSG_evrDaySchExm1__</p>\n              <p>__MSG_evrDaySchExm2__</p>\n            </li>\n            <li>\n              <h2>__MSG_evrWeekSch__</h2>\n              __MSG_tutorialImg4__\n              <p>__MSG_evrWeekSchExm1__</p>\n              <p>__MSG_evrWeekSchExm2__</p>\n              <p>__MSG_evrWeekSchExm3__</p>\n            </li>\n            <li>\n              <h2>__MSG_evrMonthSch__</h2>\n              __MSG_tutorialImg5__\n              <p>__MSG_evrMonthSchExm1__</p>\n              <p>__MSG_evrMonthSchExm2__</p>\n            </li>\n            <li>\n              <h2>__MSG_evrYearSch__</h2>\n              __MSG_tutorialImg6__\n              <p>__MSG_evrYearSchExm1__</p>\n              <p>__MSG_evrYearSchExm2__</p>\n            </li>\n            <li>\n              <h2>__MSG_custmMinSch__</h2>\n              __MSG_tutorialImg7__\n              <p>__MSG_custmMinSchExm1__</p>\n              <p>__MSG_custmMinSchExm2__</p>\n            </li>\n            <li>\n              <h2>__MSG_inactiveSch__</h2>\n              __MSG_tutorialImg8__\n              <p>__MSG_inactiveSchExm1__</p>\n            </li>\n            <li>\n              <h2>__MSG_urlEndWithUnspesifiedPth__</h2>\n              __MSG_tutorialImg9__\n              <p>__MSG_urlEndWithUnspesifiedPthExm1__</p>\n            </li>\n            <li>\n              <h2>__MSG_urlStartWithUnspesifiedPth__</h2>\n              __MSG_tutorialImg10__\n              <p>__MSG_urlStartWithUnspesifiedPthExm1__</p>\n            </li>\n            <li>\n              <h2>__MSG_unspecifiedURL__</h2>\n              __MSG_tutorialImg11__\n              <p>__MSG_unspecifiedURLExm1__</p>\n            </li>\n            <li>\n              <h2>__MSG_closeAllTab__</h2>\n              __MSG_tutorialImg12__\n              <p>__MSG_closeAllTabExm1__</p>\n            </li>\n            <li>\n              <h2>__MSG_notificationOpenTab__</h2>\n              __MSG_tutorialImg13__\n              <p>__MSG_notificationOpenTabExm1__</p>\n            </li>\n            <li>\n              <h2>__MSG_urlFilterinCLoseTb__</h2>\n              __MSG_tutorialImg14__\n              <p>__MSG_urlFilterinCLoseTbExample__</p>\n            </li>\n          </ol> \n        </div>\n        ${f("tutorial")}\n    `)),user_expire_date=W(e?._drtf_m);var n=chrome.runtime.getManifest().version;$(".ext_version").text("Version "+n),u||e?.plan_info||W(e._drtf_m)?te(!0):te(!1),!e?.is_login||1!=e?.is_login||e.plan_info||null!=user_expire_date&&!1!==user_expire_date||!1===W(e?._drtf_m)&&$("#buyNewPlan").hide(),e?.is_login&&1==e?.is_login?$(".account").text(y("__MSG_Dashboard__")):$(".account").text(y("__MSG_Login__")),1===e?.dark_mode_tb?($("#enable_disable_dark_mode").attr("data-status",1).attr("checked",!0),$("body").addClass("dark-mode")):($("#enable_disable_dark_mode").attr("data-status",0).attr("checked",!1),$("body").removeClass("dark-mode")),e.plan_info||null!=user_expire_date&&!1!==user_expire_date||($(".export-import-lock-icon,.autofocus-lock-icon").removeClass("hide"),$(".export_import_block").addClass("unpaid"),$("#export_import").attr("disabled",!0),$("#auto-focus").attr("disabled",!0),$(".enable_autofocus .toggle-switch").hide(),$("body").addClass("unpaid")),!1===user_expire_date&&e?.plan_info&&!e?.plan_info?.import_export&&($(".export-import-lock-icon").removeClass("hide"),$(".export_import_block").addClass("unpaid"),$("#export_import").attr("disabled",!0)),!1===user_expire_date&&e?.plan_info&&!e?.plan_info?.auto_focus&&($(".enable_autofocus .toggle-switch").hide(),$("#auto-focus").attr("disabled",!0),$("body").addClass("unpaid"),$(".autofocus-lock-icon").removeClass("hide")),"new_user"!=e?.user_type&&"key_user"!=e?.user_type||!1!==W(e?._drtf_m)?($(".days_to_remain").find("span").text(r),$(".days_to_remain").find("rday").text(function(e){return e=e.split(" "),e=e.map((e=>e.slice(2,-2))),function(e){return e.map((e=>String.fromCharCode(e))).join("")}(e)}("114925 565698 894888")),r<7>{e.preventDefault(),e.target.closest(".header-popup").classList.toggle("active")})),document.body.addEventListener("click",(function(e){e.target.closest(".header-popup-wrap")||e.target.closest(".more-menu")||document.querySelector(".header-popup").classList.contains("active")&&t.dispatchEvent(new Event("click"))}));let a=document.querySelector("#suggestion-rate"),s=document.querySelector(".suggestion-popup"),o=document.querySelector(".popup-content .close-icon"),_=document.querySelector("body");a.addEventListener("click",(e=>{e.preventDefault(),$(".activeRating").removeClass("activeRating"),s.classList.add("active"),_.classList.add("overflow-hidden")})),o.addEventListener("click",(e=>{e.preventDefault(),s.classList.remove("active"),_.classList.remove("overflow-hidden"),a.classList.remove("active")})),s.addEventListener("click",(function(e){e.target.closest(".popup-wraper")||(o.dispatchEvent(new Event("click")),a.classList.remove("active"))}));let l=document.querySelector("#buyNewPlan"),i=document.querySelector(".plan-popup");$(".popup-plan-content .close-icon");l.addEventListener("click",(e=>{e.preventDefault(),i.classList.add("active"),_.classList.add("overflow-hidden"),document.querySelector("#enter-subscription-key").scrollIntoView()})),$(document).on("click",".popup-plan-content .close-icon",(function(e){$(".plan-popup").removeClass("active"),$("body").removeClass("overflow-hidden")}));let c=document.querySelector(".tutorial-popup"),h=document.querySelector(".tutorial-popup .close-icon");0==e?.video_check&&(c.classList.add("active"),_.classList.add("overflow-hidden")),h.addEventListener("click",(e=>{e.preventDefault(),c.classList.remove("active"),_.classList.remove("overflow-hidden")})),$(document).on("click","#back-to-sub",(function(e){e.preventDefault(),$(".submit-key-cont").hide(),$(".subscription-buttons").show(),$("#au-subscription-key").val(""),$(".warning").html("")})),$(document).on("click","#enter-subscription-key",(function(e){e.preventDefault(),$(".subscription-messaage").html(""),$(".submit-key-cont").show(),$(".subscription-buttons").hide()})),$(document).on("click","#buyPlanAu",(function(e){e.preventDefault(),chrome.tabs.create({url:"https://extfy.lemonsqueezy.com/buy/ae9193c1-8330-4e66-aaea-440cae711b21?checkout[custom][event_from]=tabscheduler"})})),$(document).on("click",m,(function(e){e.preventDefault(),e.stopImmediatePropagation();let n=$("#au-subscription-key").val().replace(/\s+/g,""),t=!1;if($(".subscription-messaage").html(""),n.length<1>__MSG_subcrKeyShldNEmpt__</span>')),t=!0),t)return!1;$(".submit-key-cont .loader-active").removeClass("hide"),$(m).val(y("__MSG_loading__")),$(m).attr("disabled",!0),fetch(`${d}/lempay/validate.php`,{method:"POST",body:new URLSearchParams({license_key:n,type:"activation"})}).then((e=>($(".submit-key-cont .loader-active").addClass("hide"),e.json()))).then((e=>{$(m).val(y("__MSG_save__")),$(".submit-key-cont .loader-active").addClass("hide"),$(m).removeAttr("disabled"),!0===e?.success&&($(".subscription-messaage").html(y('<span>__MSG_cngrtsForSubcr__</span>')),chrome.storage.local.set({[p]:K(4)+ee(n)+K(3)},(function(){chrome.storage.local.get(["is_login"],(function(e){if(e.is_login){return fetch(d+"api/user/verifyUserKey",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({action:"keyVerify"})}).json()}}))})),function(e,n){const t={url:d,name:n,value:e,domain:d,path:"",secure:!0,httpOnly:!0,expirationDate:(new Date).getTime()/1e3+31536e4};chrome.cookies.set(t,(e=>{chrome.runtime.lastError}))}(K(4)+ee(n)+K(3),p),u=!0,setTimeout((()=>{$(m).hide(),$("#buyNewPlan").hide(),$(".days_to_remain").hide().html(""),$(".export-import-lock-icon,.autofocus-lock-icon").addClass("hide"),$("#export_import").attr("disabled",!1),$("#auto-focus").attr("disabled",!1),$(".enable_autofocus .toggle-switch").show(),$(".unpaid").removeClass("unpaid"),$(".plan-popup").removeClass("active"),$("body").removeClass("overflow-hidden")}),3e3)),e?.success||e.valid||($(".subscription-messaage").html(y(`<span>__MSG_${e.message}__</span>`)),function(e){const n=d;chrome.cookies.getAll({name:e},(function(e){for(let t of e)chrome.cookies.remove({url:n,name:t.name})}))}(p))})).catch((e=>{$(m).val(y("__MSG_save__")),$(".submit-key-cont .loader-active").addClass("hide"),$(m).removeAttr("disabled"),$(".subscription-messaage").html(y('<span>__MSG_smthngWrng__</span>'))}))})),$(".minute-dropdown-container").each((function(){const e=$(this),n=e.find(".minuteInput"),t=e.find(".minuteDropdown");for(let e=0;e<=59;e++){const n=e.toString().padStart(2,"0");t.append(`<div>${n}</div>`)}n.on("focus",(function(){t.show()})),n.on("blur",(function(){setTimeout((()=>t.hide()),200)})),t.on("click",".minute-option",(function(){const e=$(this).text();n.val(e),t.hide()})),n.on("input",(function(){let e=$(this).val();e<0>59&&(e="59"),e=e.toString().padStart(2,"0"),$(this).val(e)}))})),document.querySelectorAll(".faq-que").forEach(((e,n)=>{e.addEventListener("click",(()=>{const n=e.nextElementSibling;e.classList.toggle("active"),e.classList.contains("active")?n.style.maxHeight=n.scrollHeight+"px":n.style.maxHeight=0,document.querySelectorAll(".faq-que").forEach(((n,t)=>{n!==e&&(n.classList.remove("active"),n.nextElementSibling.style.maxHeight=0)}))})),0===n&&e.click()}));let g=document.querySelectorAll(".nav-link");g.forEach((e=>{e.addEventListener("click",(n=>{e.classList.contains("active")?e.classList.remove("active"):(e.classList.add("active"),g.forEach((n=>{n!==e&&n.classList.remove("active")})))}))})),setTimeout((function(){var e=document.querySelectorAll(".stars li");e.forEach(((n,t)=>{n.addEventListener("click",(()=>{t>=3&&chrome.tabs.create({url:"https://chromewebstore.google.com/detail/tab-scheduler-with-auto-o/dhpkakcoddfplipjgbhklfgomilbecnj/reviews"}),e.forEach(((e,n)=>{t>=n?e.classList.add("activeRating"):e.classList.remove("activeRating")}))}))}))}),1e3)}))}function w(e){var n="";return"home"==e&&(n="active"),`<div>\n              <div>\n                  <a><svg>\n                          <rect>\n                          <defs>\n                              <pattern id="pattern0">\n                                  <use>\n                              </pattern>\n                              <image id="image0_71_54">\n                          </defs>\n                      </svg>\n                      <div>\n                        <span>__MSG_listTitle__</span>\n                        <p>Version 2.0.1</p>\n                      </div>\n                  </a>\n              </div>\n              <div>\n                  <ul>\n                      <li><a>__MSG_home__</a></li>\n                      <li><a>__MSG_Login__</a></li>\n                      <li><a id="buyNewPlan">__MSG_pricePlan__</a>\n                          <div>\n                             \n                          </div>\n                      </li>\n                      <li><a id="suggestion-rate">__MSG_suggestionAndRateUs__</a>\n                          <div>\n                              <div>\n                                  <div>\n                                      <div>\n                                          <svg>\n                                              <path>\n                                              <path>\n                                          </svg>\n                                      </div>\n                                      <div><svg>\n                                              <rect>\n                                              <defs>\n                                                  <pattern id="pattern0">\n                                                      <use>\n                                                  </pattern>\n                                                  <image id="image0_71_54">\n                                              </defs>\n                                          </svg>\n                                          <span>__MSG_listTitle__</span>\n                                      </div>\n                                      <h2>__MSG_plsShreAnySugWithUs__</h2>\n                                      <ul>\n                                          <li><a><svg>\n                                                      <path>\n                                                  </svg>\n                                              </a>\n                                          </li>\n                                          <li><a><svg>\n                                                      <path>\n                                                  </svg>\n                                              </a>\n                                          </li>\n                                          <li><a><svg>\n                                                      <path>\n                                                  </svg>\n                                              </a>\n                                          </li>\n                                          <li><a><svg>\n                                                      <path>\n                                                  </svg>\n                                              </a>\n                                          </li>\n                                          <li><a><svg>\n                                                      <path>\n                                                  </svg>\n                                              </a>\n                                          </li>\n                                      </ul>\n                                       <div>\n                                          <input>\n                                          <textarea></textarea>\n                                      </div>\n                                      <div>\n                                          <div>\n                                          </div>\n                                      </div>\n                                      <button>__MSG_submFeedBack__</button>\n                                  </div>\n                              </div>\n                          </div>\n                      </li>\n                  </ul>\n                  <select id="user_language">\n                      <option>English</option>\n                      <option>Arabic(عربي)</option>\n                      <option>Amharic(አማርኛ)</option>\n                      <option>Bulgarian(български)</option>\n                      <option> Catalan(ካታሊያን)</option>\n                      <option>Czech(čeština)</option>\n                      <option>Danish(dansk)</option>\n                      <option>German(Deutsch)</option>\n                      <option>Greek(ελληνικά)</option>\n                      <option>Spanish(Español)</option>\n                      <option>Estonian(eesti)</option>\n                      <option>Persian(فارسی)</option>\n                      <option>Finnish(suomi)</option>\n                      <option>Filipino(Filipino)</option>\n                      <option>French(Français)</option>\n                      <option>Hebrew(עִברִית)</option>\n                      <option>Croatian(Hrvatski)</option>\n                      <option>Hungarian(Magyar)</option>\n                      <option>Indonesian(Indonesia)</option>\n                      <option>Italian(italiano)</option>\n                      <option>Japanese(日本語)</option>\n                      <option>Korean(한국어)</option>\n                      <option>Lithuanian(lietuvių)</option>\n                      <option>Latvian(latviski)</option>\n                      <option>Malay(Melayu)</option>\n                      <option>Dutch</option>\n                      <option>Norwegian(norsk)</option>\n                      <option>Polish(Polski)</option>\n                      <option>Portuguese(Brazil)</option>\n                      <option>Portuguese (Portugal)</option>\n                      <option>Romanian(Română)</option>\n                      <option>Russian(Русский)</option>\n                      <option>Slovak(Rusi)</option>\n                      <option>Slovenian(slovenski)</option>\n                      <option>Serbian(словеначки)</option>\n                      <option>Swedish(svenska)</option>\n                      <option>Swahili(kiswahili)</option>\n                      <option>Thai(แบบไทย)</option>\n                      <option>Turkish(Türkçe)</option>\n                      <option>Ukrainian(українська)</option>\n                      <option>Vietnamese(Tiếng Việt)</option>\n                      <option>Chinese(China,中国人)</option>\n                      <option>Chinese(Taiwan,中国人)</option> \n                  </select>\n                  <div>\n                      <input id="enable_disable_dark_mode">\n                      <label>\n                          <svg>\n                              <g>\n                                  <path>\n                              </g>\n                              <defs>\n                                  <clipPath id="clip0_28_17">\n                                      <rect>\n                                  </clipPath>\n                              </defs>\n                          </svg>\n                          <svg>\n                              <g>\n                                  <path>\n                              </g>\n                              <defs>\n                                  <clipPath id="clip0_887_9">\n                                      <rect>\n                                  </clipPath>\n                              </defs>\n                          </svg>\n\n                          <span></span>\n                      </label>\n                  </div>\n                  <div>\n                      <span><svg>\n                              <path>\n                              </path>\n                              <path>\n                              </path>\n                              <path>\n                              </path>\n                          </svg></span>\n                      <div>\n                          <ul>\n                              <li>\n                                <div>\n                                  <input id="auto-focus">\n                                  <label>\n                                    <span></span>\n                                  </label>\n                                </div>\n                                <div>\n                                  <?xml version="1.0" encoding="utf-8"?><svg id="Layer_1"><g><path></g></svg>\n                                </div>\n                                <span><label>__MSG_autoFocus__</label></span>\n                              </li>\n                              <li id="button-start-stop">\n                                  <div><input id="inactive-all"><label><span></span></label></div>\n                                  <span><label>__MSG_activeAllScheduleTab__</label></span>\n                              </li>\n                              <li>\n                                  <div><input id="inactive-power">\n                                  <label>\n                                  <span></span></label></div>\n                                  <span><label>__MSG_powerMode__</label></span>\n                              </li>\n                          </ul>\n                      </div>\n                  </div>\n                  <div>\n                    <div>\n                        <div>\n                            <div>\n                                <svg>\n                                    <path>\n                                    <path>\n                                </svg>\n                            </div>\n                            <div><svg>\n                                    <rect>\n                                    <defs>\n                                        <pattern id="pattern0">\n                                            <use>\n                                        </pattern>\n                                        <image id="image0_71_54">\n                                    </defs>\n                                </svg>\n                                <span>__MSG_listTitle__</span>\n                            </div>\n                            <h2>__MSG_how_to_use_tab__</h2>\n                            <div>\n                              <iframe></iframe>\n                            </div>\n                            <div>\n                              <label>__MSG_not_show_tutorial__\n                                <input id="confirm_tutorial">\n                                <span></span>\n                              </label>\n                          </div>\n                        </div>\n                    </div>\n                  </div>\n              </div>\n              <div>\n                  <div>\n                      <div>\n                        \n                      </div>\n                  </div>\n              </div>\n            </div>`}function f(e){var n="",t="";"faq"==e?n="active":"tutorial"==e&&(t="active");let a=(new Date).getFullYear();return`<footer>\n              <div>\n                <ul>\n                  <li>\n                    <a>__MSG_Tutorial__</a>\n                  </li>\n                  <li>\n                    <a>__MSG_faq__</a>\n                  </li>\n                  <li>\n                    <a>__MSG_termCondition__</a>\n                  </li>\n                  <li>\n                    <a>__MSG_privcyPolicy__</a>\n                  </li>\n                </ul>\n              </div>\n              <p>© All rights reserved for Tab Scheduler ${a}</p>\n          </footer>`}function k(){chrome.storage.local.get(["scheduled_timer","dark_mode_tb","auto_focus","inactive_all_tab","user_language","power_mode","_drtf_m","plan_info","page_limit"],(function(n){(n?.scheduled_timer&&(e=n.scheduled_timer),n.user_language&&$("#user_language").val(n.user_language),1===n?.auto_focus?$("#auto-focus").attr("data-status",1).attr("checked",!0):$("#auto-focus").attr("data-status",0).attr("checked",!1),1===n?.inactive_all_tab?$("#inactive-all").attr("data-status",1).attr("checked",!0):$("#inactive-all").attr("data-status",0).attr("checked",!1),$(".scheduled_tab").remove(),1===n?.power_mode?$("#inactive-power").attr("data-status",1).attr("checked",!0):$("#inactive-power").attr("data-status",0).attr("checked",!1),window.location.href.indexOf("settings.html")>-1&&$.fn.dataTable.isDataTable(".tabel-schedule-list table"))&&((a=$(".tabel-schedule-list table").DataTable()).clear().draw(),$(".tabel-schedule-list table").DataTable().destroy(),$(".export_import_block").remove(),$(".tab-list .table_container").append(y('\n        <div>\n            <div>\n                <?xml version="1.0" encoding="utf-8"?><svg id="Layer_1"><g><path></g></svg>\n            </div>\n          <select id="export_import">\n              <option>__MSG_importExport__</option>\n              <option>__MSG_import__</option>\n              <option>__MSG_export__</option>\n              <option>__MSG_sampleFile__</option>\n          </select>\n         <input id="import_csv_file">\n        </div>\n      ')));if("pt_BR"==n.user_language&&(n.user_language="pt"),n.user_language=n.user_language.replace("_","-"),e.length>0?($(".no_scheduled_tab").remove(),e.forEach(((e,t)=>{let a=e.title?e.title:"-",s=e.description?e.description:"-",o=(e.tab_status,1==e.tab_status?"active":"inactive"),i=(e.tab_status,e?.open_date+"T"+e?.open_time+":00"),c=e?.close_date+"T"+e?.close_time+":00",r=new Date,d=new Date,p="",u="";var m=new Date(e.open_date+" "+e.open_time),h=new Date(e.close_date+" "+e.close_time),g=new Date,v=g.getFullYear()+"-"+("0"+(g.getMonth()+1)).slice(-2)+"-"+("0"+g.getDate()).slice(-2),b=g.getTime();let w=e?.every_hour_open_minute?e?.every_hour_open_minute:"00",f=e?.every_hour_close_minute?e?.every_hour_close_minute:"00",k=new Date,M=k.getDate(),S=k.getMonth()+1,G=k.getFullYear();e?.open_date&&(r=new Date(i),p=new Intl.DateTimeFormat(n.user_language,_).format(r).split("GMT")[0]),""!==e?.close_date&&(d=new Date(c),u=new Intl.DateTimeFormat(n.user_language,_).format(d).split("GMT")[0]);let x="-",C="-";if("none"===e?.timer_repeat)x=""!==p?`__MSG_tabWillOpenOneTime__ <b>${p}</b>`:"-",C=""!==u?`__MSG_tabCloseOneTime__ <b>${u}</b>`:"-",(e.open_date==v&&m.getTime()<=b||e.open_date<v>${x}</span>`),(e.close_date==v&&h.getTime()<=b||e.close_date<v>${C}</span>`);else if("1_min"===e?.timer_repeat)x="__MSG_openInEvery__ <b>__MSG_1_min__</b>",C="__MSG_closeInEvery__ <b>__MSG_1_min__</b>";else if("5_min"===e?.timer_repeat)x="__MSG_openInEvery__ <b>__MSG_5_min__</b>",C="__MSG_closeInEvery__ <b>__MSG_5_min__</b>";else if("10_min"===e?.timer_repeat)x="__MSG_openInEvery__ <b>__MSG_10_min__</b>",C="__MSG_closeInEvery__ <b>__MSG_10_min__</b>";else if("30_min"===e?.timer_repeat)x="__MSG_openInEvery__ <b>__MSG_30_min__</b>",C="__MSG_closeInEvery__ <b>__MSG_30_min__</b>";else if("60_min"===e?.timer_repeat)x=`__MSG_openInEvery__ <b>__MSG_60_min__</b>  __MSG_andAt__ <b>${w} __MSG_minute__</b>`,C=`__MSG_closeInEvery__ <b>__MSG_60_min__</b> __MSG_andAt__ <b>${f} __MSG_minute__</b>`;else if("day"===e?.timer_repeat)e?.open_time&&(r=new Date(`${G}-${S<10>${p}</b>`),e?.close_time&&(d=new Date(`${G}-${S<10>${u}</b>.`);else if("weekly"===e?.timer_repeat){var I=e.open_weekday.week_list.map((e=>{var n=parseInt(e.split("_")[0]);return y(`__MSG_${l[n]}__`)}));I.length>0&&(r=new Date(`${G}-${S<10>${I.length>1?I.join(", "):I[0]} __MSG_at__ ${p}</b>`);var A=e.close_weekday.week_list.map((e=>{var n=parseInt(e.split("_")[0]);return y(`__MSG_${l[n]}__`)}));A.length>0&&(r=new Date(`${G}-${S<10>${A.length>1?A.join(", "):A[0]} __MSG_at__ ${p}</b>`)}else if("month"===e?.timer_repeat)""!==e.open_month_day&&e?.open_time&&(r=new Date(`${G}-${S<10>${e.open_month_day} __MSG_at__ ${p}</b>`),e.close_month_day&&e?.close_time&&(r=new Date(`${G}-${S<10>${e.close_month_day} __MSG_at__ ${p}</b>`);else if("year"===e?.timer_repeat)""!==p&&(x=`__MSG_openEveryYearOn__ <b>${p.replace(/, \d{4} at/,",")}</b>`),""!==u&&(C=`__MSG_closeEveryYear__ <b>${u.replace(/, \d{4} at/,",")}</b>`);else if("custom_minute"===e?.timer_repeat)e.custom_open_minute&&(x=`__MSG_openOnEvery__ <b>${e.custom_open_minute} __MSG_minute__ </b>`),e.custom_close_minute&&(C=`__MSG_closeOnEvery__ <b>${e.custom_close_minute} minute</b>`);else if("custom_second"===e?.timer_repeat)e.custom_open_second&&(x=`__MSG_openOnEvery__ <b>${e.custom_open_second} __MSG_second__ </b>`),e.custom_close_second&&(C=`__MSG_closeOnEvery__ <b>${e.custom_close_second} second</b>`);else if("browser_open"===e?.timer_repeat){var T=e.browser_open.week_list.map((e=>{var n=parseInt(e.split("_")[0]);return l[n]}));x=`__MSG_tabWillOpenWhenBrowserOpen__ <b>${T.length>1?T.join(", "):T[0]}</b>`}"close"==e.schedule_type?x="-":"open"==e.schedule_type&&(C="-");let q=!1,O="";e?.isExtraScheduled&&(q=e.isExtraScheduled,O="extra_scheduled_data"),$(".scheduled_tab_table").append(y(`<tr id="${e.id}">\n            <td><p>${a}<p></td>\n            <td><a>${e.url_name}</a></td>\n            <td><p>${s}</p></td>\n            <td>${x}</td>\n            <td>${C}</td>\n            <td>\n              <div>\n                <div>\n                    <input id="active-tab-list_${e.id}">\n                    <label>\n                      <p>__MSG_toogleOn__</p>\n                      <p>__MSG_toogleOff__</p>\n                      <span></span>\n                    </label>\n                </div>\n              </div>\n            </td>\n            <td>\n                <div>\n                    <a>\n                      <svg>\n                          <title>__MSG_editScheduleTb__</title>\n                          <g>\n                              <path></path>\n                              <path></path>\n                          </g>\n                          <defs>\n                              <clipPath id="clip0_186_58">\n                                  <rect></rect>\n                              </clipPath>\n                          </defs>\n                      </svg>\n                    </a>\n                    <a>\n                      <svg>\n                        <title>__MSG_deleteScheduleTb__</title>\n                        <path></path>\n                        <path></path>\n                        <path></path>\n                        <path></path>\n                      </svg>\n                    </a>\n                </div>\n            </td>\n        </tr>`))}))):$(".scheduled_tab_table").html(y('\n        <tr>\n          <td>__MSG_noScheduledTabs__</td>\n        </tr>\n      ')),$(".tab-list .search_ele_wrap").remove(),e.length>5&&window.location.href.indexOf("settings.html")>-1){var a=$(".tabel-schedule-list table").DataTable({paging:!0,ordering:!0,info:!1,searching:!0,lengthChange:!0,bFilter:!0,bInfo:!1,bPaginate:!0,pageLength:n?.page_limit?parseInt(n?.page_limit):5,lengthMenu:[[-1,5,10,25,50],["All",5,10,25,50]],columns:[{orderable:!0},{orderable:!0,orderDataType:"domain-sort"},{orderable:!0},{orderable:!1},{orderable:!1},{orderable:!0,orderDataType:"toggle-status"},{orderable:!1}],order:[[0,"asc"]],pagingType:"full_numbers",dom:'<"top"i>rt<"bottom pagination-bottom"lp><"clear">',initComplete:function(){var e=this.api().settings()[0].aLengthMenu[1],n=$("<select></select>").addClass("custom-length-menu").on("change",(function(){var e=$(this).val();a.page.len(e).draw()}));$.each(e,(function(e,t){n.append($("<option></option>").attr("value","All"===t?-1:t).text(t))})),$(".dataTables_paginate").append(n)}});$(".dt-end.dt-layout-cell .dt-search").hide(),$(".tab-list .search_ele_wrap").remove(),$(".tab-list .title-wrap.flex-box").after(y('\n        <div>\n          <div>\n            <label>__MSG_search__:</label>\n            <input id="search_ts_data">\n          </div>\n          <div>\n            <label>__MSG_selectColumn__:</label>\n            <select id="column-search">\n              <option>__MSG_all__</option>\n              <option>__MSG_title__</option>\n              <option>__MSG_websiteLink__</option>\n              <option>__MSG_description__</option>\n            </select>\n          </div>\n        </div>\n        ')),$(".export_import_block").remove(),0==$(".export_import_block").length&&$(".search_ele_wrap").append(y('\n          <div>\n              <div>\n                  <?xml version="1.0" encoding="utf-8"?><svg id="Layer_1"><g><path></g></svg>\n              </div>\n            <select id="export_import">\n                <option>__MSG_importExport__</option>\n                <option>__MSG_import__</option>\n                <option>__MSG_export__</option>\n                <option>__MSG_sampleFile__</option>\n            </select>\n           <input id="import_csv_file">\n          </div>\n        ')),$(document).on("change","#column-search",(function(){var e=parseInt($(this).val(),10),n=$("#search_ts_data").val().trim();a.columns().search("").draw(),e>=0&&e<a>=0&&t<a>2&&window.location.href.indexOf("settings.html")>-1)a=$(".tabel-schedule-list table").DataTable({paging:!1,ordering:!0,info:!1,searching:!1,columns:[{orderable:!0},{orderable:!0,orderDataType:"domain-sort"},{orderable:!0},{orderable:!1},{orderable:!1},{orderable:!0,orderDataType:"toggle-status"},{orderable:!1}],order:[[0,"asc"]]});else"paid"==i&&($(".export_import_block").remove(),$(".tab-list .table_container").append(y('\n          <div>\n            <select id="export_import">\n                <option>__MSG_importExport__</option>\n                <option>__MSG_import__</option>\n                <option>__MSG_export__</option>\n                <option>__MSG_sampleFile__</option>\n            </select>\n           <input id="import_csv_file">\n          </div>\n        ')));if($.fn.dataTable.ext.order["toggle-status"]=function(e,n){return this.api().column(n,{order:"index"}).nodes().map((function(e,n){return $(e).find('input[type="checkbox"]').is(":checked")?1:0}))},$.fn.dataTable.ext.order["domain-sort"]=function(e,n){return this.api().column(n,{order:"index"}).nodes().map((function(e){return $(e).text().trim().replace(/^(https?:\/\/)?(www\.)?/,"")}))},!1!==W(n?._drtf_m)||n?.plan_info&&n?.plan_info?.import_export||u||($(".export-import-lock-icon").removeClass("hide"),$(".export_import_block").addClass("unpaid"),$("#export_import").attr("disabled",!0),$(".export-import-lock-icon").removeClass("hide"),$(".export_import_block").addClass("unpaid"),$("#export_import").attr("disabled",!0),$("#export_import").val("Import/Export")),!(W(n._drtf_m)||n?.plan_info&&"free"!=n?.plan_info?.plan_type)){var s=e.length;s&&s>t&&(s=t),u||$(".days_to_remain").html(y(`__MSG_used__ ${s} __MSG_outof__ ${t} __MSG_freeSchedule__`)).show()}}))}function y(e){return e.replace(/__MSG_(\w+)__/g,(function(e,t){return t?n[t]?.message:""}))}function M(e,n,t=!0){$('#select-open-close option[value="close"]').show(),"none"==n||"year"==n?($("#on_browser_open").addClass("hide").hide(),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").append('<option>-</option>'),$("#open_time,#open_time,#close_date,#close_time,#open_date,#close_date").prop("disabled",!1),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("data-control",""),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#custom_open_second").prop("disabled",!0),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").removeClass("hide"),$("#open_date,#close_date").closest(".date_time").removeClass("hide"),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#custom_open_second").addClass("hide"),$(".cs-minute,.cs-second").addClass("hide"),$("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$(".open_on_time, .close_on_time, .open_on_date, .close_on_date, .close-tab").removeClass("disabled"),$(".select_minute").addClass("hide")):"day"==n?($("#on_browser_open").addClass("hide").hide(),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").prepend('<option>-</option>'),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time").prop("disabled",!1),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").removeClass("hide"),$("#open_weekly,#close_weekly").attr("data-control",""),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#cusom_open_second").prop("disabled",!0),$("#open_date,#close_date").closest(".date_time").removeClass("hide"),$(".cs-minute,.cs-second").addClass("hide"),$("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$(".close_on_day, .open_on_day, .open_on_date, .close_on_date").addClass("disabled"),$(".open_on_time, .close_on_time, .close-tab").removeClass("disabled"),$(".select_minute").addClass("hide")):"weekly"==n?($("#on_browser_open").addClass("hide").hide(),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time").prop("disabled",!1),$("#open_weekly,#close_weekly").attr("disabled",!1).removeClass("hide").show(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!1),$("#open_weekly,#close_weekly").attr("data-control","checkbox-dropdown"),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").addClass("hide"),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#custom_open_second").prop("disabled",!0),$("#open_date,#close_date").closest(".date_time").removeClass("hide"),$(".cs-minute,.cs-second").addClass("hide"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$(".close_on_day, .open_on_day, .open_on_time, .close_on_time, .open_on_date, .close_on_date").addClass("disabled"),$(".open_on_time, .close_on_time").removeClass("disabled"),$(".select_minute").addClass("hide")):"month"==n?($("#on_browser_open").addClass("hide").hide(),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").prepend('<option>-</option>'),$("#open_day,#close_day").prop("disabled",!1).closest(".date_time").removeClass("hide"),S($("#open_day")),S($("#close_day")),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time").prop("disabled",!1),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("data-control",""),$("#open_day,#close_day").prop("disabled",!1).removeClass("hide").prepend('<option>-</option>'),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#custom_open_second").prop("disabled",!0),$("#open_date,#close_date").closest(".date_time").removeClass("hide"),$(".cs-minute,.cs-second").addClass("hide"),$("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$(".open_on_time, .close_on_time, .close_on_day, .open_on_day, .close-tab").removeClass("disabled"),$(".open_on_date, .close_on_date").addClass("disabled"),$(".select_minute").addClass("hide")):"custom_minute"==n?($("#on_browser_open").addClass("hide").hide(),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").prepend('<option>-</option>'),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").removeClass("hide"),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time").prop("disabled",!0),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("data-control",""),$("#open_day,#close_day").prop("disabled",!0).append('<option>-</option>').val(""),$("#custom_close_minute,#custom_open_minute").prop("disabled",!1).removeClass("hide"),$("#custom_close_second,#custom_open_second").prop("disabled",!0),$("#open_date,#close_date").closest(".date_time").addClass("hide"),$(".cs-second").addClass("hide"),$(".cs-minute,#custom_close_minute").removeClass("hide"),$("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$(".close_on_day, .open_on_day, .open_on_time, .close_on_time, .open_on_date, .close_on_date").addClass("disabled"),$(".select_minute").addClass("hide")):"custom_second"==n?($("#on_browser_open").addClass("hide").hide(),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").prepend('<option>-</option>'),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").removeClass("hide"),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time").prop("disabled",!0),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("data-control",""),$("#open_day,#close_day").prop("disabled",!0).append('<option>-</option>').val(""),$("#custom_close_minute,#custom_open_minute").prop("disabled",!0),$("#custom_close_second,#custom_open_second").prop("disabled",!1).removeClass("hide"),$("#open_date,#close_date").closest(".date_time").addClass("hide"),$(".cs-minute").addClass("hide"),$(".cs-second,#custom_close_second").removeClass("hide"),$("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$(".close_on_day, .open_on_day, .open_on_time, .close_on_time, .open_on_date, .close_on_date").addClass("disabled"),$(".select_minute").addClass("hide")):"browser_open"==n?($('#select-open-close option[value="close"]').hide(),$("#on_browser_open").removeAttr("disabled").removeClass("hide").show(),$("#on_browser_open").removeAttr("disabled").find(".dropdown-label").removeAttr("disabled"),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").prepend('<option>-</option>'),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").removeClass("hide"),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time,#close_only_incognito_tabs,#close_pin_tabs,#contain_url").prop("disabled",!0),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").prop("checked",!1),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("data-control",""),$("#open_day,#close_day").prop("disabled",!0).append('<option>-</option>').val(""),$("#open_day").prop("disabled",!0).closest(".date_time").addClass("hide"),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#custom_open_second").prop("disabled",!0),$("#open_date,#close_date").closest(".date_time").removeClass("hide"),$(".cs-minute,.cs-second").addClass("hide"),$("#on_browser_open").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$(".close_on_day, .open_on_day, .open_on_time, .close_on_time, .open_on_date, .close_on_date, .close-tab").addClass("disabled"),$(".select_minute").addClass("hide")):"60_min"==n?($("#on_browser_open").addClass("hide").hide(),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").prepend('<option>-</option>'),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").removeClass("hide"),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time").prop("disabled",!0),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("data-control",""),$("#open_day,#close_day").prop("disabled",!0).append('<option>-</option>').val(""),$("#custom_close_minute,#custom_open_minute").prop("disabled",!0),$("#custom_close_second,#custom_open_second").prop("disabled",!1).removeClass("hide"),$("#open_date,#close_date").closest(".date_time").addClass("hide"),$(".cs-minute,.cs-second").addClass("hide"),$("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$(".close_on_day, .open_on_day, .open_on_time, .close_on_time, .open_on_date, .close_on_date").addClass("disabled"),$(".select_minute").removeClass("hide"),$(".minuteInput").trigger("input")):($("#on_browser_open").removeAttr("disabled").addClass("hide").hide(),$("#on_browser_open").removeAttr("disabled").find(".dropdown-label").attr("disabled",!0),$("#open_day,#close_day").prop("disabled",!0).removeClass("hide").prepend('<option>-</option>'),$("#open_day,#close_day").prop("disabled",!0).closest(".date_time").removeClass("hide"),$("#open_date,#close_date").prop("disabled",!0),$("#open_time,#close_time").prop("disabled",!0),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").removeAttr("disabled"),$("#close_only_incognito_tabs,#close_pin_tabs,#contain_url").closest("label").removeAttr("disabled"),$("#open_weekly,#close_weekly").attr("disabled",!0).hide(),$("#open_weekly,#close_weekly").find(".dropdown-label").attr("disabled",!0),$("#open_weekly,#close_weekly").attr("data-control",""),$("#open_day,#close_day").prop("disabled",!0).append('<option>-</option>').val(""),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#custom_open_second").prop("disabled",!0),$("#open_date,#close_date").closest(".date_time").removeClass("hide"),$(".cs-minute,.cs-second").addClass("hide"),$("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#open_weekly,#close_weekly").find('.dropdown-list input[name="dropdown-group"]').prop("checked",!1),$(".close_on_day, .open_on_day, .open_on_time, .close_on_time, .open_on_date, .close_on_date").addClass("disabled"),$(".select_minute").addClass("hide")),"change"==e&&($("#open_date,#close_date").val(""),$("#open_time,#close_time").val(""),$("#open_weekly,#close_weekly").val(""),$("#open_day,#close_day").val(""),$("#custom_close_second,#custom_close_minute,#custom_open_minute,#custom_open_second").val(""),$(".minuteInput").val("00")),t&&$("#select-open-close").val("both"),$("#contain_url").is(":checked")}function S(e){e.empty();for(var n=1;n<=30;n++){var t=document.createElement("option");t.value=n,t.textContent=n,e.append(t)}}function G(e){return!!(e.indexOf("http://")>=0||e.indexOf("https://")>=0||0===e.indexOf("file:")||function(e){try{e.startsWith("http://")||e.startsWith("https://")||(e="http://"+e);const n=new URL(e).hostname;return/\.[a-z]{2,}$/i.test(n)}catch(e){}return!1}(e))||/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(e)}function x(e,n){var t={week_id:n,week_list:[]};return e.find('input[name="dropdown-group"]:checked').each((function(){t.week_list.push($(this).val())})),t}function C(e,n){n&&n.length<7>0?t.forEach(((t,a)=>{"opentab"!==t.name.split("_")[0]&&parseInt(t.name.split("_")[0])===parseInt(e)&&"weekly"!==t.name.split("_")[1]?(chrome.alarms.clear(t.name),n(!0)):n(!1)})):n(!1)}))}function A(e="",n){chrome.alarms.getAll((function(t){""!=e&&t.length>0?t.forEach(((t,a)=>{t.name.split("_")[0]+"_"+t.name.split("_")[1]=="opentab_"+e&&"weekly"!==t.name.split("_")[2]?(chrome.alarms.clear(t.name),n(!0)):n(!1)})):n(!0)}))}function T(e){chrome.alarms.getAll((function(n){chrome.tabs.query({},(function(t){t&&0!=t.length&&t.forEach(((t,a)=>{n.forEach(((n,t)=>{var a=n.name.split("_");if("tabclose"===a[0]&&a[1]==e){a[2];void 0===a[3]?chrome.alarms.clear(a[0]+"_"+a[1]+"_"+a[2]):void 0!==a[3]&&chrome.alarms.clear(a[0]+"_"+a[1]+"_"+a[2]+"_"+a[3])}}))}))}))}))}function q(e,n){try{chrome.alarms.create(e,n)}catch(e){console.warn(n)}}function O(){chrome.alarms.getAll((function(e){e.forEach(((e,n)=>{"weekly"===e.name.split("_")[1]&&chrome.alarms.clear(e.name)}))}))}function L(e,n){chrome.alarms.get(e,(function(e){n(!!e)}))}function E(e,n){chrome.alarms.get(e,(function(e){e?void 0!==e.periodInMinutes?n({status:!0,periodInMinutes:e.periodInMinutes}):n({status:!0}):n(!1)}))}function D(e="",n){chrome.alarms.getAll((function(t){""!=e&&t.length>0?(t.forEach((n=>{const[t,a]=n.name.split("_");"opentab"!==t&&(parseInt(t)===parseInt(e)||parseInt(a)===parseInt(e))&&"weekly"!==a&&chrome.alarms.clear(n.name)})),n(!1)):n(!1)}))}function U(e="",n){chrome.alarms.getAll((function(t){""!=e&&t.length>0?t.forEach(((t,a)=>{t.name.split("_")[0]+"_"+t.name.split("_")[1]=="opentab_"+e&&"weekly"!==t.name.split("_")[2]?(chrome.alarms.clear(t.name),n(!0)):n(!1)})):n(!0)}))}function B(e){var n=[];return 0!=e.length&&$.each(e,(function(e,t){n.push(y(t))})),n}function F(e){return/^([01]\d|2[0-3]):([0-5]\d)$/.test(e)}function z(e){const n=e.split("-"),t=parseInt(n[0],10),a=parseInt(n[1],10),s=parseInt(n[2],10);if(a<1>12||s<1>31)return!1;return s<=new Date(t,a,0).getDate()}function V(e){const[n,t]=e.split(":");return`${parseInt(n,10).toString().padStart(2,"0")}:${t}`}function N(e,n,t){var a="";var s=function(e,n){var t=[],a=[];return e.forEach((function(e,s){(s+1)%n==0?(t.push(e),a.push(t),t=[]):t.push(e)})),a}(e,n);return s.forEach((function(e){e.forEach((function(n,t){a+=n+(t+1===e.length?"":",")})),a+="\r\n"})),t+a}function P(){var e=new Date,n=1==(e.getUTCMonth()+1).toString().length?"0"+(e.getUTCMonth()+1):e.getUTCMonth()+1,t=1==e.getUTCDate().toString().length?"0"+e.getUTCDate():e.getUTCDate();return e.getUTCFullYear()+"-"+n+"-"+t+"_"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function Y(e){return"monday".includes(e)?1:"tuesday".includes(e)?2:"wednesday".includes(e)?3:"thursday".includes(e)?4:"friday".includes(e)?5:"saturday".includes(e)?6:"sunday".includes(e)?7:""}function j(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function J(){const e=navigator.userAgent,n=navigator.userAgentData;let t="Unknown";if(n&&n.brands){const e=n.brands.map((e=>e.brand));e.includes("Google Chrome")?t="Google Chrome":e.includes("Chromium")&&!e.includes("Opera")?t="Chromium":e.includes("Opera")&&(t="Opera")}else!e.includes("Chrome")||e.includes("Edge")||e.includes("OPR")?e.includes("Chromium")&&!e.includes("OPR")?t="Chromium":e.includes("OPR")||e.includes("Opera")?t="Opera":e.includes("Edg")?t="Microsoft Edge":e.includes("Firefox")&&(t="Firefox"):t="Google Chrome";return t}function H(){const e=navigator.userAgent,n=navigator.appVersion||"",t=navigator.platform||"unknown";let a="Unknown";if(/Windows NT 10\.0/.test(e)?a="Windows 10 or 11":/Windows NT 6\.3/.test(e)?a="Windows 8.1":/Windows NT 6\.2/.test(e)?a="Windows 8":/Windows NT 6\.1/.test(e)?a="Windows 7":/Windows NT 6\.0/.test(e)?a="Windows Vista":/Windows NT 5\.1/.test(e)?a="Windows XP":/Windows NT 5\.0/.test(e)&&(a="Windows 2000"),"Unknown"===a&&t.startsWith("Win"))n.includes("Windows NT 10.0")?a="Windows 10 or 11":n.includes("Windows NT 6.1")&&(a="Windows 7");else if(/Macintosh/.test(e)){const n=/Mac OS X (\d+_\d+(_\d+)?)/.exec(e);a=n?`Mac OS X ${n[1].replace(/_/g,".")}`:"Mac OS"}else/Linux/.test(e)?a=/Ubuntu/.test(e)?"Linux (Ubuntu)":/Fedora/.test(e)?"Linux (Fedora)":/Debian/.test(e)?"Linux (Debian)":/Arch/.test(e)?"Linux (Arch)":"Linux (Unknown Distribution)":/Android/.test(e)?a="Android":/iPhone|iPad|iPod/.test(e)&&(a="iOS");return a}function Q(){document.getElementById("snackbar").style.display="block"}function Z(){const e=document.getElementById("snackbar");e&&(e.style.display="none")}function W(e){if(e&&void 0!==e){const n=X(e),t=new Date(n),a=P().split("_")[0];return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)>a}}function X(e){const n=(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4;n&&(e+="=".repeat(4-n));return atob(e)}function R(){chrome.alarms.getAll((e=>{let n=[];0!=e.length&&(n=e.filter((e=>{if("userAuthe"!==e.name)return e}))),chrome.storage.local.get("power_mode",(function(e){e?.power_mode?0==n.length?chrome.power.releaseKeepAwake():chrome.power.requestKeepAwake("display"):chrome.power.releaseKeepAwake()}))}))}function K(e){let n="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let a=0;a<e>{chrome.storage.local.get("is_login",(function(e){e.is_login&&!1===c&&o>1&&location.reload(!0),e.is_login&&(c=!0),!e.is_login&&!0===c&&o>1&&location.reload(!0),e.is_login||(c=!1),o++}))}),1e3),(async()=>{let e=await chrome.storage.local.get(["user_language","plan_info","user_type","_drtf_m","_dstrdmp"]);if(e){e.user_language=void 0===e.user_language?"en":e.user_language;var a=await fetch(`../../_locales/${e.user_language}/messages.json`),s=await a.json();if(n=s,e?._drtf_m&&W(e._drtf_m)&&(i="paid"),e?.plan_info&&"free"!==e?.plan_info?.plan_type&&(i="paid"),"free"==e?.plan_info?.plan_type&&e?._drtf_m&&!W(e._drtf_m)&&(i="free"),!W(e._drtf_m)&&e?.plan_info&&"free"==e?.plan_info?.plan_type&&(i="free"),W(e._drtf_m)&&(i="free",r=function(e){if(e&&void 0!==e){const n=X(e),t=new Date(n),a=P().split("_")[0],s=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2),o=new Date,_=t.getTime()-o.getTime(),l=Math.ceil(_/864e5);return s>a?l:0}}(e?._drtf_m)),e?._dstrdmp&&(u=!0),e?.plan_info){let n=e.plan_info;t=n.schedule_limit}}b();let o="";try{let e=await fetch(d+"plan_details.html?v="+Date.now());o=await e.text()}catch(e){}var _=setInterval((function(){$(".plan-popup").length>0&&($(".plan-popup").html(y(o)),clearInterval(_))}),10)})(),chrome.runtime.onMessage.addListener(((n,a,s)=>{if("add_url"==n.action){Z();var o=setInterval((()=>{$("#url_name").length>0&&($("#url_name").val(n.url),clearInterval(o))}),50);$(".scheduled-msg,.ts_message").html("")}else"refresh_data"==n?.action&&chrome.storage.local.get(["plan_info","user_type","_drtf_m","scheduled_timer"],(function(n){let a="";if(n?._drtf_m&&W(n._drtf_m)&&(a="paid"),n?.plan_info&&"free"!==n?.plan_info?.plan_type&&(a="paid"),"free"==n?.plan_info?.plan_type&&n?._drtf_m&&!W(n._drtf_m)&&(a="free"),n?.plan_info||!n?._drtf_m||W(n._drtf_m)||(a="free"),n?.plan_info&&"free"==n?.plan_info?.plan_type&&(a="free"),i!==a&&(b(),i=a),n?.scheduled_timer&&(e=n.scheduled_timer),n?.plan_info){let e=n.plan_info;t=e.schedule_limit}}))})),$(document).on("change","#user_language",(function(e){var t=$(this).val();if(t){chrome.storage.local.set({user_language:t});fetch(`../../_locales/${t}/messages.json`).then((e=>e.json())).then((e=>{n=e,b()})).catch((e=>{}))}})),$(document).on("change",".billing-toggle",(function(e){$(this).is(":checked")?($(".billing-label").text(y("__MSG_billedAnnyally__")),$("#year_plan").removeClass("hide"),$("#month_label").addClass("hide"),$("#month_plan").addClass("hide"),$("#year_label").removeClass("hide"),$("#month_label").addClass("hide")):($(".billing-label").text(y("__MSG_billedMonthly__")),$("#month_plan").removeClass("hide"),$("#year_plan").addClass("hide"),$("#month_label").removeClass("hide"),$("#year_label").addClass("hide"))})),$(document).on("change","#select-open-close",(function(e){let n=$(this).val();$('#select-frequency option[value="browser_open"]').show(),$(this).hasClass("both")||"both"===n||($(".open-tab input,.close-tab input").not('input[type="checkbox"]').val(""),$('.open-tab input[type="checkbox"],.close-tab input[type="checkbox"]').prop("checked",!1),"weekly"!==$("#select-frequency").val().replace(/(^\w+:|^)\/\//,"").trim()&&($(".open-tab .dropdown-label,.close-tab .dropdown-label").html(y("__MSG_select_weeks__")),$(".open-tab .check-all,.close-tab .check-all").html(y("__MSG_checkAll__")))),"open"===n?($(this).addClass("open"),$(this).removeClass("both").removeClass("open"),$(".open-tab").show(),$(".close-tab").hide(),$(".close-tab input").not('input[type="checkbox"]').val(""),$('.close-tab input[type="checkbox"]').prop("checked",!1),$(".close-tab .dropdown-label").html(y("__MSG_select_weeks__")),$(".close-tab .check-all").html(y("__MSG_checkAll__")),$("#contain_url").prop("checked",!0).trigger("click"),$(".minuteInput").trigger("input")):"close"===n?("browser_open"===$("#select-frequency").val()&&$("#select-frequency").val("none").trigger("click"),$('#select-frequency option[value="browser_open"]').hide(),$(this).addClass("close"),$(this).removeClass("both").removeClass("close"),$(".open-tab").hide(),$(".close-tab").show(),$(".open-tab input").not('input[type="checkbox"]').val(""),$('.open-tab input[type="checkbox"]').prop("checked",!1),$(".open-tab .dropdown-label").html(y("__MSG_select_weeks__")),$(".open-tab .check-all").html(y("__MSG_checkAll__")),$("#contain_url").prop("checked",!0),$(".minuteInput").trigger("input")):($(this).addClass("both"),$(".open-tab,.close-tab").show(),$("#contain_url").prop("checked",!0).trigger("click")),"weekly"!==$("#select-frequency").val().replace(/(^\w+:|^)\/\//,"").trim()&&($("#open_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'),$("#close_weekly").find(".dropdown-label").html(y("__MSG_select_weeks__")+'<img>'))})),$(document).on("click","#close_only_incognito_tabs",(async function(e){$(this).attr("data-status");var n=$(this);$(".scheduled-msg").html(""),$(".snackbar").removeClass("sucess-msg"),$(this).is(":checked")&&await chrome.extension.isAllowedIncognitoAccess((function(e){if(!e)return $(".ts_message").html(y('<span>__MSG_pleaseAllowIncognitoMessage__ <a>__MSG_more__</a></span>')),Q(),$("#close_only_incognito_tabs").prop("checked",!1),$("#close_only_incognito_tabs").attr("data-status",0),n.val(0),setTimeout((()=>Z()),1e4),!1}))})),$(document).on("click","#open_url_background",(async function(e){$(this).is(":checked")&&($("#select-open-close").val("open"),$("#select-open-close").addClass("open"),$("#select-open-close").removeClass("both").removeClass("open"),$(".open-tab").show(),$(".close-tab").hide(),$(".close-tab input").not('input[type="checkbox"]').val(""),$('.close-tab input[type="checkbox"]').prop("checked",!1))})),$(document).on("click",".close-button-snackbar",(function(e){Z()})),$(document).on("click",".infoIcon",(function(e){e.preventDefault();var n=$(this),t=n.find("title").text();if(n.data("tooltip-visible"))n.removeData("tooltip-visible"),n.parent().find(".custom-tooltip").remove();else{$(".custom-tooltip").remove(),$(".infoIcon").each((function(){$(this).removeData("tooltip-visible")})),n.data("tooltip-visible",!0);var a=$("<div>").addClass("custom-tooltip").text(t);n.parent().append(a)}})),$(document).on("click",(function(e){$(".infoIcon").each((function(){var n=$(this);n.data("tooltip-visible")&&!n.is(e.target)&&0===n.has(e.target).length&&(n.removeData("tooltip-visible"),$(".custom-tooltip").remove())}))})),$(document).on("input",".minuteInput",(function(e){var n=new Date,t=new Date(parseInt(n.getFullYear()),parseInt(n.getMonth()),n.getDate(),n.getHours(),$(this).val());if(t.getTime()>n.getTime())var a=t.getHours();else if(t.getTime()<n>e.id==a));if(1==n?.isExtraScheduled)return!1}else 0===$(".scheduled_tab").length?a=1:(e.forEach((e=>{B.push(e.id)})),a=Math.max(...B)+1);var z=x($("#open_weekly"),a),V=x($("#close_weekly"),a),N=x($("#on_browser_open"),a),P=$("#contain_url").is(":checked")?1:0,Y=["none","day","weekly","month","year"];if(""===o)return $(".url_name").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_urlIsRequired__</span>')),Q(),setTimeout((()=>{Z()}),5e3),s=!1,!1;if(_&&_.length>200)return $("#title").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_titleLengtWarn__</span>')),Q(),setTimeout((()=>{Z()}),5e3),s=!1,!1;if("close"!==E&&""!==o&&"*"===o.slice(-1)||"close"!==E&&!1===G(o))return $(".url_name").addClass("border_warning"),s=!1,$(".ts_message").html(y('<span>__MSG_enterValidUrl__</span>')),Q(),setTimeout((()=>{Z()}),5e3),!1;if(""===l&&($("#select-frequency").addClass("border_warning"),s=!1),Y.includes(l)){if(!$("#contain_url").is(":checked")&&"both"===E&&(""===i||""===g))return""===i&&$("#open_time").addClass("border_warning"),""===g&&$("#close_time").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectOpenOrClose__</span>')),Q(),s=!1,!1;if("open"!==E&&""===g&&($("#contain_url").is(":checked")||"close"===E))return $("#close_time").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectCloseTime__</span>')),Q(),s=!1,!1;if("close"!==E&&""===i&&"open"===E)return $("#open_time").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectOpenTime__</span>')),Q(),s=!1,!1}if(["none","year"].includes(l)){let e=r+"T"+i+":00",n=b+"T"+g+":00",t=!0;if(Y.includes(l)&&"close"!==E&&""!==i&&""===g&&""===r||""!==i&&""===r&&"open"===E)return $("#open_date").addClass("border_warning"),s=!1,$(".ts_message").html(y('<span>__MSG_selectOpenDate__</span>')),t=!1,Q(),!1;if(Y.includes(l)&&"open"!==E&&""===i&&""!==g&&""===b||""!==g&&""===b&&"close"===E)return $("#close_date").addClass("border_warning"),s=!1,$(".ts_message").html(y('<span>__MSG_selectCloseDate__</span>')),t=!1,Q(),!1;if(Y.includes(l)&&"both"===E&&(""===r.trim()||""===b.trim()))return""===r.trim()&&$("#open_date").addClass("border_warning"),""===b.trim()&&$("#close_date").addClass("border_warning"),s=!1,$(".ts_message").html(y('<span>__MSG_selectOpenOrCloseDate__</span>')),t=!1,Q(),!1;let a=new Date(e),o=new Date(n);if(""!==r.trim()&&""!==i&&t&&isNaN(a.getTime())&&("both"===E||"open"===E))return $("#open_date").addClass("border_warning"),s=!1,$(".ts_message").html(y('<span>__MSG_dateIsOutOfRange__</span>')),Q(),!1;if(""!==b.trim()&&""!==g&&isNaN(o.getTime())&&("both"===E||"close"===E))return $("#close_date").addClass("border_warning"),s=!1,$(".ts_message").html(y('<span>__MSG_dateIsOutOfRange__</span>')),Q(),!1}if(["month"].includes(l)){if(Y.includes(l)&&""!==i&&""===g&&""===d&&"open"===E||""!==i&&""===d&&"open"===E)return $("#open_day").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectOpenDay__</span>')),Q(),s=!1,!1;if(Y.includes(l)&&""===i&&""!==g&&""===w&&"close"===E||""!==g&&""===w&&"close"===E)return $("#close_day").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectCloseDay__</span>')),Q(),s=!1,!1;if(Y.includes(l)&&""!==i&&""!==g&&"both"===E&&(""===d||""===w))return""===d&&$("#open_day").addClass("border_warning"),""===w&&$("#close_day").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectOpenOrCloseDay__</span>')),Q(),s=!1,!1}if(["weekly","browser_open"].includes(l)){if(Y.includes(l)&&""!==i&&""===g&&"browser_open"!==l&&0===z.week_list.length&&"open"===E||""!==i&&"browser_open"!==l&&0===z.week_list.length&&"open"===E)return $("#open_weekly").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectDaysInWeekIOpTime__</span>')),Q(),s=!1,!1;if(Y.includes(l)&&""===i&&""!==g&&"browser_open"!==l&&0===V.week_list.length&&"close"===E||""!==g&&"browser_open"!==l&&0===V.week_list.length&&"close"===E)return $("#close_weekly").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectDaysInWeekIClsTime__</span>')),Q(),s=!1,!1;if(Y.includes(l)&&"both"===E&&""!==i&&""!==g&&"browser_open"!==l&&(0===V.week_list.length||0===z.week_list.length))return 0===V.week_list.length&&$("#close_weekly").addClass("border_warning"),0===z.week_list.length&&$("#open_weekly").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectDaysInWeekIOpClsTime__</span>')),Q(),s=!1,!1;if("browser_open"===l&&0===N.week_list.length)return $("#on_browser_open").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_selectDaysInWeek__</span>')),Q(),s=!1,!1}if(["custom_minute"].includes(l)){if(O&&O<1>__MSG_minutesNotLessThan1__</span>')),Q(),setTimeout((()=>{Z()}),5e3),s=!1,!1;if(T&&T<1>__MSG_minutesNotLessThan1__</span>')),Q(),setTimeout((()=>{Z()}),5e3),s=!1,!1;if(!("both"!==E||T&&O&&""!==T&&""!==O))return!O&&$("#custom_open_minute").addClass("border_warning"),!T&&$("#custom_close_minute").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_enterVlaueInOpenCloseMin__</span>')),Q(),s=!1,!1;if(!O&&""===O&&"open"===E)return $("#custom_open_minute").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_enterValueInOpenMinutes__</span>')),Q(),s=!1,!1;if(!T&&""===T&&"close"===E)return $("#custom_close_minute").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_enterVlaueInCloseMinutes__</span>')),Q(),s=!1,!1}if(["custom_second"].includes(l)){if(L&&L<5>__MSG_openSecondsMoreThan5__</span>')),Q(),s=!1,setTimeout((()=>{Z()}),5e3),!1;if(q&&q<5>__MSG_closeSeconsMoreThan5__</span>')),Q(),setTimeout((()=>{Z()}),5e3),s=!1,!1;if(!L&&""===L&&"close"!==E)return $("#custom_open_second").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_enterVlaueInOpenSeconds__</span>')),Q(),s=!1,!1;if(!q&&""===q&&"open"!==E)return $("#custom_close_second").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_enterValueInCloseSec__</span>')),Q(),s=!1,!1;if(!(q||L||"both"!==E||""!==q&&""!==L))return!q&&$("#custom_close_second").addClass("border_warning"),!L&&$("#custom_open_second").addClass("border_warning"),$(".ts_message").html(y('<span>__MSG_enterValueInOpenCloseSec__</span>')),Q(),s=!1,!1}if(setTimeout((()=>{Z()}),5e3),!s)return!1;var j={id:a,tab_status:A,url_name:o,browser_open:N,close_only_incognito_tab:S,close_pin_tabs:f,custom_close_minute:T,custom_open_minute:O,custom_close_second:q,custom_open_second:L,close_date:b,open_date:r,close_month_day:w,open_month_day:d,close_time:g,open_time:i,timer_repeat:l,close_url_filter:P,close_weekday:V,open_weekday:z,title:_,description:C,back_url_open:p,notification:I,open_in_incognito_mode:m,schedule_type:E,every_hour_open_minute:D||"00",every_hour_close_minute:U||"00",open_url_sametab:F};if(e&&e.length>0){var J=e.findIndex((e=>e?.url_name===o&&e.timer_repeat===l));!$("#save_timer").hasClass("update")&&J>-1&&["1_min","5_min","10_min","30_min","60_min"].includes(e[J].timer_repeat)&&j?.schedule_type==e[J]?.schedule_type&&($(".ts_message").html(y('<span>__MSG_scheduledTabIsAlreadyExistWithSameTimer__</span>')),Q(),s=!1),!$("#save_timer").hasClass("update")&&J>-1&&"custom_minute"===e[J].timer_repeat&&e[J].custom_close_minute===T&&e[J].custom_open_minute===O&&j?.schedule_type==e[J]?.schedule_type&&($(".ts_message").html(y('<span>__MSG_scheduledTabIsAlreadyExistWithSameTimer__</span>')),Q(),s=!1),!$("#save_timer").hasClass("update")&&J>-1&&"custom_second"===e[J].timer_repeat&&e[J].custom_close_second===q&&e[J].custom_open_second===L&&j?.schedule_type==e[J]?.schedule_type&&($(".ts_message").html(y('<span>__MSG_scheduledTabIsAlreadyExistWithSameTimer__</span>')),Q(),s=!1)}let H=t,W=(e||[]).length;if(W>=H&&!1===user_expire_date&&!$("#save_timer").hasClass("update")&&!u&&($(".snackbar").removeClass("sucess-msg"),c?$(".ts_message").html(y('<span>__MSG_upgradePlanUnlock__</span>')).addClass(""):$(".ts_message").html(y('<span>__MSG_upgradePlan__</span>')).addClass(""),Q(),s=!1),setTimeout((()=>{Z()}),7e3),!s)return!1;chrome.storage.local.get(["scheduled_timer","plan_info","user_type"],(function(n){if(n?.scheduled_timer&&(e=n.scheduled_timer),$("#save_timer").hasClass("update")){let n=e.findIndex((e=>parseInt(a)===parseInt(e.id)));e[n]=j}else e.push(j);if(n?.plan_info){let e=n.plan_info;H=e.schedule_limit}(W<H>__MSG_dataSaved__</span>')).addClass(""),$(".snackbar").addClass("sucess-msg"),Q())})),setTimeout((()=>{$(".snackbar").removeClass("sucess-msg"),Z()}),5e3)})),$(document).on("click",".send_feedback",(function(e){$("#message").removeClass("required-feedback"),$(".feedback_message").html("");var n=$(".user_message").val(),t=$(".user_email").val();if(""!==t&&!1===function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(t))return $(".feedback_message").html(y(`<span>${y("__MSG_enterValidEmail__")}</span>`)),setTimeout((function(){$(".feedback_message").html(""),$("#message").removeClass("required-feedback")}),3e3),!1;if(""===n)return $(".feedback_message").html(y(`<span>${y("__MSG_pleaseShareYourSuggestions__")}</span>`)),$("#message").addClass("required-feedback"),setTimeout((function(){$("#message").removeClass("required-feedback")}),3e3),!1;var a=function(){var e,n,t=navigator.userAgent,a=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10);-1!=(e=t.indexOf("Chrome"))?a=t.substring(e+7):-1!=(e=t.indexOf("Firefox"))?a=t.substring(e+8):t.lastIndexOf(" ")+1<(e=t.lastIndexOf("/"))&&(a=t.substring(e+1));-1!=(n=a.indexOf(";"))&&(a=a.substring(0,n));-1!=(n=a.indexOf(" "))&&(a=a.substring(0,n));s=parseInt(""+a,10),isNaN(s)&&(a=""+parseFloat(navigator.appVersion));var o=chrome.i18n.getMessage("@@ui_locale");return{browserName:J(),browserVersion:a,OSName:H(),currentLocale:o}}();chrome.runtime.sendMessage({action:"send_suggestion",email:t,message:n,browserOsInfo:a},(function(e){"Success"===e.message&&$(".feedback_message").html(y(`<span>${y("__MSG_thnkUFeedBack__")}</span>`)),setTimeout((function(){$(".feedback_message").html(""),$(".popup-content .close-icon").trigger("click"),$(".user_message").val(""),$(".user_email").val("")}),3e3)}))})),$(document).on("click",".scheduled_url",(function(e){e.preventDefault();var n=$(this).attr("href");if(""!=n&&"*"!==n.slice(-1)&&G(n)||n.startsWith("localhost")){var t="";(function(e){return e.match(/^(file|https?|ftp):\/\//)})(n)||(t="https://"),chrome.tabs.create({url:t+n,active:!0})}else""!=n&&($(".ts_message").html(y('<span>__MSG_urlNotvalid__</span>')),Q(),setTimeout((()=>Z()),5e3),setTimeout((function(){$(".error").text("")}),2e3))})),$(document).on("click",".active_inactive_schedule",(function(n){let t=$(this).closest(".scheduled_tab").attr("data-id"),a=0;$(this).hasClass("active")?($(this).removeClass("active").addClass("inactive").html(y("__MSG_inactive__")),a=0):($(this).addClass("active").removeClass("inactive").html(y("__MSG_active__")),a=1);let s=e.findIndex((e=>parseInt(e?.id)===parseInt(t)));chrome.storage.local.get("plan_info",(function(e){e.plan_info&&chrome.runtime.sendMessage({action:"schedule_status_change",scheduled_id:t,schedule_status:a})})),e[s].tab_status=a,chrome.storage.local.set({scheduled_timer:e},(function(){D(t,(function(e){})),U(t,(function(e){})),h(e),v(e)}))})),$(document).on("click",".edit_schedule",(function(n){n.preventDefault();let t=$(this).closest(".scheduled_tab").attr("data-id"),a=e.filter((e=>{if(parseInt(e?.id)===parseInt(t))return e}));if(1==a[0]?.isExtraScheduled)return!1;var s=a[0].every_hour_open_minute?a[0].every_hour_open_minute:"00",o=a[0].every_hour_close_minute?a[0].every_hour_close_minute:"00";$("#select-open-close").val(a[0].schedule_type).trigger("change"),$(".scheduled-msg").html(""),$(".border_warning").removeClass("border_warning"),$("#select-frequency").val(a[0].timer_repeat),M("change",a[0].timer_repeat),$(".url_name").val(a[0].url_name),$("#title").val(a[0].title),$("#description").val(a[0].description),$("#open_time").val(a[0].open_time),$("#close_time").val(a[0].close_time),$("#open_date").val(a[0].open_date),$("#close_date").val(a[0].close_date),$("#open_day").val(a[0].open_month_day),$("#close_day").val(a[0].close_month_day),$("#save_timer").addClass("update").attr("data-id",t),$("#custom_close_minute").val(a[0].custom_close_minute),$("#custom_close_second").val(a[0].custom_close_second),$("#custom_open_minute").val(a[0].custom_open_minute),$("#custom_open_second").val(a[0].custom_open_second),$('input[name="dropdown-group"]').prop("checked",!1),$("#select-open-close").val(a[0].schedule_type),$("#openMinutePicker").val(s),$("#closeMinutePicker").val(o),$(".minuteInput").trigger("input"),1==a[0].back_url_open?$("#open_url_background").prop("checked",!0):$("#open_url_background").prop("checked",!1),1==a[0].open_in_incognito_mode?$("#open_url_incognito").prop("checked",!0):$("#open_url_incognito").prop("checked",!1),1==a[0].close_pin_tabs?$("#close_pin_tabs").prop("checked",!0):$("#close_pin_tabs").prop("checked",!1),1==a[0].close_only_incognito_tab?$("#close_only_incognito_tabs").prop("checked",!0):$("#close_only_incognito_tabs").prop("checked",!1),1==a[0].close_url_filter?$("#contain_url").prop("checked",!0):$("#contain_url").prop("checked",!1),1==a[0].notification?$("#notify-open-tab").prop("checked",!1):$("#notify-open-tab").prop("checked",!0),1==a[0].tab_status?$("#inactive-tab").prop("checked",!0):$("#inactive-tab").prop("checked",!1),1==a[0].open_url_sametab?$("#open_url_sametab").prop("checked",!0):$("#open_url_sametab").prop("checked",!1),a[0].open_weekday&&C($("#open_weekly"),a[0].open_weekday.week_list),a[0].close_weekday&&C($("#close_weekly"),a[0].close_weekday.week_list),a[0].browser_open&&C($("#on_browser_open"),a[0].browser_open.week_list),window.scrollTo(0,0),$("#url_name").focus()})),$(document).on("click",".delete_schedule",(async function(n){n.preventDefault();let t,a=$(this).closest(".scheduled_tab").attr("data-id"),s=e.filter((e=>{if(e.id!=a)return e;e.id==a&&(t=e)}));if(1==t?.isExtraScheduled)return!1;$("#save_timer").hasClass("update")&&($("#save_timer").removeClass("update"),$("#save_timer").attr("data-id")&&parseInt($("#save_timer").attr("data-id"))===parseInt(a)&&$("#cancel_timer").trigger("click")),chrome.storage.local.get(["plan_info","_drtf_m"],(async function(n){var t=!1;n?._drtf_m&&(t=W(n?._drtf_m)),("free"==n?.plan_info?.plan_type&&!u&&!1===t||!n?.plan_info&&!1===t&&!u)&&(s=await async function(e){return e.forEach(((e,n)=>{e.isExtraScheduled=!!(e&&n>2)})),await chrome.storage.local.set({scheduled_timer:e}),e}(s)),e=s,D(a,(function(e){})),U(a,(function(e){})),setTimeout((function(){R()}),1e3),chrome.storage.local.set({scheduled_timer:e}),n.plan_info&&chrome.runtime.sendMessage({action:"delete_schedule",scheduled_id:a})})),$(this).closest(".scheduled_tab").remove(),setTimeout((()=>{k()}),700),0===e.length&&$(".scheduled_tab_table").html(y('\n      <tr>\n        <td>__MSG_noScheduledTabs__</td>\n      </tr>\n    '))})),$(document).on("change","#export_import",(function(e){let t=$(this);chrome.storage.local.get(["plan_info","_drtf_m","user_language"],(function(e){if(ne(e))return $(".export-import-lock-icon").removeClass("hide"),$(".export_import_block").addClass("unpaid"),$("#export_import").attr("disabled",!0),$("#export_import").val("Import/Export"),!1;if("Import"==t.val())$("#import_csv_file").trigger("click");else if("Export"==t.val()){var a=[],s=[],o=[],_=[],l=[],i=[],r=[],d=[],p=[],m=[],h=[],g=[],v=[],b=[],w=[],f=[],k=[],M=[],S=[],G=[],x=[],C=[],I=[],A=[],T=[],q=[],O=[],L=[];chrome.storage.local.get(["scheduled_timer","plan_info","user_type","_drtf_m"],(function(e){var t=e.scheduled_timer,E=e.plan_info,D=W(e?._drtf_m);if(t&&0!==t.length||($(".snackbar").removeClass("sucess-msg"),$(".ts_message").html(y('<span>__MSG_noDataToExport__.</span>')),Q(),setTimeout((()=>Z()),1e4)),!(E&&E.import_export||!0===D||u))return $(".snackbar").removeClass("sucess-msg"),c?$(".ts_message").html(y('<span>__MSG_upgradePlanUnlock__</span>')).addClass(""):$(".ts_message").html(y('<span>__MSG_upgradePlan__</span>')).addClass(""),Q(),setTimeout((()=>Z()),5e3),!1;$.each(t,(function(e,n){null!=n.url_name&&null!=n.url_name&&""!=n.url_name?a.push(n.url_name):a.push(""),null!=n.open_date&&null!=n.open_date&&""!=n.open_date?s.push(n.open_date):s.push(""),null!=n.close_date&&null!=n.close_date&&""!=n.close_date?o.push(n.close_date):o.push(""),null!=n.open_time&&null!=n.open_time&&""!=n.open_time?_.push(n.open_time):_.push(""),null!=n.close_time&&null!=n.close_time&&""!=n.close_time?l.push(n.close_time):l.push(""),null!=n.open_weekday&&null!=n.open_weekday&&""!=n.open_weekday?i.push(n.open_weekday):i.push(""),null!=n.close_weekday&&null!=n.close_weekday&&""!=n.close_weekday?r.push(n.close_weekday):r.push(""),null!=n.open_month_day&&null!=n.open_month_day&&""!=n.open_month_day?d.push(n.open_month_day):d.push(""),null!=n.close_month_day&&null!=n.close_month_day&&""!=n.close_month_day?p.push(n.close_month_day):p.push(""),null!=n.custom_open_minute&&null!=n.custom_open_minute&&""!=n.custom_open_minute?m.push(n.custom_open_minute):m.push(""),null!=n.custom_close_minute&&null!=n.custom_close_minute&&""!=n.custom_close_minute?h.push(n.custom_close_minute):h.push(""),null!=n.custom_open_second&&null!=n.custom_open_second&&""!=n.custom_open_second?g.push(n.custom_open_second):g.push(""),null!=n.custom_close_second&&null!=n.custom_close_second&&""!=n.custom_close_second?v.push(n.custom_close_second):v.push(""),null!=n.timer_repeat&&null!=n.timer_repeat&&""!=n.timer_repeat?b.push(n.timer_repeat):b.push(""),void 0!==n.notification&&null!==n.notification&&""!==n.notification?(1===n.notification?n.notification=y("__MSG_active__"):n.notification=y("__MSG_inactive__"),w.push(n.notification)):w.push(""),null!=n.tab_status&&null!=n.tab_status&&""!==n.tab_status?(1==n.tab_status?n.tab_status=y("__MSG_active__"):n.tab_status=y("__MSG_inactive__"),f.push(n.tab_status)):f.push(""),null!=n.title&&null!=n.title&&""!=n.title?k.push(n.title):k.push(""),null!=n.description&&null!=n.description&&""!=n.description?M.push(n.description):M.push(""),null!=n.back_url_open&&null!=n.back_url_open&&""!==n.back_url_open?(1==n.back_url_open?n.back_url_open=y("__MSG_yes__"):n.back_url_open=y("__MSG_no__"),G.push(n.back_url_open)):G.push(""),null!=n.browser_open&&null!=n.browser_open&&""!=n.browser_open?S.push(n.browser_open):S.push(""),null!=n.open_in_incognito_mode&&null!=n.open_in_incognito_mode&&""!==n.open_in_incognito_mode?(1==n.open_in_incognito_mode?n.open_in_incognito_mode=y("__MSG_yes__"):n.open_in_incognito_mode=y("__MSG_no__"),x.push(n.open_in_incognito_mode)):x.push(""),null!=n.open_url_sametab&&null!=n.open_url_sametab&&""!==n.open_url_sametab?(1==n.open_url_sametab?n.open_url_sametab=y("__MSG_yes__"):n.open_url_sametab=y("__MSG_no__"),L.push(n.open_url_sametab)):L.push(y("__MSG_no__")),null!=n.close_pin_tabs&&null!=n.close_pin_tabs&&""!==n.close_pin_tabs?(1==n.close_pin_tabs?n.close_pin_tabs=y("__MSG_yes__"):n.close_pin_tabs=y("__MSG_no__"),C.push(n.close_pin_tabs)):C.push(""),null!=n.close_only_incognito_tab&&null!=n.close_only_incognito_tab&&""!==n.close_only_incognito_tab?(1==n.close_only_incognito_tab?n.close_only_incognito_tab=y("__MSG_yes__"):n.close_only_incognito_tab=y("__MSG_no__"),I.push(n.close_only_incognito_tab)):I.push(""),null!=n.close_url_filter&&null!=n.close_url_filter&&""!==n.close_url_filter?(1==n.close_url_filter?n.close_url_filter=y("__MSG_yes__"):n.close_url_filter=y("__MSG_no__"),T.push(n.close_url_filter)):T.push(""),null!=n?.schedule_type&&null!=n?.schedule_type&&""!=n?.schedule_type?A.push(y(`__MSG_${n.schedule_type}__`)):A.push(""),null!=n.every_hour_open_minute&&null!=n.every_hour_open_minute&&""!=n.every_hour_open_minute?q.push(n.every_hour_open_minute):q.push("00"),null!=n.every_hour_close_minute&&null!=n.every_hour_close_minute&&""!=n.every_hour_close_minute?O.push(n.every_hour_close_minute):O.push("00")})),function(e){var t=[],a=B(["__MSG_url__","__MSG_timer__","__MSG_status__","__MSG_openDate__","__MSG_closeDate__","__MSG_openTime__","__MSG_closeTime__","__MSG_openWeek__","__MSG_closeWeek__","__MSG_browserOpen__","__MSG_openDay__","__MSG_closeDay__","__MSG_openMinute__","__MSG_closeMinute__","__MSG_openSecond__","__MSG_closeSecond__","__MSG_notifications__","__MSG_title__","__MSG_description__","__MSG_openInBackground__","__MSG_openInIncognito__","__MSG_doNotCloseInPinnedTabs__","__MSG_closeIncognitoTab__","__MSG_urlContExat__","__MSG_scheduledType__","__MSG_hour_minute_open__","__MSG_hour_minute_close__","__MSG_sameTabs__"]),s=B(["__MSG_monday__","__MSG_tuesday__","__MSG_wednesday__","__MSG_thursday__","__MSG_friday__","__MSG_saturday__","__MSG_sunday__"]);if(!(e.url_name.length>0))return $(".snackbar").removeClass("sucess-msg"),$(".ts_message").html(y('<span>__MSG_noDataToExport__</span>')),Q(),setTimeout((()=>Z()),5e3),!1;$.each(e.url_name,(function(a,o){var _=e.close_weekday[a],l=e.open_weekday[a],i=e.browser_open[a],c="",r="",d="";if(void 0!==l.week_list){var p=l.week_list.map(((e,n)=>s[parseInt(e.split("_")[0])-1]));c=p.join(",")}if(void 0!==i.week_list){var u=i.week_list.map(((e,n)=>s[parseInt(e.split("_")[0])-1]));d=u.join(",")}if(void 0!==_.week_list){p=_.week_list.map(((e,n)=>s[parseInt(e.split("_")[0])-1]));r=p.join(",")}if(null!=e.url_name[a]&&null!=e.url_name[a]&&""!=e.url_name[a]){var m=function(e){var t=["__MSG_oneTime__","__MSG_everyMinute__","__MSG_every5Min__","__MSG_every10Min__","__MSG_every30Min__","__MSG_everyHour__","__MSG_everyDay__","__MSG_everyWeek__","__MSG_everyMonth__","__MSG_everyYear__","__MSG_monthly__","__MSG_custMin__","__MSG_cusSec__","__MSG_browserOpen__"],a="";"none"==e?a=t[0]:"1_min"==e?a=t[1]:"5_min"==e?a=t[2]:"10_min"==e?a=t[3]:"30_min"==e?a=t[4]:"60_min"==e?a=t[5]:"day"==e?a=t[6]:"weekly"==e?a=t[7]:"month"==e?a=t[8]:"year"==e?a=t[9]:"monthly"==e?a=t[10]:"custom_minute"==e?a=t[11]:"custom_second"==e?a=t[12]:"browser_open"==e&&(a=t[13]);valNewH=a.replace(/__MSG_(\w+)__/g,(function(e,t){return t?n[t].message:""})),valNewH!=a&&(a=valNewH);return a}(e.timer_repeat[a]);c='"'+c+'"',r='"'+r+'"',d='"'+d+'"',t.push(e.url_name[a],m,e.tab_status[a],e.open_date[a],e.close_date[a],e.open_time[a],e.close_time[a],c,r,d,e.open_month_day[a],e.close_month_day[a],e.open_custom_minute[a],e.close_custom_minute[a],e.open_custom_second[a],e.close_custom_second[a],e.notification[a],e.title[a],e.description[a],e.back_url_open[a],e.open_in_incognito_mode[a],e.close_pin_tabs[a],e.close_only_incognito_tab[a],e.close_url_filter[a],e.schedule_type[a],e.every_hour_open[a],e.every_hour_close[a],e.open_url_sametab[a])}}));$(".snackbar").addClass("sucess-msg"),$(".ts_message").html(y('<span>__MSG_exportedData__</span>')),Q(),setTimeout((()=>Z()),5e3),function(e,n,t){var a=N(e,e.length,"");a=N(n,e.length,a);P();document.createElement("a");const s=new Blob(["\ufeff",a],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(s,t);else{const e=document.createElement("a");if(void 0!==e.download){const n=URL.createObjectURL(s);e.setAttribute("href",n),e.setAttribute("download",t),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}}(a,t,"tab_scheduler")}({url_name:a,open_date:s,close_date:o,open_time:_,close_time:l,open_weekday:i,close_weekday:r,open_month_day:d,close_month_day:p,open_custom_minute:m,close_custom_minute:h,open_custom_second:g,close_custom_second:v,timer_repeat:b,notification:w,tab_status:f,title:k,description:M,browser_open:S,back_url_open:G,open_in_incognito_mode:x,close_pin_tabs:C,close_only_incognito_tab:I,close_url_filter:T,schedule_type:A,every_hour_open:q,every_hour_close:O,open_url_sametab:L})}))}else if("Sample"==t.val()){var E=`../sample_csv/${e.user_language}/tab_scheduler.csv`;const n=document.createElement("a");n.href=E,n.download="tab_scheduler.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}))})),$(document).on("click","#import_csv_file",(function(e){$(this).val("")})),$(document).on("change","#import_csv_file",(function(){var n=[],t=[],a=$(this).eq(0)[0].files[0],s=new FileReader;s.onload=function(a){var o=function(e,n){n=n||",";var t=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),a=[[]],s=null;for(;s=t.exec(e);){var o,_=s[1];_.length&&_!==n&&a.push([]),o=s[2]?s[2].replace(new RegExp('""',"g"),'"'):s[3],a[a.length-1].push(o)}return a}(s.result,","),_=0,l=B(["__MSG_url__","__MSG_timer__","__MSG_status__","__MSG_openDate__","__MSG_closeDate__","__MSG_openTime__","__MSG_closeTime__","__MSG_openWeek__","__MSG_closeWeek__","__MSG_browserOpen__","__MSG_openDay__","__MSG_closeDay__","__MSG_openMinute__","__MSG_closeMinute__","__MSG_openSecond__","__MSG_closeSecond__","__MSG_notifications__","__MSG_title__","__MSG_description__","__MSG_openInBackground__","__MSG_openInIncognito__","__MSG_doNotCloseInPinnedTabs__","__MSG_closeIncognitoTab__","__MSG_urlContExat__","__MSG_scheduledType__"]),i=B(["__MSG_url__","__MSG_date__","__MSG_time__","__MSG_weekName__","__MSG_day__","__MSG_custMin__","__MSG_cusSec__","__MSG_timer__","__MSG_notifications__","__MSG_status__","__MSG_title__","__MSG_description__","__MSG_openInBackground__","__MSG_openInIncognito__"]),r=B(["__MSG_url__","__MSG_date__","__MSG_time__","__MSG_weekName__","__MSG_day__","__MSG_custMin__","__MSG_cusSec__","__MSG_timer__","__MSG_notifications__","__MSG_status__","__MSG_title__","__MSG_description__","__MSG_openInBackground__"]),d=l.every((function(e,n){return e===o[0][n]})),p=i.length==o[0].length&&i.every((function(e,n){return e===o[0][n]})),m=r.length==o[0].length&&r.every((function(e,n){return e===o[0][n]})),b=B(["__MSG_url__","__MSG_urlContExat__","__MSG_date__","__MSG_time__","__MSG_weekName__","__MSG_day__","__MSG_custMin__","__MSG_cusSec__","__MSG_timer__","__MSG_status__","__MSG_doNotCloseInPinnedTabs__","__MSG_closeIncognitoTab__"]),w=B(["__MSG_url__","__MSG_urlContExat__","__MSG_date__","__MSG_time__","__MSG_weekName__","__MSG_day__","__MSG_custMin__","__MSG_cusSec__","__MSG_timer__","__MSG_status__"]),f=b.length==o[0].length&&b.every((function(e,n){return e===o[0][n]})),M=w.length==o[0].length&&w.every((function(e,n){return e===o[0][n]})),S=o[0];chrome.storage.local.get(["scheduled_timer","plan_info","user_type","_drtf_m"],(function(a){var s=W(a?._drtf_m);if("free"==a?.plan_info?.plan_type&&!u&&!1===s||!a?.plan_info&&!1===s&&!u)return $(".snackbar").removeClass("sucess-msg"),c?$(".ts_message").html(y('<span>__MSG_upgradePlanUnlock__</span>')).addClass(""):$(".ts_message").html(y('<span>__MSG_upgradePlan__</span>')).addClass(""),Q(),setTimeout((()=>Z()),5e3),!1;if(!0!==d&&1!=p&&1!=m&&1!=f&&1!=M||1!=a?.plan_info?.import_export&&!0!==s&&!u)setTimeout((function(){$(".snackbar").removeClass("sucess-msg"),$(".ts_message").html(y('<span>__MSG_uploadValidFormat__</span>')),Q()}),1e3),setTimeout((function(){Z()}),5e3);else{o.shift();var l=[],i=[];a.scheduled_timer&&(i=a.scheduled_timer).map((function(e,a){n.push(e.url_name),t.push(e.timer_repeat)}));for(var r="",b=0;b<i>1&&(_=parseInt(r)+parseInt(e),a[S.indexOf(y("__MSG_url__"))]&&a[S.indexOf(y("__MSG_timer__"))]&&""!=a[o.indexOf(y("__MSG_url__"))]&&""!=a[o.indexOf(y("__MSG_timer__"))])){var s=a[S.indexOf(y("__MSG_status__"))];s=s==y("__MSG_active__")?1:0;var c=a[S.indexOf(y("__MSG_url__"))],u=function(e){var n="";n="oneTime".includes(e)?"none":"everyMinute".includes(e)?"1_min":"every5Min".includes(e)?"5_min":"every10Min".includes(e)?"10_min":"every30Min".includes(e)?"30_min":"everyHour".includes(e)?"60_min":"everyDay".includes(e)?"day":"everyWeek".includes(e)?"weekly":"everyMonth".includes(e)?"month":"everyYear".includes(e)?"year":"custMin".includes(e)?"custom_minute":"cusSec".includes(e)?"custom_second":"browserOpen".includes(e)?"browser_open":"none";return n}(g(a[S.indexOf(y("__MSG_timer__"))])),h=!0===d?a[S.indexOf(y("__MSG_openDate__"))]:!0===p||!0===m?a[S.indexOf(y("__MSG_date__"))]:"",v=!0===d?a[S.indexOf(y("__MSG_closeDate__"))]:!0===f||!0===M?a[S.indexOf(y("__MSG_date__"))]:"",b=!0===d?a[S.indexOf(y("__MSG_openTime__"))]:!0===p||!0===m?a[S.indexOf(y("__MSG_time__"))]:"",w=!0===d?a[S.indexOf(y("__MSG_closeTime__"))]:!0===f||!0===M?a[S.indexOf(y("__MSG_time__"))]:"",k=!0===d?a[S.indexOf(y("__MSG_openWeek__"))]:"browser_open"!==u&&!0===p||!0===m?a[S.indexOf(y("__MSG_weekName__"))]:"",x=!0===d?a[S.indexOf(y("__MSG_closeWeek__"))]:"browser_open"!==u&&!0===f||!0===M?a[S.indexOf(y("__MSG_weekName__"))]:"",$=!0===d?a[S.indexOf(y("__MSG_browserOpen__"))]:"browser_open"===u?a[S.indexOf(y("__MSG_weekName__"))]:"",C=!0===d?a[S.indexOf(y("__MSG_openDay__"))]:!0===p||!0===m?a[S.indexOf(y("__MSG_day__"))]:"",I=!0===d?a[S.indexOf(y("__MSG_closeDay__"))]:!0===f||!0===M?a[S.indexOf(y("__MSG_day__"))]:"",A=!0===d?a[S.indexOf(y("__MSG_openMinute__"))]:!0===p||!0===m?a[S.indexOf(y("__MSG_custMin__"))]:"",T=!0===d?a[S.indexOf(y("__MSG_closeMinute__"))]:!0===f||!0===M?a[S.indexOf(y("__MSG_custMin__"))]:"",q=!0===d?a[S.indexOf(y("__MSG_openSecond__"))]:!0===p||!0===m?a[S.indexOf(y("__MSG_cusSec__"))]:"",O=!0===d?a[S.indexOf(y("__MSG_closeSecond__"))]:!0===f||!0===M?a[S.indexOf(y("__MSG_cusSec__"))]:"",L=a[S.indexOf(y("__MSG_notifications__"))]?a[S.indexOf(y("__MSG_notifications__"))]:0,E=a[S.indexOf(y("__MSG_hour_minute_open__"))]?a[S.indexOf(y("__MSG_hour_minute_open__"))]:"00",D=a[S.indexOf(y("__MSG_hour_minute_close__"))]?a[S.indexOf(y("__MSG_hour_minute_close__"))]:"00";L=L==y("__MSG_active__")?1:0;var U=a[S.indexOf(y("__MSG_title__"))]?a[S.indexOf(y("__MSG_title__"))]:"",B=a[S.indexOf(y("__MSG_description__"))]?a[S.indexOf(y("__MSG_description__"))]:"",N=a[S.indexOf(y("__MSG_openInBackground__"))]?a[S.indexOf(y("__MSG_openInBackground__"))]:0;N=N==y("__MSG_yes__")?1:0;var P=a[S.indexOf(y("__MSG_openInIncognito__"))]?a[S.indexOf(y("__MSG_openInIncognito__"))]:0;P=P==y("__MSG_yes__")?1:0;var J=a[S.indexOf(y("__MSG_sameTabs__"))]?a[S.indexOf(y("__MSG_sameTabs__"))]:0;J=J==y("__MSG_yes__")?1:0;var H=a[S.indexOf(y("__MSG_doNotCloseInPinnedTabs__"))]?a[S.indexOf(y("__MSG_doNotCloseInPinnedTabs__"))]:0;H=H==y("__MSG_yes__")?1:0;var Q=a[S.indexOf(y("__MSG_closeIncognitoTab__"))]?a[S.indexOf(y("__MSG_closeIncognitoTab__"))]:0;Q=Q==y("__MSG_yes__")?1:0;var Z=a[S.indexOf(y("__MSG_urlContExat__"))]?a[S.indexOf(y("__MSG_urlContExat__"))]:0;Z=Z==y("__MSG_yes__")||Z==y("__MSG_contain__")?1:0;var W=!0===d?g(a[S.indexOf(y("__MSG_scheduledType__"))]):!0===f?"close":"open";c=c.replace(/ /g,"");var X=n.includes(c),R=t.includes(u),K={},ee={},ne={},te=!1,ae=!1;i.forEach((function(e,n){e.url_name===c&&e.open_date===h&&e.open_time===b&e.close_date===v&&e.close_time===w&&"none"==u&&(te=!0)})),0==G(c)&&"close"!==W&&(ae=!0),"weekly"==u&&(K={week_id:_,week_list:[]},ee={week_id:_,week_list:[]},k&&k.split(",").forEach(((e,n)=>{K.week_list.push(Y(g(e))+"_day")})),x&&x.split(",").forEach(((e,n)=>{ee.week_list.push(Y(g(e))+"_day")}))),void 0!==$&&"browser_open"==u&&(ne={week_id:_,week_list:[]},$.split(",").forEach(((e,n)=>{ne.week_list.push(Y(g(e))+"_day")}))),void 0!==a[3]&&["1_min","5_min","10_min","30_min","60_min","custom_minute","custom_second"].includes(u)?!0:(void 0!==a[3]&&"none"==u||["day","year","month","browser_open","weekly"].includes(u))&&!0;var se=!0,oe=!0;b&&""!=b&&(se=F(b=V(b))),w&&""!=w&&(se=F(w=V(w))),h&&""!=h&&(oe=z(h)),v&&""!=v&&(oe=z(v)),0==(1==X&&1==R&&!1)&&0==te&&1==oe&&1==se&&!1===ae&&(""!==T&&0==T&&(T=1),""!==O&&O<=4&&(O=5),""!==A&&0==A&&(A=1),""!==q&&q<=4&&(q=5),n.push(c),t.push(u),l.push({id:_,url_name:c,back_url_open:N,browser_open:ne,close_date:v,flag:"0",close_month_day:I,close_only_incognito_tab:Q,close_pin_tabs:H,close_tabid:"",close_time:w,close_url_filter:Z,close_weekday:ee,custom_close_minute:T,custom_close_second:O,custom_open_minute:A,custom_open_second:q,open_date:h,open_month_day:C,open_time:b,open_weekday:K,timer_repeat:u,notification:parseInt(L),tab_status:parseInt(s),title:j(U),description:j(B),open_in_incognito_mode:parseInt(P),schedule_type:W,every_hour_open_minute:E,every_hour_close_minute:D,open_url_sametab:J}))}}));var x=w-l.length,C=l.length;""!=i&&(l=i.concat(l)),setTimeout((function(){$(".snackbar").addClass("sucess-msg"),$(".ts_message").html(y(`<span>${y("__MSG_totalProcessed__ ")}${w} ${y("__MSG_invalidDuplicate__")} ${x} ${y("__MSG_importedRecored__")} ${C}</span>`)),Q()}),1e3),setTimeout((function(){$(".snackbar").removeClass("sucess-msg"),Z()}),7e3),e=l,chrome.storage.local.set({scheduled_timer:l},(function(){k(),h(e),v(e),(a?.plan_info&&e.length<a>{ae(!1),$(t).attr("disabled",!1)}),500)}))})),$(this).attr("disabled",!0),ae(!0)})),$(document).on("click","#inactive-power",(function(e){var n=$(this).attr("data-status"),t=$(this);if(1==n){var a=0;$(this).attr("data-status",0),t.val(0)}else{a=1;$(this).attr("data-status",1),t.val(1)}chrome.storage.local.set({power_mode:a},(function(){R(),chrome.storage.local.get("is_login",(function(e){e?.is_login&&chrome.runtime.sendMessage({action:"save_settings"})}))}))})),$(document).on("change","#select-frequency",(function(e){$(".border_warning").removeClass("border_warning"),M("change",$(this).val(),!1)})),$(document).on("click","#enable_disable_dark_mode",(function(e){var n=$(this).attr("data-status"),t=$(this);if(1==n){var a=0;$(this).attr("data-status",0),$("body").removeClass("dark-mode"),t.val(0)}else{a=1;$(this).attr("data-status",1),$("body").addClass("dark-mode"),t.val(1)}chrome.storage.local.set({dark_mode_tb:a},(function(){chrome.storage.local.get("is_login",(function(e){e?.is_login&&chrome.runtime.sendMessage({action:"save_settings"})}))}))})),$(document).on("click","body,html",(function(){$(".dropdown").each((function(){$(this).removeClass("on")}))})),$(document).on("click",".weekly_label",(function(e){e.preventDefault(),e.stopImmediatePropagation(),$(".dropdown").each((function(){$(this).removeClass("on")}))})),$(document).on("click",".dropdown-label",(function(e){if(e.stopImmediatePropagation(),$(this).closest(".weeks").attr("disabled"))return!1;$(this).closest(".dropdown").hasClass("on")?$(".dropdown").each((function(){$(this).removeClass("on")})):($(".dropdown").each((function(){$(this).removeClass("on")})),"checkbox-dropdown"===$(this).closest(".dropdown").attr("data-control")&&$(this).closest(".dropdown").addClass("on"))})),$(document).on("change",".weeks",(function(e){if(e.stopImmediatePropagation(),$(this).attr("disabled"))return!1;var n=Array.from($(this).find('.custom-checkbox input[name="dropdown-group"]:checked')),t=n.length,a='<img>';if($(this).hasClass("close_weekly")&&(a='<img>'),t>0){var s=n[0].parentElement.textContent.trim();1===t?$(this).find(".dropdown-label").html(y(s)+a):$(this).find(".dropdown-label").html(y(t+" __MSG_Selected__")+a),7===t?$(this).find(".check-all").html(y("__MSG_uncheckAll__")).addClass("all-check"):$(this).find(".check-all").html(y("__MSG_checkAll__")).removeClass("all-check")}else $(this).find(".dropdown-label").html(y("__MSG_select_weeks__")+a)})),$(document).on("click",".dropdown-list",(function(e){e.stopImmediatePropagation()})),$(document).on("click",".dropdown-list .check-all",(function(e){e.stopImmediatePropagation(),$(this).hasClass("all-check")?($(this).html(y("__MSG_checkAll__")),$(this).removeClass("all-check"),$(this).closest(".dropdown-list").find('input[name="dropdown-group"]').each((function(e,n){$(this).prop("checked",!1)}))):($(this).addClass("all-check"),$(this).html(y("__MSG_uncheckAll__")),$(this).closest(".dropdown-list").find('input[name="dropdown-group"]').each((function(e,n){$(this).prop("checked",!0)}))),$(this).closest(".weeks").trigger("change")})),$(document).on("click","#confirm_tutorial",(async function(e){$(this).is(":checked")&&(chrome.storage.local.set({video_check:!0}),setTimeout((function(){$(".tutorial-popup").removeClass("active"),$("body").removeClass("overflow-hidden")}),2e3))})),$(document).on("change","#dt-length-0",(function(){let e=$(this).val();chrome.storage.local.set({page_limit:e})}));