<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Restaurant Reservations</title>
  <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css' rel='stylesheet' />
</head>
<body>
  <div id="root"></div>
  
  <script type="importmap">
  {
    "imports": {
      "react": "https://esm.sh/react@18.2.0",
      "react-dom": "https://esm.sh/react-dom@18.2.0",
      "react-dom/": "https://esm.sh/react-dom@18.2.0/",
      "react/": "https://esm.sh/react@18.2.0/",
      "@fullcalendar/react": "https://esm.sh/@fullcalendar/react@6.1.10",
      "@fullcalendar/core": "https://esm.sh/@fullcalendar/core@6.1.10",
      "@fullcalendar/core/": "https://esm.sh/@fullcalendar/core@6.1.10/",
      "@fullcalendar/daygrid": "https://esm.sh/@fullcalendar/daygrid@6.1.10",
      "@fullcalendar/timegrid": "https://esm.sh/@fullcalendar/timegrid@6.1.10",
      "@fullcalendar/interaction": "https://esm.sh/@fullcalendar/interaction@6.1.10"
    }
  }
  </script>
  
  <script type="module">
    import React from 'react';
    import { createRoot } from 'react-dom/client';
    import FullCalendar from '@fullcalendar/react';
    import dayGridPlugin from '@fullcalendar/daygrid';
    import timeGridPlugin from '@fullcalendar/timegrid';
    import interactionPlugin from '@fullcalendar/interaction';

    function App() {
      const [events, setEvents] = React.useState([
        { 
          id: '1',
          title: 'Smith Party (4)', 
          start: '2025-10-30T17:00:00',
          end: '2025-10-30T19:00:00'
        }
      ]);

      return React.createElement('div', { style: { padding: '20px' } },
        React.createElement('h1', null, '🍴 Restaurant Reservations'),
        React.createElement(FullCalendar, {
          plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],
          initialView: 'timeGridDay',
          initialDate: '2025-10-30',
          headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'timeGridDay,timeGridWeek'
          },
          slotMinTime: '17:00:00',
          slotMaxTime: '23:00:00',
          slotDuration: '00:15:00',
          allDaySlot: false,
          events: events,
          editable: true,
          selectable: true,
          height: 'auto',
          select: (info) => {
            const name = prompt('Customer name:');
            if (name) {
              const partySize = prompt('Party size:');
              setEvents([...events, {
                id: String(Date.now()),
                title: `${name} Party (${partySize})`,
                start: info.startStr,
                end: info.endStr
              }]);
            }
          },
          eventClick: (info) => {
            if (confirm(`Delete ${info.event.title}?`)) {
              setEvents(events.filter(e => e.id !== info.event.id));
            }
          }
        })
      );
    }

    createRoot(document.getElementById('root')).render(
      React.createElement(App)
    );
  </script>
</body>
</html>