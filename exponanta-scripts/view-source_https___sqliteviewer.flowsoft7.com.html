
<!-- saved from url=(0035)https://sqliteviewer.flowsoft7.com/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">Line wrap<input type="checkbox" aria-label="Line wrap"></label></form><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-tag">&lt;html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">http-equiv</span>="<span class="html-attribute-value">Content-Type</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">text/html; charset=utf-8</span>"&gt;</span>			</td></tr><tr><td class="line-number" value="4"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">http-equiv</span>="<span class="html-attribute-value">X-UA-Compatible</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">IE=edge</span>"&gt;</span></td></tr><tr><td class="line-number" value="5"></td><td class="line-content"><span class="html-tag">&lt;title&gt;</span>SQLite Viewer with Google Drive<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">google</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">notranslate</span>"&gt;</span></td></tr><tr><td class="line-number" value="7"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">This app allows you to view SQLite Database on your browser. It can help you to easily manage, and open the SQLite database. You can open a SQLite file to read from your computer or your Google Drive.</span>"&gt;</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">keywords</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">sqlite reader, sqlite viewer, sqlite query, online sqlite viewer, sqlite for google drive, drive sqlite viewer, sqlite manager, sqlite edit</span>"&gt;</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="10"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:title</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">SQLite Viewer with Google Drive</span>"&gt;</span> </td></tr><tr><td class="line-number" value="11"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">This app allows you to view SQLite Database on your browser. It can help you to easily manage, and open the SQLite database. You can open a SQLite file to read from your computer or your Google Drive.</span>"&gt;</span></td></tr><tr><td class="line-number" value="12"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:type</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">website</span>"&gt;</span></td></tr><tr><td class="line-number" value="13"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:url</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">//sqliteviewer.flowsoft7.com/</span>"&gt;</span></td></tr><tr><td class="line-number" value="14"></td><td class="line-content"><span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:image</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">//sqliteviewer.flowsoft7.com/img/logo128.png</span>"&gt;</span></td></tr><tr><td class="line-number" value="15"></td><td class="line-content"><span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">shortcut icon</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://sqliteviewer.flowsoft7.com/favicon.ico" rel="noreferrer noopener">./favicon.ico</a>"&gt;</span></td></tr><tr><td class="line-number" value="16"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="17"></td><td class="line-content"><span class="html-tag">&lt;style&gt;</span></td></tr><tr><td class="line-number" value="18"></td><td class="line-content">body,table,td {</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">	font-size:13px;</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">    font-family: Arial, Helvetica, sans-serif; /*Trebuchet MS, Tahoma, Verdana*/</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">html, body{</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">	margin:0;</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">	width:100%;</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">	height:100%;</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">	overflow-y:hidden;</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">#desc td, #desc table{</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">	font-size:14px;</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">A:link    {color:#0000ff;text-decoration:none;}</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">A:visited {color:#0000ff;text-decoration:none;}</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">A:active  {color:#0000ff;text-decoration:underline;}</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">A:hover  {color:#0000ff;text-decoration:underline;}</td></tr><tr><td class="line-number" value="35"></td><td class="line-content"><span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="36"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="37"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://sqliteviewer.flowsoft7.com/js/common.js?t=1" rel="noreferrer noopener">js/common.js?t=1</a>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="38"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="39"></td><td class="line-content">var gadb=false;</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">function setstorage(name,value){</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">	if (window.localStorage){</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">		localStorage[name]=value+'';</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">	}else{</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">		//setCookie(name, value, 1000*60*60*24*365*10); </td></tr><tr><td class="line-number" value="45"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">function getstorage(name){</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">	var s;</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">	if (window.localStorage){</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">		s=localStorage[name];</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">	}else{</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">		//s=getCookie(name);</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">	return s;</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">function proc_resize(){</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">function getWindowHeight(){</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">    var windowHeight = 0;</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">    if (typeof(window.innerHeight) == 'number'){</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">        windowHeight = window.innerHeight;</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">    }else{</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">        var ieStrict = document.documentElement.clientHeight; </td></tr><tr><td class="line-number" value="63"></td><td class="line-content">        var ieQuirks = document.body.clientHeight;</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">        windowHeight = (ieStrict &gt; 0) ? ieStrict : ieQuirks;</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">	if(!windowHeight) windowHeight=0;</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">    return windowHeight;</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">	var h=getWindowHeight();</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">	_getid("viewer").style.height=h+"px";</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">function init(){</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">	//if(ismsie){</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">		proc_resize();</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">		if (window.addEventListener) window.addEventListener("resize", proc_resize, false);</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">		else if (window.attachEvent) window.attachEvent("onresize", proc_resize);</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">	//}</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">window.onerror = function() {</td></tr><tr><td class="line-number" value="80"></td><td class="line-content">	var a=document.getElementById('loading');</td></tr><tr><td class="line-number" value="81"></td><td class="line-content">	if(a) a.style.display='none';</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="83"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="84"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="85"></td><td class="line-content"><span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="86"></td><td class="line-content"><span class="html-tag">&lt;body <span class="html-attribute-name">bgcolor</span>="<span class="html-attribute-value">#f5f5f5</span>" <span class="html-attribute-name">onload</span>=""&gt;</span></td></tr><tr><td class="line-number" value="87"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="88"></td><td class="line-content"><span class="html-tag">&lt;table <span class="html-attribute-name">cellpadding</span>=<span class="html-attribute-value">0</span> <span class="html-attribute-name">cellspacing</span>=<span class="html-attribute-value">0</span> <span class="html-attribute-name">width</span>=<span class="html-attribute-value">100%</span> <span class="html-attribute-name">height</span>=<span class="html-attribute-value">100%</span> <span class="html-attribute-name">bgcolor</span>="<span class="html-attribute-value">#f5f5f5</span>"&gt;</span></td></tr><tr><td class="line-number" value="89"></td><td class="line-content"><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="90"></td><td class="line-content"><span class="html-tag">&lt;td <span class="html-attribute-name">valign</span>=<span class="html-attribute-value">top</span> <span class="html-attribute-name">width</span>=<span class="html-attribute-value">162</span>&gt;</span></td></tr><tr><td class="line-number" value="91"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="92"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">style</span>="<span class="html-attribute-value">margin-top:5px;margin-left:6px</span>"&gt;</span></td></tr><tr><td class="line-number" value="93"></td><td class="line-content"><span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">id</span>='<span class="html-attribute-value">btn_open</span>' <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">gd_open_picker()</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Open a file from Google Drive</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">white-space:nowrap</span>"&gt;</span><span class="html-tag">&lt;img <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://iblogbox.github.io/js/gdrive/product16.png" rel="noreferrer noopener">//iblogbox.github.io/js/gdrive/product16.png</a>" <span class="html-attribute-name">width</span>=<span class="html-attribute-value">16</span> <span class="html-attribute-name">align</span>="<span class="html-attribute-value">absmiddle</span>"&gt;</span> Open File<span class="html-tag">&lt;br&gt;</span>from Google Drive<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="94"></td><td class="line-content"><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="95"></td><td class="line-content"><span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">gd_btn_reopen</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">gd_reopen()</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display:none</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Reopen the file loaded from drive.google.com</span>"&gt;</span>Reopen<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="96"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">downlink</span>" <span class="html-attribute-name">style</span>=""&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="97"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="98"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="99"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="100"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">style</span>="<span class="html-attribute-value">margin-top:10px;margin-right:10px</span>"&gt;</span></td></tr><tr><td class="line-number" value="101"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">async</span> <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" rel="noreferrer noopener">https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</a>" <span class="html-attribute-name">onerror</span>="<span class="html-attribute-value">gadb=true;</span>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="102"></td><td class="line-content"><span class="html-tag">&lt;ins <span class="html-attribute-name">class</span>="<span class="html-attribute-value">adsbygoogle</span>"</span></td></tr><tr><td class="line-number" value="103"></td><td class="line-content">     <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display:inline-block;width:160px;height:600px</span>"</td></tr><tr><td class="line-number" value="104"></td><td class="line-content">     <span class="html-attribute-name">data-ad-client</span>="<span class="html-attribute-value">ca-pub-1113541014872557</span>"</td></tr><tr><td class="line-number" value="105"></td><td class="line-content">     <span class="html-attribute-name">data-ad-slot</span>="<span class="html-attribute-value">6182337504</span>"&gt;<span class="html-tag">&lt;/ins&gt;</span></td></tr><tr><td class="line-number" value="106"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="107"></td><td class="line-content">     (adsbygoogle = window.adsbygoogle || []).push({});</td></tr><tr><td class="line-number" value="108"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="109"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="110"></td><td class="line-content"><span class="html-tag">&lt;td <span class="html-attribute-name">valign</span>=<span class="html-attribute-value">top</span> <span class="html-attribute-name">height</span>=<span class="html-attribute-value">100%</span>&gt;</span></td></tr><tr><td class="line-number" value="111"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="112"></td><td class="line-content"><span class="html-tag">&lt;table <span class="html-attribute-name">id</span>="<span class="html-attribute-value">desc</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">margin-top:10px;width:750px;display:none</span>"&gt;</span></td></tr><tr><td class="line-number" value="113"></td><td class="line-content"><span class="html-tag">&lt;tr&gt;</span><span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="114"></td><td class="line-content"><span class="html-tag">&lt;font <span class="html-attribute-name">style</span>="<span class="html-attribute-value">font-family:Verdana, Arial;font-size:26px;font-weight:bold;color:#086A87</span>"&gt;</span>SQLite Viewer with Google Drive<span class="html-tag">&lt;/font&gt;</span></td></tr><tr><td class="line-number" value="115"></td><td class="line-content"><span class="html-tag">&lt;tr&gt;</span><span class="html-tag">&lt;td <span class="html-attribute-name">height</span>=<span class="html-attribute-value">10</span>&gt;</span></td></tr><tr><td class="line-number" value="116"></td><td class="line-content"><span class="html-tag">&lt;tr&gt;</span><span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="117"></td><td class="line-content">This app allows you to view SQLite Database on your browser.<span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="118"></td><td class="line-content">This is a versatile viewer for SQLite database. You can browse, open and edit SQLite files.</td></tr><tr><td class="line-number" value="119"></td><td class="line-content">Supports SQL query (select, update, insert..).<span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="120"></td><td class="line-content">It can help you to easily manage, and open the SQLite database on your browser. </td></tr><tr><td class="line-number" value="121"></td><td class="line-content">You can open a SQLite file to read from your computer or your Google Drive. Provides connect with Google Drive.<span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="122"></td><td class="line-content">This SQLite Viewer does not save or upload the file you select. It only works locally without going through the server. (HTML5 technology)<span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="123"></td><td class="line-content">Supports Chrome, IE10+, Firefox, Safari.. Supported formats: sqlite, db, sqlite3, localstorage..<span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="124"></td><td class="line-content"><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="125"></td><td class="line-content"><span class="html-tag">&lt;br&gt;</span>2025, SQLite Viewer with Google Drive<span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="126"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="127"></td><td class="line-content"><span class="html-tag">&lt;iframe <span class="html-attribute-name">id</span>="<span class="html-attribute-value">viewer</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://sqliteviewer.flowsoft7.com/viewer/?fileId=" rel="noreferrer noopener">viewer/?fileId=</a>" <span class="html-attribute-name">style</span>="" <span class="html-attribute-name">width</span>=<span class="html-attribute-value">100%</span> <span class="html-attribute-name">height</span>=<span class="html-attribute-value">100%</span> <span class="html-attribute-name">frameborder</span>=<span class="html-attribute-value">0</span> <span class="html-attribute-name">scrolling</span>=<span class="html-attribute-value">auto</span> <span class="html-attribute-name">allowfullscreen</span> <span class="html-attribute-name">webkitallowfullscreen</span>&gt;</span><span class="html-tag">&lt;/iframe&gt;</span></td></tr><tr><td class="line-number" value="128"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="129"></td><td class="line-content"><span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="130"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="131"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="132"></td><td class="line-content">var issafari=false;</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">var ua = navigator.userAgent.toLowerCase(); </td></tr><tr><td class="line-number" value="134"></td><td class="line-content">if (ua.indexOf('safari') != -1 &amp;&amp; ua.indexOf('chrome') &lt;0){ </td></tr><tr><td class="line-number" value="135"></td><td class="line-content">	issafari=true;</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">var g_maxsize=200;</td></tr><tr><td class="line-number" value="138"></td><td class="line-content">var g_contentarr=[];</td></tr><tr><td class="line-number" value="139"></td><td class="line-content">var g_content;</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">function _getfrmdoc(ifrm){</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">	return (ifrm.contentWindow) ? ifrm.contentWindow : (ifrm.contentDocument.document) ? ifrm.contentDocument.document : ifrm.contentDocument;</td></tr><tr><td class="line-number" value="142"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="143"></td><td class="line-content">function proc_parse(blob, filename){</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">	if(gadb){alert('Please disable the adblock for free use.');return;}	if(!window.FileReader || !window.XMLHttpRequest || !window.URL){</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">		alert("This browser does not support.");</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="148"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="149"></td><td class="line-content">	g_content={};</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">	g_content.id=(new Date()).getTime();</td></tr><tr><td class="line-number" value="151"></td><td class="line-content">	g_content.data=blob;</td></tr><tr><td class="line-number" value="152"></td><td class="line-content">	g_content.filename=filename;</td></tr><tr><td class="line-number" value="153"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="154"></td><td class="line-content">	/*if(g_contentarr.length&gt;1){</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">		g_contentarr[0].data=null;</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">		g_contentarr.splice(0,1);</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">	g_contentarr.push(g_content);*/</td></tr><tr><td class="line-number" value="159"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="160"></td><td class="line-content">	var a=_getid("viewer");</td></tr><tr><td class="line-number" value="161"></td><td class="line-content">	var ifrm=_getfrmdoc(a);</td></tr><tr><td class="line-number" value="162"></td><td class="line-content">	if(ifrm &amp;&amp; ifrm.g_parsergo){</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">		ifrm.g_parsergo();</td></tr><tr><td class="line-number" value="164"></td><td class="line-content">	}else{</td></tr><tr><td class="line-number" value="165"></td><td class="line-content">		a.src='viewer/?content=1';</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="168"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="169"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="170"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="171"></td><td class="line-content"><span class="html-tag">&lt;style&gt;</span></td></tr><tr><td class="line-number" value="172"></td><td class="line-content">.gd_div{background-color:#FFFFE1;position:absolute;overflow:hidden;-webkit-box-shadow: 0 0 25px #999;-moz-box-shadow: 0 0 25px #999;box-shadow: 0 0 25px #999;}</td></tr><tr><td class="line-number" value="173"></td><td class="line-content"><span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="174"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">layer_message</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">gd_div</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">z-index:10001;display:none;</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="175"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">gd_window</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">gd_div</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">z-index:10000001;display:none;</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="176"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">gd_btn_login</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">gd_div</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">z-index:10000000;display:none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="177"></td><td class="line-content"><span class="html-tag">&lt;table&gt;</span></td></tr><tr><td class="line-number" value="178"></td><td class="line-content"><span class="html-tag">&lt;tr&gt;</span><span class="html-tag">&lt;td <span class="html-attribute-name">align</span>=<span class="html-attribute-value">center</span>&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">gd_login_manual()</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">font-size:20px</span>"&gt;</span><span class="html-tag">&lt;img <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://iblogbox.github.io/js/gdrive/product20.png" rel="noreferrer noopener">//iblogbox.github.io/js/gdrive/product20.png</a>" <span class="html-attribute-name">align</span>="<span class="html-attribute-value">absmiddle</span>"&gt;</span> Login &amp; Authorize<span class="html-tag">&lt;/button&gt;</span> <span class="html-tag">&lt;button <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">gd_login_close()</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">font-size:20px</span>"&gt;</span>Close<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="179"></td><td class="line-content"><span class="html-tag">&lt;tr&gt;</span><span class="html-tag">&lt;td&gt;</span>To use this app, Please login to the Google Drive and authorize this app or website.</td></tr><tr><td class="line-number" value="180"></td><td class="line-content"><span class="html-tag">&lt;br&gt;</span>(Note: If your browser block or disable the third-party cookies, this login does not work correctly.)</td></tr><tr><td class="line-number" value="181"></td><td class="line-content"><span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="182"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="183"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="184"></td><td class="line-content">var CLIENT_ID = '298830041920-122hpvb7ug3dtfls0cvkaubana637577.apps.googleusercontent.com';</td></tr><tr><td class="line-number" value="185"></td><td class="line-content">var SCOPES = [</td></tr><tr><td class="line-number" value="186"></td><td class="line-content">	'https://www.googleapis.com/auth/drive.install',</td></tr><tr><td class="line-number" value="187"></td><td class="line-content">	'https://www.googleapis.com/auth/drive.file'</td></tr><tr><td class="line-number" value="188"></td><td class="line-content">];</td></tr><tr><td class="line-number" value="189"></td><td class="line-content">var gd_developerKey='AIzaSyBG44pTAiXrQKizukVdsvhCx8zmfWAKCp4';</td></tr><tr><td class="line-number" value="190"></td><td class="line-content">var gd_mimetype="application/octet-stream";</td></tr><tr><td class="line-number" value="191"></td><td class="line-content">var gd_state='';</td></tr><tr><td class="line-number" value="192"></td><td class="line-content">var gd_export_extension=["sqlite","db"];</td></tr><tr><td class="line-number" value="193"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="194"></td><td class="line-content">var gd_picker,gd_loaded,gd_pickerloaded,gd_lastprogress,gd_issupported,gd_isdownloading,gd_load_timer,gd_bloburl,gd_state2;</td></tr><tr><td class="line-number" value="195"></td><td class="line-content">var gd_loginexp=0;</td></tr><tr><td class="line-number" value="196"></td><td class="line-content">var gd_callback;</td></tr><tr><td class="line-number" value="197"></td><td class="line-content">var ismsie=false;</td></tr><tr><td class="line-number" value="198"></td><td class="line-content">if(navigator.appName!="Netscape"){</td></tr><tr><td class="line-number" value="199"></td><td class="line-content">	if(navigator.userAgent.indexOf("MSIE")&gt;=0) ismsie=true;</td></tr><tr><td class="line-number" value="200"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="201"></td><td class="line-content">if(navigator.userAgent.match(/Trident\//)) ismsie=true;</td></tr><tr><td class="line-number" value="202"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="203"></td><td class="line-content">function number_format(number, decimals, dec_point, thousands_sep) {</td></tr><tr><td class="line-number" value="204"></td><td class="line-content">  number = (number + '').replace(/[^0-9+\-Ee.]/g, '');</td></tr><tr><td class="line-number" value="205"></td><td class="line-content">  var n = !isFinite(+number) ? 0 : +number,</td></tr><tr><td class="line-number" value="206"></td><td class="line-content">    prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),</td></tr><tr><td class="line-number" value="207"></td><td class="line-content">    sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,</td></tr><tr><td class="line-number" value="208"></td><td class="line-content">    dec = (typeof dec_point === 'undefined') ? '.' : dec_point,</td></tr><tr><td class="line-number" value="209"></td><td class="line-content">    s = '',</td></tr><tr><td class="line-number" value="210"></td><td class="line-content">    toFixedFix = function (n, prec) {</td></tr><tr><td class="line-number" value="211"></td><td class="line-content">      var k = Math.pow(10, prec);</td></tr><tr><td class="line-number" value="212"></td><td class="line-content">      return '' + Math.round(n * k) / k;</td></tr><tr><td class="line-number" value="213"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="214"></td><td class="line-content">  s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');</td></tr><tr><td class="line-number" value="215"></td><td class="line-content">  if (s[0].length &gt; 3) {</td></tr><tr><td class="line-number" value="216"></td><td class="line-content">    s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);</td></tr><tr><td class="line-number" value="217"></td><td class="line-content">  }</td></tr><tr><td class="line-number" value="218"></td><td class="line-content">  if ((s[1] || '').length &lt; prec) {</td></tr><tr><td class="line-number" value="219"></td><td class="line-content">    s[1] = s[1] || '';</td></tr><tr><td class="line-number" value="220"></td><td class="line-content">    s[1] += new Array(prec - s[1].length + 1).join('0');</td></tr><tr><td class="line-number" value="221"></td><td class="line-content">  }</td></tr><tr><td class="line-number" value="222"></td><td class="line-content">  return s.join(dec);</td></tr><tr><td class="line-number" value="223"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="224"></td><td class="line-content">var messagetimer=null;</td></tr><tr><td class="line-number" value="225"></td><td class="line-content">function show_message(s,x,y,padding,timeout){</td></tr><tr><td class="line-number" value="226"></td><td class="line-content">function getWindowWidth(){</td></tr><tr><td class="line-number" value="227"></td><td class="line-content">    var windowWidth = 0;</td></tr><tr><td class="line-number" value="228"></td><td class="line-content">    if (typeof(window.innerWidth) == 'number'){</td></tr><tr><td class="line-number" value="229"></td><td class="line-content">        windowWidth = window.innerWidth;</td></tr><tr><td class="line-number" value="230"></td><td class="line-content">    }else{</td></tr><tr><td class="line-number" value="231"></td><td class="line-content">        var ieStrict = document.documentElement.clientWidth;</td></tr><tr><td class="line-number" value="232"></td><td class="line-content">        var ieQuirks = document.body.clientWidth; </td></tr><tr><td class="line-number" value="233"></td><td class="line-content">        windowWidth = (ieStrict &gt; 0) ? ieStrict : ieQuirks;</td></tr><tr><td class="line-number" value="234"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="235"></td><td class="line-content">	if(!windowWidth) windowWidth=0;</td></tr><tr><td class="line-number" value="236"></td><td class="line-content">    return windowWidth;</td></tr><tr><td class="line-number" value="237"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="238"></td><td class="line-content">function getWindowHeight(){</td></tr><tr><td class="line-number" value="239"></td><td class="line-content">    var windowHeight = 0;</td></tr><tr><td class="line-number" value="240"></td><td class="line-content">    if (typeof(window.innerHeight) == 'number'){</td></tr><tr><td class="line-number" value="241"></td><td class="line-content">        windowHeight = window.innerHeight;</td></tr><tr><td class="line-number" value="242"></td><td class="line-content">    }else{</td></tr><tr><td class="line-number" value="243"></td><td class="line-content">        var ieStrict = document.documentElement.clientHeight; </td></tr><tr><td class="line-number" value="244"></td><td class="line-content">        var ieQuirks = document.body.clientHeight;</td></tr><tr><td class="line-number" value="245"></td><td class="line-content">        windowHeight = (ieStrict &gt; 0) ? ieStrict : ieQuirks;</td></tr><tr><td class="line-number" value="246"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="247"></td><td class="line-content">	if(!windowHeight) windowHeight=0;</td></tr><tr><td class="line-number" value="248"></td><td class="line-content">    return windowHeight;</td></tr><tr><td class="line-number" value="249"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="250"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="251"></td><td class="line-content">function getScrollLeft(){</td></tr><tr><td class="line-number" value="252"></td><td class="line-content">    var scrollLeft;</td></tr><tr><td class="line-number" value="253"></td><td class="line-content">	if(document.body &amp;&amp; document.body.scrollLeft){</td></tr><tr><td class="line-number" value="254"></td><td class="line-content">		scrollLeft = document.body.scrollLeft;</td></tr><tr><td class="line-number" value="255"></td><td class="line-content">	}else if(document.documentElement &amp;&amp; document.documentElement.scrollLeft){</td></tr><tr><td class="line-number" value="256"></td><td class="line-content">		scrollLeft = document.documentElement.scrollLeft;</td></tr><tr><td class="line-number" value="257"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="258"></td><td class="line-content">	if(!scrollLeft) scrollLeft=0;</td></tr><tr><td class="line-number" value="259"></td><td class="line-content">    return scrollLeft;</td></tr><tr><td class="line-number" value="260"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="261"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="262"></td><td class="line-content">function getScrollTop(){</td></tr><tr><td class="line-number" value="263"></td><td class="line-content">    var scrollTop;</td></tr><tr><td class="line-number" value="264"></td><td class="line-content">	if(document.body &amp;&amp; document.body.scrollTop){</td></tr><tr><td class="line-number" value="265"></td><td class="line-content">		scrollTop = document.body.scrollTop;</td></tr><tr><td class="line-number" value="266"></td><td class="line-content">	}else if(document.documentElement &amp;&amp; document.documentElement.scrollTop){</td></tr><tr><td class="line-number" value="267"></td><td class="line-content">		scrollTop = document.documentElement.scrollTop;</td></tr><tr><td class="line-number" value="268"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="269"></td><td class="line-content">	if(!scrollTop) scrollTop=0;</td></tr><tr><td class="line-number" value="270"></td><td class="line-content">    return scrollTop;</td></tr><tr><td class="line-number" value="271"></td><td class="line-content">} </td></tr><tr><td class="line-number" value="272"></td><td class="line-content">	if (!x) x=10;</td></tr><tr><td class="line-number" value="273"></td><td class="line-content">	if (!y) y=10;</td></tr><tr><td class="line-number" value="274"></td><td class="line-content">	if (!padding) padding=5;</td></tr><tr><td class="line-number" value="275"></td><td class="line-content">	if (!timeout) timeout=2000;</td></tr><tr><td class="line-number" value="276"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="277"></td><td class="line-content">	var kind=1;</td></tr><tr><td class="line-number" value="278"></td><td class="line-content">	for(var i=1; i &lt;= 4; i++){</td></tr><tr><td class="line-number" value="279"></td><td class="line-content">		var s1="layer_message";</td></tr><tr><td class="line-number" value="280"></td><td class="line-content">		if (i&gt;1) s1="layer_message"+i;</td></tr><tr><td class="line-number" value="281"></td><td class="line-content">		var obj=document.getElementById(s1);</td></tr><tr><td class="line-number" value="282"></td><td class="line-content">		if (obj){</td></tr><tr><td class="line-number" value="283"></td><td class="line-content">			kind=i;</td></tr><tr><td class="line-number" value="284"></td><td class="line-content">			break;</td></tr><tr><td class="line-number" value="285"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="286"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="287"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="288"></td><td class="line-content">	obj.style.left="1px";</td></tr><tr><td class="line-number" value="289"></td><td class="line-content">	obj.style.top="1px";		</td></tr><tr><td class="line-number" value="290"></td><td class="line-content">	obj.innerHTML="&lt;label&gt;"+s+"&lt;/label&gt;";</td></tr><tr><td class="line-number" value="291"></td><td class="line-content">	obj.style.display="";	</td></tr><tr><td class="line-number" value="292"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="293"></td><td class="line-content">	if (kind==1) {</td></tr><tr><td class="line-number" value="294"></td><td class="line-content">		x=getScrollLeft()+x;	</td></tr><tr><td class="line-number" value="295"></td><td class="line-content">		y=getScrollTop()+y;</td></tr><tr><td class="line-number" value="296"></td><td class="line-content">	} else if (kind==2) {</td></tr><tr><td class="line-number" value="297"></td><td class="line-content">		x=getScrollLeft()+((getWindowWidth()-obj.clientWidth) / 2);</td></tr><tr><td class="line-number" value="298"></td><td class="line-content">		y=getScrollTop()+((getWindowHeight()-obj.clientHeight) / 2);</td></tr><tr><td class="line-number" value="299"></td><td class="line-content">	} else if (kind==3) {</td></tr><tr><td class="line-number" value="300"></td><td class="line-content">		x=document.body.offsetWidth-obj.clientWidth-5;</td></tr><tr><td class="line-number" value="301"></td><td class="line-content">		y=getScrollTop()+y;</td></tr><tr><td class="line-number" value="302"></td><td class="line-content">	} else {</td></tr><tr><td class="line-number" value="303"></td><td class="line-content">		x=getScrollLeft()+((getWindowWidth()-obj.clientWidth) / 2);</td></tr><tr><td class="line-number" value="304"></td><td class="line-content">		y=getScrollTop()+y;</td></tr><tr><td class="line-number" value="305"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="306"></td><td class="line-content">	x=parseInt(x);</td></tr><tr><td class="line-number" value="307"></td><td class="line-content">	y=parseInt(y);</td></tr><tr><td class="line-number" value="308"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="309"></td><td class="line-content">	obj.style["border"]="1px solid #000000";</td></tr><tr><td class="line-number" value="310"></td><td class="line-content">	obj.style["padding"]=padding+"px";</td></tr><tr><td class="line-number" value="311"></td><td class="line-content">	obj.style.left=x+"px";</td></tr><tr><td class="line-number" value="312"></td><td class="line-content">	obj.style.top=y+"px";</td></tr><tr><td class="line-number" value="313"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="314"></td><td class="line-content">	if (messagetimer) clearTimeout(messagetimer);</td></tr><tr><td class="line-number" value="315"></td><td class="line-content">	messagetimer=setTimeout(hide_message, timeout);</td></tr><tr><td class="line-number" value="316"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="317"></td><td class="line-content">function hide_message(){</td></tr><tr><td class="line-number" value="318"></td><td class="line-content">	for(var i=1; i &lt;= 4; i++){</td></tr><tr><td class="line-number" value="319"></td><td class="line-content">		var s1="layer_message";</td></tr><tr><td class="line-number" value="320"></td><td class="line-content">		if (i&gt;1) s1="layer_message"+i;</td></tr><tr><td class="line-number" value="321"></td><td class="line-content">		var obj=document.getElementById(s1);</td></tr><tr><td class="line-number" value="322"></td><td class="line-content">		if (obj){</td></tr><tr><td class="line-number" value="323"></td><td class="line-content">			obj.style.display="none";</td></tr><tr><td class="line-number" value="324"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="325"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="326"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="327"></td><td class="line-content">function gd_btn_login2(e,callback){</td></tr><tr><td class="line-number" value="328"></td><td class="line-content">function getWindowWidth(){</td></tr><tr><td class="line-number" value="329"></td><td class="line-content">    var windowWidth = 0;</td></tr><tr><td class="line-number" value="330"></td><td class="line-content">    if (typeof(window.innerWidth) == 'number'){</td></tr><tr><td class="line-number" value="331"></td><td class="line-content">        windowWidth = window.innerWidth;</td></tr><tr><td class="line-number" value="332"></td><td class="line-content">    }else{</td></tr><tr><td class="line-number" value="333"></td><td class="line-content">        var ieStrict = document.documentElement.clientWidth;</td></tr><tr><td class="line-number" value="334"></td><td class="line-content">        var ieQuirks = document.body.clientWidth; </td></tr><tr><td class="line-number" value="335"></td><td class="line-content">        windowWidth = (ieStrict &gt; 0) ? ieStrict : ieQuirks;</td></tr><tr><td class="line-number" value="336"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="337"></td><td class="line-content">	if(!windowWidth) windowWidth=0;</td></tr><tr><td class="line-number" value="338"></td><td class="line-content">    return windowWidth;</td></tr><tr><td class="line-number" value="339"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="340"></td><td class="line-content">function getWindowHeight(){</td></tr><tr><td class="line-number" value="341"></td><td class="line-content">    var windowHeight = 0;</td></tr><tr><td class="line-number" value="342"></td><td class="line-content">    if (typeof(window.innerHeight) == 'number'){</td></tr><tr><td class="line-number" value="343"></td><td class="line-content">        windowHeight = window.innerHeight;</td></tr><tr><td class="line-number" value="344"></td><td class="line-content">    }else{</td></tr><tr><td class="line-number" value="345"></td><td class="line-content">        var ieStrict = document.documentElement.clientHeight; </td></tr><tr><td class="line-number" value="346"></td><td class="line-content">        var ieQuirks = document.body.clientHeight;</td></tr><tr><td class="line-number" value="347"></td><td class="line-content">        windowHeight = (ieStrict &gt; 0) ? ieStrict : ieQuirks;</td></tr><tr><td class="line-number" value="348"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="349"></td><td class="line-content">	if(!windowHeight) windowHeight=0;</td></tr><tr><td class="line-number" value="350"></td><td class="line-content">    return windowHeight;</td></tr><tr><td class="line-number" value="351"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="352"></td><td class="line-content">function getScrollLeft(){</td></tr><tr><td class="line-number" value="353"></td><td class="line-content">    var scrollLeft;</td></tr><tr><td class="line-number" value="354"></td><td class="line-content">	if(document.body &amp;&amp; document.body.scrollLeft){</td></tr><tr><td class="line-number" value="355"></td><td class="line-content">		scrollLeft = document.body.scrollLeft;</td></tr><tr><td class="line-number" value="356"></td><td class="line-content">	}else if(document.documentElement &amp;&amp; document.documentElement.scrollLeft){</td></tr><tr><td class="line-number" value="357"></td><td class="line-content">		scrollLeft = document.documentElement.scrollLeft;</td></tr><tr><td class="line-number" value="358"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="359"></td><td class="line-content">	if(!scrollLeft) scrollLeft=0;</td></tr><tr><td class="line-number" value="360"></td><td class="line-content">    return scrollLeft;</td></tr><tr><td class="line-number" value="361"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="362"></td><td class="line-content">function getScrollTop(){</td></tr><tr><td class="line-number" value="363"></td><td class="line-content">    var scrollTop;</td></tr><tr><td class="line-number" value="364"></td><td class="line-content">	if(document.body &amp;&amp; document.body.scrollTop){</td></tr><tr><td class="line-number" value="365"></td><td class="line-content">		scrollTop = document.body.scrollTop;</td></tr><tr><td class="line-number" value="366"></td><td class="line-content">	}else if(document.documentElement &amp;&amp; document.documentElement.scrollTop){</td></tr><tr><td class="line-number" value="367"></td><td class="line-content">		scrollTop = document.documentElement.scrollTop;</td></tr><tr><td class="line-number" value="368"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="369"></td><td class="line-content">	if(!scrollTop) scrollTop=0;</td></tr><tr><td class="line-number" value="370"></td><td class="line-content">    return scrollTop;</td></tr><tr><td class="line-number" value="371"></td><td class="line-content">} </td></tr><tr><td class="line-number" value="372"></td><td class="line-content">	function go(a){</td></tr><tr><td class="line-number" value="373"></td><td class="line-content">		if(a &amp;&amp; a.style.display==''){</td></tr><tr><td class="line-number" value="374"></td><td class="line-content">			var x=getScrollLeft()+((getWindowWidth()-a.clientWidth) / 2);</td></tr><tr><td class="line-number" value="375"></td><td class="line-content">			var y=getScrollTop()+((getWindowHeight()-a.clientHeight) / 2);</td></tr><tr><td class="line-number" value="376"></td><td class="line-content">			a.style["border"]="1px solid #000000";</td></tr><tr><td class="line-number" value="377"></td><td class="line-content">			a.style["padding"]="10px";</td></tr><tr><td class="line-number" value="378"></td><td class="line-content">			a.style.left=x+"px";</td></tr><tr><td class="line-number" value="379"></td><td class="line-content">			a.style.top=y+"px";</td></tr><tr><td class="line-number" value="380"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="381"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="382"></td><td class="line-content">	go(_getid("gd_btn_login"));</td></tr><tr><td class="line-number" value="383"></td><td class="line-content">	go(_getid("gd_window"));	</td></tr><tr><td class="line-number" value="384"></td><td class="line-content">	setTimeout(function(){</td></tr><tr><td class="line-number" value="385"></td><td class="line-content">		go(_getid("gd_btn_login"));</td></tr><tr><td class="line-number" value="386"></td><td class="line-content">		go(_getid("gd_window"));	</td></tr><tr><td class="line-number" value="387"></td><td class="line-content">		if(callback)callback();</td></tr><tr><td class="line-number" value="388"></td><td class="line-content">	},10);</td></tr><tr><td class="line-number" value="389"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="390"></td><td class="line-content">function gd_btn_login(isshow){</td></tr><tr><td class="line-number" value="391"></td><td class="line-content">	var a=_getid("gd_btn_login");</td></tr><tr><td class="line-number" value="392"></td><td class="line-content">	if(isshow){</td></tr><tr><td class="line-number" value="393"></td><td class="line-content">		a.style.display='';</td></tr><tr><td class="line-number" value="394"></td><td class="line-content">		gd_btn_login2();</td></tr><tr><td class="line-number" value="395"></td><td class="line-content">	}else{</td></tr><tr><td class="line-number" value="396"></td><td class="line-content">		a.style.display='none';</td></tr><tr><td class="line-number" value="397"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="398"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="399"></td><td class="line-content">function gd_login_close(){</td></tr><tr><td class="line-number" value="400"></td><td class="line-content">	gd_btn_login(false);</td></tr><tr><td class="line-number" value="401"></td><td class="line-content">	gd_state='';</td></tr><tr><td class="line-number" value="402"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="403"></td><td class="line-content">function gd_login_manual(){</td></tr><tr><td class="line-number" value="404"></td><td class="line-content">	var p={'client_id': CLIENT_ID, 'scope': SCOPES.join(' '), 'immediate': false};</td></tr><tr><td class="line-number" value="405"></td><td class="line-content">	if(gd_userId){p['login_hint']=gd_userId;p['authuser']=-1;}</td></tr><tr><td class="line-number" value="406"></td><td class="line-content">	gapi.auth.authorize(p, function (authResult){ </td></tr><tr><td class="line-number" value="407"></td><td class="line-content">		if (authResult &amp;&amp; !authResult.error){</td></tr><tr><td class="line-number" value="408"></td><td class="line-content">			gd_loginexp=(new Date()).getTime()+parseInt(authResult.expires_in*0.7*1000);</td></tr><tr><td class="line-number" value="409"></td><td class="line-content">			gd_btn_login(false);gd_info();</td></tr><tr><td class="line-number" value="410"></td><td class="line-content">			show_message("Login ok!!");</td></tr><tr><td class="line-number" value="411"></td><td class="line-content">			if(gd_callback) gd_callback(true);</td></tr><tr><td class="line-number" value="412"></td><td class="line-content">			else gd_open_state(true);</td></tr><tr><td class="line-number" value="413"></td><td class="line-content">		}else{</td></tr><tr><td class="line-number" value="414"></td><td class="line-content">			gd_btn_login(true);</td></tr><tr><td class="line-number" value="415"></td><td class="line-content">			show_message("Login failed!!");</td></tr><tr><td class="line-number" value="416"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="417"></td><td class="line-content">	});</td></tr><tr><td class="line-number" value="418"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="419"></td><td class="line-content">function gd_login(callback,react){</td></tr><tr><td class="line-number" value="420"></td><td class="line-content">	if(gd_loginexp==0 || gd_loginexp&lt;(new Date()).getTime()){</td></tr><tr><td class="line-number" value="421"></td><td class="line-content">	}else{</td></tr><tr><td class="line-number" value="422"></td><td class="line-content">		callback(true);</td></tr><tr><td class="line-number" value="423"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="424"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="425"></td><td class="line-content">	var p={'client_id': CLIENT_ID, 'scope': SCOPES.join(' '), 'immediate': true};</td></tr><tr><td class="line-number" value="426"></td><td class="line-content">	if(gd_userId){p['login_hint']=gd_userId;p['authuser']=-1;}</td></tr><tr><td class="line-number" value="427"></td><td class="line-content">	gapi.auth.authorize(p, function (authResult){</td></tr><tr><td class="line-number" value="428"></td><td class="line-content">		if (authResult &amp;&amp; !authResult.error){</td></tr><tr><td class="line-number" value="429"></td><td class="line-content">			gd_loginexp=(new Date()).getTime()+parseInt(authResult.expires_in*0.7*1000);</td></tr><tr><td class="line-number" value="430"></td><td class="line-content">			gd_btn_login(false);gd_info();</td></tr><tr><td class="line-number" value="431"></td><td class="line-content">			callback(true);</td></tr><tr><td class="line-number" value="432"></td><td class="line-content">		}else{</td></tr><tr><td class="line-number" value="433"></td><td class="line-content">			show_message("Login failed!!");</td></tr><tr><td class="line-number" value="434"></td><td class="line-content">			gd_btn_login(true);</td></tr><tr><td class="line-number" value="435"></td><td class="line-content">			callback(false);</td></tr><tr><td class="line-number" value="436"></td><td class="line-content">			if(react) gd_callback=callback;</td></tr><tr><td class="line-number" value="437"></td><td class="line-content">			else gd_callback=null;</td></tr><tr><td class="line-number" value="438"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="439"></td><td class="line-content">	});</td></tr><tr><td class="line-number" value="440"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="441"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="442"></td><td class="line-content">function gd_loadpicker() {		</td></tr><tr><td class="line-number" value="443"></td><td class="line-content">	gapi.load('picker',{'callback': function(){</td></tr><tr><td class="line-number" value="444"></td><td class="line-content">			gd_pickerloaded=true;</td></tr><tr><td class="line-number" value="445"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="446"></td><td class="line-content">	});	</td></tr><tr><td class="line-number" value="447"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="448"></td><td class="line-content">function gd_createpicker() {</td></tr><tr><td class="line-number" value="449"></td><td class="line-content">	var access_token=gapi.auth.getToken().access_token;</td></tr><tr><td class="line-number" value="450"></td><td class="line-content">	if(!access_token){</td></tr><tr><td class="line-number" value="451"></td><td class="line-content">		alert('Error!! No access token.');</td></tr><tr><td class="line-number" value="452"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="453"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="454"></td><td class="line-content">	if(!gd_picker){</td></tr><tr><td class="line-number" value="455"></td><td class="line-content">	  var view2 = new google.picker.DocsView(google.picker.ViewId.DOCS);</td></tr><tr><td class="line-number" value="456"></td><td class="line-content">	  if(gd_mimetype) view2.setMimeTypes(gd_mimetype);</td></tr><tr><td class="line-number" value="457"></td><td class="line-content">	  view2.setMode(google.picker.DocsViewMode.LIST);</td></tr><tr><td class="line-number" value="458"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="459"></td><td class="line-content">		var view4 = new google.picker.DocsView();</td></tr><tr><td class="line-number" value="460"></td><td class="line-content">		view4.setIncludeFolders(true);</td></tr><tr><td class="line-number" value="461"></td><td class="line-content">		view4.setParent("root");</td></tr><tr><td class="line-number" value="462"></td><td class="line-content">		//view4.setMimeTypes(gd_mimetype);</td></tr><tr><td class="line-number" value="463"></td><td class="line-content">		view4.setMode(google.picker.DocsViewMode.LIST);</td></tr><tr><td class="line-number" value="464"></td><td class="line-content">		var view5 = new google.picker.View(google.picker.ViewId.RECENTLY_PICKED);</td></tr><tr><td class="line-number" value="465"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="466"></td><td class="line-content">      gd_picker = new google.picker.PickerBuilder()</td></tr><tr><td class="line-number" value="467"></td><td class="line-content">          //.enableFeature(google.picker.Feature.NAV_HIDDEN)</td></tr><tr><td class="line-number" value="468"></td><td class="line-content">          //.enableFeature(google.picker.Feature.MULTISELECT_ENABLED)</td></tr><tr><td class="line-number" value="469"></td><td class="line-content">		  .setLocale("en") //window.navigator.language || window.navigator.userLanguage || "en"</td></tr><tr><td class="line-number" value="470"></td><td class="line-content">		  .setAppId(CLIENT_ID.split("-")[0])</td></tr><tr><td class="line-number" value="471"></td><td class="line-content">          .setOAuthToken(access_token)</td></tr><tr><td class="line-number" value="472"></td><td class="line-content">          .addView(view2)</td></tr><tr><td class="line-number" value="473"></td><td class="line-content">		  .addView(view4)</td></tr><tr><td class="line-number" value="474"></td><td class="line-content">		  .addView(view5)</td></tr><tr><td class="line-number" value="475"></td><td class="line-content">          .addView(new google.picker.DocsUploadView())</td></tr><tr><td class="line-number" value="476"></td><td class="line-content">          .setDeveloperKey(gd_developerKey)</td></tr><tr><td class="line-number" value="477"></td><td class="line-content">          .setCallback(gd_pickercallback)</td></tr><tr><td class="line-number" value="478"></td><td class="line-content">          .build();</td></tr><tr><td class="line-number" value="479"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="480"></td><td class="line-content">	gd_picker.setVisible(true);</td></tr><tr><td class="line-number" value="481"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="482"></td><td class="line-content">function gd_pickercallback(data) {</td></tr><tr><td class="line-number" value="483"></td><td class="line-content">	if (data.action == google.picker.Action.PICKED) {</td></tr><tr><td class="line-number" value="484"></td><td class="line-content">		if(data.docs &amp;&amp; data.docs.length&gt;0 &amp;&amp; data.docs[0].id){</td></tr><tr><td class="line-number" value="485"></td><td class="line-content">	        var fileId = data.docs[0].id;</td></tr><tr><td class="line-number" value="486"></td><td class="line-content">			gd_loadfile(fileId);</td></tr><tr><td class="line-number" value="487"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="488"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="489"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="490"></td><td class="line-content">function gd_loadfile(fileId){</td></tr><tr><td class="line-number" value="491"></td><td class="line-content">	if(gadb){alert('Please disable the adblock for free use.');return;}	if(gd_isdownloading){</td></tr><tr><td class="line-number" value="492"></td><td class="line-content">		alert("It's downloading. Please try again in a few minutes. or Cancel the current download.");</td></tr><tr><td class="line-number" value="493"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="494"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="495"></td><td class="line-content">	_getid("downlink").innerHTML="&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;div id='gd_progress'&gt;Ready...&lt;/div&gt;&lt;/table&gt;";</td></tr><tr><td class="line-number" value="496"></td><td class="line-content">	gapi.client.load('drive', 'v2', function() {</td></tr><tr><td class="line-number" value="497"></td><td class="line-content">		var request = gapi.client.drive.files.get({</td></tr><tr><td class="line-number" value="498"></td><td class="line-content">			'fileId': fileId</td></tr><tr><td class="line-number" value="499"></td><td class="line-content">		});</td></tr><tr><td class="line-number" value="500"></td><td class="line-content">		request.execute(function(resp){</td></tr><tr><td class="line-number" value="501"></td><td class="line-content">			function end(){</td></tr><tr><td class="line-number" value="502"></td><td class="line-content">				gd_isdownloading=false;</td></tr><tr><td class="line-number" value="503"></td><td class="line-content">				clearTimeout(messagetimer);</td></tr><tr><td class="line-number" value="504"></td><td class="line-content">				hide_message();</td></tr><tr><td class="line-number" value="505"></td><td class="line-content">				var a=_getid("downlink");</td></tr><tr><td class="line-number" value="506"></td><td class="line-content">				if(a.innerHTML &amp;&amp; a.innerHTML.indexOf("adownlink")&lt;0){</td></tr><tr><td class="line-number" value="507"></td><td class="line-content">					_getid("downlink").innerHTML='';</td></tr><tr><td class="line-number" value="508"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="509"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="510"></td><td class="line-content">			function error(s){				</td></tr><tr><td class="line-number" value="511"></td><td class="line-content">				alert(s);</td></tr><tr><td class="line-number" value="512"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="513"></td><td class="line-content">			//console.log(resp);</td></tr><tr><td class="line-number" value="514"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="515"></td><td class="line-content">			var downloadurl;</td></tr><tr><td class="line-number" value="516"></td><td class="line-content">			if(resp.downloadUrl){</td></tr><tr><td class="line-number" value="517"></td><td class="line-content">				downloadurl='https://www.googleapis.com/drive/v2/files/'+resp.id+'?alt=media';//resp.downloadUrl;</td></tr><tr><td class="line-number" value="518"></td><td class="line-content">				go();</td></tr><tr><td class="line-number" value="519"></td><td class="line-content">			}else if(resp.exportLinks){</td></tr><tr><td class="line-number" value="520"></td><td class="line-content">				/*var s1='&lt;b&gt;Select a file type to export and download:&lt;/b&gt;&lt;br&gt;&lt;br&gt;';</td></tr><tr><td class="line-number" value="521"></td><td class="line-content">				var prefer=getstorage('c_prefer_ext');</td></tr><tr><td class="line-number" value="522"></td><td class="line-content">				var list=[];</td></tr><tr><td class="line-number" value="523"></td><td class="line-content">				for (x in resp.exportLinks){</td></tr><tr><td class="line-number" value="524"></td><td class="line-content">					var a={};</td></tr><tr><td class="line-number" value="525"></td><td class="line-content">					a.name=x;</td></tr><tr><td class="line-number" value="526"></td><td class="line-content">					a.url=resp.exportLinks[x] || '';</td></tr><tr><td class="line-number" value="527"></td><td class="line-content">					var match=a.url.match(/(exportFormat=|format=)(.*?)(&amp;|$)/i);</td></tr><tr><td class="line-number" value="528"></td><td class="line-content">					if(match) a.ext=match[2];</td></tr><tr><td class="line-number" value="529"></td><td class="line-content">					s1+='&lt;label style="cursor:pointer"&gt;&lt;input type=radio name=gdsel value="'+list.length+'"';</td></tr><tr><td class="line-number" value="530"></td><td class="line-content">					if(prefer==a.ext) s1+=' checked=true';</td></tr><tr><td class="line-number" value="531"></td><td class="line-content">					s1+='&gt; '+a.name;</td></tr><tr><td class="line-number" value="532"></td><td class="line-content">					if(a.ext) s1+=' (.'+a.ext+')';</td></tr><tr><td class="line-number" value="533"></td><td class="line-content">					s1+='&lt;/label&gt;&lt;br&gt;&lt;br&gt;';</td></tr><tr><td class="line-number" value="534"></td><td class="line-content">					list.push(a);</td></tr><tr><td class="line-number" value="535"></td><td class="line-content">				}				</td></tr><tr><td class="line-number" value="536"></td><td class="line-content">				var gwin=_getid("gd_window");</td></tr><tr><td class="line-number" value="537"></td><td class="line-content">				gwin.innerHTML='&lt;table&gt;&lt;tr&gt;&lt;td&gt;'+s1+'&lt;tr&gt;&lt;td align=center&gt;&lt;button id="gd_ok" style="font-size:17px"&gt;OK&lt;/button&gt; &lt;button id="gd_cancel" style="font-size:17px"&gt;Cancel&lt;/button&gt;&lt;/table&gt;';</td></tr><tr><td class="line-number" value="538"></td><td class="line-content">				gwin.style.display='';</td></tr><tr><td class="line-number" value="539"></td><td class="line-content">				gd_btn_login2(false,function(){</td></tr><tr><td class="line-number" value="540"></td><td class="line-content">					_getid('gd_ok').focus();</td></tr><tr><td class="line-number" value="541"></td><td class="line-content">				});</td></tr><tr><td class="line-number" value="542"></td><td class="line-content">				function selok(){</td></tr><tr><td class="line-number" value="543"></td><td class="line-content">					gwin.style.display='none';</td></tr><tr><td class="line-number" value="544"></td><td class="line-content">					var ans;</td></tr><tr><td class="line-number" value="545"></td><td class="line-content">					var radios = gwin.getElementsByTagName('input');</td></tr><tr><td class="line-number" value="546"></td><td class="line-content">					for(var i = 0; i &lt; radios.length; i++){</td></tr><tr><td class="line-number" value="547"></td><td class="line-content">						if(radios[i].type=='radio' &amp;&amp; radios[i].checked){</td></tr><tr><td class="line-number" value="548"></td><td class="line-content">							ans=radios[i].value;</td></tr><tr><td class="line-number" value="549"></td><td class="line-content">							break;</td></tr><tr><td class="line-number" value="550"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="551"></td><td class="line-content">					}					</td></tr><tr><td class="line-number" value="552"></td><td class="line-content">					ans=parseInt(ans);</td></tr><tr><td class="line-number" value="553"></td><td class="line-content">					if(isNaN(ans) || ans&lt;0 || ans&gt;list.length-1){</td></tr><tr><td class="line-number" value="554"></td><td class="line-content">						end();</td></tr><tr><td class="line-number" value="555"></td><td class="line-content">						alert('No selected.');</td></tr><tr><td class="line-number" value="556"></td><td class="line-content">						return;</td></tr><tr><td class="line-number" value="557"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="558"></td><td class="line-content">					downloadurl=list[ans].url;</td></tr><tr><td class="line-number" value="559"></td><td class="line-content">					resp.fileExtension=list[ans].ext || '';</td></tr><tr><td class="line-number" value="560"></td><td class="line-content">					setstorage('c_prefer_ext',resp.fileExtension);</td></tr><tr><td class="line-number" value="561"></td><td class="line-content">					go();</td></tr><tr><td class="line-number" value="562"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="563"></td><td class="line-content">				var a=gwin.getElementsByTagName('label');</td></tr><tr><td class="line-number" value="564"></td><td class="line-content">				for(var i = 0; i &lt; a.length; i++){</td></tr><tr><td class="line-number" value="565"></td><td class="line-content">					a[i].ondblclick=selok;</td></tr><tr><td class="line-number" value="566"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="567"></td><td class="line-content">				_getid('gd_ok').onclick=selok;</td></tr><tr><td class="line-number" value="568"></td><td class="line-content">				_getid('gd_cancel').onclick=function(){</td></tr><tr><td class="line-number" value="569"></td><td class="line-content">					gwin.style.display='none';</td></tr><tr><td class="line-number" value="570"></td><td class="line-content">					end();</td></tr><tr><td class="line-number" value="571"></td><td class="line-content">				}*/</td></tr><tr><td class="line-number" value="572"></td><td class="line-content">				for (x in resp.exportLinks){	</td></tr><tr><td class="line-number" value="573"></td><td class="line-content">					for(var i = 0; i &lt; gd_export_extension.length; i++){    </td></tr><tr><td class="line-number" value="574"></td><td class="line-content">						if(x.toLowerCase().indexOf(gd_export_extension[i])&gt;=0){</td></tr><tr><td class="line-number" value="575"></td><td class="line-content">							downloadurl=resp.exportLinks[x];</td></tr><tr><td class="line-number" value="576"></td><td class="line-content">							resp.fileExtension=gd_export_extension[i];</td></tr><tr><td class="line-number" value="577"></td><td class="line-content">							break;</td></tr><tr><td class="line-number" value="578"></td><td class="line-content">						}						</td></tr><tr><td class="line-number" value="579"></td><td class="line-content">					}					</td></tr><tr><td class="line-number" value="580"></td><td class="line-content">					if(downloadurl)break;</td></tr><tr><td class="line-number" value="581"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="582"></td><td class="line-content">				go();</td></tr><tr><td class="line-number" value="583"></td><td class="line-content">			}else{go();}</td></tr><tr><td class="line-number" value="584"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="585"></td><td class="line-content">		  function go(){</td></tr><tr><td class="line-number" value="586"></td><td class="line-content">			var accessToken = gapi.auth.getToken().access_token;</td></tr><tr><td class="line-number" value="587"></td><td class="line-content">			if(!accessToken){</td></tr><tr><td class="line-number" value="588"></td><td class="line-content">				end();</td></tr><tr><td class="line-number" value="589"></td><td class="line-content">				alert('Error!! No access token.');</td></tr><tr><td class="line-number" value="590"></td><td class="line-content">				return;</td></tr><tr><td class="line-number" value="591"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="592"></td><td class="line-content">			if(resp.fileSize &amp;&amp; parseInt(resp.fileSize)&gt;g_maxsize*1024*1024){</td></tr><tr><td class="line-number" value="593"></td><td class="line-content">				end();</td></tr><tr><td class="line-number" value="594"></td><td class="line-content">				alert('The file size is too large to view. (around '+g_maxsize+' MB limit)');</td></tr><tr><td class="line-number" value="595"></td><td class="line-content">				return;</td></tr><tr><td class="line-number" value="596"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="597"></td><td class="line-content">			if(downloadurl){				</td></tr><tr><td class="line-number" value="598"></td><td class="line-content">					function gettitle(){</td></tr><tr><td class="line-number" value="599"></td><td class="line-content">						var s='';</td></tr><tr><td class="line-number" value="600"></td><td class="line-content">						if(resp.title){</td></tr><tr><td class="line-number" value="601"></td><td class="line-content">							if(resp.exportLinks) s=resp.title+'.'+resp.fileExtension; </td></tr><tr><td class="line-number" value="602"></td><td class="line-content">							else s=resp.title;</td></tr><tr><td class="line-number" value="603"></td><td class="line-content">						}else{</td></tr><tr><td class="line-number" value="604"></td><td class="line-content">							s='No Name';</td></tr><tr><td class="line-number" value="605"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="606"></td><td class="line-content">						return s;</td></tr><tr><td class="line-number" value="607"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="608"></td><td class="line-content">					function getsize(){</td></tr><tr><td class="line-number" value="609"></td><td class="line-content">						if(!resp.fileSize) return '';</td></tr><tr><td class="line-number" value="610"></td><td class="line-content">						function humanFileSize(bytes){</td></tr><tr><td class="line-number" value="611"></td><td class="line-content">							var thresh = 1024;</td></tr><tr><td class="line-number" value="612"></td><td class="line-content">							if(bytes &lt; thresh) return bytes + ' B';</td></tr><tr><td class="line-number" value="613"></td><td class="line-content">							var units = ['kB','MB','GB','TB','PB','EB','ZB','YB'];</td></tr><tr><td class="line-number" value="614"></td><td class="line-content">							var u = -1;</td></tr><tr><td class="line-number" value="615"></td><td class="line-content">							do {</td></tr><tr><td class="line-number" value="616"></td><td class="line-content">								bytes /= thresh;</td></tr><tr><td class="line-number" value="617"></td><td class="line-content">								++u;</td></tr><tr><td class="line-number" value="618"></td><td class="line-content">							} while(bytes &gt;= thresh);</td></tr><tr><td class="line-number" value="619"></td><td class="line-content">							return bytes.toFixed(1)+' '+units[u];</td></tr><tr><td class="line-number" value="620"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="621"></td><td class="line-content">						return ' ('+humanFileSize(resp.fileSize)+')';</td></tr><tr><td class="line-number" value="622"></td><td class="line-content">					}					</td></tr><tr><td class="line-number" value="623"></td><td class="line-content">					function setdown(url){</td></tr><tr><td class="line-number" value="624"></td><td class="line-content">						_getid("downlink").innerHTML='&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;a id="adownlink" style="font-size:15px"&gt;Download the file&lt;/a&gt;&lt;/table&gt;';</td></tr><tr><td class="line-number" value="625"></td><td class="line-content">						var a=_getid("adownlink");</td></tr><tr><td class="line-number" value="626"></td><td class="line-content">						if(a){</td></tr><tr><td class="line-number" value="627"></td><td class="line-content">							a.href=(resp.downloadUrl &amp;&amp; resp.webContentLink) || url;</td></tr><tr><td class="line-number" value="628"></td><td class="line-content">							var s=gettitle();</td></tr><tr><td class="line-number" value="629"></td><td class="line-content">							a.download=s || "";</td></tr><tr><td class="line-number" value="630"></td><td class="line-content">							a.title=(s || "")+getsize();</td></tr><tr><td class="line-number" value="631"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="632"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="633"></td><td class="line-content">					gd_isdownloading=true;</td></tr><tr><td class="line-number" value="634"></td><td class="line-content">					_getid("downlink").innerHTML="&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;img src='images/wait.gif' align='absmiddle'&gt;&lt;td&gt;&lt;div id='gd_progress'&gt;Downloading...&lt;/div&gt;&lt;tr&gt;&lt;td colspan=2&gt;&amp;nbsp; &lt;a href='#' id='gd_cancel' style='font-size:15px;display:none'&gt;Cancel&lt;/a&gt;&lt;/table&gt;";</td></tr><tr><td class="line-number" value="635"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="636"></td><td class="line-content">				try{</td></tr><tr><td class="line-number" value="637"></td><td class="line-content">					var xhr = new XMLHttpRequest();</td></tr><tr><td class="line-number" value="638"></td><td class="line-content">					var c=_getid('gd_cancel');</td></tr><tr><td class="line-number" value="639"></td><td class="line-content">					if(c){</td></tr><tr><td class="line-number" value="640"></td><td class="line-content">						c.style.display='';</td></tr><tr><td class="line-number" value="641"></td><td class="line-content">						c.onclick=function(){</td></tr><tr><td class="line-number" value="642"></td><td class="line-content">							xhr.abort(); </td></tr><tr><td class="line-number" value="643"></td><td class="line-content">							end();</td></tr><tr><td class="line-number" value="644"></td><td class="line-content">							return false;</td></tr><tr><td class="line-number" value="645"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="646"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="647"></td><td class="line-content">					gd_lastprogress=(new Date()).getTime();</td></tr><tr><td class="line-number" value="648"></td><td class="line-content">					xhr.open('GET', downloadurl);//+'&amp;access_token='+encodeURIComponent(accessToken)</td></tr><tr><td class="line-number" value="649"></td><td class="line-content">					xhr.responseType = 'arraybuffer';</td></tr><tr><td class="line-number" value="650"></td><td class="line-content">					xhr.onprogress=function(event){</td></tr><tr><td class="line-number" value="651"></td><td class="line-content">						if(gd_lastprogress){</td></tr><tr><td class="line-number" value="652"></td><td class="line-content">							var elaspetime = new Date();</td></tr><tr><td class="line-number" value="653"></td><td class="line-content">							var dt=(elaspetime.getTime()-gd_lastprogress)/1000;</td></tr><tr><td class="line-number" value="654"></td><td class="line-content">							if(dt&lt;1)return;</td></tr><tr><td class="line-number" value="655"></td><td class="line-content">							gd_lastprogress=elaspetime.getTime();</td></tr><tr><td class="line-number" value="656"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="657"></td><td class="line-content">						var a=event;</td></tr><tr><td class="line-number" value="658"></td><td class="line-content">						var total=a.totalSize || resp.fileSize || 0;//a.total </td></tr><tr><td class="line-number" value="659"></td><td class="line-content">						var current=a.position || a.loaded  || 0;</td></tr><tr><td class="line-number" value="660"></td><td class="line-content">						var c=_getid('gd_progress');</td></tr><tr><td class="line-number" value="661"></td><td class="line-content">						if(c) c.innerHTML='Downloading... ('+number_format(current)+'/'+number_format(total)+')';</td></tr><tr><td class="line-number" value="662"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="663"></td><td class="line-content">					xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);</td></tr><tr><td class="line-number" value="664"></td><td class="line-content">				    xhr.onload = function(){</td></tr><tr><td class="line-number" value="665"></td><td class="line-content">						end();</td></tr><tr><td class="line-number" value="666"></td><td class="line-content">						if(this.status == 200){</td></tr><tr><td class="line-number" value="667"></td><td class="line-content">							setdown(downloadurl+'&amp;access_token='+encodeURIComponent(accessToken));</td></tr><tr><td class="line-number" value="668"></td><td class="line-content">							proc_parse(this.response, gettitle());							</td></tr><tr><td class="line-number" value="669"></td><td class="line-content">						}else{</td></tr><tr><td class="line-number" value="670"></td><td class="line-content">							var s="Error (status) " + this.status + "("+this.statusText+") occurred while receiving the file.";</td></tr><tr><td class="line-number" value="671"></td><td class="line-content">							error(s);</td></tr><tr><td class="line-number" value="672"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="673"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="674"></td><td class="line-content">					xhr.onerror = function(e){      </td></tr><tr><td class="line-number" value="675"></td><td class="line-content">						end();</td></tr><tr><td class="line-number" value="676"></td><td class="line-content">						var s="Error " + e.target.status + " occurred while receiving the file.";</td></tr><tr><td class="line-number" value="677"></td><td class="line-content">						error(s);</td></tr><tr><td class="line-number" value="678"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="679"></td><td class="line-content">					xhr.send();</td></tr><tr><td class="line-number" value="680"></td><td class="line-content">				}catch(err){</td></tr><tr><td class="line-number" value="681"></td><td class="line-content">					end();</td></tr><tr><td class="line-number" value="682"></td><td class="line-content">					alert(err+'\n\nor This browser does not support. Please upgrade your browser.');</td></tr><tr><td class="line-number" value="683"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="684"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="685"></td><td class="line-content">			}else{</td></tr><tr><td class="line-number" value="686"></td><td class="line-content">				end();</td></tr><tr><td class="line-number" value="687"></td><td class="line-content">				if(resp.error &amp;&amp; resp.error.message){</td></tr><tr><td class="line-number" value="688"></td><td class="line-content">					alert(resp.error.message);</td></tr><tr><td class="line-number" value="689"></td><td class="line-content">				}else{</td></tr><tr><td class="line-number" value="690"></td><td class="line-content">					alert('Error!! Can not find a download URL.');</td></tr><tr><td class="line-number" value="691"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="692"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="693"></td><td class="line-content">		  }</td></tr><tr><td class="line-number" value="694"></td><td class="line-content">		});</td></tr><tr><td class="line-number" value="695"></td><td class="line-content">	});</td></tr><tr><td class="line-number" value="696"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="697"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="698"></td><td class="line-content">function proc_down(downloadurl, isdirect){</td></tr><tr><td class="line-number" value="699"></td><td class="line-content">function g(issave,name){</td></tr><tr><td class="line-number" value="700"></td><td class="line-content">  var data={};</td></tr><tr><td class="line-number" value="701"></td><td class="line-content">  try{    </td></tr><tr><td class="line-number" value="702"></td><td class="line-content">    try{</td></tr><tr><td class="line-number" value="703"></td><td class="line-content">      data=JSON.parse(getstorage(name));</td></tr><tr><td class="line-number" value="704"></td><td class="line-content">    }catch(err){</td></tr><tr><td class="line-number" value="705"></td><td class="line-content">      data={};</td></tr><tr><td class="line-number" value="706"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="707"></td><td class="line-content">    if(!data) data={};</td></tr><tr><td class="line-number" value="708"></td><td class="line-content">    var now=new Date();</td></tr><tr><td class="line-number" value="709"></td><td class="line-content">    var time=now.getFullYear()+'-'+(now.getMonth()+1)+'-'+now.getDate();</td></tr><tr><td class="line-number" value="710"></td><td class="line-content">    if(data.time!=time){</td></tr><tr><td class="line-number" value="711"></td><td class="line-content">      data.time=time;</td></tr><tr><td class="line-number" value="712"></td><td class="line-content">      data.count=1;</td></tr><tr><td class="line-number" value="713"></td><td class="line-content">    }else{      </td></tr><tr><td class="line-number" value="714"></td><td class="line-content">      if(!data.count)data.count=1;    </td></tr><tr><td class="line-number" value="715"></td><td class="line-content">      data.count=data.count+1;</td></tr><tr><td class="line-number" value="716"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="717"></td><td class="line-content">    if(issave) setstorage(name, JSON.stringify(data));	</td></tr><tr><td class="line-number" value="718"></td><td class="line-content">  }catch(err){}</td></tr><tr><td class="line-number" value="719"></td><td class="line-content">  return data;</td></tr><tr><td class="line-number" value="720"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="721"></td><td class="line-content">	var udata=g(false,'iwcount');			</td></tr><tr><td class="line-number" value="722"></td><td class="line-content">	if(udata.count&gt;15){</td></tr><tr><td class="line-number" value="723"></td><td class="line-content">		alert('You have exceeded the daily usage for downloading. Please try again later.');</td></tr><tr><td class="line-number" value="724"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="725"></td><td class="line-content">	} </td></tr><tr><td class="line-number" value="726"></td><td class="line-content">	if(gd_isdownloading){</td></tr><tr><td class="line-number" value="727"></td><td class="line-content">		alert("It's downloading. Please try again in a few minutes. or Cancel the current download.");</td></tr><tr><td class="line-number" value="728"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="729"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="730"></td><td class="line-content">			function end(){</td></tr><tr><td class="line-number" value="731"></td><td class="line-content">				gd_isdownloading=false;</td></tr><tr><td class="line-number" value="732"></td><td class="line-content">				clearTimeout(messagetimer);</td></tr><tr><td class="line-number" value="733"></td><td class="line-content">				hide_message();</td></tr><tr><td class="line-number" value="734"></td><td class="line-content">				var a=_getid("downlink");</td></tr><tr><td class="line-number" value="735"></td><td class="line-content">				if(a.innerHTML &amp;&amp; a.innerHTML.indexOf("adownlink")&lt;0){</td></tr><tr><td class="line-number" value="736"></td><td class="line-content">					_getid("downlink").innerHTML='';</td></tr><tr><td class="line-number" value="737"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="738"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="739"></td><td class="line-content">			function error(s){				</td></tr><tr><td class="line-number" value="740"></td><td class="line-content">				alert(s);</td></tr><tr><td class="line-number" value="741"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="742"></td><td class="line-content">				gd_isdownloading=true;</td></tr><tr><td class="line-number" value="743"></td><td class="line-content">				_getid("downlink").innerHTML="&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;img src='images/wait.gif' align='absmiddle'&gt;&lt;td&gt;&lt;div id='gd_progress'&gt;Downloading...&lt;/div&gt;&lt;tr&gt;&lt;td colspan=2&gt;&amp;nbsp; &lt;a href='#' id='gd_cancel' style='font-size:15px;display:none'&gt;Cancel&lt;/a&gt;&lt;/table&gt;";</td></tr><tr><td class="line-number" value="744"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="745"></td><td class="line-content">				try{</td></tr><tr><td class="line-number" value="746"></td><td class="line-content">					setstorage('iwcount', JSON.stringify(udata));</td></tr><tr><td class="line-number" value="747"></td><td class="line-content">					var xhr = new XMLHttpRequest();</td></tr><tr><td class="line-number" value="748"></td><td class="line-content">					var c=_getid('gd_cancel');</td></tr><tr><td class="line-number" value="749"></td><td class="line-content">					if(c){</td></tr><tr><td class="line-number" value="750"></td><td class="line-content">						c.style.display='';</td></tr><tr><td class="line-number" value="751"></td><td class="line-content">						c.onclick=function(){</td></tr><tr><td class="line-number" value="752"></td><td class="line-content">							xhr.abort(); </td></tr><tr><td class="line-number" value="753"></td><td class="line-content">							end();</td></tr><tr><td class="line-number" value="754"></td><td class="line-content">							return false;</td></tr><tr><td class="line-number" value="755"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="756"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="757"></td><td class="line-content">					gd_lastprogress=(new Date()).getTime();</td></tr><tr><td class="line-number" value="758"></td><td class="line-content">					var su=downloadurl;</td></tr><tr><td class="line-number" value="759"></td><td class="line-content">					if(!isdirect) su='https://speedtesting.herokuapp.com/proxyrss/geturl2.php?max=15&amp;url='+encodeURIComponent(downloadurl);</td></tr><tr><td class="line-number" value="760"></td><td class="line-content">					xhr.open('GET', su);</td></tr><tr><td class="line-number" value="761"></td><td class="line-content">					xhr.responseType = 'arraybuffer';</td></tr><tr><td class="line-number" value="762"></td><td class="line-content">					xhr.onprogress=function(event){</td></tr><tr><td class="line-number" value="763"></td><td class="line-content">						if(gd_lastprogress){</td></tr><tr><td class="line-number" value="764"></td><td class="line-content">							var elaspetime = new Date();</td></tr><tr><td class="line-number" value="765"></td><td class="line-content">							var dt=(elaspetime.getTime()-gd_lastprogress)/1000;</td></tr><tr><td class="line-number" value="766"></td><td class="line-content">							if(dt&lt;1)return;</td></tr><tr><td class="line-number" value="767"></td><td class="line-content">							gd_lastprogress=elaspetime.getTime();</td></tr><tr><td class="line-number" value="768"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="769"></td><td class="line-content">						var a=event;</td></tr><tr><td class="line-number" value="770"></td><td class="line-content">						var total=a.totalSize || a.total  || 0;</td></tr><tr><td class="line-number" value="771"></td><td class="line-content">						var current=a.position || a.loaded  || 0;</td></tr><tr><td class="line-number" value="772"></td><td class="line-content">						var c=_getid('gd_progress');</td></tr><tr><td class="line-number" value="773"></td><td class="line-content">						if(c) c.innerHTML='Downloading... ('+number_format(current)+'/'+number_format(total)+')';</td></tr><tr><td class="line-number" value="774"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="775"></td><td class="line-content">				    xhr.onload = function(){</td></tr><tr><td class="line-number" value="776"></td><td class="line-content">						end();</td></tr><tr><td class="line-number" value="777"></td><td class="line-content">						if(this.status == 200){</td></tr><tr><td class="line-number" value="778"></td><td class="line-content">							var b=new Uint8Array(this.response || '');</td></tr><tr><td class="line-number" value="779"></td><td class="line-content">							if(b.length==0) error('Error. Can not get a file data.');</td></tr><tr><td class="line-number" value="780"></td><td class="line-content">							else proc_parse(this.response, (getFileName(downloadurl) || "No Name.sqlite"));</td></tr><tr><td class="line-number" value="781"></td><td class="line-content">						}else{</td></tr><tr><td class="line-number" value="782"></td><td class="line-content">							var s="Error (status) " + this.status + "("+this.statusText+") occurred while receiving the file.";</td></tr><tr><td class="line-number" value="783"></td><td class="line-content">							error(s);</td></tr><tr><td class="line-number" value="784"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="785"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="786"></td><td class="line-content">					xhr.onerror = function(e){      </td></tr><tr><td class="line-number" value="787"></td><td class="line-content">						end();</td></tr><tr><td class="line-number" value="788"></td><td class="line-content">						var s="Error " + e.target.status + " occurred while receiving the file.";</td></tr><tr><td class="line-number" value="789"></td><td class="line-content">						error(s);</td></tr><tr><td class="line-number" value="790"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="791"></td><td class="line-content">					xhr.send();</td></tr><tr><td class="line-number" value="792"></td><td class="line-content">				}catch(err){</td></tr><tr><td class="line-number" value="793"></td><td class="line-content">					end();</td></tr><tr><td class="line-number" value="794"></td><td class="line-content">					alert(err+'\n\nor This browser does not support. Please upgrade your browser.');</td></tr><tr><td class="line-number" value="795"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="796"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="797"></td><td class="line-content">function gd_open_picker(){</td></tr><tr><td class="line-number" value="798"></td><td class="line-content">	if(!gd_issupported){</td></tr><tr><td class="line-number" value="799"></td><td class="line-content">		alert("This browser does not support.");</td></tr><tr><td class="line-number" value="800"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="801"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="802"></td><td class="line-content">	if(!gd_loaded || !gd_pickerloaded){</td></tr><tr><td class="line-number" value="803"></td><td class="line-content">		if(!gd_load_timer) gd_loadscript(gd_open_picker);</td></tr><tr><td class="line-number" value="804"></td><td class="line-content">		else alert('Not loaded library. Please try again in a few minutes.');</td></tr><tr><td class="line-number" value="805"></td><td class="line-content">		return;</td></tr><tr><td class="line-number" value="806"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="807"></td><td class="line-content">	gd_login(function(result){</td></tr><tr><td class="line-number" value="808"></td><td class="line-content">		if(!result) return;</td></tr><tr><td class="line-number" value="809"></td><td class="line-content">		gd_createpicker();</td></tr><tr><td class="line-number" value="810"></td><td class="line-content">	},true);</td></tr><tr><td class="line-number" value="811"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="812"></td><td class="line-content">function gd_getparam(s,name){</td></tr><tr><td class="line-number" value="813"></td><td class="line-content">	name=name+"=";</td></tr><tr><td class="line-number" value="814"></td><td class="line-content">	name=name.toLowerCase();</td></tr><tr><td class="line-number" value="815"></td><td class="line-content">	var p1=s.toLowerCase().indexOf(name);</td></tr><tr><td class="line-number" value="816"></td><td class="line-content">	if (p1&lt;0) return "";</td></tr><tr><td class="line-number" value="817"></td><td class="line-content">	s=s.substr(p1+name.length);</td></tr><tr><td class="line-number" value="818"></td><td class="line-content">	var p2=s.toLowerCase().indexOf("&amp;");</td></tr><tr><td class="line-number" value="819"></td><td class="line-content">	if (p2&gt;=0) {</td></tr><tr><td class="line-number" value="820"></td><td class="line-content">		return s.substr(0,p2);</td></tr><tr><td class="line-number" value="821"></td><td class="line-content">	} else {</td></tr><tr><td class="line-number" value="822"></td><td class="line-content">		return s;</td></tr><tr><td class="line-number" value="823"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="824"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="825"></td><td class="line-content">function gd_open_state(force){</td></tr><tr><td class="line-number" value="826"></td><td class="line-content">	var s=gd_state;</td></tr><tr><td class="line-number" value="827"></td><td class="line-content">	if(s){</td></tr><tr><td class="line-number" value="828"></td><td class="line-content">		if(!gd_issupported){</td></tr><tr><td class="line-number" value="829"></td><td class="line-content">			gd_state='';</td></tr><tr><td class="line-number" value="830"></td><td class="line-content">			alert("This browser does not support.");</td></tr><tr><td class="line-number" value="831"></td><td class="line-content">			return;</td></tr><tr><td class="line-number" value="832"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="833"></td><td class="line-content">		s=decodeURIComponent(s);</td></tr><tr><td class="line-number" value="834"></td><td class="line-content">		try{</td></tr><tr><td class="line-number" value="835"></td><td class="line-content">			var a=JSON.parse(s);</td></tr><tr><td class="line-number" value="836"></td><td class="line-content">			var fileId;</td></tr><tr><td class="line-number" value="837"></td><td class="line-content">			if(a.ids) fileId=a.ids[0];</td></tr><tr><td class="line-number" value="838"></td><td class="line-content">			if(!fileId &amp;&amp; a.exportIds) fileId=a.exportIds[0];</td></tr><tr><td class="line-number" value="839"></td><td class="line-content">			if(fileId){</td></tr><tr><td class="line-number" value="840"></td><td class="line-content">				gd_login(function(result){</td></tr><tr><td class="line-number" value="841"></td><td class="line-content">					if(gd_open2 &amp;&amp; !force)return;</td></tr><tr><td class="line-number" value="842"></td><td class="line-content">					gd_open2=true;</td></tr><tr><td class="line-number" value="843"></td><td class="line-content">					if(!result) return;</td></tr><tr><td class="line-number" value="844"></td><td class="line-content">					//_getid('gd_btn_reopen').style.display='';</td></tr><tr><td class="line-number" value="845"></td><td class="line-content">					gd_state='';</td></tr><tr><td class="line-number" value="846"></td><td class="line-content">					gd_loadfile(fileId);</td></tr><tr><td class="line-number" value="847"></td><td class="line-content">				});				</td></tr><tr><td class="line-number" value="848"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="849"></td><td class="line-content">		}catch(err){</td></tr><tr><td class="line-number" value="850"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="851"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="852"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="853"></td><td class="line-content">var gd_open2;</td></tr><tr><td class="line-number" value="854"></td><td class="line-content">function gd_open_state2(){</td></tr><tr><td class="line-number" value="855"></td><td class="line-content">	setTimeout(function(){</td></tr><tr><td class="line-number" value="856"></td><td class="line-content">		if(!gd_open2)gd_open_state();</td></tr><tr><td class="line-number" value="857"></td><td class="line-content">	}, 1000);</td></tr><tr><td class="line-number" value="858"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="859"></td><td class="line-content">function gd_clientload(){</td></tr><tr><td class="line-number" value="860"></td><td class="line-content">	gd_loaded=true;</td></tr><tr><td class="line-number" value="861"></td><td class="line-content">	if (window.addEventListener){</td></tr><tr><td class="line-number" value="862"></td><td class="line-content">		window.addEventListener("resize", gd_btn_login2, false);</td></tr><tr><td class="line-number" value="863"></td><td class="line-content">	}else if (window.attachEvent){</td></tr><tr><td class="line-number" value="864"></td><td class="line-content">		window.attachEvent("onresize", gd_btn_login2);</td></tr><tr><td class="line-number" value="865"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="866"></td><td class="line-content">	gd_open_state();</td></tr><tr><td class="line-number" value="867"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="868"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="869"></td><td class="line-content">function gd_loadscript(callback){</td></tr><tr><td class="line-number" value="870"></td><td class="line-content">	function inject(s){</td></tr><tr><td class="line-number" value="871"></td><td class="line-content">		var o = document.createElement('scri' + 'pt');</td></tr><tr><td class="line-number" value="872"></td><td class="line-content">		o.setAttribute('src', s);</td></tr><tr><td class="line-number" value="873"></td><td class="line-content">		o.setAttribute('type', 'text/javascript');</td></tr><tr><td class="line-number" value="874"></td><td class="line-content">		document.body.appendChild(o);</td></tr><tr><td class="line-number" value="875"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="876"></td><td class="line-content">	if(gd_load_timer)return;</td></tr><tr><td class="line-number" value="877"></td><td class="line-content">	if(gd_loaded &amp;&amp; gd_pickerloaded)return;</td></tr><tr><td class="line-number" value="878"></td><td class="line-content">	gd_load_timer=setInterval(function(){</td></tr><tr><td class="line-number" value="879"></td><td class="line-content">		if(gd_loaded &amp;&amp; gd_pickerloaded){</td></tr><tr><td class="line-number" value="880"></td><td class="line-content">			clearInterval(gd_load_timer);</td></tr><tr><td class="line-number" value="881"></td><td class="line-content">			if(callback) callback();</td></tr><tr><td class="line-number" value="882"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="883"></td><td class="line-content">	},100);</td></tr><tr><td class="line-number" value="884"></td><td class="line-content">	inject('https://apis.google.com/js/client.js?onload=gd_clientload');</td></tr><tr><td class="line-number" value="885"></td><td class="line-content">	inject('https://apis.google.com/js/api.js?onload=gd_loadpicker');	</td></tr><tr><td class="line-number" value="886"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="887"></td><td class="line-content">function gd_reopen(){</td></tr><tr><td class="line-number" value="888"></td><td class="line-content">	if(gd_state2){</td></tr><tr><td class="line-number" value="889"></td><td class="line-content">		var m="";</td></tr><tr><td class="line-number" value="890"></td><td class="line-content">		var s='?';</td></tr><tr><td class="line-number" value="891"></td><td class="line-content">		if(m) s+='m='+m+'&amp;';</td></tr><tr><td class="line-number" value="892"></td><td class="line-content">		s+='state='+encodeURIComponent(gd_state2);</td></tr><tr><td class="line-number" value="893"></td><td class="line-content">		location.href=s;</td></tr><tr><td class="line-number" value="894"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="895"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="896"></td><td class="line-content">var gd_userId,gd_email;</td></tr><tr><td class="line-number" value="897"></td><td class="line-content">function gd_weburl(){</td></tr><tr><td class="line-number" value="898"></td><td class="line-content">	var s;</td></tr><tr><td class="line-number" value="899"></td><td class="line-content">	if(gd_email) s='https://drive.google.com/?authuser='+gd_email;</td></tr><tr><td class="line-number" value="900"></td><td class="line-content">	else s='https://drive.google.com/';</td></tr><tr><td class="line-number" value="901"></td><td class="line-content">	return s;</td></tr><tr><td class="line-number" value="902"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="903"></td><td class="line-content">function gd_info(){</td></tr><tr><td class="line-number" value="904"></td><td class="line-content">	if(gd_email)return;</td></tr><tr><td class="line-number" value="905"></td><td class="line-content">	gapi.client.load('drive', 'v2', function(){</td></tr><tr><td class="line-number" value="906"></td><td class="line-content">		var request = gapi.client.drive.about.get();</td></tr><tr><td class="line-number" value="907"></td><td class="line-content">		request.execute(function(resp) {</td></tr><tr><td class="line-number" value="908"></td><td class="line-content">			if(resp &amp;&amp; resp.user){</td></tr><tr><td class="line-number" value="909"></td><td class="line-content">				if(gd_email)return;</td></tr><tr><td class="line-number" value="910"></td><td class="line-content">				gd_email=resp.user.emailAddress;</td></tr><tr><td class="line-number" value="911"></td><td class="line-content">				if(gd_email){</td></tr><tr><td class="line-number" value="912"></td><td class="line-content">					var a=_getid('btn_open');</td></tr><tr><td class="line-number" value="913"></td><td class="line-content">					var b=_getid('gd_btn_reopen');</td></tr><tr><td class="line-number" value="914"></td><td class="line-content">					if(a)a.title=a.title+' ('+gd_email+')';</td></tr><tr><td class="line-number" value="915"></td><td class="line-content">					if(b)b.title=b.title+' ('+gd_email+')';</td></tr><tr><td class="line-number" value="916"></td><td class="line-content">				}				</td></tr><tr><td class="line-number" value="917"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="918"></td><td class="line-content">		});</td></tr><tr><td class="line-number" value="919"></td><td class="line-content">	});</td></tr><tr><td class="line-number" value="920"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="921"></td><td class="line-content">function gd_init(){</td></tr><tr><td class="line-number" value="922"></td><td class="line-content">	gd_state2=gd_state;</td></tr><tr><td class="line-number" value="923"></td><td class="line-content">	if(!window.XMLHttpRequest){//!window.FileReader || !window.URL ||</td></tr><tr><td class="line-number" value="924"></td><td class="line-content">	}else{</td></tr><tr><td class="line-number" value="925"></td><td class="line-content">		gd_issupported=true;</td></tr><tr><td class="line-number" value="926"></td><td class="line-content">		if(gd_state){</td></tr><tr><td class="line-number" value="927"></td><td class="line-content">			try{</td></tr><tr><td class="line-number" value="928"></td><td class="line-content">				var a=JSON.parse(gd_state);</td></tr><tr><td class="line-number" value="929"></td><td class="line-content">				gd_userId=a.userId;</td></tr><tr><td class="line-number" value="930"></td><td class="line-content">				if(a.ids || a.exportIds){</td></tr><tr><td class="line-number" value="931"></td><td class="line-content">					_getid("downlink").innerHTML="&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;div id='gd_progress'&gt;Ready...&lt;/div&gt;&lt;/table&gt;";</td></tr><tr><td class="line-number" value="932"></td><td class="line-content">					gd_loadscript();</td></tr><tr><td class="line-number" value="933"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="934"></td><td class="line-content">			}catch(err){}			</td></tr><tr><td class="line-number" value="935"></td><td class="line-content">			if(window.addEventListener) window.addEventListener("load", gd_open_state2, false);</td></tr><tr><td class="line-number" value="936"></td><td class="line-content">			else if (window.attachEvent) window.attachEvent("onload", gd_open_state2);</td></tr><tr><td class="line-number" value="937"></td><td class="line-content">		}</td></tr><tr><td class="line-number" value="938"></td><td class="line-content">		gd_loadscript();</td></tr><tr><td class="line-number" value="939"></td><td class="line-content">	}</td></tr><tr><td class="line-number" value="940"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="941"></td><td class="line-content">gd_init();</td></tr><tr><td class="line-number" value="942"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="943"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="944"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span>init();<span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="945"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="946"></td><td class="line-content">function gd_findscope(a){try{if(!a)return!1;a=" "+a.toLowerCase()+" ";var b=SCOPES;SCOPES.split&amp;&amp;"string"===typeof SCOPES&amp;&amp;(b=SCOPES.split(" "));for(var c=0;c&lt;b.length;c++)if(b[c]){var d=(b[c].split("/").pop().toLowerCase()||"").replace(/^\s*|\s*$/g,"");"drive.appfolder"==d&amp;&amp;(d="drive.appdata");if(/^(drive\.install|drive\.file|drive|drive\.readonly|drive\.appdata|drive\.appfolder|documents|spreadsheets|script\.external_request|calendar|gmail\.send|gmail\.compose|gmail\.readonly|youtube|books|drive\.activity\.readonly|drive\.activity|drive\.apps\.readonly|drive\.metadata|drive\.metadata\.readonly|drive\.scripts)$/.test(d)&amp;&amp;</td></tr><tr><td class="line-number" value="947"></td><td class="line-content">0&gt;a.indexOf(d+" "))return!1}}catch(e){}return!0}</td></tr><tr><td class="line-number" value="948"></td><td class="line-content">function init_fix_scope(){var a=window.gd_login_manual,b=window.gd_login;a||(a=window.proc_login_manual);b||(b=window.proc_login);a&amp;&amp;(a+="");b&amp;&amp;(b+="");a&amp;&amp;0&lt;=a.indexOf("if (authResult &amp;&amp; !authResult.error")&amp;&amp;0&gt;a.indexOf("gd_findscope(")?(a=a.replace("if (authResult &amp;&amp; !authResult.error","if (authResult &amp;&amp; !authResult.error &amp;&amp; gd_findscope(authResult.scope)"),window.eval(a)):a&amp;&amp;0&lt;=a.indexOf("if (authResult &amp;&amp; (!authResult.error || authResult.access_token)")&amp;&amp;0&gt;a.indexOf("gd_findscope(")&amp;&amp;(a=a.replace("if (authResult &amp;&amp; (!authResult.error || authResult.access_token)",</td></tr><tr><td class="line-number" value="949"></td><td class="line-content">"if (authResult &amp;&amp; (!authResult.error || authResult.access_token) &amp;&amp; gd_findscope(authResult.scope)"),window.eval(a));b&amp;&amp;0&lt;=b.indexOf("if (authResult &amp;&amp; !authResult.error")&amp;&amp;0&gt;b.indexOf("gd_findscope(")?(b=b.replace("if (authResult &amp;&amp; !authResult.error","if (authResult &amp;&amp; !authResult.error &amp;&amp; gd_findscope(authResult.scope)"),window.eval(b)):b&amp;&amp;0&lt;=b.indexOf("if (authResult &amp;&amp; (!authResult.error || authResult.access_token)")&amp;&amp;0&gt;b.indexOf("gd_findscope(")&amp;&amp;(b=b.replace("if (authResult &amp;&amp; (!authResult.error || authResult.access_token)",</td></tr><tr><td class="line-number" value="950"></td><td class="line-content">"if (authResult &amp;&amp; (!authResult.error || authResult.access_token) &amp;&amp; gd_findscope(authResult.scope)"),window.eval(b))}init_fix_scope();</td></tr><tr><td class="line-number" value="951"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="952"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="953"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>