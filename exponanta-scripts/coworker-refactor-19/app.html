<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PocketBase Framework Test</title>
  
  <!-- External dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/pocketbase@latest/dist/pocketbase.umd.js"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@tanstack/react-table@8.20.5/build/umd/index.production.js"></script>
    <!-- TanStack React Table (UMD attaches to window.ReactTable) -->
    <script>
    // TanStack Table UMD exposes as window.ReactTable
    // Create alias for compatibility
    window.TanStackTable = window.ReactTable;
    console.log('âœ… TanStack Table loaded:', window.TanStackTable ? 'Available' : 'NOT FOUND');
  </script>

  <!-- Your framework (in order) -->
<script src="pb-core.js"></script>                  <!-- 1. Core PocketBase client -->


<!-- Adapters (order doesn't matter among these) -->
<script src="pb-adapter-pocketbase.js"></script>    <!-- 2a. PocketBase adapter -->
<script src="pb-adapter-memory.js"></script>        <!-- 2b. Memory adapter -->


<script src="pb-adapter-switch.js"></script>        <!-- 3. Adapter switching logic â†  -->
<script src="coworker.js"></script> 
<script src="coworker-run.js"></script>                 <!-- 4. Universal coworker-run  + Query translation (Prismaâ†’PocketBase)   -->
<script src="coworker-state.js"></script>
<!-- I AM HERE FOR TESTING-->
<script>
    (async function initCoworker() {
      console.log('ðŸ”Œ Initializing coworker...');
      
      await coworker.init({
        plugins: [
          { 
            name: 'coworker-run', 
            type: 'inline', 
            plugin: coworkerRun 
          }
        ]
      });
      
      console.log('âœ… Coworker ready: coworker.run() installed');
    })();
  </script>
<!-- Later <script src="pb-navigator.js"></script>             5. Navigation WAS REFACTORED -->
  <!--OLD NOT TOUCHED  -->
  <script src="pb-renderers.js"></script> 
  <script src="pb-components.js"></script>
  <script src="app.js"></script>            <!-- 5. Application -->
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Bootstrap JS (for collapse functionality) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
  <div id="app"></div>
</body>
</html>