/*! For license information please see content_script_pdfjs.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1394)}([function(e,t,n){"use strict";e.exports=n(521)},function(e,t,n){"use strict";(function(e){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(299),o=n(0),a=r(o),s=r(n(531)),l=r(n(532)),c=r(n(533)),A=r(n(534)),u=r(n(536));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},p=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!i.typeOf(e)},h=Object.freeze([]),g=Object.freeze({});function m(e){return"function"==typeof e}function v(e){return e.displayName||e.name||"Component"}function y(e){return e&&"string"==typeof e.styledComponentId}var b=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",w="undefined"!=typeof window&&"HTMLElement"in window,B=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==e.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&e.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.SC_DISABLE_SPEEDY&&""!==e.env.SC_DISABLE_SPEEDY&&("false"!==e.env.SC_DISABLE_SPEEDY&&e.env.SC_DISABLE_SPEEDY)),x={};function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var S=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&C(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),k=new Map,E=new Map,I=1,O=function(e){if(k.has(e))return k.get(e);for(;E.has(I);)I++;var t=I++;return k.set(e,t),E.set(t,e),t},F=function(e){return E.get(e)},D=function(e,t){k.set(e,t),E.set(t,e)},_="style["+b+'][data-styled-version="5.2.1"]',T=new RegExp("^"+b+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),U=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},M=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(T);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(D(c,l),U(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},L=function(){return n.nc},Q=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(b))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(b,"active"),r.setAttribute("data-styled-version","5.2.1");var a=L();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},R=function(){function e(e){var t=this.element=Q(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}C(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),P=function(){function e(e){var t=this.element=Q(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),H=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),N=w,j={isServer:!w,useCSSOMInjection:!B},z=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=d({},j,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&w&&N&&(N=!1,function(e){for(var t=document.querySelectorAll(_),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(b)&&(M(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return O(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new H(i):r?new R(i):new P(i),new S(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(O(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(O(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(O(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=F(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var l=b+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),K=/(a)(d)/gi,$=function(e){return String.fromCharCode(e+(e>25?39:97))};function W(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=$(t%52)+n;return($(t%52)+n).replace(K,"$1-$2")}var V=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},G=function(e){return V(5381,e)};function q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!y(n))return!1}return!0}var Y=G("5.2.1"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&q(e),this.componentId=t,this.baseHash=V(Y,t),this.baseStyle=n,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ge(this.rules,e,t,n).join(""),a=W(V(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=V(this.baseHash,n.hash),A="",u=0;u<l;u++){var d=this.rules[u];if("string"==typeof d)A+=d;else if(d){var f=ge(d,e,t,n),p=Array.isArray(f)?f.join(""):f;c=V(c,p+u),A+=p}}if(A){var h=W(c>>>0);if(!t.hasNameForId(r,h)){var g=n(A,"."+h,void 0,r);t.insertRules(r,h,g)}i.push(h)}}return i.join(" ")},e}(),X=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,i,o=void 0===e?g:e,a=o.options,s=void 0===a?g:a,c=o.plugins,A=void 0===c?h:c,u=new l(s),d=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,l,c,A,u){switch(n){case 1:if(0===A&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===u?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),p=function(e,r,o){return 0===r&&Z.includes(o[n.length])||o.match(i)?e:"."+t};function m(e,o,a,s){void 0===s&&(s="&");var l=e.replace(X,""),c=o&&a?a+" "+o+" { "+l+" }":l;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),u(a||!o?"":o,c)}return u.use([].concat(A,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},f,function(e){if(-2===e){var t=d;return d=[],t}}])),m.hash=A.length?A.reduce((function(e,t){return t.name||C(15),V(e,t.name)}),5381).toString():"",m}var te=a.createContext(),ne=te.Consumer,re=a.createContext(),ie=(re.Consumer,new z),oe=ee();function ae(){return o.useContext(te)||ie}function se(){return o.useContext(re)||oe}function le(e){var t=o.useState(e.stylisPlugins),n=t[0],r=t[1],i=ae(),l=o.useMemo((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=o.useMemo((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return o.useEffect((function(){s(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.createElement(te.Provider,{value:l},a.createElement(re.Provider,{value:c},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return C(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),Ae=/([A-Z])/,ue=/([A-Z])/g,de=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function pe(e){return Ae.test(e)?e.replace(ue,fe).replace(de,"-ms-"):e}var he=function(e){return null==e||!1===e||""===e};function ge(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ge(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return he(e)?"":y(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:ge(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:p(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!he(t[a])&&(p(t[a])?o.push.apply(o,e(t[a],a)):m(t[a])?o.push(pe(a)+":",t[a],";"):o.push(pe(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}function me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||p(e)?ge(f(h,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(f(e,n))}new Set;var ve=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function we(e){return e.replace(ye,"-").replace(be,"")}var Be=function(e){return W(G(e)>>>0)};function xe(e){return"string"==typeof e&&!0}var Ce=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ke(e,t,n){var r=e[n];Ce(t)&&Ce(r)?Ee(r,t):e[n]=t}function Ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Ce(a))for(var s in a)Se(s)&&ke(e,a[s],s)}return e}var Ie=a.createContext(),Oe=Ie.Consumer,Fe={};function De(e,t,n){var r=y(e),i=!xe(e),s=t.attrs,l=void 0===s?h:s,c=t.componentId,f=void 0===c?function(e,t){var n="string"!=typeof e?"sc":we(e);Fe[n]=(Fe[n]||0)+1;var r=n+"-"+Be("5.2.1"+n+Fe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,b=void 0===p?function(e){return xe(e)?"styled."+e:"Styled("+v(e)+")"}(e):p,w=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||f,B=r&&e.attrs?Array.prototype.concat(e.attrs,l).filter(Boolean):l,x=t.shouldForwardProp;r&&e.shouldForwardProp&&(x=t.shouldForwardProp?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var C,S=new J(n,w,r?e.componentStyle:void 0),k=S.isStatic&&0===l.length,E=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,u=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=g);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in m(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(ve(t,o.useContext(Ie),s)||g,t,i),h=p[0],v=p[1],y=function(e,t,n){var r=ae(),i=se();return t?e.generateAndInjectStyles(g,r,i):e.generateAndInjectStyles(n,r,i)}(a,r,h),b=n,w=v.$as||t.$as||v.as||t.as||f,B=xe(w),x=v!==t?d({},t,{},v):t,C={};for(var S in x)"$"!==S[0]&&"as"!==S&&("forwardedAs"===S?C.as=x[S]:(c?c(S,A):!B||A(S))&&(C[S]=x[S]));return t.style&&v.style!==t.style&&(C.style=d({},t.style,{},v.style)),C.className=Array.prototype.concat(l,u,y!==u?y:null,t.className,v.className).filter(Boolean).join(" "),C.ref=b,o.createElement(w,C)}(C,e,t,k)};return E.displayName=b,(C=a.forwardRef(E)).attrs=B,C.componentStyle=S,C.displayName=b,C.shouldForwardProp=x,C.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):h,C.styledComponentId=w,C.target=r?e.target:e,C.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(xe(e)?e:we(v(e)));return De(e,d({},i,{attrs:B,componentId:o}),n)},Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ee({},e.defaultProps,t):t}}),C.toString=function(){return"."+C.styledComponentId},i&&u(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),C}var _e=function(e){return function e(t,n,r){if(void 0===r&&(r=g),!i.isValidElementType(n))return C(1,String(n));var o=function(){return t(n,r,me.apply(void 0,arguments))};return o.withConfig=function(i){return e(t,n,d({},r,{},i))},o.attrs=function(i){return e(t,n,d({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},o}(De,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){_e[e]=_e(e)}));var Te=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=q(e),z.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ge(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),Ue=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=L();return"<style "+[n&&'nonce="'+n+'"',b+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?C(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return C(2);var n=((t={})[b]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?C(2):a.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return C(3)},e}(),Me={StyleSheet:z,masterSheet:ie};t.ServerStyleSheet=Ue,t.StyleSheetConsumer=ne,t.StyleSheetContext=te,t.StyleSheetManager=le,t.ThemeConsumer=Oe,t.ThemeContext=Ie,t.ThemeProvider=function(e){var t=o.useContext(Ie),n=o.useMemo((function(){return function(e,t){return e?m(e)?e(t):Array.isArray(e)||"object"!=typeof e?C(8):t?d({},t,{},e):e:C(14)}(e.theme,t)}),[e.theme,t]);return e.children?a.createElement(Ie.Provider,{value:n},e.children):null},t.__PRIVATE__=Me,t.createGlobalStyle=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=me.apply(void 0,[e].concat(n)),s="sc-global-"+Be(JSON.stringify(i)),l=new Te(i,s);function c(e){var t=ae(),n=se(),r=o.useContext(Ie),i=o.useRef(t.allocateGSInstance(s)).current;return o.useLayoutEffect((function(){return A(i,e,t,r,n),function(){return l.removeStyles(i,t)}}),[i,e,t,r,n]),null}function A(e,t,n,r,i){if(l.isStatic)l.renderStyles(e,x,n,i);else{var o=d({},t,{theme:ve(t,r,c.defaultProps)});l.renderStyles(e,o,n,i)}}return a.memo(c)},t.css=me,t.default=_e,t.isStyledComponent=y,t.keyframes=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=me.apply(void 0,[e].concat(n)).join(""),o=Be(i);return new ce(o,i)},t.useTheme=function(){return o.useContext(Ie)},t.version="5.2.1",t.withTheme=function(e){var t=a.forwardRef((function(t,n){var r=o.useContext(Ie),i=e.defaultProps,s=ve(t,r,i);return a.createElement(e,d({},t,{theme:s,ref:n}))}));return u(t,e),t.displayName="WithTheme("+v(e)+")",t}}).call(this,n(131))},function(e,t,n){(function(n){var r,i,o,a,s,l,c,A,u,d,f,p,h,g,m,v,y,b,w,B,x,C,S,k,E;!function(){var I="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};function O(e,t){return e!==I&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){return function(n,r){t(n,r,e)}},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},A=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||E(t,e,n)},E=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e},g=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},m=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},v=function(e){return this instanceof v?(this.v=e,this):new v(e)},y=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{l(i[e](t))}catch(e){u(o[0][3],e)}}function l(e){e.value instanceof v?Promise.resolve(e.value.v).then(c,A):u(o[0][2],e)}function c(e){s("next",e)}function A(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},B=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&E(t,e,r);return n(t,e),t},C=function(e){return e&&e.__esModule?e:{default:e}},S=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},k=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",a),e("__decorate",s),e("__param",l),e("__metadata",c),e("__awaiter",A),e("__generator",u),e("__exportStar",d),e("__createBinding",E),e("__values",f),e("__read",p),e("__spread",h),e("__spreadArrays",g),e("__spreadArray",m),e("__await",v),e("__asyncGenerator",y),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",B),e("__importStar",x),e("__importDefault",C),e("__classPrivateFieldGet",S),e("__classPrivateFieldSet",k)}(O(I,O(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()}).call(this,n(61))},function(e,t,n){var r,i,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,i=[e],r=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},a=e=>1==e?"argument":"arguments",s=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((i,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:i,reject:a},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,o({resolve:i,reject:a},t))}))},l=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const A=(e,t={},n={})=>{let r=Object.create(null),i={has:(t,n)=>n in e||n in r,get(i,o,a){if(o in r)return r[o];if(!(o in e))return;let u=e[o];if("function"==typeof u)if("function"==typeof t[o])u=l(e,e[o],t[o]);else if(c(n,o)){let t=s(o,n[o]);u=l(e,e[o],t)}else u=u.bind(e);else if("object"==typeof u&&null!==u&&(c(t,o)||c(n,o)))u=A(u,t[o],n[o]);else{if(!c(n,"*"))return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),u;u=A(u,t[o],n["*"])}return r[o]=u,u},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},o=Object.create(e);return new Proxy(o,i)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),d=new r((e=>"function"!=typeof e?e:function(t){const n=A(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),f=new r((e=>"function"!=typeof e?e:function(t,n,r){let o,a,s=!1,l=new Promise((e=>{o=function(t){s=!0,e(t)}}));try{a=e(t,n,o)}catch(e){a=Promise.reject(e)}const c=!0!==a&&i(a);if(!0!==a&&!c&&!s)return!1;const A=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return A(c?a:l),!0})),p=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},h=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},g={devtools:{network:{onRequestFinished:u(d)}},runtime:{onMessage:u(f),onMessageExternal:u(f),sendMessage:h.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:h.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},A(e,g,n)};e.exports=n(chrome)}},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o);const s=o.keyframes`
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
`,l=a.a.div`
    height: ${e=>e.heightAndWidth?e.heightAndWidth:e.height};
    width: ${e=>e.heightAndWidth?e.heightAndWidth:e.width};

    ${e=>e.originalImage&&o.css`
            mask-image: none;
            background-image: url(${({theme:t})=>{var n;return null!==(n=t.icons[e.icon])&&void 0!==n?n:e.icon}});
            background-position: center;
            background-size: contain;
            background-repeat: no-repeat;
        `}

    ${e=>!e.originalImage&&o.css`
            cursor: ${()=>e.hoverOff?"default":"pointer"};
            background-color: ${({theme:t})=>e.color?t.colors[e.color]:t.colors.greyScale5};
            mask-position: center;
            mask-size: contain;
            mask-repeat: no-repeat;
            mask-image: url(${({theme:t})=>{var n;return null!==(n=t.icons[e.icon])&&void 0!==n?n:e.icon}});
        `}
    ${e=>!e.originalImage&&"light"===e.theme.variant&&o.css`
            cursor: ${()=>e.hoverOff?"default":"pointer"};
            background-color: ${({theme:t})=>e.color?t.colors[e.color]:t.colors.greyScale4};
            mask-position: center;
            mask-size: contain;
            mask-repeat: no-repeat;
            mask-image: url(${({theme:t})=>{var n;return null!==(n=t.icons[e.icon])&&void 0!==n?n:e.icon}});
        `}
    ${e=>{return e.rotation&&o.css`
            animation: ${t=e.rotation,o.keyframes`0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(${t}deg);
    }`} 0.2s ease-in-out forwards;
            animation-fill-mode: forwards;
        `;var t}}



    ${e=>e.spinningIcon&&o.css`
            animation: ${s} 4s linear infinite reverse;
        `};
`,c=a.a.span`
    padding: ${e=>e.padding?e.padding:"3px"};
    display: flex;
    border-radius: 5px;
    cursor: ${e=>e.hoverOff?"inherit":"pointer"};
    justify-content: center;
    align-items: center;
    height: max-content;

    ${e=>e.hoverOff?o.css`
                  border: none;
                  outline: none;
              `:o.css`
                  &:hover {
                      border: none;
                      outline: 1px solid
                          ${e=>e.theme.colors.greyScale3};
                  }
              `}



    ${e=>"light"===e.theme.variant&&!e.hoverOff&&o.css`
            &:hover ${l} {
                background-color: ${e=>e.theme.colors.greyScale4};
            }
            &:hover {
                background-color: ${e=>e.theme.colors.greyScale2};
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};

    ${e=>e.active&&o.css`
            background: ${e=>e.theme.colors.greyScale2};

            &:hover {
                background-color: ${e=>e.hoverOff?"none":e.theme.colors.greyScale2};
            }
        `}
    ${e=>e.darkBackground&&o.css`
            background: ${e=>e.theme.colors.greyScale1};

            &:hover {
                background-color: ${e=>e.hoverOff?"none":e.theme.colors.greyScale2};
            }
        `}
    ${e=>e.background&&o.css`
            background: ${e=>e.theme.colors[e.background]};

            &:hover {
                background-color: ${e=>e.hoverOff?"none":e.theme.colors.greyScale3};
            }
        `}

    ${e=>e.borderColor&&o.css`
            outline: 1px solid
                ${e=>e.theme.colors[e.borderColor]};
        `}
    ${e=>e.opacity&&o.css`
            opacity: ${e=>e.opacity};
            backdrop-filter: blur(4px);
            opacity: 0.8;
        `}
    ${e=>e.inline&&o.css`
            display: inline-flex;
            vertical-align: middle;
        `}
    ${e=>"background"===e.hoverStyle&&o.css`
            &:hover {
                background: ${e=>e.theme.colors.greyScale2};
            }
        `}
`;function A(e){var t;const n="filePath"in e?e.filePath:e.icon,r=null!==(t=e.width)&&void 0!==t?t:e.height;return i.a.createElement(c,Object.assign({},e,{className:"MemexIcons",ref:e.containerRef,onClick:e.disabled?void 0:e.onClick,onMouseEnter:e.disabled?void 0:e.onMouseEnter,hoverStyle:e.hoverStyle}),i.a.createElement(l,{height:e.height,width:r,icon:n,color:e.color,hoverOff:e.hoverOff,rotation:e.rotation,heightAndWidth:e.heightAndWidth,originalImage:e.originalImage,background:e.background,darkBackground:e.darkBackground,active:e.active,disabled:e.disabled,spinningIcon:e.spinningIcon}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(4),l=n(70),c=n.n(l),A=n(46);const u=a.a.div`
    // general styles
    position: relative;
    white-space: nowrap;
    display: flex;
    justify-content: ${e=>e.contentAlign?e.contentAlign:"center"};
    align-items: center;
    vertical-align: middle;
    width: min-content;
    width: ${e=>e.width?e.width:"fit-content"};
    height: ${e=>e.height};
    box-sizing: border-box;
    border-radius: 5px;
    cursor: pointer;
    flex-direction: column;
    grid-gap: 0.2rem;

    & * {
        cursor: pointer;
    }

    :focus {
        outline: unset;
    }

    ${e=>"primary"===e.type&&o.css`
            background-position: right;
            background: linear-gradient(35deg, #6ae394 100%, #fafafa 180.34%);

            &:hover {
                background: linear-gradient(
                    239deg,
                    #6ae394 61.87%,
                    #fafafa 121.34%
                );
            }

            ${e=>e.hoverState&&o.css`
                    background: linear-gradient(
                        239deg,
                        #6ae394 61.87%,
                        #fafafa 121.34%
                    );
                `}
        `};
    ${e=>"secondary"===e.type&&o.css`
            background: ${e=>e.theme.colors.white};
            border: 1px solid ${e=>e.theme.colors.white};

            &:hover {
                background: ${e=>e.theme.colors.white}90;
                border: 1px solid transparent;

                ${p} {
                    color: ${e=>e.theme.colors.black};
                }
            }
        `};

    ${e=>"tertiary"===e.type&&o.css`
            background: 'transparent';
            border: 1px solid transparent;

            &:hover {
                border: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};
    ${e=>"forth"===e.type&&o.css`
            background: ${e=>e.theme.colors.greyScale2};

            &:hover {
                background: ${e=>e.theme.colors.greyScale3};
            }
        `};
    ${e=>"glass"===e.type&&o.css`
            background: ${e=>e.theme.colors.black}70;
            backdrop-filter: blur(10px);
            outline: 1px solid ${e=>e.theme.colors.greyScale3};

            &:hover {
                background: ${e=>e.theme.colors.greyScale1}95;
            }
        `};
    ${e=>"menuBar"===e.type&&o.css`
            flex: 1;
            justify-content: center;
            border: none;
            outline: none;

            &:hover {
                background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale2+"80":e.theme.colors.greyScale6+"35"};
            }
        `};
    ${e=>"naked"===e.type&&o.css`
            justify-content: center;

            &:hover {
                background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale3+"80":e.theme.colors.greyScale6+"35"};
            }
        `};

    ${e=>null!=e.backgroundColor&&"menuBar"==e.type&&o.css`
            background: ${e=>e.theme.colors[e.backgroundColor]};
        `}

    ${e=>null!=e.backgroundColor&&"menuBar"!==e.type&&o.css`
            background: ${e=>e.theme.colors[e.backgroundColor]};
            border: 1px solid
                ${e=>e.theme.colors[e.backgroundColor]};

            &:hover {
                background: ${c()(e.theme.colors[e.backgroundColor]).darken(25).toHexString()};

                ${p} {
                    color: ${e=>e.fontColor?e.theme.colors[e.fontColor]:e.theme.colors.black};
                }
            }
        `};

    ${e=>"small"===e.size&&o.css`
            height: 26px;
            padding: 0 4px;
            grid-gap: 2px;
        `};

    ${e=>"medium"===e.size&&o.css`
            height: 34px;
            padding: 0 8px;
            grid-gap: 3px;
            grid-gap: 4px;
        `};

    ${e=>"large"===e.size&&o.css`
            height: 44px;
            padding: 0 16px;
            grid-gap: 6px;
        `};
    ${e=>e.active&&"tertiary"===e.type&&o.css`
            background: ${e=>e.theme.colors.greyScale2};
        `};
    ${e=>e.active&&"menuBar"===e.type&&o.css`
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale3+"70":e.theme.colors.greyScale6+"20"};
        `};

    ${e=>e.disabled&&"tertiary"!==e.type&&o.css`
            color: ${e=>e.theme.colors.greyScale4};
            background: ${e=>e.theme.colors.greyScale2};
            cursor: no-drop;
            border: solid 1px transparent;

            &:hover {
                background: ${e=>e.theme.colors.greyScale2};
                border: solid 1px ${e=>e.theme.colors.greyScale2};
            }

            & * {
                cursor: no-drop;
            }
        `};
    ${e=>e.fullWidth&&o.css`
            width: fill-available;
        `};
    ${e=>e.height&&o.css`
            height: ${e=>e.height};
        `};
    ${e=>e.width&&o.css`
            width: ${e=>e.width};
        `};
    ${e=>null!=e.icon&&(null==e.iconPosition||"left"===e.iconPosition)&&o.css`
            padding-left: 4px;
            padding-right: 10px;
        `};
    ${e=>null!=e.icon&&"right"===e.iconPosition&&o.css`
            padding-right: 4px;
            padding-left: 10px;
        `};
    ${e=>e.hasIconObject&&o.css`
            grid-gap: 10px;
            padding-left: 10px;
        `};

    ${e=>e.padding&&o.css`
            padding: ${e=>e.padding};
        `};

    ${e=>"menuBar"===e.type&&o.css`
            color: ${e=>e.theme.colors.greyScale6};
        `};
    ${e=>"menuBar"===e.type&&e.hoverState&&o.css`
            flex: 1;
            justify-content: center;
            color: ${e=>e.theme.colors.greyScale7};
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale2+"80":e.theme.colors.greyScale6+"35"};
        `}
    ${e=>"naked"===e.type&&e.hoverState&&o.css`
            justify-content: center;
            color: ${e=>e.theme.colors.greyScale7};
        `};

    ${e=>"naked"===e.type&&o.css`
            justify-content: center;
            color: ${e=>e.theme.colors.greyScale5};
        `};
`,d=a.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 0.2rem;

    ${e=>"right"===e.iconPosition&&o.css`
            flex-direction: row-reverse;
        `};
`,f=a.a.div`
    font-size: 12px;
    font-weight: 400;
    color: ${e=>e.theme.colors.greyScale4};
`,p=a.a.span`
    font-weight: 400;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    white-space: nowrap;
    display: flex;
    grid-gap: 5px;
    letter-spacing: 0.8px;

    ${e=>"primary"===e.type&&o.css`
            color: ${e=>(e.active,e.theme.colors.black)};

            ${e=>"light"===e.theme.variant&&o.css`
                    color: ${e=>e.theme.colors.greyScale6};
                `};
        `};
    ${e=>"secondary"===e.type&&o.css`
            color: ${e=>(e.active,e.theme.colors.black)};
        `};

    ${e=>"tertiary"===e.type&&o.css`
            color: ${e=>e.active||e.hoverState?e.theme.colors.white:e.theme.colors.greyScale5};
        `};

    ${e=>"forth"===e.type&&o.css`
            color: ${e=>(e.active,e.theme.colors.white)};
        `};

    ${e=>"glass"===e.type&&o.css`
            color: ${e=>e.active?e.theme.colors.white:e.theme.colors.greyScale7};
        `};

    ${e=>"small"===e.size&&o.css`
            font-size: 12px;
            font-weight: 400;
        `};

    ${e=>"medium"===e.size&&o.css`
            font-size: 14px;
            font-weight: 400;
        `};

    ${e=>"large"===e.size&&o.css`
            font-size: 14px;
        `};
    ${e=>e.bold&&o.css`
            font-weight: 700;
        `};
    ${e=>e.fontSize&&o.css`
            font-size: ${e=>e.fontSize};
        `};
    ${e=>e.fontColor&&o.css`
            color: ${e=>e.theme.colors[e.fontColor]};
        `};

    ${e=>e.disabled&&"tertiary"!==e.type&&o.css`
            color: ${e=>e.theme.colors.greyScale4};
        `};
    text-overflow: ellipsis;
`,h=a()(s.a)`
    margin-left: -4px;

    ${e=>"right"===e.iconPosition&&o.css`
            margin-right: -4px;
            flex-direction: row-reverse;
        `};

    ${e=>("left"===e.iconPosition||null==e.iconPosition)&&o.css`
            margin-left: -4px;
        `};
`;function g(e,t,n,r,i){if("object"!=typeof n)return r?"black":n?t?"prime1":n:"primary"===e||"secondary"===e?t?"prime1":"black":"tertiary"===e?t?"prime1":"greyScale5":"forth"===e?t?"prime1":"white":void 0;Object(A.b)(n)}function m(e){const[t,n]=Object(r.useState)(!1);return i.a.createElement(u,{autoFocus:!0,tabIndex:e.tabIndex,onClick:!0===e.disabled?void 0:e.onClick,disabled:e.disabled,ref:e.innerRef,backgroundColor:e.backgroundColor,fontColor:e.fontColor,iconPosition:e.iconPosition,width:e.width,height:e.height,type:e.type,size:e.size,active:e.active,contentAlign:e.contentAlign,fullWidth:e.fullWidth,id:e.id,className:"PrimaryAction",padding:e.padding,icon:e.icon,hoverState:t||e.hoverState,onMouseUp:e.onMouseUp,onMouseDown:e.onMouseDown,onMouseEnter:t=>{e.onMouseEnter&&e.onMouseEnter(t),n(!0)},onMouseLeave:t=>{e.onMouseLeave&&e.onMouseLeave(t),n(!1)},onMouseOver:t=>{e.onMouseOver&&e.onMouseOver(t),n(!0)},originalImage:e.originalImage,hasIconObject:"object"==typeof e.icon},i.a.createElement(d,{iconPosition:e.iconPosition?e.iconPosition:"left"},e.icon&&"object"!=typeof e.icon?i.a.createElement(h,{filePath:e.icon,heightAndWidth:(o=e.size,a=e.iconSize,a||("small"===o?"16px":"medium"===o?"18px":"20px")),color:g(e.type,e.active,e.iconColor,e.disabled),disabled:e.disabled,hoverOff:!0,iconPosition:e.iconPosition?e.iconPosition:"left",spinningIcon:e.spinningIcon,hasLabel:null!=e.label,originalImage:e.originalImage}):i.a.createElement(i.a.Fragment,null,e.icon),e.label&&i.a.createElement(p,{type:e.type,size:e.size,active:e.active,fontColor:e.fontColor,fontSize:e.fontSize,bold:e.bold,hoverState:t},e.label)),null!=e.subLabel&&i.a.createElement(f,null,e.subLabel));var o,a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return B})),n.d(t,"h",(function(){return x})),n.d(t,"n",(function(){return S})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"g",(function(){return D})),n.d(t,"c",(function(){return U})),n.d(t,"o",(function(){return L}));var r=n(2),i=n(277),o=n.n(i),a=n(3),s=n.n(a),l=n(53),c=n(157),A=n.n(c),u=n(238),d=n.n(u);const f=(e,t)=>({headers:{type:"RPC_REQUEST",id:d()(),name:e.name,tabId:e.tabId,proxy:e.proxy,originSide:e.originSide,recipientSide:e.recipientSide},payload:t});var p=n(130);class h{constructor(e){this.deps=e,this.log=(e,t)=>{(!0===this.deps.debug||globalThis["memex-rpc-debug"])&&(e=`RPC::side=${this.deps.sideName}::`+e,console.log(e,null!=t?t:{}))},this.postMessageRequestToBackground=(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=f({name:e,originSide:this.deps.sideName,recipientSide:"background"},t);return this.postMessageRequestToRPC(n)})),this.postMessageRequestToContentScript=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=f({name:t,tabId:e,originSide:this.deps.sideName,recipientSide:"content-script-global"},n);return this.postMessageRequestToRPC(r)})),this.postMessageRequestToCSViaBG=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=f({tabId:e,name:t,proxy:"background",originSide:this.deps.sideName,recipientSide:"background"},n);return this.postMessageRequestToRPC(r)})),this.messageResponder=(e,t,n)=>{if(e[I])return!0;const{headers:i,payload:o,error:a,serializedError:s}=e,{id:l,name:c,type:A}=i,u=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r,a;if("RPC_REQUEST"===A){if(this.log(`messageResponder:: REQUEST received for [${c}]:`,e),this.deps.sideName!==e.headers.recipientSide)return void this.log(`messageResponder:: REQUEST ignored for [${c}] - wrong recipient:`,e);if("background"===i.proxy)yield this.postMessageRequestToContentScript(i.tabId,c,o);else{const i=this.deps.getRegisteredRemoteFunction(c);if(!i)throw console.error({side:this.deps.sideName,packet:e}),Error(`No registered remote function called ${c}`);Object.defineProperty(i,"name",{value:c}),this.log(`messageResponder:: RUNNING Function [${c}]`);let s=null!==(r=t.tab)&&void 0!==r?r:null!=e.headers.tabId?yield null===(a=this.deps.browserAPIs.tabs)||void 0===a?void 0:a.get(e.headers.tabId):void 0;s=Object(p.b)(s);try{const t=yield i({tab:s},...o);this.log(`messageResponder:: FINISHED Function [${c}]`,t);const r=(e=>{const{request:{headers:t}}=e;return{headers:{type:"RPC_RESPONSE",id:t.id,name:t.name,originSide:e.originSide,recipientSide:e.recipientSide},payload:e.payload,error:e.error,serializedError:e.serializedError}})({request:e,payload:t,originSide:this.deps.sideName,recipientSide:e.headers.originSide});n(r)}catch(e){throw this.log(`messageResponder:: ERRORED Function [${c}]`),new g(e)}}}else"RPC_RESPONSE"===A&&this.log(`messageResponder:: RESPONSE received for [${c}]`)}));return this.paused?this.paused.then(u):u(),!0},this.setup=()=>{this.deps.browserAPIs.runtime.onMessage.addListener(this.messageResponder)},this.unpause=()=>{const e=this.paused;delete this.paused,null==e||e.resolve()},e.initPaused&&(this.paused=A()())}postMessageRequestToRPC(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let t;this.log(`messageRequester:: Requested for [${e.headers.name}]`,{request:e});try{t="background"===this.deps.sideName?yield this.deps.browserAPIs.tabs.sendMessage(e.headers.tabId,e):yield this.deps.browserAPIs.runtime.sendMessage(e)}catch(e){throw new g(e)}return this.log(`messageRequester:: Got response for [${e.headers.name}]`,t.payload),t.payload}))}}class g extends Error{constructor(e){super(e.message),this.name=this.constructor.name,this.message=e.message,this.stack=e.stack,this.cause=e.cause}}function m(e){return{withExtraArgs:!0,function:e}}function v(e){return{withExtraArgs:!1,function:e}}function y(e){for(const[t,n]of Object.entries(e)){const e=n;E({[t]:e.function},{insertExtraArg:e.withExtraArgs})}}function b(){return new Proxy({},{get(e,t){return(...e)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!M)throw new Error(`runInBackground: RPC connection has not been setup.\nfn name: ${t.toString()}\nargs: ${e}\n\nIf you are calling direct from content-script code, instead pass it down from the global content-script.\n`);return M.postMessageRequestToBackground(t.toString(),e)}))}})}function w(e,t){return new Proxy({},{get:(n,r)=>(...n)=>M.postMessageRequestToContentScript(e,r.toString(),n,t)})}function B(e){return new Proxy({},{get:(t,n)=>(...t)=>M.postMessageRequestToCSViaBG(e,n.toString(),t)})}function x(e,{tabId:t}={}){return t?(...n)=>M.postMessageRequestToContentScript(t,e,n):(...t)=>M.postMessageRequestToBackground(e,t)}const C="undefined"!=typeof globalThis&&globalThis.remoteFunctions||{};function S(e){for(const[t,n]of Object.entries(e))k(n)}function k(e,{insertExtraArg:t=!1}={}){return E(e,{insertExtraArg:t})}function E(e,{insertExtraArg:t=!1}={}){if(!t){e=o()((e=>(t,...n)=>e(...n)))(e)}for(const t of Object.keys(e))if(C.hasOwnProperty(t)){const e=`RPC function with name ${t} has already been registered `;console.warn(e)}Object.assign(C,e)}"undefined"!=typeof globalThis&&(globalThis.remoteFunctions=C);const I="__REMOTE_EVENT__",O="__REMOTE_EVENT_TYPE__",F="__REMOTE_EVENT_NAME__";function D(e,{broadcastToTabs:t=!1,silenceBroadcastFailures:n=!1}={}){const i={__REMOTE_EVENT__:I,[O]:e};return{emit:t?(t,...o)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r;const a=null!==(r=yield s.a.tabs.query({}))&&void 0!==r?r:[];for(const{id:r}of a)try{yield s.a.tabs.sendMessage(r,Object.assign(Object.assign({},i),{[F]:t,data:o[0]}))}catch(i){n||console.error(`Remote event emitter "${e}" failed to emit event "${String(t)}" to tab ${r}:\n\tError message: "${i.message}"`)}})):(t,...n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{yield s.a.runtime.sendMessage(Object.assign(Object.assign({},i),{[F]:t,data:n[0]}))}catch(n){let r=["A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received","Could not establish connection."];n.message.includes(r[0])||n.message.includes(r[1])||console.error(`Remote event emitter "${e}" failed to emit event "${String(t)}":\n\tError message: "${n.message}"`)}})),emitToTab:(t,n,...o)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{yield s.a.tabs.sendMessage(n,Object.assign(Object.assign({},i),{[F]:t,data:o[0]}))}catch(r){console.error(`Remote event emitter "${e}" failed to emit event "${String(t)}" to tab ${n}:\n\tError message: "${r.message}"`)}}))}}const _={};const T=(e,t)=>{if(null==e||e[I]!==I)return!1;const n=e[O],r=_[n];if(null==r)return!1;r.emit(e[F],e.data)};function U(e){const t=_[e];if(t)return t;const n=new l.EventEmitter;return _[e]=n,s.a.runtime.onMessage.hasListener(T)||s.a.runtime.onMessage.addListener(T),n}let M;const L=e=>(M=new h({getRegisteredRemoteFunction:e=>C[e],browserAPIs:e.browserAPIs,initPaused:e.paused,sideName:e.sideName,role:e.role}),M.setup(),M)},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(0),i=n.n(r),o=n(159),a=n(1),s=n.n(a),l=n(28),c=n.n(l);const A=({children:e,placement:t,offsetX:n,offsetY:a,tooltipText:s,width:l,strategy:A,zIndex:p,getPortalRoot:h,fullWidthTarget:g,hideTooltip:m,dontCloseOnClick:v})=>{const[y,b]=Object(r.useState)(null),[w,B]=Object(r.useState)(null),[x,C]=Object(r.useState)(null),[S,k]=Object(r.useState)(!1),[E,I]=Object(r.useState)(null),{styles:O,attributes:F}=Object(o.usePopper)(y,w,{placement:t||"left-start",strategy:A||"absolute",modifiers:[{name:"offset",options:{offset:[a||0,n||10]}}]});let D=null;try{D=null!=h?null==h?void 0:h():document.querySelector("body")}catch(e){D=document.querySelector("body")}return Object(r.useEffect)((()=>()=>{E&&clearTimeout(E)}),[E]),i.a.createElement(i.a.Fragment,null,i.a.createElement(f,{onMouseEnter:e=>{{const e=setTimeout((()=>{k(!0)}),200);I(e)}},onMouseLeave:e=>{E&&(clearTimeout(E),I(null)),k(!1)},onMouseDown:e=>{v||(null==y?void 0:y.contains(e.target))||k(!1)},ref:b,zIndex:p,width:l,fullWidthTarget:g},e),S&&!m&&null!=s&&(null===h?i.a.createElement(d,Object.assign({ref:B,width:l,style:O.popper},F.popper),s,i.a.createElement(u,{ref:C,"data-popper-arrow":!0,style:O.arrow})):c.a.createPortal(i.a.createElement(d,Object.assign({ref:B,width:l,style:O.popper},F.popper),s,i.a.createElement(u,{ref:C,"data-popper-arrow":!0,style:O.arrow})),D)))},u=s.a.div`
    visibility: hidden;
    background: ${e=>e.theme.colors.greyScale3};

    ::before {
        position: absolute;
        width: 12px;
        height: 12px;
        background: inherit;
    }

    ::before {
        visibility: visible;
        content: '';
        transform: rotate(45deg);
    }
`,d=s.a.div`
    padding: 5px;
    text-align: center;
    border-radius: 5px;
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    padding: 8px 10px;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    justify-content: center;
    color: ${e=>e.theme.colors.greyScale6};
    border: 1px solid ${e=>e.theme.colors.greyScale4};
    font-size: 12px;
    line-height: 18px;
    background: ${e=>e.theme.colors.greyScale3};
    line-break: normal;
    width: ${e=>e.width?e.width:"max-content"};
    position: relative;
    z-index: 300000000000;

    ${e=>"light"===e.theme.variant&&a.css`
            border-color: ${e=>e.theme.colors.greyScale5};
            background: ${e=>e.theme.colors.greyScale5};
            backdrop-filter: blur(10px);
            color: ${e=>e.theme.colors.greyScale1};
        `};

    &[data-popper-placement^='top'] > ${u} {
        bottom: 6px;
        margin-left: -8px;

        ::before {
            border-bottom-right-radius: 3px;
            border-right: 1px solid ${e=>e.theme.colors.greyScale4};
            border-bottom: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    &[data-popper-placement^='bottom'] > ${u} {
        top: -7px;
        margin-left: -8px;

        ::before {
            border-top-left-radius: 3px;
            border-top: 1px solid ${e=>e.theme.colors.greyScale4};
            border-left: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    &[data-popper-placement^='left'] > ${u} {
        margin-top: -7px;
        right: 6px;

        ::before {
            border-top-right-radius: 3px;
            border-top: 1px solid ${e=>e.theme.colors.greyScale4};
            border-right: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    &[data-popper-placement^='right'] > ${u} {
        left: -7px;
        margin-top: -6px;

        ::before {
            border-bottom-left-radius: 3px;
            border-bottom: 1px solid ${e=>e.theme.colors.greyScale4};
            border-left: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    > * strong {
        color: ${e=>e.theme.colors.greyScale7};
        font-weight: 700;
        margin-right: 5px;
    }
`,f=s.a.div`
    position: relative;
    z-index: ${e=>e.zIndex};
    width: ${e=>e.fullWidthTarget&&"100%"};
    /* &:hover ${d} {
        min-height: 30px;
        padding: 5px;
        text-align: center;
        border-radius: 5px;
        display: flex;
        flex-wrap: nowrap;
        min-width: max-content;
        align-items: center;
        font-family: 'Satoshi', sans-serif;
font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on, 'liga' off;
        justify-content: center;
        color: ${e=>e.theme.colors.white};
        font-size: 14px;
        background: ${e=>e.theme.colors.greyScale2};
        width: 80px;
        line-break: normal;
    } */
`;s.a.div`
    box-shadow: 0px 24px 48px 0px ${e=>e.theme.colors.black};
    border-radius: 12px;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    background: ${e=>e.theme.colors.greyScale1};
    width: ${e=>e.width?e.width:"fit-content"};
    z-index: 300000000000;
    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));const r=e=>{var t,n;return{allIds:null!==(t=null==e?void 0:e.seedData.map(null==e?void 0:e.getId))&&void 0!==t?t:[],byId:null!==(n=null==e?void 0:e.seedData.reduce(((t,n)=>Object.assign(Object.assign({},t),{[e.getId(n)]:(null==e?void 0:e.cloneObjects)?Object.assign({},n):n})),{}))&&void 0!==n?n:{}}},i=(...e)=>{const t=r();for(const n of e)t.allIds=[...new Set([...t.allIds,...n.allIds])],t.byId=Object.assign(Object.assign({},t.byId),n.byId);return t},o=e=>e.allIds.map((t=>e.byId[t]))},function(e,t,n){"use strict";n.r(t),n.d(t,"addPeople",(function(){return o})),n.d(t,"arrowDown",(function(){return a})),n.d(t,"arrowLeft",(function(){return s})),n.d(t,"arrowRight",(function(){return l})),n.d(t,"arrowUp",(function(){return c})),n.d(t,"atSign",(function(){return A})),n.d(t,"backup",(function(){return u})),n.d(t,"bell",(function(){return d})),n.d(t,"block",(function(){return f})),n.d(t,"blueRoundCheck",(function(){return p})),n.d(t,"boldIcon",(function(){return h})),n.d(t,"bulletListIcon",(function(){return g})),n.d(t,"chatWithUs",(function(){return m})),n.d(t,"check",(function(){return v})),n.d(t,"checkedRound",(function(){return y})),n.d(t,"checkRound",(function(){return b})),n.d(t,"clock",(function(){return w})),n.d(t,"coilIcon",(function(){return B})),n.d(t,"collectionsEmpty",(function(){return x})),n.d(t,"collectionsFull",(function(){return C})),n.d(t,"command",(function(){return S})),n.d(t,"comment",(function(){return k})),n.d(t,"commentAdd",(function(){return E})),n.d(t,"commentFull",(function(){return I})),n.d(t,"compress",(function(){return O})),n.d(t,"copy",(function(){return F})),n.d(t,"cursor",(function(){return D})),n.d(t,"calendar",(function(){return _})),n.d(t,"date",(function(){return T})),n.d(t,"discord",(function(){return U})),n.d(t,"slack",(function(){return M})),n.d(t,"dots",(function(){return L})),n.d(t,"doubleArrow",(function(){return Q})),n.d(t,"dropImage",(function(){return R})),n.d(t,"edit",(function(){return P})),n.d(t,"emptyCircle",(function(){return H})),n.d(t,"expand",(function(){return N})),n.d(t,"feed",(function(){return j})),n.d(t,"file",(function(){return z})),n.d(t,"filePDF",(function(){return K})),n.d(t,"filterIcon",(function(){return $})),n.d(t,"folder",(function(){return W})),n.d(t,"fullPageReading",(function(){return V})),n.d(t,"globe",(function(){return G})),n.d(t,"goTo",(function(){return q})),n.d(t,"h1Icon",(function(){return Y})),n.d(t,"h2Icon",(function(){return J})),n.d(t,"hamburger",(function(){return X})),n.d(t,"heartEmpty",(function(){return Z})),n.d(t,"heartFull",(function(){return ee})),n.d(t,"helpIcon",(function(){return te})),n.d(t,"highlight",(function(){return ne})),n.d(t,"highlighterEmpty",(function(){return re})),n.d(t,"highlighterFull",(function(){return ie})),n.d(t,"imageIcon",(function(){return oe})),n.d(t,"imports",(function(){return ae})),n.d(t,"inbox",(function(){return se})),n.d(t,"info",(function(){return le})),n.d(t,"integrate",(function(){return ce})),n.d(t,"invite",(function(){return Ae})),n.d(t,"italicIcon",(function(){return ue})),n.d(t,"link",(function(){return de})),n.d(t,"linuxLogo",(function(){return fe})),n.d(t,"lock",(function(){return pe})),n.d(t,"lockFine",(function(){return he})),n.d(t,"login",(function(){return ge})),n.d(t,"logoHorizontal",(function(){return me})),n.d(t,"logoNoText",(function(){return ve})),n.d(t,"logout",(function(){return ye})),n.d(t,"longArrow",(function(){return be})),n.d(t,"longArrowRight",(function(){return we})),n.d(t,"macLogo",(function(){return Be})),n.d(t,"mail",(function(){return xe})),n.d(t,"mediumLogo",(function(){return Ce})),n.d(t,"memexLogoGrey",(function(){return Se})),n.d(t,"multiEdit",(function(){return ke})),n.d(t,"newFeed",(function(){return Ee})),n.d(t,"numberedListIcon",(function(){return Ie})),n.d(t,"openSidebar",(function(){return Oe})),n.d(t,"pause",(function(){return Fe})),n.d(t,"pdf",(function(){return De})),n.d(t,"peopleFine",(function(){return _e})),n.d(t,"peoplePlusFine",(function(){return Te})),n.d(t,"personFine",(function(){return Ue})),n.d(t,"phone",(function(){return Me})),n.d(t,"pin",(function(){return Le})),n.d(t,"play",(function(){return Qe})),n.d(t,"playFull",(function(){return Re})),n.d(t,"plus",(function(){return Pe})),n.d(t,"plusIcon",(function(){return He})),n.d(t,"quickActionRibbon",(function(){return Ne})),n.d(t,"readwise",(function(){return je})),n.d(t,"redo",(function(){return ze})),n.d(t,"reload",(function(){return Ke})),n.d(t,"remove",(function(){return $e})),n.d(t,"removeX",(function(){return We})),n.d(t,"ribbonOff",(function(){return Ve})),n.d(t,"ribbonOn",(function(){return Ge})),n.d(t,"sadFace",(function(){return qe})),n.d(t,"saveIcon",(function(){return Ye})),n.d(t,"searchIcon",(function(){return Je})),n.d(t,"settings",(function(){return Xe})),n.d(t,"share",(function(){return Ze})),n.d(t,"shared",(function(){return et})),n.d(t,"sharedProtected",(function(){return tt})),n.d(t,"shareEmpty",(function(){return nt})),n.d(t,"shareWhite",(function(){return rt})),n.d(t,"shield",(function(){return it})),n.d(t,"sidebarIcon",(function(){return ot})),n.d(t,"sideBySide",(function(){return at})),n.d(t,"smileFace",(function(){return st})),n.d(t,"sort",(function(){return lt})),n.d(t,"spotifyLogo",(function(){return ct})),n.d(t,"stars",(function(){return At})),n.d(t,"stop",(function(){return ut})),n.d(t,"strikethroughIcon",(function(){return dt})),n.d(t,"substackLogo",(function(){return ft})),n.d(t,"sunrise",(function(){return pt})),n.d(t,"tagEmpty",(function(){return ht})),n.d(t,"tagFull",(function(){return gt})),n.d(t,"threadIcon",(function(){return mt})),n.d(t,"timestampIcon",(function(){return vt})),n.d(t,"tooltipOff",(function(){return yt})),n.d(t,"tooltipOn",(function(){return bt})),n.d(t,"trash",(function(){return wt})),n.d(t,"triangle",(function(){return Bt})),n.d(t,"twitter",(function(){return xt})),n.d(t,"twitterLogo",(function(){return Ct})),n.d(t,"blueskyLogo",(function(){return St})),n.d(t,"telegram",(function(){return kt})),n.d(t,"googleLogo",(function(){return Et})),n.d(t,"twitterThin",(function(){return It})),n.d(t,"warning",(function(){return Ot})),n.d(t,"webMonetizationLogo",(function(){return Ft})),n.d(t,"webMonetizationLogoConfirmed",(function(){return Dt})),n.d(t,"winLogo",(function(){return _t})),n.d(t,"youtubeLogo",(function(){return Tt})),n.d(t,"reply",(function(){return Ut})),n.d(t,"openAI",(function(){return Mt})),n.d(t,"openAIicon",(function(){return Lt})),n.d(t,"bulletPoint",(function(){return Qt})),n.d(t,"sun",(function(){return Rt})),n.d(t,"moon",(function(){return Pt})),n.d(t,"cameraIcon",(function(){return Ht})),n.d(t,"memexIconDarkMode",(function(){return Nt})),n.d(t,"memexIconLightMode",(function(){return jt})),n.d(t,"obsidianLogo",(function(){return zt})),n.d(t,"logseqLogo",(function(){return Kt})),n.d(t,"rectangleDraw",(function(){return $t})),n.d(t,"local",(function(){return Wt})),n.d(t,"key",(function(){return Vt})),n.d(t,"spread",(function(){return Gt})),n.d(t,"dragList",(function(){return qt})),n.d(t,"memexIconOnly",(function(){return Yt})),n.d(t,"move",(function(){return Jt})),n.d(t,"enter",(function(){return Xt})),n.d(t,"browserIcon",(function(){return Zt}));var r=n(3),i=n.n(r);const o=i.a.runtime.getURL("/img/addPeople.svg"),a=i.a.runtime.getURL("/img/arrowDown.svg"),s=i.a.runtime.getURL("/img/arrowLeft.svg"),l=i.a.runtime.getURL("/img/arrowRight.svg"),c=i.a.runtime.getURL("/img/arrow-up.svg"),A=i.a.runtime.getURL("/img/atSign.svg"),u=i.a.runtime.getURL("/img/backup.svg"),d=null,f=i.a.runtime.getURL("/img/block.svg"),p=i.a.runtime.getURL("/img/blueRoundCheck.svg"),h=i.a.runtime.getURL("/img/boldIcon.svg"),g=i.a.runtime.getURL("/img/bulletListIcon.svg"),m=i.a.runtime.getURL("/img/chatWithUs.svg"),v=i.a.runtime.getURL("/img/check.svg"),y=null,b=i.a.runtime.getURL("/img/checkRound.svg"),w=i.a.runtime.getURL("/img/clock.svg"),B=null,x=i.a.runtime.getURL("/img/spaceEmpty.svg"),C=i.a.runtime.getURL("/img/spaceFull.svg"),S=i.a.runtime.getURL("/img/command.svg"),k=i.a.runtime.getURL("/img/comment_full.svg"),E=i.a.runtime.getURL("/img/comment_add.svg"),I=i.a.runtime.getURL("/img/comment_full.svg"),O=i.a.runtime.getURL("/img/compress.svg"),F=i.a.runtime.getURL("/img/copy.svg"),D=i.a.runtime.getURL("/img/cursor.svg"),_=i.a.runtime.getURL("/img/calendar.svg"),T=i.a.runtime.getURL("/img/date.svg"),U=i.a.runtime.getURL("/img/discord.svg"),M=i.a.runtime.getURL("/img/slack.svg"),L=i.a.runtime.getURL("/img/3dots.svg"),Q=i.a.runtime.getURL("/img/doubleArrow.svg"),R=i.a.runtime.getURL("/img/dropImage.svg"),P=i.a.runtime.getURL("/img/edit.svg"),H=i.a.runtime.getURL("/img/emptyCircle.svg"),N=i.a.runtime.getURL("/img/expand.svg"),j=i.a.runtime.getURL("/img/feed.svg"),z=i.a.runtime.getURL("/img/file.svg"),K=i.a.runtime.getURL("/img/file-pdf.svg"),$=i.a.runtime.getURL("/img/filterIcon.svg"),W=i.a.runtime.getURL("/img/folder.svg"),V=i.a.runtime.getURL("/img/fullPageReading.svg"),G=i.a.runtime.getURL("/img/globe.svg"),q=i.a.runtime.getURL("/img/open.svg"),Y=i.a.runtime.getURL("/img/h1Icon.svg"),J=i.a.runtime.getURL("/img/h2Icon.svg"),X=i.a.runtime.getURL("/img/hamburger.svg"),Z=i.a.runtime.getURL("/img/heart_empty.svg"),ee=i.a.runtime.getURL("/img/heart_full.svg"),te=i.a.runtime.getURL("/img/help.svg"),ne=i.a.runtime.getURL("/img/highlights.svg"),re=i.a.runtime.getURL("/img/highlightOff.svg"),ie=i.a.runtime.getURL("/img/highlightOn.svg"),oe=i.a.runtime.getURL("/img/imageIcon.svg"),ae=i.a.runtime.getURL("/img/import.svg"),se=i.a.runtime.getURL("/img/inbox.svg"),le=i.a.runtime.getURL("/img/infoIcon.svg"),ce=i.a.runtime.getURL("/img/integrate.svg"),Ae=i.a.runtime.getURL("/img/invite.svg"),ue=i.a.runtime.getURL("/img/italicIcon.svg"),de=i.a.runtime.getURL("/img/link.svg"),fe=i.a.runtime.getURL("/img/linux_logo.svg"),pe=i.a.runtime.getURL("/img/lock.svg"),he=i.a.runtime.getURL("/img/lockFine.svg"),ge=i.a.runtime.getURL("/img/login.svg"),me=i.a.runtime.getURL("/img/memexLogoHorizontal.png"),ve=i.a.runtime.getURL("/img/memexLogo.svg"),ye=i.a.runtime.getURL("/img/logout.svg"),be=i.a.runtime.getURL("/img/longArrowLeft.svg"),we=i.a.runtime.getURL("/img/longArrowRight.svg"),Be=i.a.runtime.getURL("/img/apple_logo.svg"),xe=i.a.runtime.getURL("/img/mail.svg"),Ce=i.a.runtime.getURL("/img/medium-logo.svg"),Se=i.a.runtime.getURL("/img/memexLogoGrey.svg"),ke=i.a.runtime.getURL("/img/multiEdits.svg"),Ee=null,Ie=i.a.runtime.getURL("/img/numberedListIcon.svg"),Oe=i.a.runtime.getURL("/img/openSidebar.svg"),Fe=i.a.runtime.getURL("/img/pause.svg"),De=i.a.runtime.getURL("/img/file-pdf.svg"),_e=i.a.runtime.getURL("/img/peopleFine.svg"),Te=i.a.runtime.getURL("/img/peoplePlusFine.svg"),Ue=i.a.runtime.getURL("/img/personFine.svg"),Me=i.a.runtime.getURL("/img/phone.svg"),Le=i.a.runtime.getURL("/img/pin.svg"),Qe=i.a.runtime.getURL("/img/play.svg"),Re=i.a.runtime.getURL("/img/playFull.svg"),Pe=i.a.runtime.getURL("/img/plus.svg"),He=i.a.runtime.getURL("/img/followedSpace.svg"),Ne=i.a.runtime.getURL("/img/quickActionRibbon.svg"),je=i.a.runtime.getURL("/img/readwise.svg"),ze=i.a.runtime.getURL("/img/redo.svg"),Ke=i.a.runtime.getURL("/img/reload.svg"),$e=i.a.runtime.getURL("/img/remove.svg"),We=i.a.runtime.getURL("/img/removeX.svg"),Ve=i.a.runtime.getURL("/img/ribbonOff.svg"),Ge=i.a.runtime.getURL("/img/ribbonOn.svg"),qe=i.a.runtime.getURL("/img/sadFace.svg"),Ye=i.a.runtime.getURL("/img/saveIcon.svg"),Je=i.a.runtime.getURL("/img/search.svg"),Xe=i.a.runtime.getURL("/img/settings.svg"),Ze=i.a.runtime.getURL("/img/share.svg"),et=i.a.runtime.getURL("/img/shared.svg"),tt=i.a.runtime.getURL("/img/sharedprotected.svg"),nt=i.a.runtime.getURL("/img/shareEmpty.svg"),rt=i.a.runtime.getURL("/img/shareWhite.svg"),it=i.a.runtime.getURL("/img/shield.svg"),ot=i.a.runtime.getURL("/img/sidebarOn.svg"),at=i.a.runtime.getURL("/img/sideBySide.svg"),st=i.a.runtime.getURL("/img/smileFace.svg"),lt=i.a.runtime.getURL("/img/sort.svg"),ct=i.a.runtime.getURL("/img/spotify-logo.svg"),At=i.a.runtime.getURL("/img/stars.svg"),ut=i.a.runtime.getURL("/img/stop.svg"),dt=i.a.runtime.getURL("/img/strikethroughIcon.svg"),ft=i.a.runtime.getURL("/img/substack-logo.svg"),pt=i.a.runtime.getURL("/img/sunrise.svg"),ht=i.a.runtime.getURL("/img/tag_empty.svg"),gt=i.a.runtime.getURL("/img/tag_full.svg"),mt=null,vt=i.a.runtime.getURL("/img/timestampIcon.svg"),yt=i.a.runtime.getURL("/img/tooltipOff.svg"),bt=i.a.runtime.getURL("/img/tooltipOn.svg"),wt=i.a.runtime.getURL("/img/trash.svg"),Bt=i.a.runtime.getURL("/img/chevron-down.svg"),xt=i.a.runtime.getURL("/img/twitter.svg"),Ct=i.a.runtime.getURL("/img/twitter-logo.svg"),St=i.a.runtime.getURL("/img/bluesky-logo.svg"),kt=i.a.runtime.getURL("/img/telegram.svg"),Et=i.a.runtime.getURL("/img/googleLogo.svg"),It=i.a.runtime.getURL("/img/youtube-logo.svg"),Ot=i.a.runtime.getURL("/img/alertRound.svg"),Ft=i.a.runtime.getURL("/img/web-monetization-logo.svg"),Dt=i.a.runtime.getURL("/img/web-monetization-logo-confirmed.svg"),_t=i.a.runtime.getURL("/img/windows_logo.svg"),Tt=i.a.runtime.getURL("/img/youtube-logo.svg"),Ut=i.a.runtime.getURL("/img/reply.svg"),Mt=i.a.runtime.getURL("/img/openAI.svg"),Lt=i.a.runtime.getURL("/img/openAIicon.svg"),Qt=i.a.runtime.getURL("/img/bulletPoint.svg"),Rt=i.a.runtime.getURL("/img/sun.svg"),Pt=i.a.runtime.getURL("/img/moon.svg"),Ht=i.a.runtime.getURL("/img/cameraIcon.svg"),Nt=i.a.runtime.getURL("/img/memexIconDarkMode.svg"),jt=i.a.runtime.getURL("/img/memexIcoLightkMode.svg"),zt=i.a.runtime.getURL("/img/obsidianLogo.svg"),Kt=i.a.runtime.getURL("/img/logseqLogo.svg"),$t=i.a.runtime.getURL("/img/rectangleDraw.svg"),Wt=i.a.runtime.getURL("/img/local.svg"),Vt=i.a.runtime.getURL("/img/key.svg"),Gt=i.a.runtime.getURL("/img/spread.svg"),qt=i.a.runtime.getURL("/img/dragList.svg"),Yt=i.a.runtime.getURL("/img/memexIconOnly.svg"),Jt=i.a.runtime.getURL("/img/move.svg"),Xt=i.a.runtime.getURL("/img/enter.svg"),Zt=i.a.runtime.getURL("/img/browserIcons/logo-48.png")},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return A})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(2),i=n(208),o=n.n(i),a=(n(56),n(113));function s(e){return t=>{const n=e[t.event.type];if(!n)throw new Error(`No event processor found for event ${t.event.type}`);return n(t)}}function l(e,t,{actions:n={},dependencies:r=null}={}){return i=>{!function({eventProcessor:e,state:t,setState:n,props:r,event:i,dependencies:o,actions:a}){const s=e({state:t,event:i,dependencies:o});s.updateState&&n(s.updateState),s.dispatch&&c(r,s.dispatch,"event"),s.actions&&c(a,s.actions,"action")}({eventProcessor:t,state:e.state,props:e.props,setState:e.setState.bind(e),event:i,actions:n,dependencies:r})}}function c(e,t,n){t instanceof Array||(t=[t]);for(const r of t){const t=e[r.type];t||console.error(`Dispatched ${n} without handler: ${r.type}`);t(...r.args?Object.values(r.args):[])}}class A extends a.a{constructor(e,t){super(e,{logic:t})}}function u(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return(yield d(e,"loadState",t))[0]}))}function d(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=e=>"function"==typeof t?t(e):{[t]:{$set:e}};e.emitMutation(r("running"));try{const t=yield n();let i="success",a={};return t&&(t.status&&(i=t.status),t.mutation&&(a=t.mutation)),e.emitMutation(o()(r(i),a)),{success:"error"!==i}}catch(t){return console.error(t),e.emitMutation(r("error")),{success:!1}}}))}function f(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=n=>e.setState({[t]:n});r("running");try{yield n(),r("success")}catch(e){throw r("error"),e}}))}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.PROTECTED=0]="PROTECTED",e[e.PRIVATE=100]="PRIVATE",e[e.SHARED=200]="SHARED",e[e.SHARED_PROTECTED=300]="SHARED_PROTECTED"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n(1);const o=40,a=1;function s(e){return r.createElement(r.Fragment,null,r.createElement(l,{speed:e.speed?e.speed:a,size:e.size?e.size:o,margin:e.margin}))}const l=n.n(i).a.div`
    position: relative;
    width: ${e=>e.size}px;
    height: ${e=>e.size}px;
    margin: ${e=>e.margin};

    &::before {
        animation: ${()=>i.keyframes`0% {
      transform: translate3d(-50%, -50%, 0) rotate(0deg);
    }
    100% {
      transform: translate3d(-50%, -50%, 0) rotate(360deg);
    }`}
            ${e=>e.speed?e.speed:a}s infinite
            linear;
        animation-play-state: inherit;
        border: ${e=>e.size>29?"solid 4px":"solid 2px"};
        border-color: ${e=>e.theme.colors.greyScale3};

        border-bottom-color: ${e=>e.theme.colors.prime1};
        border-radius: 50%;
        content: '';
        height: ${e=>e.size}px;
        width: ${e=>e.size}px;
        position: absolute;
        transform: translate3d(-50%, -50%, 0);
        will-change: transform;
        left: calc(${e=>e.size}px / 2);
        top: calc(${e=>e.size}px / 2);
    }
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(7),l=n(25);function c(e){if(null==e.keys&&null==e.optional)return null;let t=[];const n=Object(l.a)({key:"mod"});return e.keys&&e.keys.forEach((e=>{if("MOD_KEY"===e)t.push(n);else{const n=e.charAt(0).toUpperCase()+e.slice(1);t.push(n)}})),i.a.createElement(A,null,e.optional?i.a.createElement(s.a,{tooltipText:e.optionalTooltipText,placement:"bottom",getPortalRoot:e.getRootElement},i.a.createElement(u,{size:e.size,optional:e.optional.length>0},e.optional)):null,t.length>0?t.map((t=>i.a.createElement(u,{key:t,size:e.size,optional:!1},t))):null)}const A=a.a.div`
    display: flex;
    grid-gap: 3px;
`,u=a.a.div`
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15),
        inset 0px -2px 1px rgba(255, 255, 255, 0.15);
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 6px;
    background: ${e=>e.theme.colors.greyScale4};
    height: fill-available;
    width: fit-content;
    min-width: 13px;
    padding: 4px 8px;
    color: ${e=>e.theme.colors.white};
    font-size: 12px;
    cursor: default;
    font-weight: 400;
    letter-spacing: 0.8px;

    ${e=>e.optional&&o.css`
            background: ${e=>e.theme.colors.greyScale5};
            margin-right: 8px;
        `}
    ${e=>"small"===e.size&&o.css`
            padding: 2px 4px;
            font-size: 10px;
            margin-right: 3px;
            border-radius: 4px;
        `}
    ${e=>"medium"===e.size&&o.css`
            padding: 2px 4px;
            font-size: 12px;
            margin-right: 3px;
            border-radius: 4px;
        `}

        ${e=>"light"===e.theme.variant&&o.css`
                background: ${e=>e.theme.colors.greyScale3};
                color: ${e=>e.theme.colors.greyScale5};
            `};

`},function(e,t,n){e.exports=n(577)()},,function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function A(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Wn(e,t,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=h()),e._pf}function m(e){if(null==e._isValid){var t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var y=r.momentProperties=[];function b(e,t){var n,r,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),y.length>0)for(n=0;n<y.length;n++)l(i=t[r=y[n]])||(e[r]=i);return e}var w=!1;function B(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function x(e){return e instanceof B||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=C(t)),n}function k(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&S(e[r])!==S(t[r]))&&a++;return a+o}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function I(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}E(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var O,F={};function D(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),F[e]||(E(t),F[e]=!0)}function _(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,n;for(n in e)_(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function U(e,t){var n,r=f({},e);for(n in t)d(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function M(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,O=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Q(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return _(r)?r.call(t,n):r}var R={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}var H="Invalid date";function N(){return this._invalidDate}var j="%d",z=/\d{1,2}/;function K(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function W(e,t,n,r){var i=this._relativeTime[n];return _(i)?i(e,t,n,r):i.replace(/%d/i,e)}function V(e,t){var n=this._relativeTime[e>0?"future":"past"];return _(n)?n(t):n.replace(/%s/i,t)}var G={};function q(e,t){var n=e.toLowerCase();G[n]=G[n+"s"]=G[t]=e}function Y(e){return"string"==typeof e?G[e]||G[e.toLowerCase()]:void 0}function J(e){var t,n,r={};for(n in e)d(e,n)&&(t=Y(n))&&(r[t]=e[n]);return r}var X={};function Z(e,t){X[e]=t}function ee(e){var t=[];for(var n in e)t.push({unit:n,priority:X[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}function te(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var ne=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ie={},oe={};function ae(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(oe[e]=i),t&&(oe[t[0]]=function(){return te(i.apply(this,arguments),t[1],t[2])}),n&&(oe[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function se(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function le(e){var t,n,r=e.match(ne);for(t=0,n=r.length;t<n;t++)oe[r[t]]?r[t]=oe[r[t]]:r[t]=se(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=_(r[i])?r[i].call(t,e):r[i];return o}}function ce(e,t){return e.isValid()?(t=Ae(t,e.localeData()),ie[t]=ie[t]||le(t),ie[t](e)):e.localeData().invalidDate()}function Ae(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(re.lastIndex=0;n>=0&&re.test(e);)e=e.replace(re,r),re.lastIndex=0,n-=1;return e}var ue=/\d/,de=/\d\d/,fe=/\d{3}/,pe=/\d{4}/,he=/[+-]?\d{6}/,ge=/\d\d?/,me=/\d\d\d\d?/,ve=/\d\d\d\d\d\d?/,ye=/\d{1,3}/,be=/\d{1,4}/,we=/[+-]?\d{1,6}/,Be=/\d+/,xe=/[+-]?\d+/,Ce=/Z|[+-]\d\d:?\d\d/gi,Se=/Z|[+-]\d\d(?::?\d\d)?/gi,ke=/[+-]?\d+(\.\d{1,3})?/,Ee=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ie={};function Oe(e,t,n){Ie[e]=_(t)?t:function(e,r){return e&&n?n:t}}function Fe(e,t){return d(Ie,e)?Ie[e](t._strict,t._locale):new RegExp(De(e))}function De(e){return _e(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function _e(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Te={};function Ue(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=S(e)}),n=0;n<e.length;n++)Te[e[n]]=r}function Me(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Le(e,t,n){null!=t&&d(Te,e)&&Te[e](t,n._a,n,e)}var Qe=0,Re=1,Pe=2,He=3,Ne=4,je=5,ze=6,Ke=7,$e=8;function We(e){return Ve(e)?366:365}function Ve(e){return e%4==0&&e%100!=0||e%400==0}ae("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),ae(0,["YY",2],0,(function(){return this.year()%100})),ae(0,["YYYY",4],0,"year"),ae(0,["YYYYY",5],0,"year"),ae(0,["YYYYYY",6,!0],0,"year"),q("year","y"),Z("year",1),Oe("Y",xe),Oe("YY",ge,de),Oe("YYYY",be,pe),Oe("YYYYY",we,he),Oe("YYYYYY",we,he),Ue(["YYYYY","YYYYYY"],Qe),Ue("YYYY",(function(e,t){t[Qe]=2===e.length?r.parseTwoDigitYear(e):S(e)})),Ue("YY",(function(e,t){t[Qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[Qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var Ge,qe=Je("FullYear",!0);function Ye(){return Ve(this.year())}function Je(e,t){return function(n){return null!=n?(Ze(this,e,n),r.updateOffset(this,t),this):Xe(this,e)}}function Xe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ze(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ve(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),rt(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function et(e){return _(this[e=Y(e)])?this[e]():this}function tt(e,t){if("object"==typeof e)for(var n=ee(e=J(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(_(this[e=Y(e)]))return this[e](t);return this}function nt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nt(t,12);return e+=(t-n)/12,1===n?Ve(e)?29:28:31-n%7%2}Ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},ae("M",["MM",2],"Mo",(function(){return this.month()+1})),ae("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),ae("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),q("month","M"),Z("month",8),Oe("M",ge),Oe("MM",ge,de),Oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Oe("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[Re]=S(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Re]=i:g(n).invalidMonth=e}));var it=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function at(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||it).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}var st="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function lt(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[it.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ct(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))||-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))||-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null}function At(e,t,n){var r,i,o;if(this._monthsParseExact)return ct.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ut(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),rt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function dt(e){return null!=e?(ut(this,e),r.updateOffset(this,!0),this):Xe(this,"Month")}function ft(){return rt(this.year(),this.month())}var pt=Ee;function ht(e){return this._monthsParseExact?(d(this,"_monthsRegex")||vt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=pt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}var gt=Ee;function mt(e){return this._monthsParseExact?(d(this,"_monthsRegex")||vt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=gt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=_e(r[t]),i[t]=_e(i[t]);for(t=0;t<24;t++)o[t]=_e(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function yt(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function bt(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function wt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function Bt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return s<=0?a=We(o=e-1)+s:s>We(e)?(o=e+1,a=s-We(e)):(o=e,a=s),{year:o,dayOfYear:a}}function xt(e,t,n){var r,i,o=wt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Ct(i=e.year()-1,t,n):a>Ct(e.year(),t,n)?(r=a-Ct(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ct(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(We(e)-r+i)/7}function St(e){return xt(e,this._week.dow,this._week.doy).week}ae("w",["ww",2],"wo","week"),ae("W",["WW",2],"Wo","isoWeek"),q("week","w"),q("isoWeek","W"),Z("week",5),Z("isoWeek",5),Oe("w",ge),Oe("ww",ge,de),Oe("W",ge),Oe("WW",ge,de),Me(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=S(e)}));var kt={dow:0,doy:6};function Et(){return this._week.dow}function It(){return this._week.doy}function Ot(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ft(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Dt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function _t(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}ae("d",0,"do","day"),ae("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),ae("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),ae("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),ae("e",0,0,"weekday"),ae("E",0,0,"isoWeekday"),q("day","d"),q("weekday","e"),q("isoWeekday","E"),Z("day",11),Z("weekday",11),Z("isoWeekday",11),Oe("d",ge),Oe("e",ge),Oe("E",ge),Oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Me(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Me(["d","e","E"],(function(e,t,n,r){t[r]=S(e)}));var Tt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Ut(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone}var Mt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Lt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var Qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Rt(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Pt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null}function Ht(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Pt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Nt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Dt(e,this.localeData()),this.add(e-t,"d")):t}function jt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function zt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=_t(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}var Kt=Ee;function $t(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Yt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Kt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var Wt=Ee;function Vt(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Yt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Wt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Gt=Ee;function qt(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Yt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=_e(s[t]),l[t]=_e(l[t]),c[t]=_e(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Zt(e,t){ae(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}ae("H",["HH",2],0,"hour"),ae("h",["hh",2],0,Jt),ae("k",["kk",2],0,Xt),ae("hmm",0,0,(function(){return""+Jt.apply(this)+te(this.minutes(),2)})),ae("hmmss",0,0,(function(){return""+Jt.apply(this)+te(this.minutes(),2)+te(this.seconds(),2)})),ae("Hmm",0,0,(function(){return""+this.hours()+te(this.minutes(),2)})),ae("Hmmss",0,0,(function(){return""+this.hours()+te(this.minutes(),2)+te(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),q("hour","h"),Z("hour",13),Oe("a",en),Oe("A",en),Oe("H",ge),Oe("h",ge),Oe("k",ge),Oe("HH",ge,de),Oe("hh",ge,de),Oe("kk",ge,de),Oe("hmm",me),Oe("hmmss",ve),Oe("Hmm",me),Oe("Hmmss",ve),Ue(["H","HH"],He),Ue(["k","kk"],(function(e,t,n){var r=S(e);t[He]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[He]=S(e),g(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[He]=S(e.substr(0,r)),t[Ne]=S(e.substr(r)),g(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=S(e.substr(0,r)),t[Ne]=S(e.substr(r,2)),t[je]=S(e.substr(i)),g(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[He]=S(e.substr(0,r)),t[Ne]=S(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=S(e.substr(0,r)),t[Ne]=S(e.substr(r,2)),t[je]=S(e.substr(i))}));var nn=/[ap]\.?m?\.?/i;function rn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,an=Je("Hours",!0),sn={calendar:L,longDateFormat:R,invalidDate:H,ordinal:j,dayOfMonthOrdinalParse:z,relativeTime:$,months:ot,monthsShort:st,week:kt,weekdays:Tt,weekdaysMin:Qt,weekdaysShort:Mt,meridiemParse:nn},ln={},cn={};function An(e){return e?e.toLowerCase().replace("_","-"):e}function un(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=An(e[o]).split("-")).length,n=(n=An(e[o+1]))?n.split("-"):null;t>0;){if(r=dn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&k(i,n,!0)>=t-1)break;t--}o++}return on}function dn(t){var n=null;if(!ln[t]&&void 0!==e&&e&&e.exports)try{n=on._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),fn(n)}catch(e){}return ln[t]}function fn(e,t){var n;return e&&((n=l(t)?gn(e):pn(e,t))?on=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function pn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=ln[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new M(U(r,t)),cn[e]&&cn[e].forEach((function(e){pn(e.name,e.config)})),fn(e),ln[e]}return delete ln[e],null}function hn(e,t){if(null!=t){var n,r,i=sn;null!=(r=dn(e))&&(i=r._config),(n=new M(t=U(i,t))).parentLocale=ln[e],ln[e]=n,fn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?ln[e]=ln[e].parentLocale:null!=ln[e]&&delete ln[e]);return ln[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!o(e)){if(t=dn(e))return t;e=[e]}return un(e)}function mn(){return O(ln)}function vn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Re]<0||n[Re]>11?Re:n[Pe]<1||n[Pe]>rt(n[Qe],n[Re])?Pe:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ne]||0!==n[je]||0!==n[ze])?He:n[Ne]<0||n[Ne]>59?Ne:n[je]<0||n[je]>59?je:n[ze]<0||n[ze]>999?ze:-1,g(e)._overflowDayOfYear&&(t<Qe||t>Pe)&&(t=Pe),g(e)._overflowWeeks&&-1===t&&(t=Ke),g(e)._overflowWeekday&&-1===t&&(t=$e),g(e).overflow=t),e}function yn(e,t,n){return null!=e?e:null!=t?t:n}function bn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function wn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=bn(e),e._w&&null==e._a[Pe]&&null==e._a[Re]&&Bn(e),null!=e._dayOfYear&&(o=yn(e._a[Qe],r[Qe]),(e._dayOfYear>We(o)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[Re]=n.getUTCMonth(),e._a[Pe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ne]&&0===e._a[je]&&0===e._a[ze]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?bt:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function Bn(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=yn(t.GG,e._a[Qe],xt(Vn(),1,4).year),r=yn(t.W,1),((i=yn(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=xt(Vn(),o,a);n=yn(t.gg,e._a[Qe],c.year),r=yn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Ct(n,o,a)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(s=Bt(n,r,i,o,a),e._a[Qe]=s.year,e._dayOfYear=s.dayOfYear)}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((\-?\d+)/i;function On(e){var t,n,r,i,o,a,s=e._i,l=xn.exec(s)||Cn.exec(s);if(l){for(g(e).iso=!0,t=0,n=kn.length;t<n;t++)if(kn[t][1].exec(l[1])){i=kn[t][0],r=!1!==kn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=En.length;t<n;t++)if(En[t][1].exec(l[3])){o=(l[2]||" ")+En[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Sn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Pn(e)}else e._isValid=!1}var Fn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Dn(e,t,n,r,i,o){var a=[_n(e),st.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function _n(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Tn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Un(e,t,n){return!e||Mt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}var Mn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ln(e,t,n){if(e)return Mn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Qn(e){var t=Fn.exec(Tn(e._i));if(t){var n=Dn(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Un(t[1],n,e))return;e._a=n,e._tzm=Ln(t[8],t[9],t[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Rn(e){var t=In.exec(e._i);null===t?(On(e),!1===e._isValid&&(delete e._isValid,Qn(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Pn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,o,a,s=""+e._i,l=s.length,c=0;for(i=Ae(e._f,e._locale).match(ne)||[],t=0;t<i.length;t++)o=i[t],(n=(s.match(Fe(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&g(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),oe[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Le(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=l-c,s.length>0&&g(e).unusedInput.push(s),e._a[He]<=12&&!0===g(e).bigHour&&e._a[He]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[He]=Hn(e._locale,e._a[He],e._meridiem),wn(e),vn(e)}else Qn(e);else On(e)}function Hn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Nn(e){var t,n,r,i,o;if(0===e._f.length)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Pn(t),m(t)&&(o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,(null==r||o<r)&&(r=o,n=t));f(e,n||t)}function jn(e){if(!e._d){var t=J(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),wn(e)}}function zn(e){var t=new B(vn(Kn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Kn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new B(vn(t)):(A(t)?e._d=t:o(n)?Nn(e):n?Pn(e):$n(e),m(e)||(e._d=null),e))}function $n(e){var t=e._i;l(t)?e._d=new Date(r.now()):A(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Rn(e):o(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),wn(e)):a(t)?jn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Wn(e,t,n,r,i){var l={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&s(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=e,l._f=t,l._strict=r,zn(l)}function Vn(e,t,n,r){return Wn(e,t,n,r,!1)}r.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Gn=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Vn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),qn=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Vn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function Yn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Vn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Yn("isBefore",[].slice.call(arguments,0))}function Xn(){return Yn("isAfter",[].slice.call(arguments,0))}var Zn=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tr(e){for(var t in e)if(-1===Ge.call(er,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<er.length;++r)if(e[er[r]]){if(n)return!1;parseFloat(e[er[r]])!==S(e[er[r]])&&(n=!0)}return!0}function nr(){return this._isValid}function rr(){return Sr(NaN)}function ir(e){var t=J(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,A=t.millisecond||0;this._isValid=tr(t),this._milliseconds=+A+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function or(e){return e instanceof ir}function ar(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function sr(e,t){ae(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+te(~~(e/60),2)+t+te(~~e%60,2)}))}sr("Z",":"),sr("ZZ",""),Oe("Z",Se),Oe("ZZ",Se),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=cr(Se,e)}));var lr=/([\+\-]|\d\d)/gi;function cr(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(lr)||["-",0,0],i=60*r[1]+S(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ar(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||A(e)?e.valueOf():Vn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Vn(e).local()}function ur(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function dr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=cr(Se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=ur(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Fr(this,Sr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:ur(this)}function fr(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function pr(e){return this.utcOffset(0,e)}function hr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ur(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=cr(Ce,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function mr(e){return!!this.isValid()&&(e=e?Vn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function vr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function yr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(b(e,this),(e=Kn(e))._a){var t=e._isUTC?p(e._a):Vn(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function br(){return!!this.isValid()&&!this._isUTC}function wr(){return!!this.isValid()&&this._isUTC}function Br(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var xr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Cr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Sr(e,t){var n,r,i,o=e,a=null;return or(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=xr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:S(a[Pe])*n,h:S(a[He])*n,m:S(a[Ne])*n,s:S(a[je])*n,ms:S(ar(1e3*a[ze]))*n}):(a=Cr.exec(e))?(n="-"===a[1]?-1:(a[1],1),o={y:kr(a[2],n),M:kr(a[3],n),w:kr(a[4],n),d:kr(a[5],n),h:kr(a[6],n),m:kr(a[7],n),s:kr(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Ir(Vn(o.from),Vn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ir(o),or(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function kr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Er(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ir(e,t){var n;return e.isValid()&&t.isValid()?(t=Ar(t,e),e.isBefore(t)?n=Er(e,t):((n=Er(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Or(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Fr(this,Sr(n="string"==typeof n?+n:n,r),e),this}}function Fr(e,t,n,i){var o=t._milliseconds,a=ar(t._days),s=ar(t._months);e.isValid()&&(i=null==i||i,s&&ut(e,Xe(e,"Month")+s*n),a&&Ze(e,"Date",Xe(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Sr.fn=ir.prototype,Sr.invalid=rr;var Dr=Or(1,"add"),_r=Or(-1,"subtract");function Tr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ur(e,t){var n=e||Vn(),i=Ar(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(_(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Vn(n)))}function Mr(){return new B(this)}function Lr(e,t){var n=x(e)?e:Vn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(l(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Qr(e,t){var n=x(e)?e:Vn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(l(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Rr(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Pr(e,t){var n,r=x(e)?e:Vn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Y(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Hr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Nr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function jr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ar(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=Y(t)){case"year":o=zr(this,r)/12;break;case"month":o=zr(this,r);break;case"quarter":o=zr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:C(o)}function zr(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Kr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ce(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ce(n,"Z")):ce(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Wr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+i+o)}function Vr(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=ce(this,e);return this.localeData().postformat(t)}function Gr(e,t){return this.isValid()&&(x(e)&&e.isValid()||Vn(e).isValid())?Sr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function qr(e){return this.from(Vn(),e)}function Yr(e,t){return this.isValid()&&(x(e)&&e.isValid()||Vn(e).isValid())?Sr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Jr(e){return this.to(Vn(),e)}function Xr(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zr=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ei(){return this._locale}function ti(e){switch(e=Y(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function ni(e){return void 0===(e=Y(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function ri(){return this._d.valueOf()-6e4*(this._offset||0)}function ii(){return Math.floor(this.valueOf()/1e3)}function oi(){return new Date(this.valueOf())}function ai(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function si(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function li(){return this.isValid()?this.toISOString():null}function ci(){return m(this)}function Ai(){return f({},g(this))}function ui(){return g(this).overflow}function di(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function fi(e,t){ae(0,[e,e.length],0,t)}function pi(e){return vi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function hi(e){return vi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function gi(){return Ct(this.year(),1,4)}function mi(){var e=this.localeData()._week;return Ct(this.year(),e.dow,e.doy)}function vi(e,t,n,r,i){var o;return null==e?xt(this,r,i).year:(t>(o=Ct(e,r,i))&&(t=o),yi.call(this,e,t,n,r,i))}function yi(e,t,n,r,i){var o=Bt(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function bi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}ae(0,["gg",2],0,(function(){return this.weekYear()%100})),ae(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),fi("gggg","weekYear"),fi("ggggg","weekYear"),fi("GGGG","isoWeekYear"),fi("GGGGG","isoWeekYear"),q("weekYear","gg"),q("isoWeekYear","GG"),Z("weekYear",1),Z("isoWeekYear",1),Oe("G",xe),Oe("g",xe),Oe("GG",ge,de),Oe("gg",ge,de),Oe("GGGG",be,pe),Oe("gggg",be,pe),Oe("GGGGG",we,he),Oe("ggggg",we,he),Me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=S(e)})),Me(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),ae("Q",0,"Qo","quarter"),q("quarter","Q"),Z("quarter",7),Oe("Q",ue),Ue("Q",(function(e,t){t[Re]=3*(S(e)-1)})),ae("D",["DD",2],"Do","date"),q("date","D"),Z("date",9),Oe("D",ge),Oe("DD",ge,de),Oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],Pe),Ue("Do",(function(e,t){t[Pe]=S(e.match(ge)[0])}));var wi=Je("Date",!0);function Bi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}ae("DDD",["DDDD",3],"DDDo","dayOfYear"),q("dayOfYear","DDD"),Z("dayOfYear",4),Oe("DDD",ye),Oe("DDDD",fe),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=S(e)})),ae("m",["mm",2],0,"minute"),q("minute","m"),Z("minute",14),Oe("m",ge),Oe("mm",ge,de),Ue(["m","mm"],Ne);var xi=Je("Minutes",!1);ae("s",["ss",2],0,"second"),q("second","s"),Z("second",15),Oe("s",ge),Oe("ss",ge,de),Ue(["s","ss"],je);var Ci,Si=Je("Seconds",!1);for(ae("S",0,0,(function(){return~~(this.millisecond()/100)})),ae(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),ae(0,["SSS",3],0,"millisecond"),ae(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),ae(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),ae(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),ae(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),ae(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),ae(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),q("millisecond","ms"),Z("millisecond",16),Oe("S",ye,ue),Oe("SS",ye,de),Oe("SSS",ye,fe),Ci="SSSS";Ci.length<=9;Ci+="S")Oe(Ci,Be);function ki(e,t){t[ze]=S(1e3*("0."+e))}for(Ci="S";Ci.length<=9;Ci+="S")Ue(Ci,ki);var Ei=Je("Milliseconds",!1);function Ii(){return this._isUTC?"UTC":""}function Oi(){return this._isUTC?"Coordinated Universal Time":""}ae("z",0,0,"zoneAbbr"),ae("zz",0,0,"zoneName");var Fi=B.prototype;function Di(e){return Vn(1e3*e)}function _i(){return Vn.apply(null,arguments).parseZone()}function Ti(e){return e}Fi.add=Dr,Fi.calendar=Ur,Fi.clone=Mr,Fi.diff=jr,Fi.endOf=ni,Fi.format=Vr,Fi.from=Gr,Fi.fromNow=qr,Fi.to=Yr,Fi.toNow=Jr,Fi.get=et,Fi.invalidAt=ui,Fi.isAfter=Lr,Fi.isBefore=Qr,Fi.isBetween=Rr,Fi.isSame=Pr,Fi.isSameOrAfter=Hr,Fi.isSameOrBefore=Nr,Fi.isValid=ci,Fi.lang=Zr,Fi.locale=Xr,Fi.localeData=ei,Fi.max=qn,Fi.min=Gn,Fi.parsingFlags=Ai,Fi.set=tt,Fi.startOf=ti,Fi.subtract=_r,Fi.toArray=ai,Fi.toObject=si,Fi.toDate=oi,Fi.toISOString=$r,Fi.inspect=Wr,Fi.toJSON=li,Fi.toString=Kr,Fi.unix=ii,Fi.valueOf=ri,Fi.creationData=di,Fi.year=qe,Fi.isLeapYear=Ye,Fi.weekYear=pi,Fi.isoWeekYear=hi,Fi.quarter=Fi.quarters=bi,Fi.month=dt,Fi.daysInMonth=ft,Fi.week=Fi.weeks=Ot,Fi.isoWeek=Fi.isoWeeks=Ft,Fi.weeksInYear=mi,Fi.isoWeeksInYear=gi,Fi.date=wi,Fi.day=Fi.days=Nt,Fi.weekday=jt,Fi.isoWeekday=zt,Fi.dayOfYear=Bi,Fi.hour=Fi.hours=an,Fi.minute=Fi.minutes=xi,Fi.second=Fi.seconds=Si,Fi.millisecond=Fi.milliseconds=Ei,Fi.utcOffset=dr,Fi.utc=pr,Fi.local=hr,Fi.parseZone=gr,Fi.hasAlignedHourOffset=mr,Fi.isDST=vr,Fi.isLocal=br,Fi.isUtcOffset=wr,Fi.isUtc=Br,Fi.isUTC=Br,Fi.zoneAbbr=Ii,Fi.zoneName=Oi,Fi.dates=I("dates accessor is deprecated. Use date instead.",wi),Fi.months=I("months accessor is deprecated. Use month instead",dt),Fi.years=I("years accessor is deprecated. Use year instead",qe),Fi.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fr),Fi.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",yr);var Ui=M.prototype;function Mi(e,t,n,r){var i=gn(),o=p().set(r,t);return i[n](o,e)}function Li(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Mi(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Mi(e,r,n,"month");return i}function Qi(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=gn(),a=e?o._week.dow:0;if(null!=n)return Mi(t,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=Mi(t,(i+a)%7,r,"day");return s}function Ri(e,t){return Li(e,t,"months")}function Pi(e,t){return Li(e,t,"monthsShort")}function Hi(e,t,n){return Qi(e,t,n,"weekdays")}function Ni(e,t,n){return Qi(e,t,n,"weekdaysShort")}function ji(e,t,n){return Qi(e,t,n,"weekdaysMin")}Ui.calendar=Q,Ui.longDateFormat=P,Ui.invalidDate=N,Ui.ordinal=K,Ui.preparse=Ti,Ui.postformat=Ti,Ui.relativeTime=W,Ui.pastFuture=V,Ui.set=T,Ui.months=at,Ui.monthsShort=lt,Ui.monthsParse=At,Ui.monthsRegex=mt,Ui.monthsShortRegex=ht,Ui.week=St,Ui.firstDayOfYear=It,Ui.firstDayOfWeek=Et,Ui.weekdays=Ut,Ui.weekdaysMin=Rt,Ui.weekdaysShort=Lt,Ui.weekdaysParse=Ht,Ui.weekdaysRegex=$t,Ui.weekdaysShortRegex=Vt,Ui.weekdaysMinRegex=qt,Ui.isPM=tn,Ui.meridiem=rn,fn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=I("moment.lang is deprecated. Use moment.locale instead.",fn),r.langData=I("moment.langData is deprecated. Use moment.localeData instead.",gn);var zi=Math.abs;function Ki(){var e=this._data;return this._milliseconds=zi(this._milliseconds),this._days=zi(this._days),this._months=zi(this._months),e.milliseconds=zi(e.milliseconds),e.seconds=zi(e.seconds),e.minutes=zi(e.minutes),e.hours=zi(e.hours),e.months=zi(e.months),e.years=zi(e.years),this}function $i(e,t,n,r){var i=Sr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Wi(e,t){return $i(this,e,t,1)}function Vi(e,t){return $i(this,e,t,-1)}function Gi(e){return e<0?Math.floor(e):Math.ceil(e)}function qi(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Gi(Ji(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=C(o/1e3),l.seconds=e%60,t=C(e/60),l.minutes=t%60,n=C(t/60),l.hours=n%24,a+=C(n/24),s+=i=C(Yi(a)),a-=Gi(Ji(i)),r=C(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function Yi(e){return 4800*e/146097}function Ji(e){return 146097*e/4800}function Xi(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=Y(e))||"year"===e)return t=this._days+r/864e5,n=this._months+Yi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Ji(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Zi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN}function eo(e){return function(){return this.as(e)}}var to=eo("ms"),no=eo("s"),ro=eo("m"),io=eo("h"),oo=eo("d"),ao=eo("w"),so=eo("M"),lo=eo("y");function co(){return Sr(this)}function Ao(e){return e=Y(e),this.isValid()?this[e+"s"]():NaN}function uo(e){return function(){return this.isValid()?this._data[e]:NaN}}var fo=uo("milliseconds"),po=uo("seconds"),ho=uo("minutes"),go=uo("hours"),mo=uo("days"),vo=uo("months"),yo=uo("years");function bo(){return C(this.days()/7)}var wo=Math.round,Bo={ss:44,s:45,m:45,h:22,d:26,M:11};function xo(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Co(e,t,n){var r=Sr(e).abs(),i=wo(r.as("s")),o=wo(r.as("m")),a=wo(r.as("h")),s=wo(r.as("d")),l=wo(r.as("M")),c=wo(r.as("y")),A=i<=Bo.ss&&["s",i]||i<Bo.s&&["ss",i]||o<=1&&["m"]||o<Bo.m&&["mm",o]||a<=1&&["h"]||a<Bo.h&&["hh",a]||s<=1&&["d"]||s<Bo.d&&["dd",s]||l<=1&&["M"]||l<Bo.M&&["MM",l]||c<=1&&["y"]||["yy",c];return A[2]=t,A[3]=+e>0,A[4]=n,xo.apply(null,A)}function So(e){return void 0===e?wo:"function"==typeof e&&(wo=e,!0)}function ko(e,t){return void 0!==Bo[e]&&(void 0===t?Bo[e]:(Bo[e]=t,"s"===e&&(Bo.ss=t-1),!0))}function Eo(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Co(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}var Io=Math.abs;function Oo(e){return(e>0)-(e<0)||+e}function Fo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Io(this._milliseconds)/1e3,r=Io(this._days),i=Io(this._months);e=C(n/60),t=C(e/60),n%=60,e%=60;var o=C(i/12),a=i%=12,s=r,l=t,c=e,A=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",f=Oo(this._months)!==Oo(u)?"-":"",p=Oo(this._days)!==Oo(u)?"-":"",h=Oo(this._milliseconds)!==Oo(u)?"-":"";return d+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||A?"T":"")+(l?h+l+"H":"")+(c?h+c+"M":"")+(A?h+A+"S":"")}var Do=ir.prototype;return Do.isValid=nr,Do.abs=Ki,Do.add=Wi,Do.subtract=Vi,Do.as=Xi,Do.asMilliseconds=to,Do.asSeconds=no,Do.asMinutes=ro,Do.asHours=io,Do.asDays=oo,Do.asWeeks=ao,Do.asMonths=so,Do.asYears=lo,Do.valueOf=Zi,Do._bubble=qi,Do.clone=co,Do.get=Ao,Do.milliseconds=fo,Do.seconds=po,Do.minutes=ho,Do.hours=go,Do.days=mo,Do.weeks=bo,Do.months=vo,Do.years=yo,Do.humanize=Eo,Do.toISOString=Fo,Do.toString=Fo,Do.toJSON=Fo,Do.locale=Xr,Do.localeData=ei,Do.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fo),Do.lang=Zr,ae("X",0,0,"unix"),ae("x",0,0,"valueOf"),Oe("x",xe),Oe("X",ke),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),Ue("x",(function(e,t,n){n._d=new Date(S(e))})),r.version="2.22.2",i(Vn),r.fn=Fi,r.min=Jn,r.max=Xn,r.now=Zn,r.utc=p,r.unix=Di,r.months=Ri,r.isDate=A,r.locale=fn,r.invalid=v,r.duration=Sr,r.isMoment=x,r.weekdays=Hi,r.parseZone=_i,r.localeData=gn,r.isDuration=or,r.monthsShort=Pi,r.weekdaysMin=ji,r.defineLocale=pn,r.updateLocale=hn,r.locales=mn,r.weekdaysShort=Ni,r.normalizeUnits=Y,r.relativeTimeRounding=So,r.relativeTimeThreshold=ko,r.calendarFormat=Tr,r.prototype=Fi,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(111)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(120),i=n(481),o=n(617),a=n(556),s=n(619),l=n(620),c=n(622);function A(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class u{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(...e)=>{const n=t(...e)(o);return i.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(i),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],s=!!e,l=e||i.tr,c={...Object.fromEntries(Object.entries(n).map((([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),i=n(...e)(r);return a.push(i),c}]))),run:()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(l),a.every((e=>!0===e)))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r),a=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(...e)=>t(...e)({...o,dispatch:void 0})])));return{...a,chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:A({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,(...e)=>t(...e)(a)])))}};return a}}class d{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function f(e,t,n){if(void 0===e.config[t]&&e.parent)return f(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?f(e.parent,t,n):null})}return e.config[t]}function p(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function h(e){const t=[],{nodeExtensions:n,markExtensions:r}=p(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=f(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((([e,r])=>{t.push({type:n,name:e,attribute:{...o,...r}})}))}))}))})),i.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},r=f(e,"addAttributes",n);if(!r)return;const i=r();Object.entries(i).forEach((([n,r])=>{const i={...o,...r};"function"==typeof(null==i?void 0:i.default)&&(i.default=i.default()),(null==i?void 0:i.isRequired)&&void 0===(null==i?void 0:i.default)&&delete i.default,t.push({type:e.name,name:n,attribute:i})}))})),t}function g(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function m(...e){return e.filter((e=>!!e)).reduce(((e,t)=>{const n={...e};return Object.entries(t).forEach((([e,t])=>{if(n[e])if("class"===e){const r=t?t.split(" "):[],i=n[e]?n[e].split(" "):[],o=r.filter((e=>!i.includes(e)));n[e]=[...i,...o].join(" ")}else n[e]="style"===e?[n[e],t].join("; "):t;else n[e]=t})),n}),{})}function v(e,t){return t.filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>m(e,t)),{})}function y(e){return"function"==typeof e}function b(e,t=void 0,...n){return y(e)?t?e.bind(t)(...n):e(...n):e}function w(e={}){return 0===Object.keys(e).length&&e.constructor===Object}function B(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}function x(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const i=t.reduce(((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):B(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}}),{});return{...r,...i}}}}function C(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>("attrs"!==e||!w(t))&&null!=t)))}function S(e,t){var n;const r=h(e),{nodeExtensions:i,markExtensions:o}=p(e),s=null===(n=i.find((e=>f(e,"topNode"))))||void 0===n?void 0:n.name,l=Object.fromEntries(i.map((n=>{const i=r.filter((e=>e.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:t},a=C({...e.reduce(((e,t)=>{const r=f(t,"extendNodeSchema",o);return{...e,...r?r(n):{}}}),{}),content:b(f(n,"content",o)),marks:b(f(n,"marks",o)),group:b(f(n,"group",o)),inline:b(f(n,"inline",o)),atom:b(f(n,"atom",o)),selectable:b(f(n,"selectable",o)),draggable:b(f(n,"draggable",o)),code:b(f(n,"code",o)),defining:b(f(n,"defining",o)),isolating:b(f(n,"isolating",o)),attrs:Object.fromEntries(i.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),s=b(f(n,"parseHTML",o));s&&(a.parseDOM=s.map((e=>x(e,i))));const l=f(n,"renderHTML",o);l&&(a.toDOM=e=>l({node:e,HTMLAttributes:v(e,i)}));const c=f(n,"renderText",o);return c&&(a.toText=c),[n.name,a]}))),c=Object.fromEntries(o.map((n=>{const i=r.filter((e=>e.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:t},a=C({...e.reduce(((e,t)=>{const r=f(t,"extendMarkSchema",o);return{...e,...r?r(n):{}}}),{}),inclusive:b(f(n,"inclusive",o)),excludes:b(f(n,"excludes",o)),group:b(f(n,"group",o)),spanning:b(f(n,"spanning",o)),code:b(f(n,"code",o)),attrs:Object.fromEntries(i.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),s=b(f(n,"parseHTML",o));s&&(a.parseDOM=s.map((e=>x(e,i))));const l=f(n,"renderHTML",o);return l&&(a.toDOM=e=>l({mark:e,HTMLAttributes:v(e,i)})),[n.name,a]})));return new a.Schema({topNode:s,nodes:l,marks:c})}function k(e,t){return t.nodes[e]||t.marks[e]||null}function E(e,t){return Array.isArray(t)?t.some((t=>("string"==typeof t?t:t.name)===e.name)):t}const I=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,((e,t,i,o)=>{var a,s;const l=(null===(s=(a=e.type.spec).toText)||void 0===s?void 0:s.call(a,{node:e,pos:t,parent:i,index:o}))||e.textContent||"%leaf%";n+=l.slice(0,Math.max(0,r-t))})),n};function O(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class F{constructor(e){this.find=e.find,this.handler=e.handler}}function D(e){var t;const{editor:n,from:r,to:i,text:o,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let d=!1;const f=I(c)+o;return a.forEach((e=>{if(d)return;const t=((e,t)=>{if(O(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(f,e.find);if(!t)return;const a=l.state.tr,c=A({state:l.state,transaction:a}),p={from:r-(t[0].length-o.length),to:i},{commands:h,chain:g,can:m}=new u({editor:n,state:c});null!==e.handler({state:c,range:p,match:t,commands:h,chain:g,can:m})&&a.steps.length&&(a.setMeta(s,{transform:a,from:r,to:i,text:o}),l.dispatch(a),d=!0)})),d}function _(e){const{editor:t,rules:n}=e,i=new r.Plugin({state:{init:()=>null,apply(e,t){const n=e.getMeta(i);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,r,o,a)=>D({editor:t,from:r,to:o,text:a,rules:n,plugin:i}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:r}=e.state.selection;r&&D({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:i})})),!1)},handleKeyDown(e,r){if("Enter"!==r.key)return!1;const{$cursor:o}=e.state.selection;return!!o&&D({editor:t,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:i})}},isInputRules:!0});return i}function T(e){return"number"==typeof e}class U{constructor(e){this.find=e.find,this.handler=e.handler}}function M(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:A}=new u({editor:t,state:n}),d=[];n.doc.nodesBetween(r,i,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const u=Math.max(r,t),f=Math.min(i,t+e.content.size);((e,t,n)=>{if(O(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map((t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(u-t,f-t,void 0,"\ufffc"),o.find,a).forEach((e=>{if(void 0===e.index)return;const t=u+e.index+1,r=t+e[0].length,i={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},f=o.handler({state:n,range:i,match:e,commands:l,chain:c,can:A,pasteEvent:a,dropEvent:s});d.push(f)}))}));return d.every((e=>null!==e))}function L(e){const{editor:t,rules:n}=e;let i=null,o=!1,a=!1,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l="undefined"!=typeof DragEvent?new DragEvent("drop"):null;const c=n.map((e=>new r.Plugin({view(e){const t=t=>{var n;i=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:(e,t)=>(a=i===e.dom.parentElement,l=t,!1),paste:(e,t)=>{var n;const r=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return s=t,o=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(n,r,i)=>{const c=n[0],u="paste"===c.getMeta("uiEvent")&&!o,d="drop"===c.getMeta("uiEvent")&&!a;if(!u&&!d)return;const f=r.doc.content.findDiffStart(i.doc.content),p=r.doc.content.findDiffEnd(i.doc.content);if(!T(f)||!p||f===p.b)return;const h=i.tr,g=A({state:i,transaction:h});return M({editor:t,state:g,from:Math.max(f-1,0),to:p.b-1,rule:e,pasteEvent:s,dropEvent:l})&&h.steps.length?(l="undefined"!=typeof DragEvent?new DragEvent("drop"):null,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,h):void 0}})));return c}function Q(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return[...new Set(t)]}class R{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=R.resolve(e),this.schema=S(this.extensions,t),this.extensions.forEach((e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:k(e.name,this.schema)};if("mark"===e.type){(null===(t=b(f(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const r=f(e,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const i=f(e,"onCreate",n);i&&this.editor.on("create",i);const o=f(e,"onUpdate",n);o&&this.editor.on("update",o);const a=f(e,"onSelectionUpdate",n);a&&this.editor.on("selectionUpdate",a);const s=f(e,"onTransaction",n);s&&this.editor.on("transaction",s);const l=f(e,"onFocus",n);l&&this.editor.on("focus",l);const c=f(e,"onBlur",n);c&&this.editor.on("blur",c);const A=f(e,"onDestroy",n);A&&this.editor.on("destroy",A)}))}static resolve(e){const t=R.sort(R.flatten(e)),n=Q(t.map((e=>e.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((e=>`'${e}'`)).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map((e=>{const t=f(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e})).flat(10)}static sort(e){return e.sort(((e,t)=>{const n=f(e,"priority")||100,r=f(t,"priority")||100;return n>r?-1:n<r?1:0}))}get commands(){return this.extensions.reduce(((e,t)=>{const n=f(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:k(t.name,this.schema)});return n?{...e,...n()}:e}),{})}get plugins(){const{editor:e}=this,t=R.sort([...this.extensions].reverse()),n=[],r=[],i=t.map((t=>{const i={name:t.name,options:t.options,storage:t.storage,editor:e,type:k(t.name,this.schema)},a=[],s=f(t,"addKeyboardShortcuts",i);let l={};if("mark"===t.type&&t.config.exitable&&(l.ArrowRight=()=>Qe.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map((([t,n])=>[t,()=>n({editor:e})])));l={...l,...t}}const c=o.keymap(l);a.push(c);const A=f(t,"addInputRules",i);E(t,e.options.enableInputRules)&&A&&n.push(...A());const u=f(t,"addPasteRules",i);E(t,e.options.enablePasteRules)&&u&&r.push(...u());const d=f(t,"addProseMirrorPlugins",i);if(d){const e=d();a.push(...e)}return a})).flat();return[_({editor:e,rules:n}),...L({editor:e,rules:r}),...i]}get attributes(){return h(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=p(this.extensions);return Object.fromEntries(t.filter((e=>!!f(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage,editor:e,type:g(t.name,this.schema)},i=f(t,"addNodeView",r);if(!i)return[];return[t.name,(r,o,a,s)=>{const l=v(r,n);return i()({editor:e,node:r,getPos:a,decorations:s,HTMLAttributes:l,extension:t})}]})))}}function P(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function H(e,t){const n={...e};return P(e)&&P(t)&&Object.keys(t).forEach((r=>{P(t[r])?r in e?n[r]=H(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})})),n}class N{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=b(f(this,"addOptions",{name:this.name}))),this.storage=b(f(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new N(e)}configure(e={}){const t=this.extend();return t.options=H(this.options,e),t.storage=b(f(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new N({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=b(f(t,"addOptions",{name:t.name})),t.storage=b(f(t,"addStorage",{name:t.name,options:t.options})),t}}function j(e,t,n){const{from:r,to:i}=t,{blockSeparator:o="\n\n",textSerializers:a={}}=n||{};let s="",l=!0;return e.nodesBetween(r,i,((e,n,c,A)=>{var u;const d=null==a?void 0:a[e.type.name];d?(e.isBlock&&!l&&(s+=o,l=!0),c&&(s+=d({node:e,pos:n,parent:c,index:A,range:t}))):e.isText?(s+=null===(u=null==e?void 0:e.text)||void 0===u?void 0:u.slice(Math.max(r,n)-n,i-n),l=!1):e.isBlock&&!l&&(s+=o,l=!0)})),s}function z(e){return Object.fromEntries(Object.entries(e.nodes).filter((([,e])=>e.spec.toText)).map((([e,t])=>[e,t.spec.toText])))}const K=N.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map((e=>e.$from.pos))),s=Math.max(...o.map((e=>e.$to.pos)));return j(r,{from:a,to:s},{textSerializers:z(n)})}}})]}});function $(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every((r=>n.strict?t[r]===e[r]:O(t[r])?t[r].test(e[r]):t[r]===e[r]))}function W(e,t,n={}){return e.find((e=>e.type===t&&$(e.attrs,n)))}function V(e,t,n={}){return!!W(e,t,n)}function G(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&0!==r.offset&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=W([...r.node.marks],t,n);if(!i)return;let o=r.index,a=e.start()+r.offset,s=o+1,l=a+r.node.nodeSize;for(W([...r.node.marks],t,n);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,a-=e.parent.child(o).nodeSize;for(;s<e.parent.childCount&&V([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function q(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function Y(e){return e instanceof r.TextSelection}function J(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function X(e,t=null){if(!t)return null;const n=r.Selection.atStart(e),i=r.Selection.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return i;const o=n.from,a=i.to;return"all"===t?r.TextSelection.create(e,J(0,o,a),J(e.content.size,o,a)):r.TextSelection.create(e,J(t,o,a),J(t,o,a))}function Z(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ee=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&ee(r)}return e};function te(e){const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return ee(n)}function ne(e,t,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof e&&null!==e)try{return Array.isArray(e)&&e.length>0?a.Fragment.fromArray(e.map((e=>t.nodeFromJSON(e)))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),ne("",t,n)}if("string"==typeof e){const r=a.DOMParser.fromSchema(t);return n.slice?r.parseSlice(te(e),n.parseOptions).content:r.parse(te(e),n.parseOptions)}return ne("",t,n)}function re(e,t,n){const i=e.steps.length-1;if(i<t)return;const o=e.steps[i];if(!(o instanceof s.ReplaceStep||o instanceof s.ReplaceAroundStep))return;const a=e.mapping.maps[i];let l=0;a.forEach(((e,t,n,r)=>{0===l&&(l=r)})),e.setSelection(r.Selection.near(e.doc.resolve(l),n))}function ie(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function oe(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,a=t?g(t,e.schema):null,s=[];e.doc.nodesBetween(r,i,((e,t)=>{if(e.isText)return;const n=Math.max(r,t),o=Math.min(i,t+e.nodeSize);s.push({node:e,from:n,to:o})}));const l=i-r,c=s.filter((e=>!a||a.name===e.node.type.name)).filter((e=>$(e.node.attrs,n,{strict:!1})));if(o)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function ae(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function se(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce(((t,r)=>(n.includes(r)||(t[r]=e[r]),t)),{})}function le(e,t,n={}){return ne(e,t,{slice:!1,parseOptions:n})}function ce(e,t){const n=q(t,e.schema),{from:r,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,(e=>{a.push(...e.marks)}));const s=a.find((e=>e.type.name===n.name));return s?{...s.attrs}:{}}function Ae(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ue(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function de(e){return t=>ue(t.$from,e)}function fe(e,t){const n=a.DOMSerializer.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function pe(e,t){return S(R.resolve(e),t)}function he(e,t){return j(e,{from:0,to:e.content.size},t)}function ge(e,t){const n=g(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,(e=>{o.push(e)}));const a=o.reverse().find((e=>e.type.name===n.name));return a?{...a.attrs}:{}}function me(e,t){const n=ae("string"==typeof t?t:t.name,e.schema);return"node"===n?ge(e,t):"mark"===n?ce(e,t):{}}function ve(e,t=JSON.stringify){const n={};return e.filter((e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}function ye(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach((t=>{const i=G(n.resolve(e-1),t.type);i&&r.push({mark:t,...i})})):n.nodesBetween(e,t,((e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),r}function be(e,t,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=e.find((e=>e.type===t&&e.name===n));return!!r&&r.attribute.keepOnSplit})))}function we(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?q(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!o||o.name===e.type.name)).find((e=>$(e.attrs,n,{strict:!1})));let a=0;const s=[];if(i.forEach((({$from:t,$to:n})=>{const r=t.pos,i=n.pos;e.doc.nodesBetween(r,i,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),o=Math.min(i,t+e.nodeSize);a+=o-n,s.push(...e.marks.map((e=>({mark:e,from:n,to:o}))))}))})),0===a)return!1;const l=s.filter((e=>!o||o.name===e.mark.type.name)).filter((e=>$(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=s.filter((e=>!o||e.mark.type!==o&&e.mark.type.excludes(o))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=a}function Be(e,t,n={}){if(!t)return oe(e,null,n)||we(e,null,n);const r=ae(t,e.schema);return"node"===r?oe(e,t,n):"mark"===r&&we(e,t,n)}function xe(e,t){const{nodeExtensions:n}=p(t),r=n.find((t=>t.name===e));if(!r)return!1;const i=b(f(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof i&&i.split(" ").includes("list")}function Ce(e){var t;const n=null===(t=e.type.createAndFill())||void 0===t?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function Se(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(r)}}const ke=(e,t)=>{const n=de((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!s.canJoin(e.doc,n.pos)||(e.join(n.pos),!0)},Ee=(e,t)=>{const n=de((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!s.canJoin(e.doc,r)||(e.join(r),!0)};var Ie=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame((()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return!n||(i.forEach((({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,((e,n)=>{if(e.type.isText)return;const{doc:r,mapping:i}=t,o=r.resolve(i.map(n)),a=r.resolve(i.map(n+e.nodeSize)),l=o.blockRange(a);if(!l)return;const c=s.liftTarget(l);if(e.type.isTextblock){const{defaultType:e}=o.parent.contentMatchAt(o.index());t.setNodeMarkup(l.start,e)}(c||0===c)&&t.lift(l,c)}))})),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>l.createParagraphNear(e,t),cut:(e,t)=>({editor:n,tr:i})=>{const{state:o}=n,a=o.doc.slice(e.from,e.to);i.deleteRange(e.from,e.to);const s=i.mapping.map(t);return i.insert(s,a.content),i.setSelection(new r.TextSelection(i.doc.resolve(s-1))),!0},deleteCurrentNode:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let n=i.depth;n>0;n-=1){if(i.node(n).type===r.type){if(t){const t=i.before(n),r=i.after(n);e.delete(t,r).scrollIntoView()}return!0}}return!1},deleteNode:e=>({tr:t,state:n,dispatch:r})=>{const i=g(e,n.schema),o=t.selection.$anchor;for(let e=o.depth;e>0;e-=1){if(o.node(e).type===i){if(r){const n=o.before(e),r=o.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},deleteSelection:()=>({state:e,dispatch:t})=>l.deleteSelection(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>l.exitCode(e,t),extendMarkRange:(e,t={})=>({tr:n,state:i,dispatch:o})=>{const a=q(e,i.schema),{doc:s,selection:l}=n,{$from:c,from:A,to:u}=l;if(o){const e=G(c,a,t);if(e&&e.from<=A&&e.to>=u){const t=r.TextSelection.create(s,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{Z()&&r.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())}))};if(r.hasFocus()&&null===e||!1===e)return!0;if(o&&null===e&&!Y(n.state.selection))return a(),!0;const s=X(i.doc,e)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},forEach:(e,t)=>n=>e.every(((e,r)=>t(e,{...n,index:r}))),insertContent:(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const i=ne(t,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===i.toString())return!0;let{from:a,to:s}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},l=!0,c=!0;if((i.toString().startsWith("<")?i:[i]).forEach((e=>{e.check(),l=!!l&&(e.isText&&0===e.marks.length),c=!!c&&e.isBlock})),a===s&&c){const{parent:e}=r.doc.resolve(a);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(a-=1,s+=1)}l?Array.isArray(t)?r.insertText(t.map((e=>e.text||"")).join(""),a,s):"object"==typeof t&&t&&t.text?r.insertText(t.text,a,s):r.insertText(t,a,s):r.replaceWith(a,s,i),n.updateSelection&&re(r,r.steps.length-1,-1)}return!0},joinUp:()=>({state:e,dispatch:t})=>l.joinUp(e,t),joinDown:()=>({state:e,dispatch:t})=>l.joinDown(e,t),joinBackward:()=>({state:e,dispatch:t})=>l.joinBackward(e,t),joinForward:()=>({state:e,dispatch:t})=>l.joinForward(e,t),joinItemBackward:()=>({tr:e,state:t,dispatch:n})=>{try{const r=s.joinPoint(t.doc,t.selection.$from.pos,-1);return null!=r&&(e.join(r,2),n&&n(e),!0)}catch{return!1}},joinItemForward:()=>({state:e,dispatch:t,tr:n})=>{try{const r=s.joinPoint(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(e){return!1}},joinTextblockBackward:()=>({state:e,dispatch:t})=>l.joinTextblockBackward(e,t),joinTextblockForward:()=>({state:e,dispatch:t})=>l.joinTextblockForward(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=function(e){const t=e.split(/-(?!$)/);let n,r,i,o,a=t[t.length-1];"Space"===a&&(a=" ");for(let e=0;e<t.length-1;e+=1){const a=t[e];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else{if(!/^mod$/i.test(a))throw new Error(`Unrecognized modifier name: ${a}`);Z()||ie()?o=!0:r=!0}}return n&&(a=`Alt-${a}`),r&&(a=`Ctrl-${a}`),o&&(a=`Meta-${a}`),i&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),a=o.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction((()=>{n.someProp("handleKeyDown",(e=>e(n,s)))}));return null==l||l.steps.forEach((e=>{const t=e.map(r.mapping);t&&i&&r.maybeStep(t)})),!0},lift:(e,t={})=>({state:n,dispatch:r})=>!!oe(n,g(e,n.schema),t)&&l.lift(n,r),liftEmptyBlock:()=>({state:e,dispatch:t})=>l.liftEmptyBlock(e,t),liftListItem:e=>({state:t,dispatch:n})=>{const r=g(e,t.schema);return c.liftListItem(r)(t,n)},newlineInCode:()=>({state:e,dispatch:t})=>l.newlineInCode(e,t),resetAttributes:(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=ae("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(o=g(e,r.schema)),"mark"===s&&(a=q(e,r.schema)),i&&n.selection.ranges.forEach((e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,se(e.attrs,t)),a&&e.marks.length&&e.marks.forEach((i=>{a===i.type&&n.addMark(r,r+e.nodeSize,a.create(se(i.attrs,t)))}))}))})),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward:()=>({state:e,dispatch:t})=>l.selectNodeBackward(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>l.selectNodeForward(e,t),selectParentNode:()=>({state:e,dispatch:t})=>l.selectParentNode(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>l.selectTextblockEnd(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>l.selectTextblockStart(e,t),setContent:(e,t=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:a}=r,s=le(e,i.schema,n);return o&&r.replaceWith(0,a.content.size,s).setMeta("preventUpdate",!t),!0},setMark:(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:a,ranges:s}=o,l=q(e,r.schema);if(i)if(a){const e=ce(r,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach((e=>{const i=e.$from.pos,o=e.$to.pos;r.doc.nodesBetween(i,o,((e,r)=>{const a=Math.max(r,i),s=Math.min(r+e.nodeSize,o);e.marks.find((e=>e.type===l))?e.marks.forEach((e=>{l===e.type&&n.addMark(a,s,l.create({...e.attrs,...t}))})):n.addMark(a,s,l.create(t))}))}));return function(e,t,n){var r;const{selection:i}=t;let o=null;if(Y(i)&&(o=i.$cursor),o){const t=null!==(r=e.storedMarks)&&void 0!==r?r:o.marks();return!!n.isInSet(t)||!t.some((e=>e.type.excludes(n)))}const{ranges:a}=i;return a.some((({$from:t,$to:r})=>{let i=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,((e,t,r)=>{if(i)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some((e=>e.type.excludes(n)));i=t&&o}return!i})),i}))}(r,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=g(e,n.schema);return o.isTextblock?i().command((({commands:e})=>!!l.setBlockType(o,t)(n)||e.clearNodes())).command((({state:e})=>l.setBlockType(o,t)(e,r))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,i=J(e,0,n.content.size),o=r.NodeSelection.create(n,i);t.setSelection(o)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:i,to:o}="number"==typeof e?{from:e,to:e}:e,a=r.TextSelection.atStart(n).from,s=r.TextSelection.atEnd(n).to,l=J(i,a,s),c=J(o,a,s),A=r.TextSelection.create(n,l,c);t.setSelection(A)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{const r=g(e,t.schema);return c.sinkListItem(r)(t,n)},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:i,editor:o})=>{const{selection:a,doc:l}=t,{$from:c,$to:A}=a,u=be(o.extensionManager.attributes,c.node().type.name,c.node().attrs);if(a instanceof r.NodeSelection&&a.node.isBlock)return!(!c.parentOffset||!s.canSplit(l,c.pos))&&(i&&(e&&Se(n,o.extensionManager.splittableMarks),t.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;if(i){const i=A.parentOffset===A.parent.content.size;a instanceof r.TextSelection&&t.deleteSelection();const l=0===c.depth?void 0:Ae(c.node(-1).contentMatchAt(c.indexAfter(-1)));let d=i&&l?[{type:l,attrs:u}]:void 0,f=s.canSplit(t.doc,t.mapping.map(c.pos),1,d);if(d||f||!s.canSplit(t.doc,t.mapping.map(c.pos),1,l?[{type:l}]:void 0)||(f=!0,d=l?[{type:l,attrs:u}]:void 0),f&&(t.split(t.mapping.map(c.pos),1,d),l&&!i&&!c.parentOffset&&c.parent.type!==l)){const e=t.mapping.map(c.before()),n=t.doc.resolve(e);c.node(-1).canReplaceWith(n.index(),n.index()+1,l)&&t.setNodeMarkup(t.mapping.map(c.before()),l)}e&&Se(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return!0},splitListItem:e=>({tr:t,state:n,dispatch:i,editor:o})=>{var l;const c=g(e,n.schema),{$from:A,$to:u}=n.selection,d=n.selection.node;if(d&&d.isBlock||A.depth<2||!A.sameParent(u))return!1;const f=A.node(-1);if(f.type!==c)return!1;const p=o.extensionManager.attributes;if(0===A.parent.content.size&&A.node(-1).childCount===A.indexAfter(-1)){if(2===A.depth||A.node(-3).type!==c||A.index(-2)!==A.node(-2).childCount-1)return!1;if(i){let e=a.Fragment.empty;const n=A.index(-1)?1:A.index(-2)?2:3;for(let t=A.depth-n;t>=A.depth-3;t-=1)e=a.Fragment.from(A.node(t).copy(e));const i=A.indexAfter(-1)<A.node(-2).childCount?1:A.indexAfter(-2)<A.node(-3).childCount?2:3,o=be(p,A.node().type.name,A.node().attrs),s=(null===(l=c.contentMatch.defaultType)||void 0===l?void 0:l.createAndFill(o))||void 0;e=e.append(a.Fragment.from(c.createAndFill(null,s)||void 0));const u=A.before(A.depth-(n-1));t.replace(u,A.after(-i),new a.Slice(e,4-n,0));let d=-1;t.doc.nodesBetween(u,t.doc.content.size,((e,t)=>{if(d>-1)return!1;e.isTextblock&&0===e.content.size&&(d=t+1)})),d>-1&&t.setSelection(r.TextSelection.near(t.doc.resolve(d))),t.scrollIntoView()}return!0}const h=u.pos===A.end()?f.contentMatchAt(0).defaultType:null,m=be(p,f.type.name,f.attrs),v=be(p,A.node().type.name,A.node().attrs);t.delete(A.pos,u.pos);const y=h?[{type:c,attrs:m},{type:h,attrs:v}]:[{type:c,attrs:m}];if(!s.canSplit(t.doc,A.pos,2))return!1;if(i){const{selection:e,storedMarks:r}=n,{splittableMarks:a}=o.extensionManager,s=r||e.$to.parentOffset&&e.$from.marks();if(t.split(A.pos,2,y).scrollIntoView(),!s||!i)return!0;const l=s.filter((e=>a.includes(e.type.name)));t.ensureMarks(l)}return!0},toggleList:(e,t,n,r={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:A})=>{const{extensions:u,splittableMarks:d}=i.extensionManager,f=g(e,a.schema),p=g(t,a.schema),{selection:h,storedMarks:m}=a,{$from:v,$to:y}=h,b=v.blockRange(y),w=m||h.$to.parentOffset&&h.$from.marks();if(!b)return!1;const B=de((e=>xe(e.type.name,u)))(h);if(b.depth>=1&&B&&b.depth-B.depth<=1){if(B.node.type===f)return c.liftListItem(p);if(xe(B.node.type.name,u)&&f.validContent(B.node.content)&&s)return l().command((()=>(o.setNodeMarkup(B.pos,f),!0))).command((()=>ke(o,f))).command((()=>Ee(o,f))).run()}return n&&w&&s?l().command((()=>{const e=A().wrapInList(f,r),t=w.filter((e=>d.includes(e.type.name)));return o.ensureMarks(t),!!e||c.clearNodes()})).wrapInList(f,r).command((()=>ke(o,f))).command((()=>Ee(o,f))).run():l().command((()=>!!A().wrapInList(f,r)||c.clearNodes())).wrapInList(f,r).command((()=>ke(o,f))).command((()=>Ee(o,f))).run()},toggleMark:(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,a=q(e,r.schema);return we(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},toggleNode:(e,t,n={})=>({state:r,commands:i})=>{const o=g(e,r.schema),a=g(t,r.schema);return oe(r,o,n)?i.setNode(a):i.setNode(o,n)},toggleWrap:(e,t={})=>({state:n,commands:r})=>{const i=g(e,n.schema);return oe(n,i,t)?r.lift(i):r.wrapIn(i,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const t=e.tr,n=o.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(o.text){const n=t.doc.resolve(o.from).marks();t.replaceWith(o.from,o.to,e.schema.text(o.text,n))}else t.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos)})),!0},unsetMark:(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=q(e,r.schema),{$from:c,empty:A,ranges:u}=s;if(!i)return!0;if(A&&a){let{from:e,to:t}=s;const r=null===(o=c.marks().find((e=>e.type===l)))||void 0===o?void 0:o.attrs,i=G(c,l,r);i&&(e=i.from,t=i.to),n.removeMark(e,t,l)}else u.forEach((e=>{n.removeMark(e.$from.pos,e.$to.pos,l)}));return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=ae("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(o=g(e,r.schema)),"mark"===s&&(a=q(e,r.schema)),i&&n.selection.ranges.forEach((e=>{const i=e.$from.pos,s=e.$to.pos;r.doc.nodesBetween(i,s,((e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach((o=>{if(a===o.type){const l=Math.max(r,i),c=Math.min(r+e.nodeSize,s);n.addMark(l,c,a.create({...o.attrs,...t}))}}))}))})),!0)},wrapIn:(e,t={})=>({state:n,dispatch:r})=>{const i=g(e,n.schema);return l.wrapIn(i,t)(n,r)},wrapInList:(e,t={})=>({state:n,dispatch:r})=>{const i=g(e,n.schema);return c.wrapInList(i,t)(n,r)}});const Oe=N.create({name:"commands",addCommands:()=>({...Ie})}),Fe=N.create({name:"editable",addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),De=N.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new r.Plugin({key:new r.PluginKey("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),_e=N.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((({commands:e})=>[()=>e.undoInputRule(),()=>e.command((({tr:t})=>{const{selection:n,doc:i}=t,{empty:o,$anchor:a}=n,{pos:s,parent:l}=a,c=a.parent.isTextblock?t.doc.resolve(s-1):a,A=c.parent.type.spec.isolating,u=a.pos-a.parentOffset,d=A&&1===c.parent.childCount?u===a.pos:r.Selection.atStart(i).from===s;return!(!(o&&d&&l.type.isTextblock)||l.textContent.length)&&e.clearNodes()})),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()])),t=()=>this.editor.commands.first((({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Z()||ie()?o:i},addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some((e=>e.docChanged))&&!t.doc.eq(n.doc)))return;const{empty:i,from:o,to:a}=t.selection,s=r.Selection.atStart(t.doc).from,l=r.Selection.atEnd(t.doc).to;if(i||!(o===s&&a===l))return;if(!(0===n.doc.textBetween(0,n.doc.content.size," "," ").length))return;const c=n.tr,d=A({state:n,transaction:c}),{commands:f}=new u({editor:this.editor,state:d});return f.clearNodes(),c.steps.length?c:void 0}})]}}),Te=N.create({name:"tabindex",addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Ue=Object.freeze({__proto__:null,ClipboardTextSerializer:K,Commands:Oe,Editable:Fe,FocusEvents:De,Keymap:_e,Tabindex:Te});class Me{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!==(e=this.actualDepth)&&void 0!==e?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Me(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Me(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Me(e,this.editor)}get children(){const e=[];return this.node.content.forEach(((t,n)=>{const r=t.isBlock&&!t.isTextblock,i=this.pos+n+(r?0:1),o=this.resolvedPos.doc.resolve(i);if(!r&&o.depth<=this.depth)return;const a=new Me(o,this.editor,r,r?t:null);r&&(a.actualDepth=this.depth+1),e.push(new Me(o,this.editor,r,r?t:null))})),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];if(e[i]!==t[i])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];return this.isBlock||!this.children||0===this.children.length||this.children.forEach((i=>{if(i.node.type.name===e){if(Object.keys(t).length>0){const e=i.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];if(e[i]!==t[i])return}}if(r.push(i),n)return}r=r.concat(i.querySelectorAll(e))})),r}setAttribute(e){const t=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(t.from).run()}}function Le(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style"+(n?`-${n}`:""),""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}class Qe{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=b(f(this,"addOptions",{name:this.name}))),this.storage=b(f(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Qe(e)}configure(e={}){const t=this.extend();return t.options=H(this.options,e),t.storage=b(f(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Qe({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=b(f(t,"addOptions",{name:t.name})),t.storage=b(f(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const i=r.marks();if(!!!i.find((e=>(null==e?void 0:e.type.name)===t.name)))return!1;const o=i.find((e=>(null==e?void 0:e.type.name)===t.name));return o&&n.removeStoredMark(o),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}class Re{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=b(f(this,"addOptions",{name:this.name}))),this.storage=b(f(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Re(e)}configure(e={}){const t=this.extend();return t.options=H(this.options,e),t.storage=b(f(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Re({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=b(f(t,"addOptions",{name:t.name})),t.storage=b(f(t,"addStorage",{name:t.name,options:t.options})),t}}t.CommandManager=u,t.Editor=class extends d{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Le('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=y(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((e=>!e.key.startsWith(t)))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(Ue):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new R(e,this)}createCommandManager(){this.commandManager=new u({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=le(this.options.content,this.schema,this.options.parseOptions),t=X(e,this.options.autofocus);this.view=new i.EditorView(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:r.EditorState.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)})):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return me(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return Be(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fe(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return he(this.state.doc,{blockSeparator:t,textSerializers:{...z(this.schema),...n}})}get isEmpty(){return Ce(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}$node(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Me(t,this)}get $doc(){return this.$pos(0)}},t.Extension=N,t.InputRule=F,t.Mark=Qe,t.Node=Re,t.NodePos=Me,t.NodeView=class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,i,o,a,s,l;const{view:c}=this.editor,A=e.target,u=3===A.nodeType?null===(t=A.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):A.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(A))||!u)return;let d=0,f=0;if(this.dom!==u){const t=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),r=null!==(i=e.offsetX)&&void 0!==i?i:null===(o=e.nativeEvent)||void 0===o?void 0:o.offsetX,l=null!==(a=e.offsetY)&&void 0!==a?a:null===(s=e.nativeEvent)||void 0===s?void 0:s.offsetY;d=n.x-t.x+r,f=n.y-t.y+l}null===(l=e.dataTransfer)||void 0===l||l.setDragImage(this.dom,d,f);const p=r.NodeSelection.create(c.state.doc,this.getPos()),h=c.state.tr.setSelection(p);c.dispatch(h)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(n))))return!1;const i=e.type.startsWith("drag"),o="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!i)return!0;const{isEditable:a}=this.editor,{isDragging:s}=this,l=!!this.node.type.spec.draggable,c=r.NodeSelection.isSelectable(this.node),A="copy"===e.type,u="paste"===e.type,d="cut"===e.type,f="mousedown"===e.type;if(!l&&c&&i&&e.preventDefault(),l&&i&&!s)return e.preventDefault(),!1;if(l&&a&&!s&&f){const e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("drop",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("mouseup",(()=>{this.isDragging=!1}),{once:!0}))}return!(s||o||A||u||d||f&&c)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&(Z()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&this.editor.isFocused){if([...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every((e=>e.isContentEditable)))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command((({tr:t})=>{const n=this.getPos();return t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0}))}deleteNode(){const e=this.getPos(),t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}},t.PasteRule=U,t.Tracker=class{constructor(e){this.transaction=e,this.currentStep=this.transaction.steps.length}map(e){let t=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce(((e,n)=>{const r=n.getMap().mapResult(e);return r.deleted&&(t=!0),r.pos}),e),deleted:t}}},t.callOrReturn=b,t.combineTransactionSteps=function(e,t){const n=new s.Transform(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n},t.createChainableState=A,t.createDocument=le,t.createNodeFromContent=ne,t.createStyleTag=Le,t.defaultBlockAt=Ae,t.deleteProps=se,t.elementFromString=te,t.escapeForRegEx=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},t.extensions=Ue,t.findChildren=function(e,t){const n=[];return e.descendants(((e,r)=>{t(e)&&n.push({node:e,pos:r})})),n},t.findChildrenInRange=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&r.push({node:e,pos:t})})),r},t.findDuplicates=Q,t.findParentNode=de,t.findParentNodeClosestToPos=ue,t.fromString=B,t.generateHTML=function(e,t){const n=pe(t);return fe(a.Node.fromJSON(n,e).content,n)},t.generateJSON=function(e,t){const n=pe(t),r=te(e);return a.DOMParser.fromSchema(n).parse(r).toJSON()},t.generateText=function(e,t,n){const{blockSeparator:r="\n\n",textSerializers:i={}}=n||{},o=pe(t);return he(a.Node.fromJSON(o,e),{blockSeparator:r,textSerializers:{...z(o),...i}})},t.getAttributes=me,t.getAttributesFromExtensions=h,t.getChangedRanges=function(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach(((e,i)=>{const o=[];if(e.ranges.length)e.forEach(((e,t)=>{o.push({from:e,to:t})}));else{const{from:e,to:t}=n[i];if(void 0===e||void 0===t)return;o.push({from:e,to:t})}o.forEach((({from:e,to:n})=>{const o=t.slice(i).map(e,-1),a=t.slice(i).map(n),s=t.invert().map(o,-1),l=t.invert().map(a);r.push({oldRange:{from:s,to:l},newRange:{from:o,to:a}})}))})),function(e){const t=ve(e);return 1===t.length?t:t.filter(((e,n)=>!t.filter(((e,t)=>t!==n)).some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))))}(r)},t.getDebugJSON=function e(t,n=0){const r=t.type===t.type.schema.topNodeType?0:1,i=n,o=i+t.nodeSize,a=t.marks.map((e=>{const t={type:e.type.name};return Object.keys(e.attrs).length&&(t.attrs={...e.attrs}),t})),s={...t.attrs},l={type:t.type.name,from:i,to:o};return Object.keys(s).length&&(l.attrs=s),a.length&&(l.marks=a),t.content.childCount&&(l.content=[],t.forEach(((t,i)=>{var o;null===(o=l.content)||void 0===o||o.push(e(t,n+i+r))}))),t.text&&(l.text=t.text),l},t.getExtensionField=f,t.getHTMLFromFragment=fe,t.getMarkAttributes=ce,t.getMarkRange=G,t.getMarkType=q,t.getMarksBetween=ye,t.getNodeAtPosition=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let o=r,a=null;for(;o>0&&null===a;){const e=i.node(o);(null==e?void 0:e.type.name)===t?a=e:o-=1}return[a,o]},t.getNodeAttributes=ge,t.getNodeType=g,t.getRenderedAttributes=v,t.getSchema=pe,t.getSchemaByResolvedExtensions=S,t.getSchemaTypeByName=k,t.getSchemaTypeNameByName=ae,t.getSplittedAttributes=be,t.getText=he,t.getTextBetween=j,t.getTextContentFromNodes=I,t.getTextSerializersFromSchema=z,t.injectExtensionAttributesToParseRule=x,t.inputRulesPlugin=_,t.isActive=Be,t.isAtEndOfNode=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const n=de((e=>e.type.name===t))(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return i.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},t.isAtStartOfNode=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)},t.isEmptyObject=w,t.isExtensionRulesEnabled=E,t.isFunction=y,t.isList=xe,t.isMacOS=ie,t.isMarkActive=we,t.isNodeActive=oe,t.isNodeEmpty=Ce,t.isNodeSelection=function(e){return e instanceof r.NodeSelection},t.isNumber=T,t.isPlainObject=P,t.isRegExp=O,t.isString=function(e){return"string"==typeof e},t.isTextSelection=Y,t.isiOS=Z,t.markInputRule=function(e){return new F({find:e.find,handler:({state:t,range:n,match:r})=>{const i=b(e.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=t,a=r[r.length-1],s=r[0];if(a){const r=s.search(/\S/),l=n.from+s.indexOf(a),c=l+a.length;if(ye(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>l)).length)return null;c<n.to&&o.delete(c,n.to),l>n.from&&o.delete(n.from+r,l);const A=n.from+r+a.length;o.addMark(n.from+r,A,e.type.create(i||{})),o.removeStoredMark(e.type)}}})},t.markPasteRule=function(e){return new U({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=b(e.getAttributes,void 0,r,i);if(!1===o||null===o)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const r=l.search(/\S/),i=n.from+l.indexOf(s),A=i+s.length;if(ye(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>i)).length)return null;A<n.to&&a.delete(A,n.to),i>n.from&&a.delete(n.from+r,i),c=n.from+r+s.length,a.addMark(n.from+r,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})},t.mergeAttributes=m,t.mergeDeep=H,t.minMax=J,t.nodeInputRule=function(e){return new F({find:e.find,handler:({state:t,range:n,match:r})=>{const i=b(e.getAttributes,void 0,r)||{},{tr:o}=t,a=n.from;let s=n.to;const l=e.type.create(i);if(r[1]){let e=a+r[0].lastIndexOf(r[1]);e>s?e=s:s=e+r[1].length;const t=r[0][r[0].length-1];o.insertText(t,a+r[0].length-1),o.replaceWith(e,s,l)}else r[0]&&o.insert(a-1,e.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s));o.scrollIntoView()}})},t.nodePasteRule=function(e){return new U({find:e.find,handler({match:t,chain:n,range:r,pasteEvent:i}){const o=b(e.getAttributes,void 0,t,i);if(!1===o||null===o)return null;t.input&&n().deleteRange(r).insertContentAt(r.from,{type:e.type.name,attrs:o})}})},t.objectIncludes=$,t.pasteRulesPlugin=L,t.posToDOMRect=function(e,t,n){const r=e.state.doc.content.size,i=J(t,0,r),o=J(n,0,r),a=e.coordsAtPos(i),s=e.coordsAtPos(o,-1),l=Math.min(a.top,s.top),c=Math.max(a.bottom,s.bottom),A=Math.min(a.left,s.left),u=Math.max(a.right,s.right),d={top:l,bottom:c,left:A,right:u,width:u-A,height:c-l,x:A,y:l};return{...d,toJSON:()=>d}},t.removeDuplicates=ve,t.resolveFocusPosition=X,t.selectionToInsertionEnd=re,t.splitExtensions=p,t.textInputRule=function(e){return new F({find:e.find,handler:({state:t,range:n,match:r})=>{let i=e.replace,o=n.from;const a=n.to;if(r[1]){const e=r[0].lastIndexOf(r[1]);i+=r[0].slice(e+r[1].length),o+=e;const t=o-a;t>0&&(i=r[0].slice(e-t,e)+i,o=a)}t.tr.insertText(i,o,a)}})},t.textPasteRule=function(e){return new U({find:e.find,handler:({state:t,range:n,match:r})=>{let i=e.replace,o=n.from;const a=n.to;if(r[1]){const e=r[0].lastIndexOf(r[1]);i+=r[0].slice(e+r[1].length),o+=e;const t=o-a;t>0&&(i=r[0].slice(e-t,e)+i,o=a)}t.tr.insertText(i,o,a)}})},t.textblockTypeInputRule=function(e){return new F({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=b(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})},t.wrappingInputRule=function(e){return new F({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const o=b(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),c=l&&s.findWrapping(l,e.type,o);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:i}=e.editor.extensionManager,o=r||n.$to.parentOffset&&n.$from.marks();if(o){const e=o.filter((e=>i.includes(e.type.name)));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";i().updateAttributes(t,o).run()}const A=a.doc.resolve(n.from-1).nodeBefore;A&&A.type===e.type&&s.canJoin(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,A))&&a.join(n.from-1)}})}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Commenter=100]="Commenter",e[e.SuggestOnly=200]="SuggestOnly",e[e.AddOnly=400]="AddOnly",e[e.ReadWrite=800]="ReadWrite",e[e.Admin=900]="Admin",e[e.Owner=1e3]="Owner"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return i.a})),n.d(t,"c",(function(){return c}));var r=n(207),i=n(133);const o={normalizeProtocol:!0,stripHash:!0,stripWWW:!0,removeTrailingSlash:!0,removeQueryParameters:[/^utm_\w+/i],removeDirectoryIndex:[/^(default|index)\.\w{2,4}$/]};var a=new Map(Object.entries({"youtube.com":{rules:["v"],type:"keep"},"facebook.com":{rules:["fbid","q"],type:"keep"},"twitter.com":{rules:["q"],type:"keep"},"google.com":{rules:["q"],type:"keep"},"google.com.vn":{rules:["q"],type:"keep"},"google.com.au":{rules:["q"],type:"keep"},"google.com.tw":{rules:["q"],type:"keep"},"google.com.br":{rules:["q"],type:"keep"},"google.com.tr":{rules:["q"],type:"keep"},"google.com.gr":{rules:["q"],type:"keep"},"google.com.mx":{rules:["q"],type:"keep"},"google.com.ar":{rules:["q"],type:"keep"},"google.com.co":{rules:["q"],type:"keep"},"google.com.pk":{rules:["q"],type:"keep"},"google.co.jp":{rules:["q"],type:"keep"},"google.co.uk":{rules:["q"],type:"keep"},"google.co.in":{rules:["q"],type:"keep"},"google.co.kr":{rules:["q"],type:"keep"},"google.es":{rules:["q"],type:"keep"},"google.pl":{rules:["q"],type:"keep"},"google.pt":{rules:["q"],type:"keep"},"google.ie":{rules:["q"],type:"keep"},"google.cl":{rules:["q"],type:"keep"},"google.at":{rules:["q"],type:"keep"},"google.dk":{rules:["q"],type:"keep"},"google.be":{rules:["q"],type:"keep"},"google.ca":{rules:["q"],type:"keep"},"google.de":{rules:["q"],type:"keep"},"google.it":{rules:["q"],type:"keep"},"google.fr":{rules:["q"],type:"keep"},"google.nl":{rules:["q"],type:"keep"},"instagram.com":{rules:["taken-by"],type:"remove"},"blogspot.com":{rules:[],type:"keep"},"substack.com":{rules:[],type:"keep"}}));const s=/^\w+:\/\//;function l(e){const t=Object(r.parse)(e,!0),n=a.get(t.hostname);if(!n)return e;const i=new Set(n.rules),o=n.type;for(const e of[...Object.keys(t.query)]){("keep"===o?!i.has(e):i.has(e))&&delete t.query[e]}return function({protocol:e,hostname:t,pathname:n,query:r}){return`${e}//${t}${n}${Object.entries(r).reduce(((e,[t,n],r)=>e+`${0===r?"?":"&"}${t}=${n}`),"")}`}(t)}function c(e,t={}){var n;let r;try{r=Object(i.c)(e,Object.assign(Object.assign({},o),t))}catch(i){if(null!==(n=null==t?void 0:t.suppressParseError)&&void 0!==n&&!n)throw i;r=e}return t.skipQueryRules||(r=l(r)),t.skipProtocolTrim?r:r.replace(s,"")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d}));const r=Math.pow(2,32),i=Number.MAX_SAFE_INTEGER,o=0,a=Math.floor(i/2);class s extends Error{constructor(){super(...arguments),this.type="item-order"}}const l=(e,t)=>({create:{id:t,key:e},update:[]});function c(e,t,n=r,o=a,c=i){const A=e[e.length-1],u=null==A?void 0:A.key;if(!u)return l(o,t);if(c-u<n)throw new s("No space left to push ordered item");return l(u+n,t)}function A(e,t,n,a=r,c=i){const A=e[n];if(!A)throw new Error(`Tried to insert item before non-existing index: ${n}`);if(A.id===t)return l(A.key,t);const u=e[n-1],d=A.key,f=null==u?void 0:u.key;let p;if(p=f?Math.floor((f+d)/2):d-a,p===f||p===d||p<o||p>c)throw new s(`No space left to insert ordered item before index: ${n}`);return l(p,t)}function u(e,t){return e.order-t.order}function d(e,t=r,n=a){const i=[...e].sort(u),o=Math.floor(i.length/2);for(let e=0;e<i.length;e++){const r=(e-o)*t;i[e].order=e===o?n:n+r}return i}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),i=n(0),o=n.n(i),a=n(159),s=n(1),l=n.n(s),c=n(99),A=n(28),u=n.n(A);let d=0;const f=({children:e,placement:t,offsetX:n,offsetY:s,width:l,closeComponent:A,strategy:f,targetElementRef:p,noStyles:h,onMouseEnter:g,onMouseLeave:y,instaClose:b,disableBlur:w,getPortalRoot:B,blockedBackground:x,blockedBackgroundTransparent:C,getDocument:S=()=>document,clickThrough:k})=>{var E;const[I,O]=Object(i.useState)(null),[F,D]=Object(i.useState)(!1);let _=0;d++,_=d;const T=()=>{d===_&&d--,A()};Object(i.useEffect)((()=>{const e=e=>{"Escape"===e.key&&(e.stopPropagation(),T())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]);const{styles:U,attributes:M,update:L}=Object(a.usePopper)(p,I,{placement:t||"left-start",strategy:f||"fixed",modifiers:[{name:"offset",options:{offset:[s||0,n||0]}},{name:"preventOverflow",options:{altAxis:!0,padding:20}}]}),Q=()=>(F||null==L||setTimeout((()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){D(!0),yield L()}))),150),o.a.createElement(c.a,{instaClose:b,getDocument:S,referenceElement:I,onClickAway:T,targetElementRef:p,blockedBackground:x,blockedBackgroundTransparent:C,clickThrough:k},o.a.createElement(v,Object.assign({ref:O,style:U.popper,noStyles:h,disableBlur:w,id:"popout-boxes"},M.popper),o.a.createElement(m,Object.assign({onMouseEnter:g,onMouseLeave:y},M.popper,{width:l}),e))));if(null===B)return Q();const R=null!==(E=null==B?void 0:B())&&void 0!==E?E:S().querySelector("body");return u.a.createPortal(Q(),R)},p=s.keyframes`
 0% { max-height: 0px; max-width: 0px; opacity: 0 }
 50% { opacity: 0 }
 100% { max-height: 800px; max-width: 800px; opacity: 1 }
`,h=s.keyframes`
 0% { max-height: 0px; max-width: 0px; opacity: 0; margin-top: -14px }
 50% { opacity: 0 }
 100% { max-height: 800px; max-width: 800px; opacity: 1; margin-top: 0px }
`,g=s.keyframes`
 0% { opacity: 0 }
 100% { opacity: 1 }
`,m=l.a.div`
    animation-name: ${h};
    animation-duration: 100ms;
    animation-delay: 50ms;
    animation-timing-function: ease-in;
    animation-fill-mode: forwards;
    overflow: visible;
    width: ${e=>e.width?e.width:"fit-content"};

    /* transition: all 2s ease-in-out; */

    scrollbar-width: none;
    /* 
    animation-name: ${g};
        animation-duration: 0.1s;
        animation-delay: 0.3s;
        animation-timing-function: ease-in-out;
        animation-fill-mode: forwards; */
`,v=l.a.div`
    animation-name: ${p};
    animation-duration: 100ms;
    animation-timing-function: ease-in;
    animation-fill-mode: forwards;
    width: ${e=>e.width?e.width:"fit-content"};
    z-index: 24534535435;

    border: 1px solid ${e=>e.theme.colors.greyScale3};
    background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
    box-shadow: 0px 14px 40px 6px ${e=>e.theme.colors.black2}c2;

    &::-webkit-scrollbar {
        display: none;
    }
    border-radius: 12px;
    scrollbar-width: none;

    ${e=>e.noStyles&&s.css`
            border: none;
            background: none;
            box-shadow: none;
        `}
    ${e=>e.disableBlur&&s.css`
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
            backdrop-filter: none;
        `}

    ${e=>"light"===e.theme.variant&&s.css`
            box-shadow: ${e=>e.theme.borderStyles.boxShadowHoverElements};
            border: 1px solid
                ${e=>e.theme.borderStyles.borderHoverElements};
        `};
`},,,function(e,t,n){"use strict";function r(e){var t;const{platform:n}=null!==(t=e.navigatorAPI)&&void 0!==t?t:globalThis.navigator;return n.startsWith("Mac")?"alt"===e.key?"option":"cmd":"alt"===e.key?"alt":"ctrl"}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(4);function l(e){var t;return e.autoFocus&&(null===(t=e.componentRef)||void 0===t?void 0:t.current)&&setTimeout((()=>{e.componentRef.current.focus()}),100),i.a.createElement(c,{width:e.width,height:e.height,background:e.background,padding:e.padding,borderRadius:e.borderRadius},e.icon&&i.a.createElement(s.a,{filePath:e.icon,heightAndWidth:e.iconSize?e.iconSize:"20px",hoverOff:!0}),e.element&&e.element,i.a.createElement(A,{id:e.id,placeholder:e.placeholder,type:e.type,value:e.value,onChange:e.onChange,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off",disabled:e.disabled,ref:e.componentRef,autoFocus:e.autoFocus,textColor:e.textColor,onClick:e.onClick,fontSize:e.fontSize,defaultValue:e.initialValue}),e.actionButton&&e.actionButton)}const c=a.a.div`
    height: ${e=>e.height?e.height:"44px"};
    width: ${e=>e.width?e.width:"fill-available"};
    box-sizing: border-box;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: ${e=>e.background?e.theme.colors[e.background]:e.theme.colors.greyScale2};
    border-radius: ${e=>{var t;return null!==(t=e.borderRadius)&&void 0!==t?t:"5px"}};
    padding: ${e=>e.padding?e.padding:"0px 10px"};
    flex: ${e=>e.width?"0":"1"};
    grid-gap: 10px;

    &:focus-within {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
        background-color: ${e=>e.background?e.theme.colors[e.background]:e.theme.colors.greyScale2};
    }

    ${e=>"light"===e.theme.variant&&o.css`
            &:focus-within {
                outline: 1px solid ${e.theme.colors.greyScale2};
                background-color: ${e.background?e.theme.colors[e.background]:e.theme.colors.greyScale2};
            }
        `};
`,A=a.a.input`
    font-size: ${e=>e.fontSize?e.fontSize:"14px"};
    line-height: 18px;
    border: none;
    background-color: transparent;
    width: fill-available;
    width: -moz-available;
    width: inherit;
    color: ${e=>e.textColor?e.theme.colors[e.textColor]:e.theme.colors.white};
    font-weight: 400;
    font-family: ${e=>e.theme.fonts.primary};
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    outline: none;
    height: inherit;

    &::placeholder {
        color: ${e=>e.theme.colors.greyScale5};
    }

    &:focus {
        outline: none;
    }

    &:focus ${c} {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
    }

    /* ${e=>"light"===e.theme.variant&&o.css`
            &:focus {
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `}; */
`},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(522)},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const r="desc",i="asc",o={production:"https://cloudfare-memex.memex.workers.dev",staging:"https://cloudflare-memex-staging.memex.workers.dev",development:"https://cloudflare-memex-staging.memex.workers.dev"}},,function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));new Date(Date.now());const r="@tabAI",i="@status",o="localSettings.signupTimestamp",a={pU:{AIpowerup:!1,Unlimited:!1,AIpowerupOwnKey:!1,bookmarksPowerUp:!1,lifetime:!1}},s={bookmarksPowerUp:3,AIpowerup:3},l=15},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(2),i=n(3),o=n.n(i);function a(e,t,n=null){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{[e]:r}=yield(n||o.a.storage.local).get(e);return void 0===r&&null!=t?s(e,t):r}))}function s(e,t,n=null){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield(n||o.a.storage.local).set({[e]:t}),t}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(310),o=n.n(i),a=n(53);class s{constructor(){this.events=new a.EventEmitter}applyAndEmitMutation(e,t){const n=this.withMutation(e,t);return this.emitMutation(t),n}emitMutation(e){this.events.emit("mutation",e)}withMutation(e,t){return o()(e,t||{})}processUIEvent(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=this[e];if(!n){if(t.optional)return;throw new Error(`Tried to process UI event which I couldn't find a handler method for (${String(e)})`)}const r=yield n.call(this,{previousState:t.previousState,event:"event"in t?t.event:void 0});return r?t.direct?r:void this.emitMutation(r):void 0}))}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(62);const i={INBOX:"Inbox",MOBILE:"Saved from Mobile",FEED:"Notifications"},o={INBOX:20201014,MOBILE:20201015,FEED:20201016},a={list:"customLists",listEntry:"pageListEntries",listTrees:"customListTrees",listDescription:"customListDescriptions",listEntryDescription:"pageListEntryDescriptions"},s={[a.list]:{version:r.a[28].version,fields:{id:{type:"int"},type:{type:"string",optional:!0},name:{type:"string"},searchableName:{type:"text",optional:!0},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name"},{field:"searchableName",fullTextIndexName:"nameTerms"},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}],history:[{version:new Date("2020-10-18"),fields:{id:{type:"int"},name:{type:"string"},searchableName:{type:"text",optional:!0},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name"},{field:"searchableName",fullTextIndexName:"nameTerms"},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2019-09-13"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name"},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2018-07-12"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name",unique:!0},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2019-08-21"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"},updatedAt:{type:"datetime",optional:!0}},indices:[{field:"id",pk:!0},{field:"name",unique:!0},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2019-08-29"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name",unique:!0},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]}]},[a.listEntry]:{version:r.a[39].version,fields:{listId:{type:"int"},pageUrl:{type:"string"},fullUrl:{type:"string"},createdAt:{type:"datetime"}},indices:[{field:["listId","pageUrl"],pk:!0},{field:"listId"},{field:"pageUrl"},{field:"createdAt"}],history:[{version:new Date("2018-07-12"),fields:{listId:{type:"int"},pageUrl:{type:"string"},fullUrl:{type:"string"},createdAt:{type:"datetime"}},indices:[{field:["listId","pageUrl"],pk:!0},{field:"listId"},{field:"pageUrl"}]}]},[a.listDescription]:{version:new Date(r.a[20].version),fields:{listId:{type:"int"},description:{type:"text"}},indices:[{field:"listId",pk:!0}]},[a.listEntryDescription]:{version:new Date(r.a[20].version),fields:{listId:{type:"int"},pageUrl:{type:"string"},description:{type:"text"}},indices:[{field:["listId","pageUrl"],pk:!0}]},[a.listTrees]:{version:new Date(r.a[36].version),fields:{listId:{type:"int",optional:null},linkTarget:{type:"int",optional:!0},path:{type:"string",optional:!0},parentListId:{type:"int",optional:!0},order:{type:"int"},createdWhen:{type:"timestamp"},updatedWhen:{type:"timestamp"}},indices:[{field:"listId"},{field:"path"},{field:"parentListId"},{field:"order"}]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return A})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m}));var r=n(77),i=n(1);const o="#5CD9A6",a=`${o};`,s=`${o};`,l="#5671CF",c="#83c9f4",A="#3A2F45",u="#3a2f45",d="#F1F1F5",f="#9B9BAA",p="#72727F",h="#4D4754",g="#3A2F45",m=(Object(i.css)(["border-radius:3px;box-shadow:rgba(15,15,15,0.1) 0px 0px 0px 1px,rgba(15,15,15,0.1) 0px 2px 4px;transition:background 120ms ease-in 0s;&:hover{transition:background 120ms ease-in 0s;background-color:rgba(55,53,47,0.03);}"]),{background:"#fff",inputBackground:d,text:A,border:d,tag:{tag:c,searchIcon:h,hover:c,selected:Object(r.lighten)(.18,c),text:Object(r.darken)(.5,Object(r.desaturate)(.5,c)),icon:f,iconHover:h,iconHoverBg:"#DADBE7"}});Object(r.lighten)(.18,c),Object(r.darken)(.5,Object(r.desaturate)(.5,c))},function(e,t,n){"use strict";n.d(t,"g",(function(){return i}));var r=n(86);function i(e){return`https://memex.social${Object(r.h)({remoteListId:e.remoteListId,remoteListEntryId:e.remoteListEntryId,collaborationKey:e.collaborationKey})}`}n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.c})),n.d(t,"c",(function(){return r.d})),n.d(t,"d",(function(){return r.e})),n.d(t,"e",(function(){return r.f})),n.d(t,"f",(function(){return r.g})),n.d(t,"h",(function(){return r.i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);class i{constructor(e,t){this.localBrowserStorage=e,this.options=t}set(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=this._makeStorageKey(e);yield this.localBrowserStorage.set({[n]:t})}))}get(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this._makeStorageKey(e);return this.__rawGet(t)}))}remove(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this._makeStorageKey(e);yield this.localBrowserStorage.remove(t)}))}__rawGet(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield this.localBrowserStorage.get(e);return null!==(t=n[e])&&void 0!==t?t:null}))}_makeStorageKey(e){var t,n;return(null!==(n=null===(t=this.options)||void 0===t?void 0:t.prefix)&&void 0!==n?n:"")+e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l}));const r="https://en.wikipedia.org/wiki/Memex",i="https://memex.garden/onboarding",o={NEW_USER:"install"},a={annotation:"annotation",powerSearch:"powerSearch",backup:"backup"},s={shouldShowOnboarding:"should-show-onboarding",onboardingFlows:{[a.annotation]:"step-one-annotations",[a.powerSearch]:"step-two-power-search",[a.backup]:"step-four-backup"}},l={unvisited:"unvisited",redirected:"redirected",done:"DONE",annotation:{notifiedHighlightText:"highlight-text-notification-shown",notifiedSelectOption:"select-option-notification-shown",annotationCreated:"annotation-created"},powerSearch:{notifiedBrowsePage:"power-search-browse-shown"},tagging:{notifiedTagPage:"tag-page-notification-shown"}}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},i.apply(this,arguments)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0});var d=n(89),f=n(121),p=Object.create(null),h=function(){function e(t,n,r){c(this,e),this.$anchor=t,this.$head=n,this.ranges=r||[new g(t.min(n),t.max(n))]}return u(e,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Slice.empty,n=t.content.lastChild,r=null,i=0;i<t.openEnd;i++)r=n,n=n.lastChild;for(var o=e.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,A=l.$to,u=e.mapping.slice(o);e.replaceRange(u.map(c.pos),u.map(A.pos),s?d.Slice.empty:t),0==s&&k(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(e,t){for(var n=e.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],a=o.$from,s=o.$to,l=e.mapping.slice(n),c=l.map(a.pos),A=l.map(s.pos);i?e.deleteRange(c,A):(e.replaceRangeWith(c,A,t),k(e,n,t.isInline?-1:1))}}},{key:"getBookmark",value:function(){return y.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new y(e):S(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var i=e.depth-1;i>=0;i--){var o=t<0?S(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):S(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(o)return o}return null}},{key:"near",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new x(e.node(0))}},{key:"atStart",value:function(e){return S(e,e,0,0,1)||new x(e)}},{key:"atEnd",value:function(e){return S(e,e,e.content.size,e.childCount,-1)||new x(e)}},{key:"fromJSON",value:function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=p[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in p)throw new RangeError("Duplicate use of selection JSON ID "+e);return p[e]=t,t.prototype.jsonID=e,t}}]),e}();h.prototype.visible=!0;var g=u((function e(t,n){c(this,e),this.$from=t,this.$to=n})),m=!1;function v(e){m||e.parent.inlineContent||(m=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var y=function(e){o(n,e);var t=s(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return c(this,n),v(e),v(r),t.call(this,e,r)}return u(n,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return h.near(r);var i=e.resolve(t.map(this.anchor));return new n(i.parent.inlineContent?i:r,r)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Slice.empty;if(i(l(n.prototype),"replace",this).call(this,e,t),t==d.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor&&e.head==this.head}},{key:"getBookmark",value:function(){return new b(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}},{key:"between",value:function(e,t,r){var i=e.pos-t.pos;if(r&&!i||(r=i>=0?1:-1),!t.parent.inlineContent){var o=h.findFrom(t,r,!0)||h.findFrom(t,-r,!0);if(!o)return h.near(t,r);t=o.$head}return e.parent.inlineContent||(0==i||(e=(h.findFrom(e,-r,!0)||h.findFrom(e,r,!0)).$anchor).pos<t.pos!=i<0)&&(e=t),new n(e,t)}}]),n}(h);h.jsonID("text",y);var b=function(){function e(t,n){c(this,e),this.anchor=t,this.head=n}return u(e,[{key:"map",value:function(t){return new e(t.map(this.anchor),t.map(this.head))}},{key:"resolve",value:function(e){return y.between(e.resolve(this.anchor),e.resolve(this.head))}}]),e}(),w=function(e){o(n,e);var t=s(n);function n(e){var r;c(this,n);var i=e.nodeAfter,o=e.node(0).resolve(e.pos+i.nodeSize);return(r=t.call(this,e,o)).node=i,r}return u(n,[{key:"map",value:function(e,t){var r=t.mapResult(this.anchor),i=r.deleted,o=r.pos,a=e.resolve(o);return i?h.near(a):new n(a)}},{key:"content",value:function(){return new d.Slice(d.Fragment.from(this.node),0,0)}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new B(this.anchor)}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(e.resolve(t.anchor))}},{key:"create",value:function(e,t){return new n(e.resolve(t))}},{key:"isSelectable",value:function(e){return!e.isText&&!1!==e.type.spec.selectable}}]),n}(h);w.prototype.visible=!1,h.jsonID("node",w);var B=function(){function e(t){c(this,e),this.anchor=t}return u(e,[{key:"map",value:function(t){var n=t.mapResult(this.anchor),r=n.deleted,i=n.pos;return r?new b(i,i):new e(i)}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&w.isSelectable(n)?new w(t):h.near(t)}}]),e}(),x=function(e){o(n,e);var t=s(n);function n(e){return c(this,n),t.call(this,e.resolve(0),e.resolve(e.content.size))}return u(n,[{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Slice.empty;if(t==d.Slice.empty){e.delete(0,e.doc.content.size);var r=h.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else i(l(n.prototype),"replace",this).call(this,e,t)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(e){return new n(e)}},{key:"eq",value:function(e){return e instanceof n}},{key:"getBookmark",value:function(){return C}}],[{key:"fromJSON",value:function(e){return new n(e)}}]),n}(h);h.jsonID("all",x);var C={map:function(){return this},resolve:function(e){return new x(e)}};function S(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return y.create(e,n);for(var a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){var s=t.child(a);if(s.isAtom){if(!o&&w.isSelectable(s))return w.create(e,n-(i<0?s.nodeSize:0))}else{var l=S(e,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function k(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i,o=e.steps[r];if(o instanceof f.ReplaceStep||o instanceof f.ReplaceAroundStep)e.mapping.maps[r].forEach((function(e,t,n,r){null==i&&(i=r)})),e.setSelection(h.near(e.doc.resolve(i),n))}}var E=function(e){o(n,e);var t=s(n);function n(e){var r;return c(this,n),(r=t.call(this,e.doc)).curSelectionFor=0,r.updated=0,r.meta=Object.create(null),r.time=Date.now(),r.curSelection=e.selection,r.storedMarks=e.storedMarks,r}return u(n,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(1&this.updated)>0}},{key:"setStoredMarks",value:function(e){return this.storedMarks=e,this.updated|=2,this}},{key:"ensureMarks",value:function(e){return d.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}},{key:"addStoredMark",value:function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(2&this.updated)>0}},{key:"addStep",value:function(e,t){i(l(n.prototype),"addStep",this).call(this,e,t),this.updated=-3&this.updated,this.storedMarks=null}},{key:"setTime",value:function(e){return this.time=e,this}},{key:"replaceSelection",value:function(e){return this.selection.replace(this,e),this}},{key:"replaceSelectionWith",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||d.Mark.none))),n.replaceWith(this,e),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(e,t,n){var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(t);i=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(h.near(this.selection.$to)),this}},{key:"setMeta",value:function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}},{key:"getMeta",value:function(e){return this.meta["string"==typeof e?e:e.key]}},{key:"isGeneric",get:function(){for(var e in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=4,this}},{key:"scrolledIntoView",get:function(){return(4&this.updated)>0}}]),n}(f.Transform);function I(e,t){return t&&e?e.bind(t):e}var O=u((function e(t,n,r){c(this,e),this.name=t,this.init=I(n.init,r),this.apply=I(n.apply,r)})),F=[new O("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new O("selection",{init:function(e,t){return e.selection||h.atStart(t.doc)},apply:function(e){return e.selection}}),new O("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new O("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],D=u((function e(t,n){var r=this;c(this,e),this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=F.slice(),n&&n.forEach((function(e){if(r.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");r.plugins.push(e),r.pluginsByKey[e.key]=e,e.spec.state&&r.fields.push(new O(e.key,e.spec.state,e))}))})),_=function(){function e(t){c(this,e),this.config=t}return u(e,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(e){return this.applyTransaction(e).state}},{key:"filterTransaction",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}},{key:"applyTransaction",value:function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var a=this.config.plugins[o];if(a.spec.appendTransaction){var s=r?r[o].n:0,l=r?r[o].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var A=0;A<this.config.plugins.length;A++)r.push(A<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}},{key:"applyInner",value:function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new e(this.config),r=this.config.fields,i=0;i<r.length;i++){var o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}},{key:"tr",get:function(){return new E(this)}},{key:"reconfigure",value:function(t){for(var n=new D(this.schema,t.plugins),r=n.fields,i=new e(n),o=0;o<r.length;o++){var a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}},{key:"toJSON",value:function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==r(e))for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],o=i.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(i,this[i.key]))}return t}}],[{key:"create",value:function(t){for(var n=new D(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new e(n),i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}},{key:"fromJSON",value:function(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new D(t.schema,t.plugins),o=new e(i);return i.fields.forEach((function(e){if("doc"==e.name)o.doc=d.Node.fromJSON(t.schema,n.doc);else if("selection"==e.name)o.selection=h.fromJSON(o.doc,n.selection);else if("storedMarks"==e.name)n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var i in r){var a=r[i],s=a.spec.state;if(a.key==e.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(n,i))return void(o[e.name]=s.fromJSON.call(a,t,n[i],o))}o[e.name]=e.init(t,o)}})),o}}]),e}();function T(e,t,n){for(var r in e){var i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=T(i,t,{})),n[r]=i}return n}var U=function(){function e(t){c(this,e),this.spec=t,this.props={},t.props&&T(t.props,this,this.props),this.key=t.key?t.key.key:L("plugin")}return u(e,[{key:"getState",value:function(e){return e[this.key]}}]),e}(),M=Object.create(null);function L(e){return e in M?e+"$"+ ++M[e]:(M[e]=0,e+"$")}var Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";c(this,e),this.key=L(t)}return u(e,[{key:"get",value:function(e){return e.config.pluginsByKey[this.key]}},{key:"getState",value:function(e){return e[this.key]}}]),e}();t.AllSelection=x,t.EditorState=_,t.NodeSelection=w,t.Plugin=U,t.PluginKey=Q,t.Selection=h,t.SelectionRange=g,t.TextSelection=y,t.Transaction=E},function(e,t,n){var r=n(248),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return B})),n.d(t,"a",(function(){return C})),n.d(t,"j",(function(){return S}));var r=n(2),i=n(75),o=n(19),a=n(11),s=n(8),l=n(34),c=n(20),A=n(45),u=n(64);const d=(e,t)=>{var n,r,o,a;if(null==e.createdWhen)throw new Error("Cannot reshape annotation missing createdWhen timestamp");const s="number"==typeof e.createdWhen?e.createdWhen:e.createdWhen.getTime(),l=null==e.lastEdited?s:"number"==typeof e.lastEdited?e.lastEdited:e.lastEdited.getTime();return Object.assign({localId:e.url,remoteId:void 0,unifiedListIds:null!==(r=null===(n=t.extraData)||void 0===n?void 0:n.unifiedListIds)&&void 0!==r?r:[],body:e.body,comment:e.comment,selector:e.selector,creator:null===(o=t.extraData)||void 0===o?void 0:o.creator,localListIds:t.excludeLocalLists?void 0:e.lists,normalizedPageUrl:e.pageUrl,lastEdited:l,createdWhen:s,privacyLevel:Object(i.c)({shouldShare:e.isShared,isBulkShareProtected:e.isBulkShareProtected}),color:e.color},null!==(a=t.extraData)&&void 0!==a?a:{})},f=(e,t)=>{var n,r,i;return Object.assign({localId:void 0,remoteId:e.reference.id.toString(),unifiedListIds:null!==(r=null===(n=t.extraData)||void 0===n?void 0:n.unifiedListIds)&&void 0!==r?r:[],body:e.body,comment:e.comment,selector:e.selector,creator:e.creatorReference,localListIds:t.excludeLocalLists?void 0:[],normalizedPageUrl:e.normalizedPageUrl,lastEdited:e.updatedWhen,createdWhen:e.createdWhen,privacyLevel:a.a.SHARED,color:e.color},null!==(i=t.extraData)&&void 0!==i?i:{})},p=(e,t)=>{var n,r;let i="user-list";return"page-link"===e.type?i="page-link":Object.values(l.c).includes(e.id)&&(i="special-list"),Object.assign({type:i,name:e.name,order:e.order,localId:e.id,remoteId:e.remoteId,creator:null===(n=t.extraData)||void 0===n?void 0:n.creator,description:e.description,unifiedAnnotationIds:[],hasRemoteAnnotationsToLoad:!!t.hasRemoteAnnotations,parentUnifiedId:null,parentLocalId:e.parentListId,pathLocalIds:e.pathListIds},null!==(r=t.extraData)&&void 0!==r?r:{})},h=(e,t)=>{var n;return Object.assign({name:e.name,type:"user-list",localId:void 0,remoteId:e.sharedList.toString(),creator:{type:"user-reference",id:e.creator},description:void 0,unifiedAnnotationIds:[],hasRemoteAnnotationsToLoad:!!t.hasRemoteAnnotations,parentUnifiedId:null,parentLocalId:null,order:c.a},null!==(n=t.extraData)&&void 0!==n?n:{})},g=(e,t,n)=>Object(s.c)(e.annotations).filter((e=>e.normalizedPageUrl===t&&(null==e.creator||!!n&&e.creator.id===n))),m=e=>Object(s.c)(e.annotations).filter((e=>{var t;return(null===(t=e.body)||void 0===t?void 0:t.length)>0})),v=(e,t)=>m(e).filter((e=>null==e.creator||!!t&&e.creator.id===t)),y=(e,t)=>m(e).filter((e=>e.unifiedListIds.includes(t))),b=(e,t)=>t.map((t=>{var n;return null===(n=e.lists.byId[t])||void 0===n?void 0:n.localId})).filter((e=>null!=e));function w(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!e.skipListHydration){const t=yield e.bgModules.customLists.fetchAllLists({includeTreeData:!0}),n=yield e.bgModules.contentSharing.getListShareMetadata({localListIds:t.map((e=>e.id))}),r=yield e.bgModules.pageActivityIndicator.getPageFollowedLists(e.fullPageUrl,Object.values(n).map((e=>e.remoteId)));yield x(Object.assign({listMetadata:n,localListsData:t,followedListsData:r},e))}const n=Object(A.a)({syncSettingsBG:e.bgModules.syncSettings}),r=null!==(t=yield n.highlightColors.get("highlightColors"))&&void 0!==t?t:u.a;e.cache.setHighlightColorDictionary(r);const i=yield e.bgModules.annotations.listAnnotationsByPageUrl({pageUrl:e.fullPageUrl,withLists:!0}),s=i.map((e=>e.url)),l=yield e.bgModules.contentSharing.findAnnotationPrivacyLevels({annotationUrls:s}),c=yield e.bgModules.contentSharing.getRemoteAnnotationIds({annotationUrls:s}),f=yield e.bgModules.customLists.fetchPageLists({url:e.fullPageUrl});e.cache.setAnnotations(i.map((t=>{var n;const r=l[t.url],i=r>=a.a.SHARED?f.map((t=>{const n=e.cache.getListByLocalId(t);return null!=(null==n?void 0:n.remoteId)?n.unifiedId:null})).filter((e=>null!=e)):void 0;return d(t,{extraData:{remoteId:null===(n=c[t.url])||void 0===n?void 0:n.toString(),creator:e.user,unifiedListIds:i,privacyLevel:r}})})),{keepExistingData:e.keepExistingAnnotationData}),e.cache.setPageData(Object(o.c)(e.fullPageUrl),f.map((t=>{var n;return null===(n=e.cache.getListByLocalId(t))||void 0===n?void 0:n.unifiedId})))}))}function B(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=yield e.bgModules.customLists.fetchAllLists({includeDescriptions:!0,skipSpecialLists:!1,includeTreeData:!0}),n=yield e.bgModules.pageActivityIndicator.getAllFollowedLists(),r=yield e.bgModules.contentSharing.getListShareMetadata({localListIds:t.map((e=>e.id))});yield x(Object.assign({listMetadata:r,followedListsData:n,localListsData:t},e))}))}function x(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=new Set;for(const n of Object.values(e.followedListsData))"page-link"===n.type&&t.add(n.sharedList.toString());for(const n of e.localListsData){const r=e.listMetadata[n.id];null!=(null==r?void 0:r.remoteId)&&"page-link"===n.type&&t.add(r.remoteId)}const n=new Map;if(t.size){const r=yield e.bgModules.pageActivityIndicator.getEntriesForFollowedLists([...t],{sortAscByCreationTime:!0});for(const e of Object.values(r))e.length&&n.set(e[0].followedList.toString(),{normalizedUrl:e[0].normalizedPageUrl,id:e[0].sharedListEntry.toString(),entryTitle:e[0].entryTitle})}const i=new Set,o=e.localListsData.map((t=>{var r,o;let a=e.user,s=!1;const l=e.listMetadata[t.id],c="page-link"===t.type&&null!==(r=n.get(null==l?void 0:l.remoteId))&&void 0!==r?r:void 0;return null!=(null==l?void 0:l.remoteId)&&e.followedListsData[l.remoteId]&&(i.add(e.followedListsData[l.remoteId].sharedList),s=e.followedListsData[l.remoteId].hasAnnotationsFromOthers,a={type:"user-reference",id:e.followedListsData[l.remoteId].creator}),p(t,{hasRemoteAnnotations:s,extraData:{normalizedPageUrl:null==c?void 0:c.normalizedUrl,sharedListEntryId:null==c?void 0:c.id,isPrivate:null===(o=null==l?void 0:l.private)||void 0===o||o,remoteId:null==l?void 0:l.remoteId,creator:a}})}));Object.values(e.followedListsData).filter((e=>!i.has(e.sharedList))).forEach((e=>{var t;const r="page-link"===e.type&&null!==(t=n.get(e.sharedList.toString()))&&void 0!==t?t:void 0;o.push(h(e,{hasRemoteAnnotations:e.hasAnnotationsFromOthers,extraData:{normalizedPageUrl:null==r?void 0:r.normalizedUrl,sharedListEntryId:null==r?void 0:r.id}}))})),e.cache.setLists(o),e.cache.events.addListener("addedList",(t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){"special-list"!==t.type&&(yield e.bgModules.bgScript.broadcastListChangeToAllTabs({type:"create",list:t}))})))),e.cache.events.addListener("removedList",(t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){null!=t.localId&&(yield e.bgModules.bgScript.broadcastListChangeToAllTabs({type:"delete",localListId:t.localId}))}))))}))}function C(e,t){var n;return null!=e.remoteId&&null==e.localId?"Follower":null!=e.remoteId&&null!=e.localId&&(null===(n=e.creator)||void 0===n?void 0:n.id)!==(null==t?void 0:t.id)?"Contributor":"Creator"}function S(e,t){const n={myLists:[],joinedLists:[],followedLists:[],pageLinkLists:[]};for(const r of e){const e=C(r,t);"page-link"===r.type?n.pageLinkLists.push(r):"Creator"===e&&"user-list"===r.type?n.myLists.push(r):"Follower"!==e||r.isForeignList?"Contributor"===e&&n.joinedLists.push(r):n.followedLists.push(r)}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));const r={settings:"settings"},i={ACTIVITY_INDICATOR:"@ActivityIndicator-",SEARCH_INJECTION:"@SearchInjection-",CONTENT_SHARING:"@ContentSharing-",PDF_INTEGRATION:"@PDFIntegration-",IN_PAGE_UI:"@InPageUI-",DASHBOARD:"@Dashboard-",EXTENSION:"@Extension-",READWISE:"readwise.",OPENAI:"openAI.",HIGHLIGHT_COLORS:"highlightColors.",BETA_FEATURES:"@BetaFeatures-"},o={activityIndicator:{feedHasActivity:i.ACTIVITY_INDICATOR+"feedHasActivity"},contentSharing:{lastSharedAnnotationTimestamp:i.CONTENT_SHARING+"lastSharedAnnotationTimestamp"},dashboard:{listSidebarLocked:i.DASHBOARD+"listSidebarLocked",onboardingMsgSeen:i.DASHBOARD+"onboardingMsgSeen",subscribeBannerShownAfter:i.DASHBOARD+"subscribeBannerShownAfter"},extension:{blocklist:i.EXTENSION+"blocklist",keyboardShortcuts:i.EXTENSION+"keyboard_shortcuts",areTagsMigratedToSpaces:i.EXTENSION+"are_tags_migrated_to_spaces",shouldTrackAnalytics:i.EXTENSION+"should_track_analytics",shouldAutoCreateNoteLink:i.EXTENSION+"shouldAutoCreateNoteLink",shouldAutoAddSpaces:i.EXTENSION+"shouldAutoAddSpaces"},betaFeatures:{imageOverlay:i.BETA_FEATURES+"imageOverlay"},pdfIntegration:{shouldAutoOpen:i.PDF_INTEGRATION+"should_auto_open",shouldAutoUpload:i.PDF_INTEGRATION+"should_auto_upload"},inPageUI:{ribbonEnabled:i.IN_PAGE_UI+"ribbon_enabled",tooltipEnabled:i.IN_PAGE_UI+"tooltip_enabled",highlightsEnabled:i.IN_PAGE_UI+"highlights_enabled",ribbonPosition:i.IN_PAGE_UI+"ribbon_position"},searchInjection:{hideMemexResults:i.SEARCH_INJECTION+"hideMemexResults",memexResultsPosition:i.SEARCH_INJECTION+"memexResultsPosition",searchEnginesEnabled:i.SEARCH_INJECTION+"searchEnginesEnabled",stickyContainerEnabled:i.SEARCH_INJECTION+"stickyContainerEnabled"},readwise:{apiKey:i.READWISE+"apiKey"},openAI:{apiKey:i.OPENAI+"apiKey",promptSuggestions:i.OPENAI+"promptSuggestions",videoPromptSetting:i.OPENAI+"videoPromptSetting",selectedModel:i.OPENAI+"selectedModel"},highlightColors:{highlightColors:i.HIGHLIGHT_COLORS+"highlightColors"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(0),o=n.n(i),a=n(1);const s=n.n(a).a.div.withConfig({displayName:"MarginDiv",componentId:"iqczrq-0"})(["",";",";display:flex;justify-content:center;align-items:center;",";",";"],(e=>e.horizontal?`margin-left: ${e.horizontal}; margin-right: ${e.horizontal};`:`${e.left?`margin-left: ${e.left};`:""}${e.right?`margin-right: ${e.right};`:""}`),(e=>e.vertical?`margin-top: ${e.vertical}; margin-bottom: ${e.vertical};`:`${e.top?`margin-top: ${e.top};`:""}${e.bottom?`margin-bottom: ${e.bottom}`:""}`),(e=>e.width?`width: ${e.width};`:"width: 100%;"),(e=>{if(e.height)return`width: ${e.height};`}));class l extends i.PureComponent{render(){const e=this.props,{children:t}=e,n=Object(r.__rest)(e,["children"]);return o.a.createElement(s,Object.assign({},n),t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(37),i=n(43);const o=e=>({activityIndicator:new r.a(e.syncSettingsBG,{prefix:i.b.ACTIVITY_INDICATOR}),inPageUI:new r.a(e.syncSettingsBG,{prefix:i.b.IN_PAGE_UI}),dashboard:new r.a(e.syncSettingsBG,{prefix:i.b.DASHBOARD}),extension:new r.a(e.syncSettingsBG,{prefix:i.b.EXTENSION}),contentSharing:new r.a(e.syncSettingsBG,{prefix:i.b.CONTENT_SHARING}),pdfIntegration:new r.a(e.syncSettingsBG,{prefix:i.b.PDF_INTEGRATION}),readwise:new r.a(e.syncSettingsBG,{prefix:i.b.READWISE}),openAI:new r.a(e.syncSettingsBG,{prefix:i.b.OPENAI}),searchInjection:new r.a(e.syncSettingsBG,{prefix:i.b.SEARCH_INJECTION}),highlightColors:new r.a(e.syncSettingsBG,{prefix:i.b.HIGHLIGHT_COLORS}),betaFeatures:new r.a(e.syncSettingsBG,{prefix:i.b.BETA_FEATURES})})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(2);function i(e){return`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function o(e){let t=e.substring(5,e.length-1).split(",").map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}function a(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){e.setAttribute("style",`background-color:${i(t.color)};`),e.setAttribute("highlightcolor",t.id)}))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"d",(function(){return A})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return h}));var r=n(6);const i={analytics:Object(r.k)(),notifications:Object(r.k)(),bookmarks:Object(r.k)(),auth:Object(r.k)(),subscription:Object(r.k)(),featuresBeta:Object(r.k)(),tags:Object(r.k)(),pageActivityIndicator:Object(r.k)(),collections:Object(r.k)(),copyPaster:Object(r.k)(),readablePageArchives:Object(r.k)(),contentSharing:Object(r.k)(),personalCloud:Object(r.k)(),pdf:Object(r.k)(),analyticsBG:Object(r.k)()},o=i.notifications,a=i.bookmarks,s=i.auth,l=i.subscription,c=i.tags,A=i.collections,u=i.pageActivityIndicator,d=i.copyPaster,f=i.readablePageArchives,p=i.contentSharing,h=(Object(r.k)(),i.analyticsBG)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(337),i=n.n(r),o=n(338),a=n.n(o);const s=/^(chrome|moz)-extension:\/\//,l=i.a;let c=!0;function A({reduxMiddlewares:e,stateTransformer:t=e=>e}){l.config("https://205014a0f65e4160a29db2935250b47c@sentry.io/305612",{shouldSendCallback:()=>c,whitelistUrls:[s],includePaths:[s],ignoreErrors:p}).install(),e&&e.push(a()(l,{stateTransformer:t}))}const u=e=>l.setUserContext(null!=e?e:void 0),d=(e,t)=>l.captureException(e,t),f=e=>l.captureBreadcrumb(e),p=["No registered remote function called handleHistoryStateUpdate","No registered remote function called confirmTabScriptLoaded","No registered remote function called teardownContentScripts","Error: Could not get a port to content-script-background","Cannot destructure property 'id' of 'i' as it is undefined.","NotAllowedError: Registration failed - permission denied","An error occurred. See https://git.io/JUIaE#17 for more information.","AbortError: Registration failed - push service error","Could not establish connection. Receiving end does not exist.","Error: Cannot inject content-scripts into page","Error: No tab with id:","Unable to download all specified images.","Could not establish connection. Receiving end does not exist.","A listener indicated an asynchronous response by returning true","DatabaseClosedError: UnknownError","DatabaseClosedError: InvalidStateError","DatabaseClosedError: UpgradeError","UpgradeError Not yet support for changing primary key","Tried to do 'findObjects' operation on non-existing collection: settings","Invariant Violation: update(): You provided an invalid spec to update()."]},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s}));const r=e=>{try{const t=e.includes("youtube.com/"),n=e.includes("youtu.be/"),r=new URL(e);let i;if(n?(i=r.pathname.split("/")[1],i=i.split(/[?#&]/)[0]):t&&(i=r.searchParams.get("v")),!i)throw new Error("Could not extract YouTube video ID from URL: "+e);return i}catch(e){return null}},i=["youtube.com/","youtu.be/"],o=e=>{if(!(null==e?void 0:e.length))return!1;const t=e.includes(i[0]),n=e.includes(i[1]);return t||n},a=["odysee.com/","bitchute.com/","crowdbunker.com/","dailymotion.com/","vimeo.com/"],s=e=>o(e)||(e=>a.some((t=>e.startsWith(t))))(e)},function(e,t,n){"use strict";var r=n(2);let i;i=new class{constructor(){this.reset()}reset(){this.events=[],this.newEvents=[]}trackEvent(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.events.push({eventArgs:e,options:t}),this.newEvents.push({eventArgs:e,options:t})}))}popNew(){const e=this.newEvents;return this.newEvents=[],e}};t.a=i},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function A(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function u(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,A=h(l,c);for(n=0;n<c;++n)o(A[n],this,t)}return!0},s.prototype.addListener=function(e,t){return A(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return A(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);const i=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var t;return!(null===(t=navigator.clipboard)||void 0===t?void 0:t.writeText)||(yield navigator.clipboard.writeText(e),!0)}))},,function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="hypothesis-highlight",i="rectangle-highlight"},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){!function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){var t=s(e,"string");return"symbol"==typeof t?t:String(t)}function c(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function A(t){e.defaults=t}e.defaults=c();var u=/[&<>"']/,d=new RegExp(u.source,"g"),f=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,p=new RegExp(f.source,"g"),h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(e){return h[e]};function m(e,t){if(t){if(u.test(e))return e.replace(d,g)}else if(f.test(e))return e.replace(p,g);return e}var v=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function y(e){return e.replace(v,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var b=/(^|[^\[])\^/g;function w(e,t){e="string"==typeof e?e:e.source,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(b,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var B=/[^\w:]/g,x=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function C(e,t,n){if(e){var r;try{r=decodeURIComponent(y(n)).replace(B,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!x.test(n)&&(n=O(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var S={},k=/^[^:]+:\/*[^/]*$/,E=/^([^:]+:)[\s\S]*$/,I=/^([^:]+:\/*[^/]*)[\s\S]*$/;function O(e,t){S[" "+e]||(k.test(e)?S[" "+e]=e+"/":S[" "+e]=_(e,"/",!0));var n=-1===(e=S[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(E,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(I,"$1")+t:e+t}var F={exec:function(){}};function D(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function _(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function T(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1}function U(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function M(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function L(e,t,n,r){var i=t.href,o=t.title?m(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;var s={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,s}return{type:"image",raw:n,href:i,title:o,text:m(a)}}function Q(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join("\n")}var R=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.space=function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},n.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:_(n,"\n")}}},n.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=Q(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}},n.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=_(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}},n.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},n.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;var i=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:i,text:n}}},n.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,i,o,a,s,l,c,A,u,d,f,p=t[1].trim(),h=p.length>1,g={type:"list",raw:"",ordered:h,start:h?+p.slice(0,-1):"",loose:!1,items:[]};p=h?"\\d{1,9}\\"+p.slice(-1):"\\"+p,this.options.pedantic&&(p=h?p:"[*+-]");for(var m=new RegExp("^( {0,3}"+p+")((?:[\t ][^\\n]*)?(?:\\n|$))");e&&(f=!1,t=m.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(function(e){return" ".repeat(3*e.length)})),A=e.split("\n",1)[0],this.options.pedantic?(o=2,d=c.trimLeft()):(o=(o=t[2].search(/[^ ]/))>4?1:o,d=c.slice(o),o+=t[1].length),s=!1,!c&&/^ *$/.test(A)&&(n+=A+"\n",e=e.substring(A.length+1),f=!0),!f)for(var v=new RegExp("^ {0,"+Math.min(3,o-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))"),y=new RegExp("^ {0,"+Math.min(3,o-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),b=new RegExp("^ {0,"+Math.min(3,o-1)+"}(?:```|~~~)"),w=new RegExp("^ {0,"+Math.min(3,o-1)+"}#");e&&(A=u=e.split("\n",1)[0],this.options.pedantic&&(A=A.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!b.test(A))&&!w.test(A)&&!v.test(A)&&!y.test(e);){if(A.search(/[^ ]/)>=o||!A.trim())d+="\n"+A.slice(o);else{if(s)break;if(c.search(/[^ ]/)>=4)break;if(b.test(c))break;if(w.test(c))break;if(y.test(c))break;d+="\n"+A}s||A.trim()||(s=!0),n+=u+"\n",e=e.substring(u.length+1),c=A.slice(o)}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d))&&(i="[ ] "!==r[0],d=d.replace(/^\[[ xX]\] +/,"")),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:d}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=d.trimRight(),g.raw=g.raw.trimRight();var B=g.items.length;for(a=0;a<B;a++)if(this.lexer.state.top=!1,g.items[a].tokens=this.lexer.blockTokens(g.items[a].text,[]),!g.loose){var x=g.items[a].tokens.filter((function(e){return"space"===e.type})),C=x.length>0&&x.some((function(e){return/\n.*\n/.test(e.raw)}));g.loose=C}if(g.loose)for(a=0;a<B;a++)g.items[a].loose=!0;return g}},n.html=function(e){var t=this.rules.block.html.exec(e);if(t){var n={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){var r=this.options.sanitizer?this.options.sanitizer(t[0]):m(t[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}},n.def=function(e){var t=this.rules.block.def.exec(e);if(t){var n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}},n.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:D(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i,o,a,s=n.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(s=n.rows.length,r=0;r<s;r++)n.rows[r]=D(n.rows[r],n.header.length).map((function(e){return{text:e}}));for(s=n.header.length,i=0;i<s;i++)n.header[i].tokens=this.lexer.inline(n.header[i].text);for(s=n.rows.length,i=0;i<s;i++)for(a=n.rows[i],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}},n.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}},n.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}},n.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}},n.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:m(t[1])}},n.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):m(t[0]):t[0]}},n.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=_(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=T(t[2],"()");if(i>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var a=t[2],s="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),L(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0],this.lexer)}},n.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return L(n,r,n[0],this.lexer)}},n.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var o,a,s=r[0].length-1,l=s,c=0,A="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(A.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=A.exec(t));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=o.length,r[3]||r[4])l+=a;else if(!((r[5]||r[6])&&s%3)||(s+a)%3){if(!((l-=a)>0)){a=Math.min(a,a+l+c);var u=e.slice(0,s+r.index+(r[0].length-o.length)+a);if(Math.min(s,a)%2){var d=u.slice(1,-1);return{type:"em",raw:u,text:d,tokens:this.lexer.inlineTokens(d)}}var f=u.slice(2,-2);return{type:"strong",raw:u,text:f,tokens:this.lexer.inlineTokens(f)}}}else c+=a}}},n.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=m(n,!0),{type:"codespan",raw:t[0],text:n}}},n.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},n.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}},n.autolink=function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return r="@"===i[2]?"mailto:"+(n=m(this.options.mangle?t(i[1]):i[1])):n=m(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},n.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if("@"===n[2])i="mailto:"+(r=m(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=m(n[0]),i="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},n.inlineText=function(e,t){var n,r=this.rules.inline.text.exec(e);if(r)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):m(r[0]):r[0]:m(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:n}},t}(),P={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:F,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};P.def=w(P.def).replace("label",P._label).replace("title",P._title).getRegex(),P.bullet=/(?:[*+-]|\d{1,9}[.)])/,P.listItemStart=w(/^( *)(bull) */).replace("bull",P.bullet).getRegex(),P.list=w(P.list).replace(/bull/g,P.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+P.def.source+")").getRegex(),P._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,P.html=w(P.html,"i").replace("comment",P._comment).replace("tag",P._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P.paragraph=w(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.blockquote=w(P.blockquote).replace("paragraph",P.paragraph).getRegex(),P.normal=r({},P),P.gfm=r({},P.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),P.gfm.table=w(P.gfm.table).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.gfm.paragraph=w(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",P.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.pedantic=r({},P.normal,{html:w("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",P._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:F,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:w(P.normal._paragraph).replace("hr",P.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",P.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var H={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:F,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:F,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function N(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function j(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}H._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",H.punctuation=w(H.punctuation).replace(/punctuation/g,H._punctuation).getRegex(),H.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,H.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,H._comment=w(P._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),H.emStrong.lDelim=w(H.emStrong.lDelim).replace(/punct/g,H._punctuation).getRegex(),H.emStrong.rDelimAst=w(H.emStrong.rDelimAst,"g").replace(/punct/g,H._punctuation).getRegex(),H.emStrong.rDelimUnd=w(H.emStrong.rDelimUnd,"g").replace(/punct/g,H._punctuation).getRegex(),H._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,H._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,H._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,H.autolink=w(H.autolink).replace("scheme",H._scheme).replace("email",H._email).getRegex(),H._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,H.tag=w(H.tag).replace("comment",H._comment).replace("attribute",H._attribute).getRegex(),H._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,H._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,H._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,H.link=w(H.link).replace("label",H._label).replace("href",H._href).replace("title",H._title).getRegex(),H.reflink=w(H.reflink).replace("label",H._label).replace("ref",P._label).getRegex(),H.nolink=w(H.nolink).replace("ref",P._label).getRegex(),H.reflinkSearch=w(H.reflinkSearch,"g").replace("reflink",H.reflink).replace("nolink",H.nolink).getRegex(),H.normal=r({},H),H.pedantic=r({},H.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:w(/^!?\[(label)\]\((.*?)\)/).replace("label",H._label).getRegex(),reflink:w(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",H._label).getRegex()}),H.gfm=r({},H.normal,{escape:w(H.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),H.gfm.url=w(H.gfm.url,"i").replace("email",H.gfm._extended_email).getRegex(),H.breaks=r({},H.gfm,{br:w(H.br).replace("{2,}","*").getRegex(),text:w(H.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var z=function(){function t(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new R,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:P.normal,inline:H.normal};this.options.pedantic?(n.block=P.pedantic,n.inline=H.pedantic):this.options.gfm&&(n.block=P.gfm,this.options.breaks?n.inline=H.breaks:n.inline=H.gfm),this.tokenizer.rules=n}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var r=t.prototype;return r.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},r.blockTokens=function(e,t){var n,r,i,o,a=this;for(void 0===t&&(t=[]),e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,n){return t+"    ".repeat(n.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(n=r.call({lexer:a},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(i=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),r=void 0;a.options.extensions.startBlock.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}(),this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){var s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return this.state.top=!0,t},r.inline=function(e,t){return void 0===t&&(t=[]),this.inlineQueue.push({src:e,tokens:t}),t},r.inlineTokens=function(e,t){var n,r,i,o=this;void 0===t&&(t=[]);var a,s,l,c=e;if(this.tokens.links){var A=Object.keys(this.tokens.links);if(A.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)A.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+M("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+M("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index+a[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(r){return!!(n=r.call({lexer:o},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,j))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,j))){if(i=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),r=void 0;o.options.extensions.startInline.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}(),n=this.tokenizer.inlineText(i,N))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),s=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){var u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}else e=e.substring(n.raw.length),t.push(n);return t},n(t,null,[{key:"rules",get:function(){return{block:P,inline:H}}}]),t}(),K=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+m(r)+'">'+(n?e:m(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:m(e,!0))+"</code></pre>\n"},n.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.html=function(e){return e},n.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+(this.options.headerPrefix+r.slug(n))+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},n.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},n.listitem=function(e){return"<li>"+e+"</li>\n"},n.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(e){return"<p>"+e+"</p>\n"},n.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},n.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},n.strong=function(e){return"<strong>"+e+"</strong>"},n.em=function(e){return"<em>"+e+"</em>"},n.codespan=function(e){return"<code>"+e+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(e){return"<del>"+e+"</del>"},n.link=function(e,t,n){if(null===(e=C(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},n.image=function(e,t,n){if(null===(e=C(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},n.text=function(e){return e},t}(),$=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),W=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),V=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $,this.slugger=new W}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var n=t.prototype;return n.parse=function(e,t){void 0===t&&(t=!0);var n,r,i,o,a,s,l,c,A,u,d,f,p,h,g,m,v,b,w,B="",x=e.length;for(n=0;n<x;n++)if(u=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type])||!1===(w=this.options.extensions.renderers[u.type].call({parser:this},u))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type))switch(u.type){case"space":continue;case"hr":B+=this.renderer.hr();continue;case"heading":B+=this.renderer.heading(this.parseInline(u.tokens),u.depth,y(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":B+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(c="",l="",o=u.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(u.header[r].tokens),{header:!0,align:u.align[r]});for(c+=this.renderer.tablerow(l),A="",o=u.rows.length,r=0;r<o;r++){for(l="",a=(s=u.rows[r]).length,i=0;i<a;i++)l+=this.renderer.tablecell(this.parseInline(s[i].tokens),{header:!1,align:u.align[i]});A+=this.renderer.tablerow(l)}B+=this.renderer.table(c,A);continue;case"blockquote":A=this.parse(u.tokens),B+=this.renderer.blockquote(A);continue;case"list":for(d=u.ordered,f=u.start,p=u.loose,o=u.items.length,A="",r=0;r<o;r++)m=(g=u.items[r]).checked,v=g.task,h="",g.task&&(b=this.renderer.checkbox(m),p?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):h+=b),h+=this.parse(g.tokens,p),A+=this.renderer.listitem(h,v,m);B+=this.renderer.list(A,d,f);continue;case"html":B+=this.renderer.html(u.text);continue;case"paragraph":B+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(A=u.tokens?this.parseInline(u.tokens):u.text;n+1<x&&"text"===e[n+1].type;)A+="\n"+((u=e[++n]).tokens?this.parseInline(u.tokens):u.text);B+=t?this.renderer.paragraph(A):A;continue;default:var C='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(C);throw new Error(C)}else B+=w||"";return B},n.parseInline=function(e,t){t=t||this.renderer;var n,r,i,o="",a=e.length;for(n=0;n<a;n++)if(r=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call({parser:this},r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":case"text":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}else o+=i||"";return o},t}(),G=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.preprocess=function(e){return e},n.postprocess=function(e){return e},t}();function q(e,t,n){return function(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){var i="<p>An error occurred:</p><pre>"+m(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):n?void n(null,i):i}if(t)return Promise.reject(r);if(!n)throw r;n(r)}}function Y(e,t){return function(n,i,o){"function"==typeof i&&(o=i,i=null);var a=r({},i),s=q((i=r({},J.defaults,a)).silent,i.async,o);if(null==n)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(U(i),i.hooks&&(i.hooks.options=i),o){var l,c=i.highlight;try{i.hooks&&(n=i.hooks.preprocess(n)),l=e(n,i)}catch(e){return s(e)}var A=function(e){var n;if(!e)try{i.walkTokens&&J.walkTokens(l,i.walkTokens),n=t(l,i),i.hooks&&(n=i.hooks.postprocess(n))}catch(t){e=t}return i.highlight=c,e?s(e):o(null,n)};if(!c||c.length<3)return A();if(delete i.highlight,!l.length)return A();var u=0;return J.walkTokens(l,(function(e){"code"===e.type&&(u++,setTimeout((function(){c(e.text,e.lang,(function(t,n){if(t)return A(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--u&&A()}))}),0))})),void(0===u&&A())}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then((function(t){return e(t,i)})).then((function(e){return i.walkTokens?Promise.all(J.walkTokens(e,i.walkTokens)).then((function(){return e})):e})).then((function(e){return t(e,i)})).then((function(e){return i.hooks?i.hooks.postprocess(e):e})).catch(s);try{i.hooks&&(n=i.hooks.preprocess(n));var d=e(n,i);i.walkTokens&&J.walkTokens(d,i.walkTokens);var f=t(d,i);return i.hooks&&(f=i.hooks.postprocess(f)),f}catch(e){return s(e)}}}function J(e,t,n){return Y(z.lex,V.parse)(e,t,n)}G.passThroughHooks=new Set(["preprocess","postprocess"]),J.options=J.setOptions=function(e){return J.defaults=r({},J.defaults,e),A(J.defaults),J},J.getDefaults=c,J.defaults=e.defaults,J.use=function(){for(var e=J.defaults.extensions||{renderers:{},childTokens:{}},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){var n=r({},t);if(n.async=J.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var n=e.renderers[t.name];e.renderers[t.name]=n?function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=t.renderer.apply(this,r);return!1===o&&(o=n.apply(this,r)),o}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");e[t.level]?e[t.level].unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer&&function(){var e=J.defaults.renderer||new K,r=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=t.renderer[n].apply(e,o);return!1===s&&(s=r.apply(e,o)),s}};for(var i in t.renderer)r(i);n.renderer=e}(),t.tokenizer&&function(){var e=J.defaults.tokenizer||new R,r=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=t.tokenizer[n].apply(e,o);return!1===s&&(s=r.apply(e,o)),s}};for(var i in t.tokenizer)r(i);n.tokenizer=e}(),t.hooks&&function(){var e=J.defaults.hooks||new G,r=function(n){var r=e[n];G.passThroughHooks.has(n)?e[n]=function(i){if(J.defaults.async)return Promise.resolve(t.hooks[n].call(e,i)).then((function(t){return r.call(e,t)}));var o=t.hooks[n].call(e,i);return r.call(e,o)}:e[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=t.hooks[n].apply(e,o);return!1===s&&(s=r.apply(e,o)),s}};for(var i in t.hooks)r(i);n.hooks=e}(),t.walkTokens){var i=J.defaults.walkTokens;n.walkTokens=function(e){var n=[];return n.push(t.walkTokens.call(this,e)),i&&(n=n.concat(i.call(this,e))),n}}J.setOptions(n)}))},J.walkTokens=function(e,t){for(var n,r=[],i=function(){var e=n.value;switch(r=r.concat(t.call(J,e)),e.type){case"table":for(var i,o=a(e.header);!(i=o()).done;){var s=i.value;r=r.concat(J.walkTokens(s.tokens,t))}for(var l,c=a(e.rows);!(l=c()).done;)for(var A,u=a(l.value);!(A=u()).done;){var d=A.value;r=r.concat(J.walkTokens(d.tokens,t))}break;case"list":r=r.concat(J.walkTokens(e.items,t));break;default:J.defaults.extensions&&J.defaults.extensions.childTokens&&J.defaults.extensions.childTokens[e.type]?J.defaults.extensions.childTokens[e.type].forEach((function(n){r=r.concat(J.walkTokens(e[n],t))})):e.tokens&&(r=r.concat(J.walkTokens(e.tokens,t)))}},o=a(e);!(n=o()).done;)i();return r},J.parseInline=Y(z.lexInline,V.parseInline),J.Parser=V,J.parser=V.parse,J.Renderer=K,J.TextRenderer=$,J.Lexer=z,J.lexer=z.lex,J.Tokenizer=R,J.Slugger=W,J.Hooks=G,J.parse=J;var X=J.options,Z=J.setOptions,ee=J.use,te=J.walkTokens,ne=J.parseInline,re=J,ie=V.parse,oe=z.lex;e.Hooks=G,e.Lexer=z,e.Parser=V,e.Renderer=K,e.Slugger=W,e.TextRenderer=$,e.Tokenizer=R,e.getDefaults=c,e.lexer=oe,e.marked=J,e.options=X,e.parse=re,e.parseInline=ne,e.parser=ie,e.setOptions=Z,e.use=ee,e.walkTokens=te}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(645),i=n(0),o=n(28),a=n(17),s=n(647);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(i),A=l(o);const u=(...e)=>t=>{e.forEach((e=>{"function"==typeof e?e(t):e&&(e.current=t)}))},d=({renderers:e})=>c.default.createElement(c.default.Fragment,null,Object.entries(e).map((([e,t])=>A.default.createPortal(t.reactElement,t.element,e))));class f extends c.default.Component{constructor(e){super(e),this.editorContentRef=c.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?o.flushSync(e):e()}setRenderer(e,t){this.maybeFlushSync((()=>{this.setState((({renderers:n})=>({renderers:{...n,[e]:t}})))}))}removeRenderer(e){this.maybeFlushSync((()=>{this.setState((({renderers:t})=>{const n={...t};return delete n[e],{renderers:n}}))}))}componentWillUnmount(){const{editor:e}=this.props;if(!e)return;if(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...n}=this.props;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{ref:u(t,this.editorContentRef),...n}),c.default.createElement(d,{renderers:this.state.renderers}))}}const p=i.forwardRef(((e,t)=>{const n=c.default.useMemo((()=>Math.floor(4294967295*Math.random()).toString()),[e.editor]);return c.default.createElement(f,{key:n,innerRef:t,...e})})),h=c.default.memo(p);class g extends a.Editor{constructor(){super(...arguments),this.contentComponent=null}}const m=(e={},t=[])=>{const n=i.useRef(null),[,r]=i.useState({}),{onBeforeCreate:o,onBlur:a,onCreate:s,onDestroy:l,onFocus:c,onSelectionUpdate:A,onTransaction:u,onUpdate:d}=e,f=i.useRef(o),p=i.useRef(a),h=i.useRef(s),m=i.useRef(l),v=i.useRef(c),y=i.useRef(A),b=i.useRef(u),w=i.useRef(d);return i.useEffect((()=>{n.current&&(o&&(n.current.off("beforeCreate",f.current),n.current.on("beforeCreate",o),f.current=o),a&&(n.current.off("blur",p.current),n.current.on("blur",a),p.current=a),s&&(n.current.off("create",h.current),n.current.on("create",s),h.current=s),l&&(n.current.off("destroy",m.current),n.current.on("destroy",l),m.current=l),c&&(n.current.off("focus",v.current),n.current.on("focus",c),v.current=c),A&&(n.current.off("selectionUpdate",y.current),n.current.on("selectionUpdate",A),y.current=A),u&&(n.current.off("transaction",b.current),n.current.on("transaction",u),b.current=u),d&&(n.current.off("update",w.current),n.current.on("update",d),w.current=d))}),[o,a,s,l,c,A,u,d,n.current]),i.useEffect((()=>{let t=!0;return n.current=new g(e),n.current.on("transaction",(()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&r({})}))}))})),()=>{t=!1}}),t),i.useEffect((()=>()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.destroy()}),[]),n.current},v=i.createContext({editor:null}),y=v.Consumer,b=()=>i.useContext(v),w=i.createContext({onDragStart:void 0}),B=()=>i.useContext(w),x=c.default.forwardRef(((e,t)=>{const{onDragStart:n}=B(),r=e.as||"div";return c.default.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}));class C{constructor(e,{editor:t,props:n={},as:r="div",className:i="",attrs:o}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),o&&Object.keys(o).forEach((e=>{this.element.setAttribute(e,o[e])})),this.render()}render(){var e,t;const n=this.component,r=this.props;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)}(n)||function(e){var t;return!("object"!=typeof e||"Symbol(react.forward_ref)"!==(null===(t=e.$$typeof)||void 0===t?void 0:t.toString()))}(n))&&(r.ref=e=>{this.ref=e}),this.reactElement=c.default.createElement(n,{...r}),null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,t;null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.removeRenderer(this.id)}}class S extends a.NodeView{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const e=e=>e.charAt(0).toUpperCase()+e.substring(1);this.component.displayName=e(this.extension.name)}const t=e=>{const t=this.component,n=this.onDragStart.bind(this);return c.default.createElement(c.default.Fragment,null,c.default.createElement(w.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}}},c.default.createElement(t,{...e})))};t.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let n=this.node.isInline?"span":"div";this.options.as&&(n=this.options.as);const{className:r=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new C(t,{editor:this.editor,props:e,as:n,className:`node-${this.node.type.name} ${r}`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null===(e=this.renderer.element.firstElementChild)||void 0===e?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection;if(e<=this.getPos()&&t>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t){const n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){const r=this.node,i=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:r,oldDecorations:i,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}t.BubbleMenu=e=>{const[t,n]=i.useState(null),{editor:o}=b();return i.useEffect((()=>{var n;if(!t)return;if((null===(n=e.editor)||void 0===n?void 0:n.isDestroyed)||(null==o?void 0:o.isDestroyed))return;const{pluginKey:i="bubbleMenu",editor:a,tippyOptions:s={},updateDelay:l,shouldShow:c=null}=e,A=a||o;if(!A)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");const u=r.BubbleMenuPlugin({updateDelay:l,editor:A,element:t,pluginKey:i,shouldShow:c,tippyOptions:s});return A.registerPlugin(u),()=>A.unregisterPlugin(i)}),[e.editor,o,t]),c.default.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)},t.Editor=g,t.EditorConsumer=y,t.EditorContent=h,t.EditorContext=v,t.EditorProvider=({children:e,slotAfter:t,slotBefore:n,...r})=>{const i=m(r);return i?c.default.createElement(v.Provider,{value:{editor:i}},n,c.default.createElement(y,null,(({editor:e})=>c.default.createElement(h,{editor:e}))),e,t):null},t.FloatingMenu=e=>{const[t,n]=i.useState(null),{editor:r}=b();return i.useEffect((()=>{var n;if(!t)return;if((null===(n=e.editor)||void 0===n?void 0:n.isDestroyed)||(null==r?void 0:r.isDestroyed))return;const{pluginKey:i="floatingMenu",editor:o,tippyOptions:a={},shouldShow:l=null}=e,c=o||r;if(!c)return void console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");const A=s.FloatingMenuPlugin({pluginKey:i,editor:c,element:t,tippyOptions:a,shouldShow:l});return c.registerPlugin(A),()=>c.unregisterPlugin(i)}),[e.editor,r,t]),c.default.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)},t.NodeViewContent=e=>{const t=e.as||"div",{nodeViewContentRef:n}=B();return c.default.createElement(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})},t.NodeViewWrapper=x,t.PureEditorContent=f,t.ReactNodeViewRenderer=function(e,t){return n=>n.editor.contentComponent?new S(e,n,t):{}},t.ReactRenderer=C,t.useCurrentEditor=b,t.useEditor=m,Object.keys(a).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={0:{version:new Date("2018-02-01")},1:{version:new Date("2018-07-01")},2:{version:new Date("2018-07-12")},3:{version:new Date("2018-07-14")},4:{version:new Date("2018-08-03")},5:{version:new Date("2018-08-04")},6:{version:new Date("2018-08-26")},7:{version:new Date("2018-12-13")},8:{version:new Date("2019-01-04")},9:{version:new Date("2019-01-05")},10:{version:new Date("2019-02-02")},11:{version:new Date("2019-02-19")},12:{version:new Date("2019-04-22")},13:{version:new Date("2019-05-15")},14:{version:new Date("2019-05-17")},15:{version:new Date("2019-08-18")},16:{version:new Date("2019-08-21")},17:{version:new Date("2019-08-29")},18:{version:new Date("2019-09-13")},19:{version:new Date("2020-06-03")},20:{version:new Date("2020-07-15")},21:{version:new Date("2020-08-07")},22:{version:new Date("2020-10-13")},23:{version:new Date("2020-10-18")},24:{version:new Date("2021-04-12")},25:{version:new Date("2021-05-26")},26:{version:new Date("2021-09-07")},27:{version:new Date("2021-12-02")},28:{version:new Date("2022-12-06")},29:{version:new Date("2023-04-28")},30:{version:new Date("2023-05-03")},31:{version:new Date("2023-09-13")},32:{version:new Date("2023-09-15")},33:{version:new Date("2023-11-02")},34:{version:new Date("2023-11-03")},35:{version:new Date("2023-12-08")},36:{version:new Date("2023-12-12")},37:{version:new Date("2024-02-15")},38:{version:new Date("2024-03-05")},39:{version:new Date("2024-05-07")}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(129);const i=[{id:"default",color:Object.assign({},r.a),label:null},{id:"one",color:{r:112,g:214,b:255,a:1},label:null},{id:"two",color:{r:255,g:112,b:166,a:1},label:null},{id:"three",color:{r:255,g:151,b:112,a:1},label:null},{id:"four",color:{r:255,g:214,b:112,a:1},label:null},{id:"five",color:{r:233,g:255,b:112,a:1},label:null}]},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"f",(function(){return A})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return h}));var r=n(2);function i(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackHitPaywall",str1:t.type})}))}function o(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"onboardingSelection",str1:t.type})}))}function a(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackPageLinkCreate",str1:t.source})}))}function s(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackCopyInviteLink",str1:t.inviteType,str2:t.linkType,str3:t.source})}))}function l(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackSharedAnnotation",str1:t.type})}))}function c(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackUnSharedAnnotation",str1:t.type})}))}function A(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackUnSharedAnnotation"})}))}function u(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"createAnnotation",str1:t.annotationType})}))}function d(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"createBookmark"})}))}function f(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackSpaceCreate",str1:t.type})}))}function p(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackSpaceEntryCreate",str1:t.type})}))}function h(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackQueryAI"})}))}},,,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return A})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return f}));var r=n(2),i=n(31),o=n(65),a=n(29),s=n(19);function l(t,n){var o;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=`${(null===(o=e.env.REACT_APP_FIREBASE_PROJECT_ID)||void 0===o?void 0:o.includes("staging"))||!1?a.b.staging:a.b.production}/stripe-subscriptions`,s=yield fetch(r,{method:"POST",headers:{},body:JSON.stringify({email:t})}),l=yield s.json();yield n.storage.local.set({[i.a]:{pU:l.status}});return{AIpowerup:l.status.AIpowerup||l.status.Unlimited,AIpowerupOwnKey:l.status.AIpowerupOwnKey||l.status.Unlimited,bookmarksPowerUp:l.status.bookmarksPowerUp||l.status.Unlimited,lifetime:l.status.lifetime}}))}function c(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let n;if(t)n=t,yield e.storage.local.set({[i.e]:t});else{if(n=(yield e.storage.local.get([i.e]))[i.e],!n)return console.error("Install timestamp not found!"),-1}const r=(new Date).getTime(),o=24*i.d*60*60*1e3,a=r-n;if(a<o){const e=o-a;return Math.ceil(e/864e5)}return-1}))}function A(e,t,n,i,a){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let r;if(null!=i&&(r=null!=(yield n.findPageByUrl(Object(s.c)(i)))),r)return!0;if(yield p("bookmarksPowerUp",e))return!0;if(t)try{yield Object(o.d)(t,{type:"pagesLimit"})}catch(e){}return!1}))}function u(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if("gpt-4o"===i&&!n)return!1;if(yield p("AIpowerup",e,i,n))return!0;if(t)try{yield Object(o.d)(t,{type:"aiLimit"})}catch(e){}return!1}))}function d(t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=t.os,i=t.arch,o=(null===(n=e.env.REACT_APP_FIREBASE_PROJECT_ID)||void 0===n?void 0:n.includes("staging"))||!1?a.b.staging:a.b.production,s=yield fetch(o+"/download_memex_desktop",{method:"POST",body:JSON.stringify({OS:r,arch:i}),headers:{"Content-Type":"application/json"}});return(yield s.json()).downloadUrl}))}function f(e,t){var n,o;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=(yield e.storage.local.get(i.f))[i.f];let a=[],s=null;if(t)a=null!==(n=null==r?void 0:r.filter((e=>e!==t)))&&void 0!==n?n:[];else{const t=yield e.tabs.query({active:!0,currentWindow:!0});if(s=null===(o=t[0])||void 0===o?void 0:o.id,void 0===r)a=[s];else{if(r.includes(s))return!0;a=[...r,s]}}yield e.storage.local.set({[i.f]:a})}))}function p(e,t,n,o){var a,s,l,A,u,d,f,p,h;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield t.storage.local.get(i.a);let r=null!==(a=n[i.a])&&void 0!==a?a:i.b;const g=null!=r?r:i.b;if((null===(s=g.pU)||void 0===s?void 0:s.Unlimited)||(null===(l=g.pU)||void 0===l?void 0:l.lifetime))return!0;if("bookmarksPowerUp"===e){if(null!==(u=null===(A=g.pU)||void 0===A?void 0:A.bookmarksPowerUp)&&void 0!==u&&u)return!0}if("AIpowerup"===e){const e=null!==(f=null===(d=g.pU)||void 0===d?void 0:d.AIpowerupOwnKey)&&void 0!==f&&f,t=null!==(h=null===(p=g.pU)||void 0===p?void 0:p.AIpowerup)&&void 0!==h&&h;if(!o&&e&&!t)return!1;if(o&&(e||t))return!0;if(t)return!0}return!!(-1!==(yield c(t)))}))}}).call(this,n(131))},function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"l",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return y}));var r=n(1),i=n.n(r),o=n(35);const a=12,s=14,l=i.a.span.withConfig({displayName:"TypographyBigTitle",componentId:"sc-1fdda8i-0"})(["font-size:","px;@media (max-width:1300px){font-size:","px;}"],20,18),c=i.a.span.withConfig({displayName:"TypographyHeadingBigger",componentId:"sc-1fdda8i-1"})(["font-size:","px;text-decoration:none;color:",";margin-right:5px;font-weight:bold;width:100%;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],18,o.g),A=(i.a.span.withConfig({displayName:"TypographyHeadingBig",componentId:"sc-1fdda8i-2"})(["font-size:","px;text-decoration:none;color:",";margin-right:5px;font-weight:bold;text-align:center;width:100%;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],16,o.g),i.a.span.withConfig({displayName:"TypographyHeadingNormal",componentId:"sc-1fdda8i-3"})(["font-size:","px;text-decoration:none;font-weight:bold;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],s,o.g)),u=(i.a.span.withConfig({displayName:"TypographyHeadingSmall",componentId:"sc-1fdda8i-4"})(["font-size:","px;text-decoration:none;margin-right:5px;font-weight:bold;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],a,o.g),i.a.span.withConfig({displayName:"TypographyLink",componentId:"sc-1fdda8i-5"})(["text-decoration:none;font-size:1em;margin:5px;color:",";cursor:pointer;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],o.e),i.a.span.withConfig({displayName:"TypographyHeadingPage",componentId:"sc-1fdda8i-6"})(["font-size:","px;font-weight:600;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],16,o.g,s)),d=i.a.span.withConfig({displayName:"TypographySubHeading",componentId:"sc-1fdda8i-7"})(["font-size:","px;font-weight:600;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],s,o.g,a),f=i.a.span.withConfig({displayName:"TypographyTextNormal",componentId:"sc-1fdda8i-8"})(["font-size:","px;font-weight:400;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],s,o.g,a),p=(i.a.span.withConfig({displayName:"TypographySubTextNormal",componentId:"sc-1fdda8i-9"})(["font-size:","px;font-weight:400;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],s,o.c,a),i.a.span.withConfig({displayName:"TypographyTextSmall",componentId:"sc-1fdda8i-10"})(["font-size:","px;font-weight:400;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],a,o.g,10),i.a.h2.withConfig({displayName:"TypographyInputTitle",componentId:"sc-1fdda8i-11"})(["font-size:","px;font-weight:bold;box-sizing:border-box;margin-bottom:5px;margin-top:10px;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],16),i.a.span.withConfig({displayName:"TypographyButtonLabel",componentId:"sc-1fdda8i-12"})(["font-style:normal;font-weight:600;font-size:","px;line-height:1.4;text-align:center;color:#fafafb;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],a),i.a.span.withConfig({displayName:"TypographyActionText",componentId:"sc-1fdda8i-13"})(["text-align:center;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;font-weight:600;font-size:1em;"])),h=i.a.span.withConfig({displayName:"TypographyBody",componentId:"sc-1fdda8i-14"})(["font-style:normal;font-weight:300;font-size:16px;line-height:1.4;margin-top:20px;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],o.g),g=i.a.div.withConfig({displayName:"CenterText",componentId:"sc-1fdda8i-15"})(["text-align:center;"]),m=(i()(h).withConfig({displayName:"TypographyBodyBlock",componentId:"sc-1fdda8i-16"})(["display:block;font-style:normal;font-weight:300;font-size:16px;line-height:1.4;color:#544960;"]),i.a.div.withConfig({displayName:"TypographyBodyBold",componentId:"sc-1fdda8i-17"})(["display:block;font-weight:bold;margin:10px 0;font-size:16px;color:#544960;text-align:center;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"])),v=(i.a.div.withConfig({displayName:"TypographyBodyCenter",componentId:"sc-1fdda8i-18"})(["display:block;font-size:16px;text-align:center;color:#544960;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"]),i.a.div.withConfig({displayName:"HelpBlock",componentId:"sc-1fdda8i-19"})(["display:block;font-size:",";text-align:center;margin-top:0px;color:#544960;"],a),i.a.div.withConfig({displayName:"StageBlock",componentId:"sc-1fdda8i-20"})(["display:block;font-weight:bold;font-size:16px;color:#544960;text-align:center;margin-bottom:30px;margin-top:5px;"]),i.a.div.withConfig({displayName:"ProgressBox",componentId:"sc-1fdda8i-21"})(["width:100%;"]),i.a.p.withConfig({displayName:"Warning",componentId:"sc-1fdda8i-22"})(["color:red;font-weight:700;font-size:18px;"]),i.a.div.withConfig({displayName:"WhiteSpacer10",componentId:"sc-1fdda8i-23"})(["margin-top:10px;"])),y=i.a.div.withConfig({displayName:"WhiteSpacer20",componentId:"sc-1fdda8i-24"})(["margin-top:20px;"]);i.a.div.withConfig({displayName:"WhiteSpacer30",componentId:"sc-1fdda8i-25"})(["margin-top:30px;"]),i.a.div.withConfig({displayName:"HoverColor",componentId:"sc-1fdda8i-26"})(["background-color:#dadada;"])},function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=/^\s+/,n=/\s+$/;function r(e,t){if(t=t||{},(e=e||"")instanceof r)return e;if(!(this instanceof r))return new r(e,t);var n=i(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function i(t){var n={r:0,g:0,b:0},r=1,i=null,a=null,l=null,A=!1,u=!1;return"string"==typeof t&&(t=z(t)),"object"==e(t)&&(j(t.r)&&j(t.g)&&j(t.b)?(n=o(t.r,t.g,t.b),A=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):j(t.h)&&j(t.s)&&j(t.v)?(i=M(t.s),a=M(t.v),n=c(t.h,i,a),A=!0,u="hsv"):j(t.h)&&j(t.s)&&j(t.l)&&(i=M(t.s),l=M(t.l),n=s(t.h,i,l),A=!0,u="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=I(r),{ok:A,format:t.format||u,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function o(e,t,n){return{r:255*O(e,255),g:255*O(t,255),b:255*O(n,255)}}function a(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function s(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=O(e,360),t=O(t,100),n=O(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function l(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function c(e,t,n){e=6*O(e,360),t=O(t,100),n=O(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}function A(e,t,n,r){var i=[U(Math.round(e).toString(16)),U(Math.round(t).toString(16)),U(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function u(e,t,n,r,i){var o=[U(Math.round(e).toString(16)),U(Math.round(t).toString(16)),U(Math.round(n).toString(16)),U(L(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function d(e,t,n,r){return[U(L(r)),U(Math.round(e).toString(16)),U(Math.round(t).toString(16)),U(Math.round(n).toString(16))].join("")}function f(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.s-=t/100,n.s=F(n.s),r(n)}function p(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.s+=t/100,n.s=F(n.s),r(n)}function h(e){return r(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.l+=t/100,n.l=F(n.l),r(n)}function m(e,t){t=0===t?0:t||10;var n=r(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),r(n)}function v(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.l-=t/100,n.l=F(n.l),r(n)}function y(e,t){var n=r(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,r(n)}function b(e){var t=r(e).toHsl();return t.h=(t.h+180)%360,r(t)}function w(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=r(e).toHsl(),i=[r(e)],o=360/t,a=1;a<t;a++)i.push(r({h:(n.h+a*o)%360,s:n.s,l:n.l}));return i}function B(e){var t=r(e).toHsl(),n=t.h;return[r(e),r({h:(n+72)%360,s:t.s,l:t.l}),r({h:(n+216)%360,s:t.s,l:t.l})]}function x(e,t,n){t=t||6,n=n||30;var i=r(e).toHsl(),o=360/n,a=[r(e)];for(i.h=(i.h-(o*t>>1)+720)%360;--t;)i.h=(i.h+o)%360,a.push(r(i));return a}function C(e,t){t=t||6;for(var n=r(e).toHsv(),i=n.h,o=n.s,a=n.v,s=[],l=1/t;t--;)s.push(r({h:i,s:o,v:a})),a=(a+l)%1;return s}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=a(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return A(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return u(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*O(this._r,255))+"%",g:Math.round(100*O(this._g,255))+"%",b:Math.round(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*O(this._r,255))+"%, "+Math.round(100*O(this._g,255))+"%, "+Math.round(100*O(this._b,255))+"%)":"rgba("+Math.round(100*O(this._r,255))+"%, "+Math.round(100*O(this._g,255))+"%, "+Math.round(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(k[A(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+d(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=r(e);n="#"+d(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(w,[3])},tetrad:function(){return this._applyCombination(w,[4])}},r.fromRatio=function(t,n){if("object"==e(t)){var i={};for(var o in t)t.hasOwnProperty(o)&&(i[o]="a"===o?t[o]:M(t[o]));t=i}return r(t,n)},r.equals=function(e,t){return!(!e||!t)&&r(e).toRgbString()==r(t).toRgbString()},r.random=function(){return r.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},r.mix=function(e,t,n){n=0===n?0:n||50;var i=r(e).toRgb(),o=r(t).toRgb(),a=n/100;return r({r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a})},r.readability=function(e,t){var n=r(e),i=r(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},r.isReadable=function(e,t,n){var i,o,a=r.readability(e,t);switch(o=!1,(i=K(n)).level+i.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},r.mostReadable=function(e,t,n){var i,o,a,s,l=null,c=0;o=(n=n||{}).includeFallbackColors,a=n.level,s=n.size;for(var A=0;A<t.length;A++)(i=r.readability(e,t[A]))>c&&(c=i,l=r(t[A]));return r.isReadable(e,l,{level:a,size:s})||!o?l:(n.includeFallbackColors=!1,r.mostReadable(e,["#fff","#000"],n))};var S=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},k=r.hexNames=E(S);function E(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function O(e,t){_(e)&&(e="100%");var n=T(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function F(e){return Math.min(1,Math.max(0,e))}function D(e){return parseInt(e,16)}function _(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function T(e){return"string"==typeof e&&-1!=e.indexOf("%")}function U(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function L(e){return Math.round(255*parseFloat(e)).toString(16)}function Q(e){return D(e)/255}var R,P,H,N=(P="[\\s|\\(]+("+(R="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",H="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",{CSS_UNIT:new RegExp(R),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function j(e){return!!N.CSS_UNIT.exec(e)}function z(e){e=e.replace(t,"").replace(n,"").toLowerCase();var r,i=!1;if(S[e])e=S[e],i=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(r=N.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=N.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=N.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=N.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=N.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=N.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=N.hex8.exec(e))?{r:D(r[1]),g:D(r[2]),b:D(r[3]),a:Q(r[4]),format:i?"name":"hex8"}:(r=N.hex6.exec(e))?{r:D(r[1]),g:D(r[2]),b:D(r[3]),format:i?"name":"hex"}:(r=N.hex4.exec(e))?{r:D(r[1]+""+r[1]),g:D(r[2]+""+r[2]),b:D(r[3]+""+r[3]),a:Q(r[4]+""+r[4]),format:i?"name":"hex8"}:!!(r=N.hex3.exec(e))&&{r:D(r[1]+""+r[1]),g:D(r[2]+""+r[2]),b:D(r[3]+""+r[3]),format:i?"name":"hex"}}function K(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}return r}()},function(e,t,n){"use strict";var r,i,o,a,s,l,c,A,u,d,f;n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f})),function(e){e[e.Delete=0]="Delete",e[e.Create=1]="Create"}(r||(r={})),function(e){e[e.UploadError=0]="UploadError",e[e.DownloadError=1]="DownloadError"}(i||(i={})),function(e){e.Mobile="mobile",e.DesktopBrowser="desktop-browser"}(o||(o={})),function(e){e.Android="android",e.IOS="ios",e.Linux="linux",e.Windows="windows",e.MacOS="macos"}(a||(a={})),function(e){e.Firefox="firefox",e.Chrome="chrome",e.Edge="edge",e.Brave="brave",e.Vivaldi="vivaldi"}(s||(s={})),function(e){e.Extension="extension",e.MobileApp="mobile-app",e.WebUI="web-ui"}(l||(l={})),function(e){e.Create="create",e.Modify="modify",e.Delete="delete",e.ListTreeMove="listTreeMove",e.ListTreeDelete="listTreeDelete"}(c||(c={})),function(e){e.Local="local",e.Remote="remote",e.MemexCloud="memex-cloud"}(A||(A={})),function(e){e.HTML="html",e.PDF="pdf",e.EPUB="epub",e.TXT="txt",e.SpotifyLink="spotify-link",e.HtmlSnapshot="html-snapshot"}(u||(u={})),function(e){e.NormalizedUrlV1="normalized-url-v1",e.FilesystemPathV1="filesystem-path-v1",e.UploadStorage="upload-storage-v1"}(d||(d={})),function(e){e.PdfV1="x-pdf-v1"}(f||(f={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(51);function i(e,t){const n=function(e){const t=new URL(e),n=t.origin+t.pathname,r=t.search,i=t.searchParams,o=i.get("t"),a=t.hash;return[{cleanURL:n,queryStrings:r,videoTimeStamp:o||void 0,parameters:i,hashFragments:a}]}(e);if(e.includes("youtube.com/watch")){return`https://www.youtube.com/watch?v=${Object(r.c)(e)}&t=${t}`}if(e.includes("vimeo.com/")){const e=n[0].cleanURL;let r=Math.floor(t/60);return`${e}#t=${r+"m"+(t-60*r)+"s"}`}return`${n[0].cleanURL}?t=${t}`}const o=()=>{const e=document.location.href;let t,n=document.getElementsByTagName("video")[0],r=document.getElementById("player");if(null!=n)t=n.currentTime,t<0&&(t=0),t=Math.floor(t);else{if(null==r)return[void 0,void 0];t=r.currentTime,t<0&&(t=0),t=t.floor()}const o=i(e,t),a=Math.trunc(null!=t?t:0);return[o,`${Math.floor(a/60)}:${(a%60).toString().padStart(2,"0")}`]};const a=e=>{const{youtubePlayer:t}=e;if(t){const e=Math.floor(t.getCurrentTime());let r=Math.floor(e/3600),i=Math.floor((e-3600*r)/60),o=Math.floor(e-3600*r-60*i),a=r.toString(),s=i.toString(),l=o.toString();return r<10&&(a="0"+r.toString()),i<10&&(s="0"+i.toString()),o<10&&(l=("0"+o).toString()),{linkWithTimestamp:(n=t.getVideoUrl(),"https://www.youtube.com/watch?v="+new URL(n).searchParams.get("v"))+`&t=${e}`,timestampAsText:0===r?[s,l].join(":"):[a,s,l].join(":")}}var n;const r=o();return{linkWithTimestamp:r[0],timestampAsText:r[1]}};function s(e){return`[${e.timestampAsText}](${e.linkWithTimestamp})`}},function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));const r="extension_install_time",i="/options.html",o=`${i}#/settings`,a=`${i}#/overview`,s=`${i}#/account`,l="tag_suggestions",c="@UNDO_HISTORY"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(19),i=n(11);const o="@ContentSharing-last-shared-annotation-timestamp",a=e=>{const{pageUrl:t,now:n}=e;return`${Object(r.c)(t)}/#${n()}`};function s(e){return(null==e?void 0:e.shouldShare)?e.isBulkShareProtected?i.a.SHARED_PROTECTED:i.a.SHARED:(null==e?void 0:e.isBulkShareProtected)?i.a.PROTECTED:i.a.PRIVATE}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}));const r=(e,t)=>{var n;if(!e.descriptor)return{start:0};return null!==(n=e.descriptor.content.find((e=>e&&e.type===t)))&&void 0!==n?n:{start:0}},i=e=>/#\d{10,}$/.test(e);function o(e){const t=[];for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n).cloneRange());return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset,isCollapsed:!1,rangeCount:e.rangeCount,type:e.type,ranges:t,toString:()=>e.toString(),getRangeAt:e=>{if(e>=0&&e<t.length)return t[e].cloneRange();throw new Error("Index out of bounds")},containsNode:(e,n=!1)=>t.some((t=>n?e===t.commonAncestorContainer||e.contains(t.commonAncestorContainer):e===t.startContainer&&e===t.endContainer))}}function a(e){var t,n,r,i,o,a="";if(void 0!==e){var l=e;if(l.toString().length>0){let e,u=document.createElement("div");if(e=null!=l.getRangeAt(0).cloneContents().firstChild&&"LI"===(null===(t=l.getRangeAt(0).cloneContents().firstChild)||void 0===t?void 0:t.nodeName)?document.createElement("ul"):"TR"===(null===(n=l.getRangeAt(0).cloneContents().firstChild)||void 0===n?void 0:n.nodeName)&&"TR"===(null===(r=l.getRangeAt(0).cloneContents().lastChild)||void 0===r?void 0:r.nodeName)?document.createElement("tbody"):document.createElement("div"),"TR"===(null===(i=l.getRangeAt(0).cloneContents().firstChild)||void 0===i?void 0:i.nodeName)&&"TR"===(null===(o=l.getRangeAt(0).cloneContents().lastChild)||void 0===o?void 0:o.nodeName)){let t=document.createElement("div");t.classList.add("table-container");let n=document.createElement("table");t.appendChild(n),u.appendChild(t),n.appendChild(e)}else u.appendChild(e);for(var c=0,A=l.rangeCount;c<A;++c){let t=l.getRangeAt(c).cloneContents();t.querySelectorAll("*").forEach((e=>{var t,n;let r=null!==(n=null===(t=e.childNodes[0])||void 0===t?void 0:t.nodeValue)&&void 0!==n?n:void 0;null!=r&&(r.trim().length||(e.childNodes[0].nodeValue="")),(e.getAttribute("hidden")||""===e.getAttribute("hidden")||0===e.textContent.length)&&e.parentNode.removeChild(e)})),t.querySelectorAll("*").forEach((e=>{if(t=e.nodeName,!s.some((e=>e===t)))if(null!=e.childNodes&&e.childNodes.length>0){let t=document.createElement("span");e.childNodes.forEach((e=>{t.appendChild(e)})),e.parentNode.replaceChild(t,e)}else e.parentNode.removeChild(e);var t})),t.querySelectorAll("*").forEach((e=>{var t,n;let r=null!==(n=null===(t=e.childNodes[0])||void 0===t?void 0:t.nodeValue)&&void 0!==n?n:void 0;null!=r&&(r.trim().length||(e.childNodes[0].nodeValue="")),0===e.textContent.length&&e.parentNode.removeChild(e)})),t.querySelectorAll("*").forEach((e=>{e.removeAttribute("style"),e.removeAttribute("class"),e.removeAttribute("id")})),e.appendChild(t)}const d=l.getRangeAt(0).commonAncestorContainer;let f=d.nodeType===Node.ELEMENT_NODE?d:d.parentElement,p=[];for(let e=0;e<6&&f;e++){if("PRE"===f.nodeName||"CODE"===f.nodeName){p=["CODE","PRE"];break}f=f.parentNode}let h,g=null;p.forEach(((t,n)=>{if(h=document.createElement(t.toLowerCase()),0===n){for(;e.firstChild;)h.appendChild(e.firstChild);u.removeChild(e)}else h.appendChild(g);g=h})),p.length>0&&u.appendChild(g),a=u.innerHTML}}let u=null==a?void 0:a.replace(new RegExp("-</span><span>","g"),"");return u=null==u?void 0:u.replace(new RegExp("</span><span>","g")," </span><span>"),u=null==u?void 0:u.replace(new RegExp("  ","g")," "),u}const s=["A","ABBR","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","CAPTION","CITE","CODE","COL","COLGROUP","DATA","DATALIST","DD","DEL","DETAILS","DFN","DIALOG","DIV","DL","DT","EM","FIELDSET","FIGCAPTION","FIGURE","FOOTER","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","I","IMG","INS","KBD","LABEL","LEGEND","LI","LINK","MAIN","MARK","MENU","META","METER","NAV","OBJECT","OL","OPTGROUP","OPTION","OUTPUT","P","PICTURE","PRE","PROGRESS","Q","RP","RT","S","SAMP","SECTION","SMALL","SOURCE","SPAN","STRONG","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEMPLATE","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(542),i=n(543),o=n(544),a=n(545),s=n(550);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),A=l(i),u=l(o),d=l(a),f=l(s);function p(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}var h={symbols:{"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:p,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:p,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"}}};var g=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,A.default(n)}return u.default(t,e),t}(d.default(Error)),m=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function v(e,t){var n,r=e.pop();return t.push(r.f.apply(r,(n=[]).concat.apply(n,t.splice(-r.argCount)))),r.precedence}function y(e,t){var n,r=function(e){var t={};return t.symbols=e?c.default({},h.symbols,e.symbols):c.default({},h.symbols),t}(t),i=[r.symbols["("].prefix],o=[],a=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(r.symbols).map((function(e){return r.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");a.lastIndex=0;var s=!1;do{var l=(n=a.exec(e))||[")",void 0],A=l[0],u=l[1],d=r.symbols[A],f=d&&!d.prefix&&!d.func,p=!d||!d.postfix&&!d.infix;if(u||(s?p:f))throw new g(37,n?n.index:e.length,e);if(s){var m=d.postfix||d.infix;do{var y=i[i.length-1];if((m.precedence-y.precedence||y.rightToLeft)>0)break}while(v(i,o));s="postfix"===m.notation,")"!==m.symbol&&(i.push(m),s&&v(i,o))}else if(d){if(i.push(d.prefix||d.func),d.func&&(!(n=a.exec(e))||"("!==n[0]))throw new g(38,n?n.index:e.length,e)}else o.push(+A),s=!0}while(n&&i.length);if(i.length)throw new g(39,n?n.index:e.length,e);if(n)throw new g(40,n?n.index:e.length,e);return o.pop()}function b(e){return e.split("").reverse().join("")}var w=/--[\S]*/g;function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}var x=["Top","Right","Bottom","Left"];function C(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce((function(e,t){return""+e+B(t)}));var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1],a=void 0===o?i:o,s=n[2],l=void 0===s?i:s,c=n[3];return function(e,t){for(var n={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(n[C(e,x[r])]=t[r]);return n}(e,[i,a,l,void 0===c?a:c])}function k(e,t){return e.substr(-t.length)===t}var E=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function I(e){return"string"!=typeof e?e:e.match(E)?parseFloat(e):e}var O=function(e){return function(t,n){void 0===n&&(n="16px");var r=t,i=n;if("string"==typeof t){if(!k(t,"px"))throw new g(69,e,t);r=I(t)}if("string"==typeof n){if(!k(n,"px"))throw new g(70,e,n);i=I(n)}if("string"==typeof r)throw new g(71,t,e);if("string"==typeof i)throw new g(72,n,e);return""+r/i+e}},F=O("em"),D=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function _(e){if("string"!=typeof e)return[e,""];var t=e.match(D);return t?[parseFloat(e),t[2]]:[e,void 0]}var T={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};var U=O("rem"),M={back:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",circ:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",cubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",expo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",quad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",quart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",quint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",sine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)"};var L={back:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",circ:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",cubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",expo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",quad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",quart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",quint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",sine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};var Q={back:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",cubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",circ:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",expo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",quad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",quart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",quint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",sine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)"};function R(e,t,n,r){void 0===n&&(n="320px"),void 0===r&&(r="1200px");var i=_(e),o=i[0],a=i[1],s=_(t),l=s[0],c=s[1],A=_(n),u=A[0],d=A[1],f=_(r),p=f[0],h=f[1];if("number"!=typeof u||"number"!=typeof p||!d||!h||d!==h)throw new g(47);if("number"!=typeof o||"number"!=typeof l||a!==c)throw new g(48);if(a!==d||c!==h)throw new g(76);var m=(o-l)/(u-p);return"calc("+(l-m*p).toFixed(2)+(a||"")+" + "+(100*m).toFixed(2)+"vw)"}function P(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,j={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function z(e,t){return t?' format("'+j[e]+'")':""}function K(e,t,n){if(function(e){return!!e.match(N)}(e))return'url("'+e+'")'+z(t[0],n);var r=t.map((function(t){return'url("'+e+"."+t+'")'+z(t,n)}));return r.join(", ")}function $(e,t,n,r){var i=[];return t&&i.push(function(e){return e.map((function(e){return'local("'+e+'")'})).join(", ")}(t)),e&&i.push(K(e,n,r)),i.join(", ")}function W(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function V(e){for(var t="",n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o+=1)if(t+=e[o],o===r.length-1&&r[o]){var a=r.filter((function(e){return!!e}));a.length>1?(t=t.slice(0,-1),t+=", "+r[o]):1===a.length&&(t+=""+r[o])}else r[o]&&(t+=r[o]+" ");return t.trim()}function G(){var e=f.default(["linear-gradient(","",")"]);return G=function(){return e},e}function q(){var e=f.default(["radial-gradient(","","","",")"]);return q=function(){return e},e}var Y={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};var J=function(e,t,n){var r=""+n[0]+(n[1]||""),i=""+n[0]/2+(n[1]||""),o=""+t[0]+(t[1]||""),a=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+i+" "+o+" "+i;case"topLeft":return r+" "+o+" 0 0";case"left":return a+" "+r+" "+a+" 0";case"bottomLeft":return r+" 0 0 "+o;case"bottom":return o+" "+i+" 0 "+i;case"bottomRight":return"0 0 "+r+" "+o;case"right":return a+" 0 "+a+" "+r;default:return"0 "+r+" "+o+" 0"}};function X(e){return Math.round(255*e)}function Z(e,t,n){return X(e)+","+X(t)+","+X(n)}function ee(e,t,n,r){if(void 0===r&&(r=Z),0===t)return r(n,n,n);var i=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var A=n-o/2;return r(s+A,l+A,c+A)}var te={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var ne=/^#[a-fA-F0-9]{6}$/,re=/^#[a-fA-F0-9]{8}$/,ie=/^#[a-fA-F0-9]{3}$/,oe=/^#[a-fA-F0-9]{4}$/,ae=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,se=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,le=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,ce=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function Ae(e){if("string"!=typeof e)throw new g(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return te[t]?"#"+te[t]:e}(e);if(t.match(ne))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(re)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(ie))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(oe)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=ae.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=se.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])};var a=le.exec(t);if(a){var s="rgb("+ee(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=ae.exec(s);if(!l)throw new g(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=ce.exec(t);if(c){var A="rgb("+ee(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",u=ae.exec(A);if(!u)throw new g(4,t,A);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10),alpha:parseFloat(""+c[4])}}throw new g(5)}function ue(e){return function(e){var t,n=e.red/255,r=e.green/255,i=e.blue/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(o+a)/2;if(o===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var l=o-a,c=s>.5?l/(2-o-a):l/(o+a);switch(o){case n:t=(r-i)/l+(r<i?6:0);break;case r:t=(i-n)/l+2;break;default:t=(n-r)/l+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(Ae(e))}var de=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function fe(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function pe(e){return fe(Math.round(255*e))}function he(e,t,n){return de("#"+pe(e)+pe(t)+pe(n))}function ge(e,t,n){return ee(e,t,n,he)}function me(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return ge(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return ge(e.hue,e.saturation,e.lightness);throw new g(1)}function ve(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?ge(e,t,n):"rgba("+ee(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?ge(e.hue,e.saturation,e.lightness):"rgba("+ee(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new g(2)}function ye(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return de("#"+fe(e)+fe(t)+fe(n));if("object"==typeof e&&void 0===t&&void 0===n)return de("#"+fe(e.red)+fe(e.green)+fe(e.blue));throw new g(6)}function be(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var i=Ae(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?ye(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?ye(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new g(7)}function we(e){if("object"!=typeof e)throw new g(8);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha}(e))return be(e);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return ye(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha}(e))return ve(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return me(e);throw new g(8)}function Be(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):Be(e,t,r)}}function xe(e){return Be(e,e.length,[])}function Ce(e,t){if("transparent"===t)return t;var n=ue(t);return we(c.default({},n,{hue:n.hue+parseFloat(e)}))}var Se=xe(Ce);function ke(e,t,n){return Math.max(e,Math.min(t,n))}function Ee(e,t){if("transparent"===t)return t;var n=ue(t);return we(c.default({},n,{lightness:ke(0,1,n.lightness-parseFloat(e))}))}var Ie=xe(Ee);function Oe(e,t){if("transparent"===t)return t;var n=ue(t);return we(c.default({},n,{saturation:ke(0,1,n.saturation-parseFloat(e))}))}var Fe=xe(Oe);function De(e){if("transparent"===e)return 0;var t=Ae(e),n=Object.keys(t).map((function(e){var n=t[e]/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)})),r=n[0],i=n[1],o=n[2];return parseFloat((.2126*r+.7152*i+.0722*o).toFixed(3))}function _e(e,t){var n=De(e),r=De(t);return parseFloat((n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)).toFixed(2))}function Te(e,t){if("transparent"===t)return t;var n=ue(t);return we(c.default({},n,{lightness:ke(0,1,n.lightness+parseFloat(e))}))}var Ue=xe(Te);function Me(e,t,n){if("transparent"===t)return n;if("transparent"===n)return t;if(0===e)return n;var r=Ae(t),i=c.default({},r,{alpha:"number"==typeof r.alpha?r.alpha:1}),o=Ae(n),a=c.default({},o,{alpha:"number"==typeof o.alpha?o.alpha:1}),s=i.alpha-a.alpha,l=2*parseFloat(e)-1,A=((l*s==-1?l:l+s)/(1+l*s)+1)/2,u=1-A;return be({red:Math.floor(i.red*A+a.red*u),green:Math.floor(i.green*A+a.green*u),blue:Math.floor(i.blue*A+a.blue*u),alpha:i.alpha*(parseFloat(e)/1)+a.alpha*(1-parseFloat(e)/1)})}var Le=xe(Me);function Qe(e,t){if("transparent"===t)return t;var n=Ae(t),r="number"==typeof n.alpha?n.alpha:1;return be(c.default({},n,{alpha:ke(0,1,(100*r+100*parseFloat(e))/100)}))}var Re=xe(Qe),Pe="#000",He="#fff";function Ne(e,t){if("transparent"===t)return t;var n=ue(t);return we(c.default({},n,{saturation:ke(0,1,n.saturation+parseFloat(e))}))}var je=xe(Ne);function ze(e,t){return"transparent"===t?t:we(c.default({},ue(t),{hue:parseFloat(e)}))}var Ke=xe(ze);function $e(e,t){return"transparent"===t?t:we(c.default({},ue(t),{lightness:parseFloat(e)}))}var We=xe($e);function Ve(e,t){return"transparent"===t?t:we(c.default({},ue(t),{saturation:parseFloat(e)}))}var Ge=xe(Ve);function qe(e,t){return"transparent"===t?t:Le(parseFloat(e),"rgb(0, 0, 0)",t)}var Ye=xe(qe);function Je(e,t){return"transparent"===t?t:Le(parseFloat(e),"rgb(255, 255, 255)",t)}var Xe=xe(Je);function Ze(e,t){if("transparent"===t)return t;var n=Ae(t),r="number"==typeof n.alpha?n.alpha:1;return be(c.default({},n,{alpha:ke(0,1,(100*r-100*parseFloat(e))/100)}))}var et=xe(Ze);var tt=["top","right","bottom","left"];function nt(e,t){return e(t?":"+t:"")}function rt(e,t,n){if(!t)throw new g(67);if(0===e.length)return nt(t,null);for(var r=[],i=0;i<e.length;i+=1){if(n&&n.indexOf(e[i])<0)throw new g(68);r.push(nt(t,e[i]))}return r=r.join(",")}var it=[void 0,null,"active","focus","hover"];function ot(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}var at=["absolute","fixed","relative","static","sticky"];var st=[void 0,null,"active","focus","hover"];function lt(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}t.adjustHue=Se,t.animation=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0]);if(!r&&t.length>8)throw new g(64);return{animation:t.map((function(e){if(r&&!Array.isArray(e)||!r&&Array.isArray(e))throw new g(65);if(Array.isArray(e)&&e.length>8)throw new g(66);return Array.isArray(e)?e.join(" "):e})).join(", ")}},t.backgroundImages=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{backgroundImage:t.join(", ")}},t.backgrounds=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{background:t.join(", ")}},t.between=R,t.border=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return"string"==typeof e&&tt.indexOf(e)>=0?((i={})["border"+B(e)+"Width"]=n[0],i["border"+B(e)+"Style"]=n[1],i["border"+B(e)+"Color"]=n[2],i):(n.unshift(e),{borderWidth:n[0],borderStyle:n[1],borderColor:n[2]})},t.borderColor=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.apply(void 0,["borderColor"].concat(t))},t.borderRadius=function(e,t){var n,r,i=B(e);if(!t&&0!==t)throw new g(62);if("Top"===i||"Bottom"===i)return(n={})["border"+i+"RightRadius"]=t,n["border"+i+"LeftRadius"]=t,n;if("Left"===i||"Right"===i)return(r={})["borderTop"+i+"Radius"]=t,r["borderBottom"+i+"Radius"]=t,r;throw new g(63)},t.borderStyle=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.apply(void 0,["borderStyle"].concat(t))},t.borderWidth=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.apply(void 0,["borderWidth"].concat(t))},t.buttons=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rt(t,ot,it)},t.clearFix=function(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t},t.complement=function(e){if("transparent"===e)return e;var t=ue(e);return we(c.default({},t,{hue:(t.hue+180)%360}))},t.cover=function(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}},t.cssVar=function(e,t){if(!e||!e.match(w))throw new g(73);var n;if("undefined"!=typeof document&&null!==document.documentElement&&(n=getComputedStyle(document.documentElement).getPropertyValue(e)),n)return n.trim();if(t)return t;throw new g(74)},t.darken=Ie,t.desaturate=Fe,t.directionalProperty=S,t.easeIn=function(e){return M[e.toLowerCase().trim()]},t.easeInOut=function(e){return L[e.toLowerCase().trim()]},t.easeOut=function(e){return Q[e.toLowerCase().trim()]},t.ellipsis=function(e,t){void 0===t&&(t=1);var n={display:"inline-block",maxWidth:e||"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"};return t>1?c.default({},n,{WebkitBoxOrient:"vertical",WebkitLineClamp:t,display:"-webkit-box",whiteSpace:"normal"}):n},t.em=F,t.fluidRange=function(e,t,n){if(void 0===t&&(t="320px"),void 0===n&&(n="1200px"),!Array.isArray(e)&&"object"!=typeof e||null===e)throw new g(49);if(Array.isArray(e)){for(var r,i={},o={},a=P(e);!(r=a()).done;){var s,l,A=r.value;if(!A.prop||!A.fromSize||!A.toSize)throw new g(50);o[A.prop]=A.fromSize,i["@media (min-width: "+t+")"]=c.default({},i["@media (min-width: "+t+")"],((s={})[A.prop]=R(A.fromSize,A.toSize,t,n),s)),i["@media (min-width: "+n+")"]=c.default({},i["@media (min-width: "+n+")"],((l={})[A.prop]=A.toSize,l))}return c.default({},o,i)}var u,d,f;if(!e.prop||!e.fromSize||!e.toSize)throw new g(51);return(f={})[e.prop]=e.fromSize,f["@media (min-width: "+t+")"]=((u={})[e.prop]=R(e.fromSize,e.toSize,t,n),u),f["@media (min-width: "+n+")"]=((d={})[e.prop]=e.toSize,d),f},t.fontFace=function(e){var t=e.fontFamily,n=e.fontFilePath,r=e.fontStretch,i=e.fontStyle,o=e.fontVariant,a=e.fontWeight,s=e.fileFormats,l=void 0===s?["eot","woff2","woff","ttf","svg"]:s,c=e.formatHint,A=void 0!==c&&c,u=e.localFonts,d=void 0===u?[t]:u,f=e.unicodeRange,p=e.fontDisplay,h=e.fontVariationSettings,m=e.fontFeatureSettings;if(!t)throw new g(55);if(!n&&!d)throw new g(52);if(d&&!Array.isArray(d))throw new g(53);if(!Array.isArray(l))throw new g(54);var v={"@font-face":{fontFamily:t,src:$(n,d,l,A),unicodeRange:f,fontStretch:r,fontStyle:i,fontVariant:o,fontWeight:a,fontDisplay:p,fontVariationSettings:h,fontFeatureSettings:m}};return JSON.parse(JSON.stringify(v))},t.getContrast=_e,t.getLuminance=De,t.getValueAndUnit=_,t.grayscale=function(e){return"transparent"===e?e:we(c.default({},ue(e),{saturation:0}))},t.hiDPI=W,t.hideText=function(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}},t.hideVisually=function(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},t.hsl=me,t.hslToColorString=function(e){if("object"==typeof e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness)return e.alpha&&"number"==typeof e.alpha?ve({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):me({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new g(45)},t.hsla=ve,t.important=function e(t,n){if("object"!=typeof t||null===t)throw new g(75,typeof t);var r={};return Object.keys(t).forEach((function(i){"object"==typeof t[i]&&null!==t[i]?r[i]=e(t[i],n):!n||n&&(n===i||n.indexOf(i)>=0)?r[i]=t[i]+" !important":r[i]=t[i]})),r},t.invert=function(e){if("transparent"===e)return e;var t=Ae(e);return we(c.default({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))},t.lighten=Ue,t.linearGradient=function(e){var t=e.colorStops,n=e.fallback,r=e.toDirection,i=void 0===r?"":r;if(!t||t.length<2)throw new g(56);return{backgroundColor:n||t[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:V(G(),i,t.join(", ").replace(/,(?=\S)/g,", "))}},t.margin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.apply(void 0,["margin"].concat(t))},t.math=function(e,t){var n=b(e),r=n.match(m);if(r&&!r.every((function(e){return e===r[0]})))throw new g(41);return""+y(b(n.replace(m,"")),t)+(r?b(r[0]):"")},t.meetsContrastGuidelines=function(e,t){var n=_e(e,t);return{AA:n>=4.5,AALarge:n>=3,AAA:n>=7,AAALarge:n>=4.5}},t.mix=Le,t.modularScale=function(e,t,n){if(void 0===t&&(t="1em"),void 0===n&&(n=1.333),"number"!=typeof e)throw new g(42);if("string"==typeof n&&!T[n])throw new g(43);var r="string"==typeof t?_(t):[t,""],i=r[0],o=r[1],a="string"==typeof n?T[n]:n;if("string"==typeof i)throw new g(44,t);return""+i*Math.pow(a,e)+(o||"")},t.normalize=function(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]},t.opacify=Re,t.padding=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.apply(void 0,["padding"].concat(t))},t.parseToHsl=ue,t.parseToRgb=Ae,t.position=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return at.indexOf(e)>=0&&e?c.default({},S.apply(void 0,[""].concat(n)),{position:e}):S.apply(void 0,["",e].concat(n))},t.radialGradient=function(e){var t=e.colorStops,n=e.extent,r=void 0===n?"":n,i=e.fallback,o=e.position,a=void 0===o?"":o,s=e.shape,l=void 0===s?"":s;if(!t||t.length<2)throw new g(57);return{backgroundColor:i||t[0].split(" ")[0],backgroundImage:V(q(),a,l,r,t.join(", "))}},t.readableColor=function(e,t,n,r){void 0===t&&(t=Pe),void 0===n&&(n=He),void 0===r&&(r=!0);var i=De(e)>.179,o=i?t:n;return!r||_e(e,o)>=4.5?o:i?Pe:He},t.rem=U,t.retinaImage=function(e,t,n,r,i){var o;if(void 0===n&&(n="png"),void 0===i&&(i="_2x"),!e)throw new g(58);var a=n.replace(/^\./,""),s=r?r+"."+a:""+e+i+"."+a;return(o={backgroundImage:"url("+e+"."+a+")"})[W()]=c.default({backgroundImage:"url("+s+")"},t?{backgroundSize:t}:{}),o},t.rgb=ye,t.rgbToColorString=function(e){if("object"==typeof e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue)return"number"==typeof e.alpha?be({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):ye({red:e.red,green:e.green,blue:e.blue});throw new g(46)},t.rgba=be,t.saturate=je,t.setHue=Ke,t.setLightness=We,t.setSaturation=Ge,t.shade=Ye,t.size=function(e,t){return void 0===t&&(t=e),{height:e,width:t}},t.stripUnit=I,t.textInputs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rt(t,lt,st)},t.timingFunctions=function(e){return Y[e]},t.tint=Xe,t.toColorString=we,t.transitions=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Array.isArray(t[0])&&2===t.length){var r=t[1];if("string"!=typeof r)throw new g(61);return{transition:t[0].map((function(e){return e+" "+r})).join(", ")}}return{transition:t.join(", ")}},t.transparentize=et,t.triangle=function(e){var t=e.pointingDirection,n=e.height,r=e.width,i=e.foregroundColor,o=e.backgroundColor,a=void 0===o?"transparent":o,s=_(r),l=_(n);if(isNaN(l[0])||isNaN(s[0]))throw new g(60);return c.default({width:"0",height:"0",borderColor:a},function(e,t){switch(e){case"top":case"bottomRight":return{borderBottomColor:t};case"right":case"bottomLeft":return{borderLeftColor:t};case"bottom":case"topLeft":return{borderTopColor:t};case"left":case"topRight":return{borderRightColor:t};default:throw new g(59)}}(t,i),{borderStyle:"solid",borderWidth:J(t,l,s)})},t.wordWrap=function(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return A}));var r=n(2),i=n(9);const o={spacing:{none:"0",smallest:"0.25rem",small:"0.5rem",medium:"1rem",large:"1.5rem",larger:"2.5rem",largest:"3rem"},zIndices:{overlay:5e3},fonts:{primary:"Satoshi, sans-serif",secondary:"Satoshi, sans-serif"},borderRadii:{default:"3px"},fontSizes:{header:"20px",listTitle:"16px",url:"14px",text:"12px",smallText:"8px"},lineHeights:{header:"30px",listTitle:"24px",url:"21px",text:"18px",smallText:"12px"}},a=e=>{const{icons:t}=e;return Object.assign(Object.assign({},"dark"===e.variant?Object.assign(Object.assign({},o),{variant:"dark",colors:{black0:"#23242b",black:"#313239",black2:"#12131B",greyScale0_5:"#191a20",greyScale1:"#1E1F26",greyScale1_5:"#24252C",greyScale2:"#303139",greyScale3:"#3E3F47",greyScale4:"#616069",greyScale5:"#85868E",greyScale6:"#A9A9B1",greyScale7:"#CACAD1",greyScale8:"#CACAD1",white:"#FAFAFA",headerGradient:"linear-gradient(266.77deg, #6AE394 -18.13%, #FAFAFA 104.34%)",prime1:"#6AE394",prime2:"#C6F0D4",prime3:"#4B645B",secondary:"#80A0F2",third:"#12131B",twitter:"#1DA1F2",warning:"#FF4D35",transparent:"transparent"},hoverBackgrounds:{primary:"#e0e0e0"},borderStyles:{boxShadowRight:"rgba(178,184,205,.4) 2px 10px 15px -3px",boxShadowLeft:"rgba(178,184,205,.4) -2px -10px 15px -3px",boxShadowDown:"rgba(178,184,205,.4) 0px -10px 15px -3px",borderLineColorBigElements:"#dee1eacc",borderHoverElements:"#5d689026",boxShadowHoverElements:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -2px rgba(0, 0, 0, .1)",boxShadowHoverElementsLighter:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(141 141 141 / 10%), 0 2px 4px -2px rgb(255 255 255 / 10%)"}}):Object.assign(Object.assign({},o),{variant:"light",colors:{black0:"#ededed",black:"#ededed",black2:"#fcfcfc",greyScale8:"#6b7280",greyScale7:"#fafafa",greyScale6:"#303139",greyScale5:"#3E3F47",greyScale4:"#6b7280",greyScale3:"#eddce9",greyScale2:"#e5e7eb",greyScale1_5:"#fcfcfe",greyScale1:"#f9fafb",greyScale0_5:"#e4e4e8",white:"#12131B",headerGradient:"linear-gradient(266.77deg, #6AE394 -38.13%, #2C3C4E 104.34%)",transparent:"transparent",prime1:"#11C278",prime2:"#C6F0D4",prime3:"#4B645B",secondary:"#80A0F2",third:"#12131B",twitter:"#1DA1F2",warning:"#FF4D35"},hoverBackgrounds:{primary:"#e0e0e0"},borderStyles:{boxShadowRight:"rgba(178,184,205,.4) 2px 10px 15px -3px",boxShadowLeft:"rgba(178,184,205,.4) -2px -10px 15px -3px",boxShadowDown:"rgba(178,184,205,.4) 0px -10px 15px -3px",borderLineColorBigElements:"#dee1eacc",borderHoverElements:"#5d689026",boxShadowHoverElements:"0 0 #0000, 0 0 #0000, 0 0px 10px 0px rgba(0,0,0,.1), 0 2px 4px 0px rgba(0,0,0,.1);",boxShadowHoverElementsLighter:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(141 141 141 / 10%), 0 2px 4px -2px rgb(255 255 255 / 10%)"}})),{icons:{addPeople:t.addPeople,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,atSign:t.atSign,backup:t.backup,bell:t.bell,block:t.block,blueRoundCheck:t.blueRoundCheck,boldIcon:t.boldIcon,bulletListIcon:t.bulletListIcon,chatWithUs:t.chatWithUs,check:t.check,checkedRound:t.checkedRound,checkRound:t.checkRound,clock:t.clock,coilIcon:t.coilIcon,collectionsEmpty:t.collectionsEmpty,collectionsFull:t.collectionsFull,command:t.command,comment:t.commentFull,commentAdd:t.commentAdd,commentFull:t.commentFull,compress:t.compress,copy:t.copy,cursor:t.cursor,date:t.date,calendar:t.calendar,discord:t.discord,dots:t.dots,doubleArrow:t.doubleArrow,dropImage:t.dropImage,edit:t.edit,emptyCircle:t.emptyCircle,expand:t.expand,feed:t.feed,file:t.file,filePDF:t.filePDF,filterIcon:t.filterIcon,folder:t.folder,fullPageReading:t.fullPageReading,globe:t.globe,goTo:t.goTo,h1Icon:t.h1Icon,h2Icon:t.h2Icon,hamburger:t.hamburger,heartEmpty:t.heartEmpty,heartFull:t.heartFull,helpIcon:t.helpIcon,highlight:t.highlight,imageIcon:t.imageIcon,imports:t.imports,inbox:t.inbox,info:t.info,integrate:t.integrate,invite:t.invite,italicIcon:t.italicIcon,link:t.link,linuxLogo:t.linuxLogo,lock:t.lock,lockFine:t.lockFine,login:t.login,logout:t.logout,longArrowRight:t.longArrowRight,macLogo:t.macLogo,mail:t.mail,mediumLogo:t.mediumLogo,memexLogoGrey:t.memexLogoGrey,multiEdit:t.multiEdit,newFeed:t.newFeed,numberedListIcon:t.numberedListIcon,pause:t.pause,pdf:t.pdf,peopleFine:t.peopleFine,personFine:t.personFine,phone:t.phone,pin:t.pin,play:t.play,playFull:t.playFull,plus:t.plus,plusIcon:t.plus,quickActionRibbon:t.quickActionRibbon,readwise:t.readwise,redo:t.redo,reload:t.reload,remove:t.remove,removeX:t.removeX,ribbonOff:t.ribbonOff,ribbonOn:t.ribbonOn,sadFace:t.sadFace,saveIcon:t.saveIcon,searchIcon:t.searchIcon,settings:t.settings,share:t.share,shared:t.shared,sharedProtected:t.sharedProtected,shareEmpty:t.shareEmpty,shield:t.shield,sidebarIcon:t.sidebarIcon,sideBySide:t.sideBySide,slack:t.slack,smileFace:t.smileFace,sort:t.sort,spotifyLogo:t.spotifyLogo,stars:t.stars,stop:t.stop,strikethroughIcon:t.strikethroughIcon,substackLogo:t.substackLogo,sunrise:t.sunrise,tagEmpty:t.tagEmpty,tagFull:t.tagFull,threadIcon:t.threadIcon,timestampIcon:t.timestampIcon,tooltipOff:t.tooltipOff,tooltipOn:t.tooltipOn,trash:t.trash,triangle:t.triangle,twitter:t.twitter,telegram:t.telegram,twitterLogo:t.twitterLogo,blueskyLogo:t.blueskyLogo,twitterThin:t.twitterThin,warning:t.warning,webMonetizationLogo:t.webMonetizationLogo,webMonetizationLogoConfirmed:t.webMonetizationLogoConfirmed,winLogo:t.winLogo,youtubeLogo:t.youtubeLogo,reply:t.reply,openAI:t.openAI,openAIicon:t.openAIicon,bulletPoint:t.bulletPoint,googleLogo:t.googleLogo,sun:t.sun,moon:t.moon,cameraIcon:t.cameraIcon,memexIconDarkMode:t.memexIconDarkMode,memexIconLightMode:t.memexIconLightMode,obsidianLogo:t.obsidianLogo,logseqLogo:t.logseqLogo,rectangleDraw:t.rectangleDraw,local:t.local,key:t.key,spread:t.spread,dragList:t.dragList,memexIconOnly:t.memexIconOnly,browserIcon:t.browserIcon,move:t.move,enter:t.enter}})};var s=n(3),l=n.n(s);const c=e=>a({icons:i,variant:e.variant});function A(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{themeVariant:e}=yield l.a.storage.local.get("themeVariant");return e||"dark"}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));const r=10,i="430px",o="__memex-annotation-box-",a=["Summarize this page in 2 paragraphs","Make me a list of the chapters and summarise each","Tell me the key take aways of this","What are the actionable items from this page?","Explain me this page like I am a 5 year old"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(7),l=n(4),c=n(28),A=n.n(c),u=n(99),d=n(12);class f extends r.PureComponent{constructor(){super(...arguments),this.tooltipButtonRef=i.a.createRef(),this.handleArrowKeys=e=>{if("Escape"===e.key&&(this.setState({showTutorialBox:!1}),e.preventDefault(),e.stopPropagation()),"ArrowUp"===e.key){e.preventDefault(),e.stopPropagation();const t=v.findIndex((e=>e.id===this.state.tutorialId));if(t>0){const e=v[t-1].id;this.setState({tutorialId:e})}}else if("ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();const t=v.findIndex((e=>e.id===this.state.tutorialId));if(t<v.length-1){const e=v[t+1].id;this.setState({tutorialId:e})}}},this.state={tutorialOption:"video",showTutorialBox:!1,minimizedMode:!1,tutorialId:"all",iframeLoading:!0},this.renderTutorialBox=()=>{var e;const t=null!==(e=v.find((e=>e.id===this.state.tutorialId)))&&void 0!==e?e:v[0];return t?i.a.createElement(p,{onClick:e=>{e.stopPropagation()}},i.a.createElement(g,null,i.a.createElement(m,{src:`https://tutorials.memex.garden/${t.id}`,onLoad:()=>this.setState({iframeLoading:!1}),iframeLoading:this.state.iframeLoading}),i.a.createElement(d.a,{size:40}))):null},this.renderTutorialContainer=()=>{if(this.state.showTutorialBox||this.props.isHeadless){const e=this.props.getRootElement;return e?A.a.createPortal(i.a.createElement(u.a,{onClickAway:()=>{this.setState({showTutorialBox:!1}),this.props.onTutorialClose()},blockedBackground:!0,centeredElement:!0},this.renderTutorialBox()),e?e():document.body):(console.error("Portal root element is not available"),null)}}}componentDidMount(){this.setState({tutorialId:this.props.tutorialId})}componentWillUpdate(e){null==e.tutorialId&&null!=this.props.tutorialId&&document.addEventListener("keydown",this.handleArrowKeys)}componentWillUnmount(){document.removeEventListener("keydown",this.handleArrowKeys)}componentDidUpdate(e,t,n){e.tutorialId!==this.props.tutorialId&&this.setState({tutorialId:this.props.tutorialId})}render(){return this.props.isHeadless?this.renderTutorialContainer():this.props.isSolo?this.renderTutorialBox():i.a.createElement(h,{ref:this.tooltipButtonRef},i.a.createElement(s.a,{tooltipText:"Tutorial",placement:"bottom",getPortalRoot:this.props.getRootElement},i.a.createElement(l.a,{icon:"helpIcon",heightAndWidth:this.props.iconSize||"20px",padding:this.props.iconPadding,onClick:e=>{e.stopPropagation(),this.setState({showTutorialBox:!this.state.showTutorialBox})}}),this.renderTutorialContainer()))}}const p=a.a.div`
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    height: fit-content;
    height: 600px;
    width: 1000px;
    background: ${e=>e.theme.colors.greyScale1};
    border-radius: 10px;
    border: 1px solid ${e=>e.theme.colors.greyScale2};

    transition: width 0.5s ease-in-out;
`,h=(a.a.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    height: 100%;
    width: fill-available;
`,a.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
`),g=(a.a.div`
    display: flex;
    justify-content: space-between;
    grid-gap: 5px;
    width: 100%;
    padding: revert !important;
    padding: 10px 15px !important;
    width: fill-available;
    > div {
        flex: 1;
    }
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    width: fill-available;
    padding: revert !important;
    padding: 10px 20px !important;
    height: 100%;
    overflow: scroll;

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;
`,a.a.div`
    font-size: 18px;
    font-weight: 800;
    background: ${e=>e.theme.colors.headerGradient};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    width: fill-available;
    text-align: left;
    display: flex;
    align-items: center;
    grid-gap: 10px;
`,a.a.div`
    font-size: 16px;
    font-weight: 500;
    color: ${e=>e.theme.colors.greyScale5};
    width: fill-available;
    text-align: left;
`,a.a.iframe`
    width: 100%; // Take the full width of the container
    height: 100%;
    border: none;
    border-radius: 10px;
`,a.a.div`
    width: 100%; // Ensure the container takes the full width of its parent
    position: relative; // Positioning context for the absolute positioned iframe
    padding: revert !important;
    padding-top: 56.25% !important;

    iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
`,a.a.div`
    display: flex;
    flex-direction: column;
    font-size: 14px;
    font-weight: 400;
    color: ${e=>e.theme.colors.greyScale5};
    padding: revert !important;
    margin: revert !important;
    justify-content: flex-start;
    width: 100%;
`,a.a.div`
    display: inline;
    font-weight: 400;
    padding: revert !important;
    margin: revert !important;
    justify-content: flex-start;
    width: 100%;
`,a.a.div`
    display: flex;
    justify-content: flex-end;
    grid-gap: 10px;
`,a.a.div`
    padding: revert !important;
    padding: 20px !important;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    grid-gap: 15px;
    border-bottom: 1px solid ${e=>e.theme.colors.greyScale2};
    width: fill-available;
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    grid-gap: 10px;
    width: fill-available;
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    padding: revert !important;
    padding: 15px !important;
    grid-gap: 5px;
    width: 500px;
    border-right: 1px solid ${e=>e.theme.colors.greyScale2};
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;

    &::-webkit-scrollbar {
        width: 8px; // Width of the scrollbar
    }

    &::-webkit-scrollbar-track {
        background: ${e=>e.theme.colors.greyScale1}; // Background of the scrollbar track
    }

    &::-webkit-scrollbar-thumb {
        background-color: ${e=>e.theme.colors.greyScale4}; // Color of the scrollbar thumb
        border-radius: 10px; // Roundness of the scrollbar thumb
        border: 2px solid ${e=>e.theme.colors.greyScale1}; // Padding around the scrollbar thumb
    }

    scrollbar-width: thin; // For Firefox
    scrollbar-color: ${e=>e.theme.colors.greyScale4}
        ${e=>e.theme.colors.greyScale1}; // For Firefox
`,a.a.div`
    display: flex;

    font-size: 16px;
    font-weight: 300;
    color: ${e=>e.theme.colors.greyScale6};
    width: fill-available;
    text-align: left;
    grid-gap: 10px;
    min-height: 50px;
    height: fit-content;
    align-items: center;
    justify-content: flex-start;
    padding: revert !important;
    padding: 5px 10px !important;
    cursor: pointer;

    &:hover {
        cursor: pointer;
        background: ${e=>e.theme.colors.black};
        border-radius: 5px;
    }

    ${e=>e.selected&&o.css`
            background: ${e=>e.theme.colors.greyScale2};
            border-radius: 5px;
        `}
`,a.a.iframe`
    border: none;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    border: 1px solid ${e=>e.theme.colors.greyScale2};
`,a.a.span`
    display: inline-block;
    align-items: center;
    justify-content: center;
    padding: revert !important;
    padding: 0px 5px !important;
    vertical-align: top;
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    align-items: flex-start;
    color: ${e=>e.theme.colors.greyScale7};
    font-size: 16px;
    font-weight: 400;
    padding: revert !important;
    padding-bottom: 50px !important;
`,a.a.div``,a.a.ul`
    padding: revert !important;
    margin-top: 5px !important;
`,a.a.ol`
    padding: revert !important;
    margin-top: 5px !important;
`,a.a.li`
    padding: revert !important;
    padding-top: 10px !important;
    line-height: 28px;

    &:first-child {
        padding-top: 5px !important;
    }

    a {
        color: ${e=>e.theme.colors.prime1};
        text-decoration: underline;
    }
    strong {
        color: ${e=>e.theme.colors.white};
        font-weight: 500;
    }
    code {
        color: ${e=>e.theme.colors.warning};
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 5px;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        font-weight: 300;
        margin-left: 5px;
        padding: 0 5px;
        white-space: nowrap;
    }
`,a.a.div`
    font-weight: 300;
    padding-top: 30px !important;
    padding-bottom: 10px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 22px;
`,a.a.div`
    font-weight: 300;
    padding-top: 20px !important;
    padding-bottom: 10px;
    color: ${e=>e.theme.colors.greyScale5};
    font-size: 18px;
`,a.a.div`
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    position: relative;
    border-radius: 12px;
    overflow: hidden;
`),m=a.a.iframe`
    height: 100%;
    width: 100%;
    border: none;
    position: absolute;
    z-index: 1;

    ${e=>e.iframeLoading&&o.css`
            z-index: -1;
        `}
`,v=[{id:"memexBasics",videoUrl:"https://share.descript.com/embed/EHlzd48P5pw",title:"Getting the basics",subTitle:"The minimum things you need to navigate Memex and get the basics",icon:"memexIconOnly"},{id:"savePages",videoUrl:"https://share.descript.com/embed/EHlzd48P5pw",title:"Quick Save & Search",subTitle:"How to quickly save anything and find it again with our full-text search",icon:"heartEmpty"},{id:"organiseSpaces",videoUrl:"https://share.descript.com/embed/nUlrcgejwj8",title:"Organise & Share Spaces",subTitle:"Organise things with Spaces. Share or collaboratively curate them with others",icon:"plus"},{id:"annotatePages",videoUrl:"https://share.descript.com/embed/RU3qtAJZyYj",title:"Annotating Pages",subTitle:"Highlight & annotate websites & PDFs",icon:"highlight"},{id:"saveImages",videoUrl:"https://share.descript.com/embed/l0gxoMKTz1E",title:"Working with Images",subTitle:"How to add images to note, or save images from the web",icon:"imageIcon"},{id:"askAI",videoUrl:"https://share.descript.com/embed/pmUXKxzOypM",title:"Summarize & Ask AI",subTitle:"How to use our AI to summarize articles, videos and PDFs",icon:"stars"},{id:"sharePages",videoUrl:"https://share.descript.com/embed/kMfmY5y0h6M",title:"Share annotated pages",subTitle:"Export or share annotated pages with people who do not use Memex",icon:"copy"},{id:"useMobileApp",videoUrl:"https://share.descript.com/embed/Se7kr5yR4ZD",title:"Memex on iOS & Android",subTitle:"Save, annotate & summarise websites & videos on mobile",icon:"phone"},{id:"annotatePDFs",videoUrl:"https://share.descript.com/embed/DikJKfzZqyo",title:"Annotate & Share PDFs",subTitle:"Take notes on and share url-based or local PDFs with others",icon:"filePDF"},{id:"annotateVideos",videoUrl:"https://share.descript.com/embed/ex9smd7BmLt",title:"Video Annotations & Summaries",subTitle:"Annotate, Summarize, Snapshot and take notes on videos",icon:"play"},{id:"useTemplates",videoUrl:"https://share.descript.com/embed/l8j4DPdO0nf",title:"Copy & Paste Templates",subTitle:"Use custom templates to export saved pages and notes",icon:"copy"},{id:"syncWithObsidianLogseq",videoUrl:"https://share.descript.com/embed/ycYm6EaL6oV",title:"Sync to Obsidian & Logseq",subTitle:"Live sync saved pages, notes and Spaces to Obsidian and Logseq",icon:"reload"}]},function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return A})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g}));n(2);var r=n(11),i=n(16),o=n.n(i);n(29),n(235);function a(e){return e.public?e.protected?r.a.SHARED_PROTECTED:r.a.SHARED:e.protected?r.a.PROTECTED:r.a.PRIVATE}function s(e){return{protected:e===r.a.PROTECTED||e===r.a.SHARED_PROTECTED,public:e===r.a.SHARED||e===r.a.SHARED_PROTECTED}}function l(){let e="staging";return e="production",function(e){if("production"===e)return"https://memex.social";if("staging"===e)return"https://staging.memex.social";return"http://localhost:3000"}(e)}function c(e){const t=e.collaborationKey?`?key=${e.collaborationKey}`:"";return`${l()}/c/${e.remoteListId}${t}`}function A(e){return`${l()}/p/${e.remotePageInfoId}`}function u(e){const t=e.collaborationKey?`?key=${e.collaborationKey}`:"";return`/c/${e.remoteListId}/p/${e.remoteListEntryId}${t}`}function d(e){return`${l()}/a/${e.remoteAnnotationId}`}function f(){return`${l()}/feed`}const p=(e=new Date)=>o()(e).format("MMMM Do YYYY, h:mma"),h=(...e)=>e.filter((e=>null!=e)).map((e=>e.toString())).reduce(((e,t)=>`${e}${e.length?",":""}${t}`),""),g=(e,t)=>{if(!(null==e?void 0:e.length))return[];const n=e.split(",");return"string"===t?n:n.map((e=>Number(e)))}},function(e,t,n){var r=n(367),i=n(372);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(96),i=n(368),o=n(369),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function s(e){var t=A();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},l(e)}function c(e,t,n){return c=A()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i},c.apply(null,arguments)}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===f(o)?o:String(o)),r)}var i,o}function g(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=n(616);function v(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var i=e.child(r),o=t.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){var s=v(i.content,o.content,n+1);if(null!=s)return s}n+=i.nodeSize}else n+=i.nodeSize}}function y(e,t,n,r){for(var i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};var a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){for(var c=0,A=Math.min(a.text.length,s.text.length);c<A&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){var u=y(a.content,s.content,n-1,r-1);if(u)return u}n-=l,r-=l}else n-=l,r-=l}}var b=function(){function e(t,n){if(p(this,e),this.content=t,this.size=n||0,null==n)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize}return g(e,[{key:"nodesBetween",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=0,a=0;a<t;o++){var s=this.content[o],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,i||null,o)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),n,r+c)}a=l}}},{key:"descendants",value:function(e){this.nodesBetween(0,this.size,e)}},{key:"textBetween",value:function(e,t,n,r){var i="",o=!0;return this.nodesBetween(e,t,(function(a,s){var l=a.isText?a.text.slice(Math.max(e,s)-s,t-s):a.isLeaf?r?"function"==typeof r?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&n&&(o?o=!1:i+=n),i+=l}),0),i}},{key:"append",value:function(t){if(!t.size)return this;if(!this.size)return t;var n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new e(i,this.size+t.size)}},{key:"cut",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==t&&n==this.size)return this;var r=[],i=0;if(n>t)for(var o=0,a=0;a<n;o++){var s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>n)&&(s=s.isText?s.cut(Math.max(0,t-a),Math.min(s.text.length,n-a)):s.cut(Math.max(0,t-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new e(r,i)}},{key:"cutByIndex",value:function(t,n){return t==n?e.empty:0==t&&n==this.content.length?this:new e(this.content.slice(t,n))}},{key:"replaceChild",value:function(t,n){var r=this.content[t];if(r==n)return this;var i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new e(i,o)}},{key:"addToStart",value:function(t){return new e([t].concat(this.content),this.size+t.nodeSize)}},{key:"addToEnd",value:function(t){return new e(this.content.concat(t),this.size+t.nodeSize)}},{key:"eq",value:function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}},{key:"maybeChild",value:function(e){return this.content[e]||null}},{key:"forEach",value:function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}}},{key:"findDiffStart",value:function(e){return v(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"findDiffEnd",value:function(e){return y(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0==e)return B(0,e);if(e==this.size)return B(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(var n=0,r=0;;n++){var i=r+this.child(n).nodeSize;if(i>=e)return i==e||t>0?B(n+1,i):B(n,r);r=i}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new e(n.map(t.nodeFromJSON))}},{key:"fromArray",value:function(t){if(!t.length)return e.empty;for(var n,r=0,i=0;i<t.length;i++){var o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new e(n||t,r)}},{key:"from",value:function(t){if(!t)return e.empty;if(t instanceof e)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new e([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),e}();b.empty=new b([],0);var w={index:0,offset:0};function B(e,t){return w.index=e,w.offset=t,w}function x(e,t){if(e===t)return!0;if(!e||"object"!=f(e)||!t||"object"!=f(t))return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!x(e[r],t[r]))return!1}else{for(var i in e)if(!(i in t)||!x(e[i],t[i]))return!1;for(var o in t)if(!(o in e))return!1}return!0}var C=function(){function e(t,n){p(this,e),this.type=t,this.attrs=n}return g(e,[{key:"addToSet",value:function(e){for(var t,n=!1,r=0;r<e.length;r++){var i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}},{key:"eq",value:function(e){return this==e||this.type==e.type&&x(this.attrs,e.attrs)}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));return n.create(t.attrs)}},{key:"sameSet",value:function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}},{key:"setFrom",value:function(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];var n=t.slice();return n.sort((function(e,t){return e.type.rank-t.type.rank})),n}}]),e}();C.none=[];var S=function(e){a(n,e);var t=s(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(l(Error)),k=function(){function e(t,n,r){p(this,e),this.content=t,this.openStart=n,this.openEnd=r}return g(e,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(t,n){var r=I(this.content,t+this.openStart,n);return r&&new e(r,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(t,n){return new e(E(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;var r=n.openStart||0,i=n.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new e(b.fromJSON(t,n.content),r,i)}},{key:"maxOpen",value:function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0,i=0,o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(var a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new e(t,r,i)}}]),e}();function E(e,t,n){var r=e.findIndex(t),i=r.index,o=r.offset,a=e.maybeChild(i),s=e.findIndex(n),l=s.index,c=s.offset;if(o==t||a.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(E(a.content,t-o-1,n-o-1)))}function I(e,t,n,r){var i=e.findIndex(t),o=i.index,a=i.offset,s=e.maybeChild(o);if(a==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));var l=I(s.content,t-a-1,n);return l&&e.replaceChild(o,s.copy(l))}function O(e,t,n){if(n.openStart>e.depth)throw new S("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new S("Inconsistent open depths");return F(e,t,n,0)}function F(e,t,n,r){var i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){var a=F(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var s=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),i=n-1;i>=0;i--)r=t.node(i).copy(b.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return M(o,L(e,s.start,s.end,t,r))}var l=e.parent,c=l.content;return M(l,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}return M(o,Q(e,t,r))}function D(e,t){if(!t.type.compatibleContent(e.type))throw new S("Cannot join "+t.type.name+" onto "+e.type.name)}function _(e,t,n){var r=e.node(n);return D(r,t.node(n)),r}function T(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function U(e,t,n,r){var i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(T(e.nodeAfter,r),o++));for(var s=o;s<a;s++)T(i.child(s),r);t&&t.depth==n&&t.textOffset&&T(t.nodeBefore,r)}function M(e,t){return e.type.checkContent(t),e.copy(t)}function L(e,t,n,r,i){var o=e.depth>i&&_(e,t,i+1),a=r.depth>i&&_(n,r,i+1),s=[];return U(null,e,i,s),o&&a&&t.index(i)==n.index(i)?(D(o,a),T(M(o,L(e,t,n,r,i+1)),s)):(o&&T(M(o,Q(e,t,i+1)),s),U(t,n,i,s),a&&T(M(a,Q(n,r,i+1)),s)),U(r,null,i,s),new b(s)}function Q(e,t,n){var r=[];(U(null,e,n,r),e.depth>n)&&T(M(_(e,t,n+1),Q(e,t,n+1)),r);return U(t,null,n,r),new b(r)}k.empty=new k(b.empty,0,0);var R=function(){function e(t,n,r){p(this,e),this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}return g(e,[{key:"resolveDepth",value:function(e){return null==e?this.depth:e<0?this.depth+e:e}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(e){return this.path[3*this.resolveDepth(e)]}},{key:"index",value:function(e){return this.path[3*this.resolveDepth(e)+1]}},{key:"indexAfter",value:function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}},{key:"start",value:function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}},{key:"end",value:function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}},{key:"before",value:function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}},{key:"after",value:function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}},{key:"nodeBefore",get:function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}},{key:"posAtIndex",value:function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,i=0;i<e;i++)r+=n.child(i).nodeSize;return r}},{key:"marks",value:function(){var e=this.parent,t=this.index();if(0==e.content.size)return C.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var i=n;n=r,r=i}for(var o=n.marks,a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||r&&o[a].isInSet(r.marks)||(o=o[a--].removeFromSet(o));return o}},{key:"marksAcross",value:function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}},{key:"sharedDepth",value:function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}},{key:"blockRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new j(this,e,n);return null}},{key:"sameParent",value:function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}},{key:"max",value:function(e){return e.pos>this.pos?e:this}},{key:"min",value:function(e){return e.pos<this.pos?e:this}},{key:"toString",value:function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}}],[{key:"resolve",value:function(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],i=0,o=n,a=t;;){var s=a.content.findIndex(o),l=s.index,c=s.offset,A=o-c;if(r.push(a,l,i+c),!A)break;if((a=a.child(l)).isText)break;o=A-1,i+=c+1}return new e(n,r,o)}},{key:"resolveCached",value:function(t,n){for(var r=0;r<P.length;r++){var i=P[r];if(i.pos==n&&i.doc==t)return i}var o=P[H]=e.resolve(t,n);return H=(H+1)%N,o}}]),e}(),P=[],H=0,N=12,j=function(){function e(t,n,r){p(this,e),this.$from=t,this.$to=n,this.depth=r}return g(e,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),e}(),z=Object.create(null),K=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.none;p(this,e),this.type=t,this.attrs=n,this.marks=i,this.content=r||b.empty}return g(e,[{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(e){return this.content.child(e)}},{key:"maybeChild",value:function(e){return this.content.maybeChild(e)}},{key:"forEach",value:function(e){this.content.forEach(e)}},{key:"nodesBetween",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}},{key:"descendants",value:function(e){this.nodesBetween(0,this.content.size,e)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(e,t,n,r){return this.content.textBetween(e,t,n,r)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}},{key:"sameMarkup",value:function(e){return this.hasMarkup(e.type,e.attrs,e.marks)}},{key:"hasMarkup",value:function(e,t,n){return this.type==e&&x(this.attrs,t||e.defaultAttrs||z)&&C.sameSet(this.marks,n||C.none)}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}},{key:"mark",value:function(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}},{key:"cut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return k.empty;var r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),a=r.start(o),s=r.node(o).content.cut(r.pos-a,i.pos-a);return new k(s,r.depth-o,i.depth-o)}},{key:"replace",value:function(e,t,n){return O(this.resolve(e),this.resolve(t),n)}},{key:"nodeAt",value:function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,i=n.offset;if(!(t=t.maybeChild(r)))return null;if(i==e||t.isText)return t;e-=i+1}}},{key:"childAfter",value:function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}}},{key:"childBefore",value:function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}},{key:"resolve",value:function(e){return R.resolveCached(this,e)}},{key:"resolveNoCache",value:function(e){return R.resolve(this,e)}},{key:"rangeHasMark",value:function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),W(this.marks,e)}},{key:"contentMatchAt",value:function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}},{key:"canReplace",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,o=this.contentMatchAt(e).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var s=r;s<i;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0}},{key:"canReplaceWith",value:function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}},{key:"canAppend",value:function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}},{key:"check",value:function(){this.type.checkContent(this.content);for(var e=C.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!C.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((function(e){return e.type.name}))));this.content.forEach((function(e){return e.check()}))}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=b.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}]),e}();K.prototype.text=void 0;var $=function(e){a(n,e);var t=s(n);function n(e,r,i,o){var a;if(p(this,n),a=t.call(this,e,r,null,o),!i)throw new RangeError("Empty text nodes are not allowed");return a.text=i,a}return g(n,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):W(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(e,t){return this.text.slice(e,t)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(e){return e==this.marks?this:new n(this.type,this.attrs,this.text,e)}},{key:"withText",value:function(e){return e==this.text?this:new n(this.type,this.attrs,e,this.marks)}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}},{key:"eq",value:function(e){return this.sameMarkup(e)&&this.text==e.text}},{key:"toJSON",value:function(){var e=o(d(n.prototype),"toJSON",this).call(this);return e.text=this.text,e}}]),n}(K);function W(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var V=function(){function e(t){p(this,e),this.validEnd=t,this.next=[],this.wrapCache=[]}return g(e,[{key:"matchType",value:function(e){for(var t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}},{key:"matchFragment",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this,i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}},{key:"inlineContent",get:function(){return 0!=this.next.length&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var e=0;e<this.next.length;e++){var t=this.next[e].type;if(!t.isText&&!t.hasRequiredAttrs())return t}return null}},{key:"compatible",value:function(e){for(var t=0;t<this.next.length;t++)for(var n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}},{key:"fillBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function i(o,a){var s=o.matchFragment(e,n);if(s&&(!t||s.validEnd))return b.from(a.map((function(e){return e.createAndFill()})));for(var l=0;l<o.next.length;l++){var c=o.next[l],A=c.type,u=c.next;if(!A.isText&&!A.hasRequiredAttrs()&&-1==r.indexOf(u)){r.push(u);var d=i(u,a.concat(A));if(d)return d}}return null}(this,[])}},{key:"findWrapping",value:function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}},{key:"computeWrapping",value:function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),i=r.match;if(i.matchType(e)){for(var o=[],a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(var s=0;s<i.next.length;s++){var l=i.next[s],c=l.type,A=l.next;c.isLeaf||c.hasRequiredAttrs()||c.name in t||r.type&&!A.validEnd||(n.push({match:c.contentMatch,type:c,via:r}),t[c.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}},{key:"toString",value:function(){var e=[];return function t(n){e.push(n);for(var r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",i=0;i<t.next.length;i++)r+=(i?", ":"")+t.next[i].type.name+"->"+e.indexOf(t.next[i].next);return r})).join("\n")}}],[{key:"parse",value:function(t,n){var r=new G(t,n);if(null==r.next)return e.empty;var i=q(r);r.next&&r.err("Unexpected trailing text");var o=ne(function(e){var t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((function(e){return e.to=t}))}function o(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(o(n,t))}),[]);if("seq"!=e.type){if("star"==e.type){var a=n();return r(t,a),i(o(e.expr,a),a),[r(a)]}if("plus"==e.type){var s=n();return i(o(e.expr,t),s),i(o(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){for(var l=t,c=0;c<e.min;c++){var A=n();i(o(e.expr,l),A),l=A}if(-1==e.max)i(o(e.expr,l),l);else for(var u=e.min;u<e.max;u++){var d=n();r(l,d),i(o(e.expr,l),d),l=d}return[r(l)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(var f=0;;f++){var p=o(e.exprs[f],t);if(f==e.exprs.length-1)return p;i(p,t=n())}}}(i));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var i=r[n],o=!i.validEnd,a=[],s=0;s<i.next.length;s++){var l=i.next[s],c=l.type,A=l.next;a.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==r.indexOf(A)&&r.push(A)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,r),o}}]),e}();V.empty=new V(!0);var G=function(){function e(t,n){p(this,e),this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}return g(e,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(e){return this.next==e&&(this.pos++||!0)}},{key:"err",value:function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}]),e}();function q(e){var t=[];do{t.push(Y(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Y(e){var t=[];do{t.push(J(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function J(e){for(var t=function(e){if(e.eat("(")){var t=q(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var i=[];for(var o in n){var a=n[o];a.groups.indexOf(t)>-1&&i.push(a)}0==i.length&&e.err("No node type or group '"+t+"' found");return i}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Z(e,t)}return t}function X(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function Z(e,t){var n=X(e),r=n;return e.eat(",")&&(r="}"!=e.next?X(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ee(e,t){return t-e}function te(e,t){var n=[];return function t(r){var i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(var o=0;o<i.length;o++){var a=i[o],s=a.term,l=a.to;s||-1!=n.indexOf(l)||t(l)}}(t),n.sort(ee)}function ne(e){var t=Object.create(null);return function n(r){var i=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){for(var o,a=0;a<i.length;a++)i[a][0]==n&&(o=i[a][1]);te(e,r).forEach((function(e){o||i.push([n,o=[]]),-1==o.indexOf(e)&&o.push(e)}))}}))}));for(var o=t[r.join(",")]=new V(r.indexOf(e.length-1)>-1),a=0;a<i.length;a++){var s=i[a][1].sort(ee);o.next.push({type:i[a][0],next:t[s.join(",")]||n(s)})}return o}(te(e,0))}function re(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function ie(e,t){var n=Object.create(null);for(var r in e){var i=t&&t[r];if(void 0===i){var o=e[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function oe(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new se(e[n]);return t}var ae=function(){function e(t,n,r){p(this,e),this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=oe(r.attrs),this.defaultAttrs=re(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}return g(e,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==V.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(e){return this==e||this.contentMatch.compatible(e.contentMatch)}},{key:"computeAttrs",value:function(e){return!e&&this.defaultAttrs?this.defaultAttrs:ie(this.attrs,e)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new K(this,this.computeAttrs(e),b.from(t),C.setFrom(n))}},{key:"createChecked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=b.from(t),this.checkContent(t),new K(this,this.computeAttrs(e),t,C.setFrom(n))}},{key:"createAndFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),(t=b.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(b.empty,!0);return o?new K(this,e,t.append(o),C.setFrom(n)):null}},{key:"validContent",value:function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}},{key:"checkContent",value:function(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}},{key:"allowsMarkType",value:function(e){return null==this.markSet||this.markSet.indexOf(e)>-1}},{key:"allowsMarks",value:function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}},{key:"allowedMarks",value:function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:C.none:e}}],[{key:"compile",value:function(t,n){var r=Object.create(null);t.forEach((function(t,i){return r[t]=new e(t,n,i)}));var i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}]),e}(),se=function(){function e(t){p(this,e),this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}return g(e,[{key:"isRequired",get:function(){return!this.hasDefault}}]),e}(),le=function(){function e(t,n,r,i){p(this,e),this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=oe(i.attrs),this.excluded=null;var o=re(this.attrs);this.instance=o?new C(this,o):null}return g(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new C(this,ie(this.attrs,e))}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]}},{key:"excludes",value:function(e){return this.excluded.indexOf(e)>-1}}],[{key:"compile",value:function(t,n){var r=Object.create(null),i=0;return t.forEach((function(t,o){return r[t]=new e(t,i++,n,o)})),r}}]),e}(),ce=function(){function e(t){p(this,e),this.cached=Object.create(null);var n=this.spec={};for(var r in t)n[r]=t[r];n.nodes=m.from(t.nodes),n.marks=m.from(t.marks||{}),this.nodes=ae.compile(this.spec.nodes,this),this.marks=le.compile(this.spec.marks,this);var i=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var a=this.nodes[o],s=a.spec.content||"",l=a.spec.marks;a.contentMatch=i[s]||(i[s]=V.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet="_"==l?null:l?Ae(this,l.split(" ")):""!=l&&a.inlineContent?null:[]}for(var c in this.marks){var A=this.marks[c],u=A.spec.excludes;A.excluded=null==u?[A]:""==u?[]:Ae(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return g(e,[{key:"node",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof ae))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}},{key:"text",value:function(e,t){var n=this.nodes.text;return new $(n,n.defaultAttrs,e,C.setFrom(t))}},{key:"mark",value:function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}},{key:"nodeFromJSON",value:function(e){return K.fromJSON(this,e)}},{key:"markFromJSON",value:function(e){return C.fromJSON(this,e)}},{key:"nodeType",value:function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}]),e}();function Ae(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(var s in e.marks){var l=e.marks[s];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}var ue=function(){function e(t,n){var r=this;p(this,e),this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach((function(e){e.tag?r.tags.push(e):e.style&&r.styles.push(e)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}return g(e,[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new me(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}},{key:"parseSlice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new me(this,t,!0);return n.addAll(e,t.from,t.to),k.maxOpen(n.finish())}},{key:"matchTag",value:function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var i=this.tags[r];if(ve(e,i.tag)&&(void 0===i.namespace||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(e);if(!1===o)continue;i.attrs=o||void 0}return i}}}},{key:"matchStyle",value:function(e,t,n,r){for(var i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){var o=this.styles[i],a=o.style;if(!(0!=a.indexOf(e)||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(61!=a.charCodeAt(e.length)||a.slice(e.length+1)!=t))){if(o.getAttrs){var s=o.getAttrs(t);if(!1===s)continue;o.attrs=s||void 0}return o}}}}],[{key:"schemaRules",value:function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var i=t[r];if((null==i.priority?50:i.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=ye(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)}))};for(var i in e.marks)r(i);var o=function(t){var r=e.nodes[t].spec.parseDOM;r&&r.forEach((function(e){n(e=ye(e)),e.node||e.ignore||e.mark||(e.node=t)}))};for(var a in e.nodes)o(a);return t}},{key:"fromSchema",value:function(t){return t.cached.domParser||(t.cached.domParser=new e(t,e.schemaRules(t)))}}]),e}(),de={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},fe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pe={ol:!0,ul:!0};function he(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}var ge=function(){function e(t,n,r,i,o,a,s){p(this,e),this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=C.none,this.stashMarks=[],this.match=a||(4&s?null:t.contentMatch)}return g(e,[{key:"findWrapping",value:function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(b.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}},{key:"finish",value:function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];if(n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))){var r=n;n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-t[0].length))}}var i=b.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(b.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i}},{key:"popFromStashMark",value:function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}},{key:"applyPending",value:function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):be(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}},{key:"inlineContext",value:function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!de.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}]),e}(),me=function(){function e(t,n,r){p(this,e),this.parser=t,this.options=n,this.isOpen=r,this.open=0;var i,o=n.topNode,a=he(null,n.preserveWhitespace,0)|(r?4:0);i=o?new ge(o.type,o.attrs,C.none,C.none,!0,n.topMatch||o.type.contentMatch,a):new ge(r?null:t.schema.topNodeType,null,C.none,C.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}return g(e,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}},{key:"withStyleRules",value:function(e,t){var n=e.getAttribute("style");if(!n)return t();var i=this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(n));if(i){for(var o=r(i,2),a=o[0],s=o[1],l=this.top,c=0;c<s.length;c++)this.removePendingMark(s[c],l);for(var A=0;A<a.length;A++)this.addPendingMark(a[A]);t();for(var u=0;u<a.length;u++)this.removePendingMark(a[u],l);for(var d=0;d<s.length;d++)this.addPendingMark(s[d])}}},{key:"addTextNode",value:function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}},{key:"addElement",value:function(e,t){var n,r=this,i=e.nodeName.toLowerCase();pe.hasOwnProperty(i)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&pe.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:fe.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var a,s=this.top,l=this.needsBlock;if(de.hasOwnProperty(i))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);o&&o.skip?this.addAll(e):this.withStyleRules(e,(function(){return r.addAll(e)})),a&&this.sync(s),this.needsBlock=l}else this.withStyleRules(e,(function(){r.addElementByRule(e,o,!1===o.consuming?n:void 0)}))}},{key:"leafFallback",value:function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}},{key:"ignoreFallback",value:function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}},{key:"readStyles",value:function(e){for(var t=this,n=C.none,r=C.none,i=0;i<e.length;i+=2)for(var o,a=function(o){var a=t.parser.matchStyle(e[i],e[i+1],t,o);return a?a.ignore?{v:null}:(a.clearMark?t.top.pendingMarks.concat(t.top.activeMarks).forEach((function(e){a.clearMark(e)&&(r=e.addToSet(r))})):n=t.parser.schema.marks[a.mark].create(a.attrs).addToSet(n),!1!==a.consuming?(s=o,0):void(s=o=a)):(s=o,0)},s=void 0;0!==(o=a(s));)if(o)return o.v;return[n,r]}},{key:"addElementByRule",value:function(e,t,n){var r,i,o,a=this;t.node?(i=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs||null,t.preserveWhitespace):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));var s=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var l=e;"string"==typeof t.contentElement?l=e.querySelector(t.contentElement):"function"==typeof t.contentElement?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}},{key:"addAll",value:function(e,t,n){for(var r=t||0,i=t?e.childNodes[t]:e.firstChild,o=null==n?null:e.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i);this.findAtPoint(e,r)}},{key:"findPlace",value:function(e){for(var t,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0}},{key:"insertNode",value:function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,i=0;i<e.marks.length;i++)n.type&&!n.type.allowsMarkType(e.marks[i].type)||(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}},{key:"enter",value:function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}},{key:"enterInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;this.closeExtra();var i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);var o=he(e,r,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new ge(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}},{key:"closeExtra",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}},{key:"sync",value:function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}},{key:"findAtPoint",value:function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}},{key:"findInside",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}},{key:"findAround",value:function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}},{key:"findInText",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}},{key:"matchesContext",value:function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1);return function e(a,s){for(;a>=0;a--){var l=n[a];if(""==l){if(a==n.length-1||0==a)continue;for(;s>=o;s--)if(e(a-1,s))return!0;return!1}var c=s>0||0==s&&i?t.nodes[s].type:r&&s>=o?r.node(s-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0}(n.length-1,this.open)}},{key:"textblockFromContext",value:function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}}},{key:"addPendingMark",value:function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}},{key:"removePendingMark",value:function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var i=r.popFromStashMark(e);i&&r.type&&r.type.allowsMarkType(i.type)&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==t)break}}}]),e}();function ve(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ye(e){var t={};for(var n in e)t[n]=e[n];return t}function be(e,t){var n,r=t.schema.nodes,i=function(){var n=r[o];if(!n.allowsMarkType(e))return 0;var i=[];return function e(n){i.push(n);for(var r=0;r<n.edgeCount;r++){var o=n.edge(r),a=o.type,s=o.next;if(a==t)return!0;if(i.indexOf(s)<0&&e(s))return!0}}(n.contentMatch)?{v:!0}:void 0};for(var o in r)if(0!==(n=i())&&n)return n.v}var we=function(){function e(t,n){p(this,e),this.nodes=t,this.marks=n}return g(e,[{key:"serializeFragment",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;r||(r=xe(n).createDocumentFragment());var i=r,o=[];return e.forEach((function(e){if(o.length||e.marks.length){for(var r=0,a=0;r<o.length&&a<e.marks.length;){var s=e.marks[a];if(t.marks[s.type.name]){if(!s.eq(o[r][0])||!1===s.type.spec.spanning)break;r++,a++}else a++}for(;r<o.length;)i=o.pop()[1];for(;a<e.marks.length;){var l=e.marks[a++],c=t.serializeMark(l,e.isInline,n);c&&(o.push([l,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(t.serializeNodeInner(e,n))})),r}},{key:"serializeNodeInner",value:function(t,n){var r=e.renderSpec(xe(n),this.nodes[t.type.name](t)),i=r.dom,o=r.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return i}},{key:"serializeNode",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}},{key:"serializeMark",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.marks[t.type.name];return i&&e.renderSpec(xe(r),i(t,n))}}],[{key:"renderSpec",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;var i,o=n[0],a=o.indexOf(" ");a>0&&(r=o.slice(0,a),o=o.slice(a+1));var s=r?t.createElementNS(r,o):t.createElement(o),l=n[1],c=1;if(l&&"object"==f(l)&&null==l.nodeType&&!Array.isArray(l))for(var A in c=2,l)if(null!=l[A]){var u=A.indexOf(" ");u>0?s.setAttributeNS(A.slice(0,u),A.slice(u+1),l[A]):s.setAttribute(A,l[A])}for(var d=c;d<n.length;d++){var p=n[d];if(0===p){if(d<n.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var h=e.renderSpec(t,p,r),g=h.dom,m=h.contentDOM;if(s.appendChild(g),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:s,contentDOM:i}}},{key:"fromSchema",value:function(t){return t.cached.domSerializer||(t.cached.domSerializer=new e(this.nodesFromSchema(t),this.marksFromSchema(t)))}},{key:"nodesFromSchema",value:function(e){var t=Be(e.nodes);return t.text||(t.text=function(e){return e.text}),t}},{key:"marksFromSchema",value:function(e){return Be(e.marks)}}]),e}();function Be(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function xe(e){return e.document||window.document}t.ContentMatch=V,t.DOMParser=ue,t.DOMSerializer=we,t.Fragment=b,t.Mark=C,t.MarkType=le,t.Node=K,t.NodeRange=j,t.NodeType=ae,t.ReplaceError=S,t.ResolvedPos=R,t.Schema=ce,t.Slice=k},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));const r=10,i="ignore-react-onclickoutside",o="@onboarding-nudges",a={enabled:!0,bookmarksCount:4,youtubeSummaryCount:4,youtubeTimestampCount:0,pageSummaryCount:0},s={bookmarksCount:5,youtubeSummaryCount:5,youtubeTimestampCount:0,pageSummaryCount:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18);const i=e=>e===r.a.Commenter?"Read & Reply":e===r.a.ReadWrite?"Contribute & Reply":e===r.a.Owner?"Owner":e===r.a.Admin?"Admin":""},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(2);function i(e){o(e)}function o({cb:e,root:t,getChildren:n,strategy:r="bfs"}){const i=[],o=[t];let a=0;for(;o.length;){const t="bfs"===r?o.shift():o.pop();i.push(e(t,a++));const s=n(t);o.push(...s)}return i}function a(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield function({cb:e,root:t,concurrent:n,getChildren:i,strategy:o="bfs"}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=[],a=[t];let s=0;for(;a.length;){const t="bfs"===o?a.shift():a.pop(),l=e(t,s++);r.push(n?l:yield l);const c=yield i(t);a.push(...c)}return Promise.all(r)}))}(e)}))}const s=20231213},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(25);const i="memex-keyboardshortcuts",o=Object(r.a)({key:"alt"}),a={shortcutsEnabled:!0,openDashboardShortcut:o+"+f",toggleSidebarShortcut:o+"+d",toggleHighlightsShortcut:o+"+r",createAnnotationShortcut:o+"+a",copyCurrentLinkShortcut:o+"+l",createHighlightShortcut:o+"+w",createBookmarkShortcut:o+"+q",addToCollectionShortcut:o+"+s",sharePageShortcut:o+"+c",askAIShortcut:o+"+y",addCommentShortcut:o+"+e",toggleSidebarShortcutEnabled:!0,toggleHighlightsShortcutEnabled:!0,askAIShortcutEnabled:!0,createAnnotationShortcutEnabled:!0,createBookmarkShortcutEnabled:!0,createHighlightShortcutEnabled:!0,copyCurrentLinkShortcutEnabled:!0,addToCollectionShortcutEnabled:!0,addCommentShortcutEnabled:!0,openDashboardShortcutEnabled:!0,sharePageShortcutEnabled:!0}},function(e,t,n){var r=n(40).Symbol;e.exports=r},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(200);class c extends o.a.Component{constructor(){super(...arguments),this.options={capture:!0},this.options2={capture:!0,once:!0},this.handleRef=e=>{var t;this.thisNode=e,this.rootNode=null===(t=null==e?void 0:e.getRootNode)||void 0===t?void 0:t.call(e)},this.handleDrag=e=>{const t=this.props.getDocument();t.addEventListener("mousemove",this.hasMouseMoved),t.addEventListener("mouseup",this.cancelMouseMoveTracking)},this.cancelMouseMoveTracking=()=>{const e=this.props.getDocument();e.removeEventListener("mousemove",this.hasMouseMoved),e.removeEventListener("mouseup",this.cancelMouseMoveTracking)},this.hasMouseMoved=e=>{const t=this.props.getDocument();0===e.movementX&&0===e.movementY||(this.handleOutsideShadowDomClick(e),t.removeEventListener("mousemove",this.hasMouseMoved))},this.handleOutsideShadowDomClick=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.props.getDocument(),n=t.getElementById("memex-sidebar-container"),r=t.getElementById("memex-ribbon-container"),i=t.getElementById(l.a);(n||r||i)&&(e.composedPath().includes(n)||e.composedPath().includes(r)||e.composedPath().includes(i)?this.handleClick(e,!1):this.handleClick(e,!0))})),this.handleKeyPress=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if("Escape"===e.key)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.props.onClickAway()})),this.handleClick=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;const r=e.target.classList.contains("hypothesis-highlight");if(this.props.clickThrough||r)return;if(!this.thisNode)return;const i=this.rootNode.querySelectorAll(".clickAwayWrapper"),o=i[i.length-1];if(this.thisNode!==o)return;if(t&&!e.composedPath().includes(this.thisNode))return e.preventDefault(),e.stopPropagation(),this.props.onClickAway();let a=!1;e.composedPath().forEach((e=>{"DIV"===e.nodeName&&(e.classList.contains("PrimaryAction")||e.classList.contains("MemexIcons"))&&(a=!0)}));const s=e.composedPath().includes(this.props.targetElementRef),l=e.composedPath().some((e=>{var t;return null===(t=e.classList)||void 0===t?void 0:t.contains("clickAwayWrapper")}));if(l&&null==this.props.blockedBackground)return null;const c=null===(n=this.thisNode)||void 0===n?void 0:n.firstElementChild;return e.composedPath().includes(this.thisNode)&&null==this.props.blockedBackground||e.composedPath().includes(c)?null:(this.props.passthroughClick||a||this.props.allowDefaultClickOutside?(s||s&&a)&&(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),e.stopPropagation()),this.props.onClickAway())}))}componentDidMount(){var e,t,n,r,i;null===(t=null===(e=this.rootNode)||void 0===e?void 0:e.addEventListener)||void 0===t||t.call(e,this.props.instaClose?"mousedown":"click",this.handleClick,this.options);const o=this.props.getDocument();null===(n=o.addEventListener)||void 0===n||n.call(o,"keydown",this.handleKeyPress,this.options2),null===(r=o.addEventListener)||void 0===r||r.call(o,this.props.instaClose?"mousedown":"click",this.handleOutsideShadowDomClick,this.options),null===(i=o.addEventListener)||void 0===i||i.call(o,"mousedown",this.handleDrag,this.options)}componentWillUnmount(){this.listenerTearDown()}listenerTearDown(){var e;null===(e=this.rootNode)||void 0===e||e.removeEventListener("click",this.handleClick,this.options),this.props.getDocument().removeEventListener("keydown",this.handleKeyPress,this.options2),this.props.getDocument().removeEventListener("mousedown",this.handleDrag,this.options),this.props.getDocument().removeEventListener("mousemove",this.hasMouseMoved)}render(){return o.a.createElement(A,{className:"clickAwayWrapper",ref:this.handleRef,blockedBackground:this.props.blockedBackground,blockedBackgroundTransparent:this.props.blockedBackgroundTransparent,centeredElement:this.props.centeredElement},this.props.children)}}c.defaultProps={getDocument:()=>document};const A=s.a.div`
    display: flex;
    ${e=>e.blockedBackground&&a.css`
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 100vw;
            z-index: 999999999999;
            backdrop-filter: blur(3px);
        `}
    ${e=>e.blockedBackground&&a.css`
            backdrop-filter: unset;
        `}
    ${e=>e.centeredElement&&a.css`
            display: flex;
            justify-content: center;
            align-items: center;
        `}

        * {
        font-family: 'Satoshi', sans-serif;
        font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on,
            'ss04' on, 'liga' off;
    }
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);n(165);function i(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}},,function(e,t,n){"use strict";function r(e,t){let n="";if(t.includes("/k/")){const t=e.getElementsByClassName("peer-title");for(let e of Array.from(t)){e.parentElement.classList.contains("row-title")||(n=e.innerText)}}else if(t.includes("/a/")){const t=e.getElementsByClassName("fullName");for(let e of Array.from(t)){e.parentElement.parentElement.classList.contains("info-row")||(n=e.innerText)}}return n}function i(e){return e.replace("?user=","/#@")}function o(e){let t=e;if(e.includes("?")){const n=new URL(e),r=[];n.searchParams.forEach(((e,t)=>{"user"!==t&&r.push(t)}));for(let e of r)n.searchParams.delete(e);t=n.toString()}return e.includes("/#@")?t=t.replace("/#@","?user="):e.includes("/#-")&&!e.includes("@")?t=t.replace("/#-","?user="):e.includes("/#")&&!e.includes("@")?t=t.replace("/#","?user="):e.includes("#@")&&(t=t.replace("#@","?user=")),t}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(2),i=n(158);const o=(e,t)=>t.runtimeAPI.getURL(i.a)+"?file="+encodeURIComponent(e)+"#pagemode=none",a=(e,t)=>{const n=t.runtimeAPI.getURL(i.a);return e.includes(n)};function s(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=o(e,{runtimeAPI:t.runtimeAPI});yield t.tabsAPI.create({url:n})}))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(243),i=n(29),o=n(71),a=n(187),s=n(163);const l=(e,t,n)=>{var r,i;return((e,t)=>[...new Set([...e,...t])])(null!==(r=null==t?void 0:t[e])&&void 0!==r?r:[],null!==(i=null==n?void 0:n[e])&&void 0!==i?i:[])};function c(e,t){return e.fingerprintScheme===t.fingerprintScheme&&e.fingerprint===t.fingerprint}function A(e){return e.url.startsWith(s.b)||e.url.startsWith("https://"+s.b)||e.url.startsWith("https://arxiv.org/pdf/")}function u(e){return e.startsWith(i.b.production+r.a)||e.startsWith(i.b.staging+r.a)}function d(e){return e.endsWith(".pdf")||u(e)}const f=(e,t)=>`https://memex.cloud/ct/${e}.${t}`;function p(e,t){if(!e.length)return null;const n=e.sort(((e,t)=>{var n,r;return(null!==(n=t.lastVisited)&&void 0!==n?n:0)-(null!==(r=e.lastVisited)&&void 0!==r?r:0)})),r=[],i=[];for(const e of n)e.locationType!==o.b.Remote||(null==t?void 0:t.ignoreUploadLocators)&&e.locationScheme===o.f.UploadStorage?e.locationType===o.b.Local&&i.push(e):r.push(e);const a=(null==t?void 0:t.priority)===o.b.Local?[i,r]:[r,i];for(const e of a)if(e.length)return e[0];return null}const h=(e,{separator:t=a.a})=>e.split(t).map((e=>e.toLowerCase())).filter((e=>e.length))},function(e,t,n){var r=n(48),i=n(576),o=n(289),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,A,u,d,f,p=0,h=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,u=e.apply(r,n)}function y(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=A}function b(){var e=i();if(y(e))return w(e);d=setTimeout(b,function(e){var n=t-(e-f);return g?s(n,A-(e-p)):n}(e))}function w(e){return d=void 0,m&&l?v(e):(l=c=void 0,u)}function B(){var e=i(),n=y(e);if(l=arguments,c=this,f=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(b,t),h?v(e):u}(f);if(g)return clearTimeout(d),d=setTimeout(b,t),v(f)}return void 0===d&&(d=setTimeout(b,t)),u}return t=o(t)||0,r(n)&&(h=!!n.leading,A=(g="maxWait"in n)?a(o(n.maxWait)||0,t):A,m="trailing"in n?!!n.trailing:m),B.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=f=c=d=void 0},B.flush=function(){return void 0===d?u:w(i())},B}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o);const s=a.a.div`
    background: linear-gradient(
        221deg,
        rgba(201, 255, 220, 0.4),
        rgba(90, 91, 97, 0.196)
    );
    height: calc(${e=>e.heightAndWidth} + 2px);
    width: calc(${e=>e.heightAndWidth} + 2px);
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 8px;
`,l=a.a.div`
    display: flex;
    background: ${e=>e.theme.colors.greyScale2};
    border-radius: 8px;
    height: ${e=>e.heightAndWidth};
    width: ${e=>e.heightAndWidth};
    display: flex;
    justify-content: center;
    align-items: center;

    ${e=>"light"===e.background&&o.css`
            background-color: ${e=>e.theme.colors.greyScale2};
        `}
    ${e=>e.clickable&&o.css`
            cursor: pointer;
            background: ${e=>e.theme.colors.greyScale2};

            * {
                cursor: pointer;
            }
        `}
`;function c(e){return i.a.createElement(s,{heightAndWidth:e.heightAndWidth},i.a.createElement(l,{heightAndWidth:e.heightAndWidth,background:e.background,onClick:e.onClick,clickable:!!e.onClick},e.children))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p}));var r=n(2),i=n(38),o=n(32),a=n(3),s=n.n(a);const l=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(o.a)(i.f.onboardingFlows[e],i.e.unvisited)})),c=(e,t)=>Object(o.b)(i.f.onboardingFlows[e],t),A=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const e=i.f.onboardingFlows,t=yield s.a.storage.local.get(Object.values(e));return{annotationStage:t[e.annotation],powerSearchStage:t[e.powerSearch],taggingStage:t[e.tagging],backupStage:t[e.backup]}})),u=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){yield l(i.b.powerSearch)})),d=(e=window.location)=>e.href.includes(i.d.NEW_USER),f=()=>({x:window.innerWidth/2,y:window.innerHeight/2-200}),p=()=>window.location.href===i.a},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l}));const r=!0,i="text",o=!0,a="memex_link_highlights",s="memex_link_tooltip",l="memex_link_position"},function(e,t,n){var r=n(115);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(32),o=n(95),a=n(278);function s(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=yield Object(i.a)(o.b,o.a);return Object(a.c)(e)}))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(0);class o extends i.Component{constructor(e,t={}){if(super(e),this.logic=t.logic,this.logic){this.logic.events.addListener("mutation",(e=>this.processMutation(e)));this.logic.getInitialState()&&(this.state=this.newestState=this.logic.getInitialState())}}processEvent(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!this.logic)throw new Error("Tried to process event in UIElement without logic");const r=yield this.logic.processUIEvent(e,{previousState:this.newestState||this.state,event:t,direct:!0,optional:n&&n.optional});r&&this.processMutation(r)}))}processMutation(e){this.logic&&(this.newestState=this.logic.withMutation(this.newestState||this.state,e),this.setState(this.newestState))}get elementName(){return Object.getPrototypeOf(this).constructor.name}componentDidMount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.logic&&(yield this.processEvent("init",void 0,{optional:!0}))}))}componentWillUnmount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.logic&&(this.logic.events.removeAllListeners(),yield this.processEvent("cleanup",void 0,{optional:!0}))}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>(t.preventDefault(),t.stopPropagation(),e(t))},function(e,t,n){var r=n(88),i=n(50);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(262),i=n(263),o=n(134);e.exports=function(e){return o(e)?r(e):i(e)}},,function(e,t,n){var r=n(219),i=n(139);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],A=o?o(n[c],e[c],c,n,e):void 0;void 0===A&&(A=e[c]),a?i(n,c,A):r(n,c,A)}return n}},function(e,t,n){var r=n(431),i=n(180),o=n(432),a=n(433),s=n(247),l=n(88),c=n(249),A="[object Map]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=c(r),g=c(i),m=c(o),v=c(a),y=c(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=A||o&&b(o.resolve())!=u||a&&b(new a)!=d||s&&b(new s)!=f)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case h:return p;case g:return A;case m:return u;case v:return d;case y:return f}return t}),e.exports=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(39);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,A(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},i(e)}function o(e,t,n){return o=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},o.apply(null,arguments)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=c();return function(){var n,i=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=n(89),h=Math.pow(2,16);function g(e){return 65535&e}var m=function(){function e(t,n,r){u(this,e),this.pos=t,this.delInfo=n,this.recover=r}return f(e,[{key:"deleted",get:function(){return(8&this.delInfo)>0}},{key:"deletedBefore",get:function(){return(5&this.delInfo)>0}},{key:"deletedAfter",get:function(){return(6&this.delInfo)>0}},{key:"deletedAcross",get:function(){return(4&this.delInfo)>0}}]),e}(),v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u(this,e),this.ranges=t,this.inverted=n,!t.length&&e.empty)return e.empty}return f(e,[{key:"recover",value:function(e){var t=0,n=g(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/h}(e)}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}},{key:"_map",value:function(e,t,n){for(var r=0,i=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;var l=this.ranges[a+i],c=this.ranges[a+o],A=s+l;if(e<=A){var u=s+r+((l?e==s?-1:e==A?1:t:t)<0?0:c);if(n)return u;var d=e==(t<0?s:A)?null:a/3+(e-s)*h,f=e==s?2:e==A?1:4;return(t<0?e!=s:e!=A)&&(f|=8),new m(u,f,d)}r+=c-l}return n?e+r:new m(e+r,0,null)}},{key:"touches",value:function(e,t){for(var n=0,r=g(t),i=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>e)break;var l=this.ranges[a+i];if(e<=s+l&&a==3*r)return!0;n+=this.ranges[a+o]-l}return!1}},{key:"forEach",value:function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),i+=c-l}}},{key:"invert",value:function(){return new e(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(t){return 0==t?e.empty:new e(t<0?[0,-t,0]:[0,0,t])}}]),e}();v.empty=new v([]);var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;u(this,e),this.maps=t,this.mirror=n,this.from=r,this.to=i}return f(e,[{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new e(this.maps,this.mirror,t,n)}},{key:"copy",value:function(){return new e(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}},{key:"appendMap",value:function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}},{key:"appendMapping",value:function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}},{key:"getMirror",value:function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}},{key:"setMirror",value:function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}},{key:"appendMappingInverted",value:function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}},{key:"invert",value:function(){var t=new e;return t.appendMappingInverted(this),t}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"_map",value:function(e,t,n){for(var r=0,i=this.from;i<this.to;i++){var o=this.maps[i].mapResult(e,t);if(null!=o.recover){var a=this.getMirror(i);if(null!=a&&a>i&&a<this.to){i=a,e=this.maps[a].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new m(e,r,null)}}]),e}(),b=Object.create(null),w=function(){function e(){u(this,e)}return f(e,[{key:"getMap",value:function(){return v.empty}},{key:"merge",value:function(e){return null}}],[{key:"fromJSON",value:function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=b[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in b)throw new RangeError("Duplicate use of step JSON ID "+e);return b[e]=t,t.prototype.jsonID=e,t}}]),e}(),B=function(){function e(t,n){u(this,e),this.doc=t,this.failed=n}return f(e,null,[{key:"ok",value:function(t){return new e(t,null)}},{key:"fail",value:function(t){return new e(null,t)}},{key:"fromReplace",value:function(t,n,r,i){try{return e.ok(t.replace(n,r,i))}catch(t){if(t instanceof p.ReplaceError)return e.fail(t.message);throw t}}}]),e}();function x(e,t,n){for(var r=[],i=0;i<e.childCount;i++){var o=e.child(i);o.content.size&&(o=o.copy(x(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return p.Fragment.fromArray(r)}var C=function(e){a(n,e);var t=l(n);function n(e,r,i){var o;return u(this,n),(o=t.call(this)).from=e,o.to=r,o.mark=i,o}return f(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new p.Slice(x(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return B.fromReplace(e,this.from,this.to,o)}},{key:"invert",value:function(){return new S(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(w);w.jsonID("addMark",C);var S=function(e){a(n,e);var t=l(n);function n(e,r,i){var o;return u(this,n),(o=t.call(this)).from=e,o.to=r,o.mark=i,o}return f(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=new p.Slice(x(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))}),e),n.openStart,n.openEnd);return B.fromReplace(e,this.from,this.to,r)}},{key:"invert",value:function(){return new C(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(w);w.jsonID("removeMark",S);var k=function(e){a(n,e);var t=l(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).pos=e,i.mark=r,i}return f(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return B.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return B.fromReplace(e,this.pos,this.pos+1,new p.Slice(p.Fragment.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);if(t){var r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(var i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new n(this.pos,t.marks[i]);return new n(this.pos,this.mark)}}return new E(this.pos,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(w);w.jsonID("addNodeMark",k);var E=function(e){a(n,e);var t=l(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).pos=e,i.mark=r,i}return f(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return B.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return B.fromReplace(e,this.pos,this.pos+1,new p.Slice(p.Fragment.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new k(this.pos,this.mark):this}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(w);w.jsonID("removeNodeMark",E);var I=function(e){a(n,e);var t=l(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return u(this,n),(o=t.call(this)).from=e,o.to=r,o.slice=i,o.structure=a,o}return f(n,[{key:"apply",value:function(e){return this.structure&&F(e,this.from,this.to)?B.fail("Structure replace would overwrite content"):B.fromReplace(e,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new v([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(e){return new n(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new n(t.pos,Math.max(t.pos,r.pos),this.slice)}},{key:"merge",value:function(e){if(!(e instanceof n)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var t=this.slice.size+e.slice.size==0?p.Slice.empty:new p.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new n(e.from,this.to,t,this.structure)}var r=this.slice.size+e.slice.size==0?p.Slice.empty:new p.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new n(this.from,this.to+(e.to-e.from),r,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(t.from,t.to,p.Slice.fromJSON(e,t.slice),!!t.structure)}}]),n}(w);w.jsonID("replace",I);var O=function(e){a(n,e);var t=l(n);function n(e,r,i,o,a,s){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return u(this,n),(l=t.call(this)).from=e,l.to=r,l.gapFrom=i,l.gapTo=o,l.slice=a,l.insert=s,l.structure=c,l}return f(n,[{key:"apply",value:function(e){if(this.structure&&(F(e,this.from,this.gapFrom)||F(e,this.gapTo,this.to)))return B.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return B.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?B.fromReplace(e,this.from,this.to,n):B.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new v([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(e){var t=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new n(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(t.from,t.to,t.gapFrom,t.gapTo,p.Slice.fromJSON(e,t.slice),t.insert,!!t.structure)}}]),n}(w);function F(e,t,n){for(var r=e.resolve(t),i=n-t,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var a=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function D(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function _(e){return{type:e,attrs:null}}function T(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function U(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}return null}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.Slice.empty;if(t==n&&!r.size)return null;var i=e.resolve(t),o=e.resolve(n);return L(i,o,r)?new I(t,n,r):new Q(i,o,r).fit()}function L(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}w.jsonID("replaceAround",O);var Q=function(){function e(t,n,r){u(this,e),this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=p.Fragment.empty;for(var i=0;i<=t.depth;i++){var o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(var a=t.depth;a>0;a--)this.placed=p.Fragment.from(t.node(a).copy(this.placed))}return f(e,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;for(var o=this.placed,a=r.depth,s=i.depth;a&&s&&1==o.childCount;)o=o.firstChild.content,a--,s--;var l=new p.Slice(o,a,s);return t>-1?new O(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new I(r.pos,i.pos,l):null}},{key:"findFittable",value:function(){for(var e=this.unplaced.openStart,t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){var i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(var o=1;o<=2;o++)for(var a=1==o?e:this.unplaced.openStart;a>=0;a--)for(var s=null,l=(a?(s=H(this.unplaced.content,a-1).firstChild).content:this.unplaced.content).firstChild,c=this.depth;c>=0;c--){var A=this.frontier[c],u=A.type,d=A.match,f=void 0,h=null;if(1==o&&(l?d.matchType(l.type)||(h=d.fillBefore(p.Fragment.from(l),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:a,frontierDepth:c,parent:s,inject:h};if(2==o&&l&&(f=d.findWrapping(l.type)))return{sliceDepth:a,frontierDepth:c,parent:s,wrap:f};if(s&&d.matchType(s.type))break}}},{key:"openMore",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=H(t,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new p.Slice(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}},{key:"dropNode",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=H(t,n);if(i.childCount<=1&&n>0){var o=t.size-n<=n+i.size;this.unplaced=new p.Slice(R(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new p.Slice(R(t,n,1),n,r)}},{key:"placeNodes",value:function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,i=e.inject,o=e.wrap;this.depth>n;)this.closeFrontierNode();if(o)for(var a=0;a<o.length;a++)this.openFrontierNode(o[a]);var s=this.unplaced,l=r?r.content:s.content,c=s.openStart-t,A=0,u=[],d=this.frontier[n],f=d.match,h=d.type;if(i){for(a=0;a<i.childCount;a++)u.push(i.child(a));f=f.matchFragment(i)}for(var g=l.size+t-(s.content.size-s.openEnd);A<l.childCount;){var m=l.child(A),v=f.matchType(m.type);if(!v)break;(++A>1||0==c||m.content.size)&&(f=v,u.push(N(m.mark(h.allowedMarks(m.marks)),1==A?c:0,A==l.childCount?g:-1)))}var y=A==l.childCount;y||(g=-1),this.placed=P(this.placed,n,p.Fragment.from(u)),this.frontier[n].match=f,y&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var b=0,w=l;b<g;b++){var B=w.lastChild;this.frontier.push({type:B.type,match:B.contentMatchAt(B.childCount)}),w=B.content}this.unplaced=y?0==t?p.Slice.empty:new p.Slice(R(s.content,t-1,1),t-1,g<0?s.openEnd:t-1):new p.Slice(R(s.content,t,A),s.openStart,s.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!j(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r}},{key:"findCloseLevel",value:function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,i=n.type,o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=j(e,t,i,r,o);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,A=j(e,s,l.type,c,!0);if(!A||A.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}}},{key:"close",value:function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=P(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,i)}return e}},{key:"openFrontierNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=P(this.placed,this.depth,p.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}},{key:"closeFrontierNode",value:function(){var e=this.frontier.pop().match.fillBefore(p.Fragment.empty,!0);e.childCount&&(this.placed=P(this.placed,this.frontier.length,e))}}]),e}();function R(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(R(e.firstChild.content,t-1,n)))}function P(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(P(e.lastChild.content,t-1,n)))}function H(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function N(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,N(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(p.Fragment.empty,!0)))),e.copy(r)}function j(e,t,n,r,i){var o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;var s=r.fillBefore(o.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,o.content,a)?s:null}function z(e,t,n,r,i){if(t<n){var o=e.firstChild;e=e.replaceChild(0,o.copy(z(o.content,t+1,n,r,o)))}if(t>r){var a=i.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(p.Fragment.empty,!0))}return e}function K(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(i==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==i-1)&&n.push(r)}return n}var $=function(e){a(n,e);var t=l(n);function n(e,r,i){var o;return u(this,n),(o=t.call(this)).pos=e,o.attr=r,o.value=i,o}return f(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return B.fail("No node at attribute step's position");var n=Object.create(null);for(var r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;var i=t.type.create(n,null,t.marks);return B.fromReplace(e,this.pos,this.pos+1,new p.Slice(p.Fragment.from(i),0,t.isLeaf?0:1))}},{key:"getMap",value:function(){return v.empty}},{key:"invert",value:function(e){return new n(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new n(t.pos,t.attr,t.value)}}]),n}(w);w.jsonID("attr",$);var W=function(e){a(n,e);var t=l(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).attr=e,i.value=r,i}return f(n,[{key:"apply",value:function(e){var t=Object.create(null);for(var n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;var r=e.type.create(t,e.content,e.marks);return B.ok(r)}},{key:"getMap",value:function(){return v.empty}},{key:"invert",value:function(e){return new n(this.attr,e.attrs[this.attr])}},{key:"map",value:function(e){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new n(t.attr,t.value)}}]),n}(w);w.jsonID("docAttr",W),t.TransformError=function(e){a(n,e);var t=l(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n)}(i(Error)),t.TransformError=function e(t){var n=Error.call(this,t);return n.__proto__=e.prototype,n},t.TransformError.prototype=Object.create(Error.prototype),t.TransformError.prototype.constructor=t.TransformError,t.TransformError.prototype.name="TransformError";var V=function(){function e(t){u(this,e),this.doc=t,this.steps=[],this.docs=[],this.mapping=new y}return f(e,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(e){var n=this.maybeStep(e);if(n.failed)throw new t.TransformError(n.failed);return this}},{key:"maybeStep",value:function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Slice.empty,r=M(this.doc,e,t,n);return r&&this.step(r),this}},{key:"replaceWith",value:function(e,t,n){return this.replace(e,t,new p.Slice(p.Fragment.from(n),0,0))}},{key:"delete",value:function(e,t){return this.replace(e,t,p.Slice.empty)}},{key:"insert",value:function(e,t){return this.replaceWith(e,e,t)}},{key:"replaceRange",value:function(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);var i=e.doc.resolve(t),o=e.doc.resolve(n);if(L(i,o,r))return e.step(new I(t,n,r));var a=K(i,e.doc.resolve(n));0==a[a.length-1]&&a.pop();var s=-(i.depth+1);a.unshift(s);for(var l=i.depth,c=i.pos-1;l>0;l--,c--){var A=i.node(l).type.spec;if(A.defining||A.definingAsContext||A.isolating)break;a.indexOf(l)>-1?s=l:i.before(l)==c&&a.splice(1,0,-l)}for(var u,d=a.indexOf(s),f=[],h=r.openStart,g=r.content,m=0;;m++){var v=g.firstChild;if(f.push(v),m==r.openStart)break;g=v.content}for(var y=h-1;y>=0;y--){var b=f[y],w=(u=b.type).spec.defining||u.spec.definingForContent;if(w&&!b.sameMarkup(i.node(Math.abs(s)-1)))h=y;else if(w||!b.type.isTextblock)break}for(var B=r.openStart;B>=0;B--){var x=(B+h+1)%(r.openStart+1),C=f[x];if(C)for(var S=0;S<a.length;S++){var k=a[(S+d)%a.length],E=!0;k<0&&(E=!1,k=-k);var O=i.node(k-1),F=i.index(k-1);if(O.canReplaceWith(F,F,C.type,C.marks))return e.replace(i.before(k),E?o.after(k):n,new p.Slice(z(r.content,0,r.openStart,x),x,r.openEnd))}}for(var D=e.steps.length,_=a.length-1;_>=0&&(e.replace(t,n,r),!(e.steps.length>D));_--){var T=a[_];T<0||(t=i.before(T),n=o.after(T))}}(this,e,t,n),this}},{key:"replaceRangeWith",value:function(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){var i=U(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new p.Slice(p.Fragment.from(r),0,0))}(this,e,t,n),this}},{key:"deleteRange",value:function(e,t){return function(e,t,n){for(var r=e.doc.resolve(t),i=e.doc.resolve(n),o=K(r,i),a=0;a<o.length;a++){var s=o[a],l=a==o.length-1;if(l&&0==s||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return e.delete(r.before(s),i.after(s))}for(var c=1;c<=r.depth&&c<=i.depth;c++)if(t-r.start(c)==r.depth-c&&n>r.end(c)&&i.end(c)-n!=i.depth-c)return e.delete(r.before(c),n);e.delete(t,n)}(this,e,t),this}},{key:"lift",value:function(e,t){return function(e,t,n){for(var r=t.$from,i=t.$to,o=t.depth,a=r.before(o+1),s=i.after(o+1),l=a,c=s,A=p.Fragment.empty,u=0,d=o,f=!1;d>n;d--)f||r.index(d)>0?(f=!0,A=p.Fragment.from(r.node(d).copy(A)),u++):l--;for(var h=p.Fragment.empty,g=0,m=o,v=!1;m>n;m--)v||i.after(m+1)<i.end(m)?(v=!0,h=p.Fragment.from(i.node(m).copy(h)),g++):c++;e.step(new O(l,c,a,s,new p.Slice(A.append(h),u,g),A.size-u,!0))}(this,e,t),this}},{key:"join",value:function(e){return function(e,t,n){var r=new I(t-n,t+n,p.Slice.empty,!0);e.step(r)}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this}},{key:"wrap",value:function(e,t){return function(e,t,n){for(var r=p.Fragment.empty,i=n.length-1;i>=0;i--){if(r.size){var o=n[i].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=p.Fragment.from(n[i].type.create(n[i].attrs,r))}var a=t.start,s=t.end;e.step(new O(a,s,a,s,new p.Slice(r,0,0),n.length,!0))}(this,e,t),this}},{key:"setBlockType",value:function(e){return function(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=e.steps.length;e.doc.nodesBetween(t,n,(function(t,n){if(t.isTextblock&&!t.hasMarkup(r,i)&&function(e,t,n){var r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(e.doc,e.mapping.slice(o).map(n),r)){e.clearIncompatible(e.mapping.slice(o).map(n,1),r);var a=e.mapping.slice(o),s=a.map(n,1),l=a.map(n+t.nodeSize,1);return e.step(new O(s,l,s+1,l-1,new p.Slice(p.Fragment.from(r.create(i,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2?arguments[2]:void 0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this}},{key:"setNodeMarkup",value:function(e,t){return function(e,t,n,r,i){var o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);var a=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new O(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new p.Slice(p.Fragment.from(a),0,0),1,!0))}(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0),this}},{key:"setNodeAttribute",value:function(e,t,n){return this.step(new $(e,t,n)),this}},{key:"setDocAttribute",value:function(e,t){return this.step(new W(e,t)),this}},{key:"addNodeMark",value:function(e,t){return this.step(new k(e,t)),this}},{key:"removeNodeMark",value:function(e,t){if(!(t instanceof p.Mark)){var n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new E(e,t)),this}},{key:"split",value:function(e){return function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=e.doc.resolve(t),o=p.Fragment.empty,a=p.Fragment.empty,s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=p.Fragment.from(i.node(s).copy(o));var A=r&&r[c];a=p.Fragment.from(A?A.type.create(A.attrs,a):i.node(s).copy(a))}e.step(new I(t,t,new p.Slice(o.append(a),n,n),!0))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0),this}},{key:"addMark",value:function(e,t,n){return function(e,t,n,r){var i,o,a=[],s=[];e.doc.nodesBetween(t,n,(function(e,l,c){if(e.isInline){var A=e.marks;if(!r.isInSet(A)&&c.type.allowsMarkType(r.type)){for(var u=Math.max(l,t),d=Math.min(l+e.nodeSize,n),f=r.addToSet(A),p=0;p<A.length;p++)A[p].isInSet(f)||(i&&i.to==u&&i.mark.eq(A[p])?i.to=d:a.push(i=new S(u,d,A[p])));o&&o.to==u?o.to=d:s.push(o=new C(u,d,r))}}})),a.forEach((function(t){return e.step(t)})),s.forEach((function(t){return e.step(t)}))}(this,e,t,n),this}},{key:"removeMark",value:function(e,t,n){return function(e,t,n,r){var i=[],o=0;e.doc.nodesBetween(t,n,(function(e,a){if(e.isInline){o++;var s=null;if(r instanceof p.MarkType)for(var l,c=e.marks;l=r.isInSet(c);)(s||(s=[])).push(l),c=l.removeFromSet(c);else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length)for(var A=Math.min(a+e.nodeSize,n),u=0;u<s.length;u++){for(var d=s[u],f=void 0,h=0;h<i.length;h++){var g=i[h];g.step==o-1&&d.eq(i[h].style)&&(f=g)}f?(f.to=A,f.step=o):i.push({style:d,from:Math.max(a,t),to:A,step:o})}}})),i.forEach((function(t){return e.step(new S(t.from,t.to,t.style))}))}(this,e,t,n),this}},{key:"clearIncompatible",value:function(e,t,n){return function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,i=e.doc.nodeAt(t),o=[],a=t+1,s=0;s<i.childCount;s++){var l=i.child(s),c=a+l.nodeSize,A=r.matchType(l.type);if(A){r=A;for(var u=0;u<l.marks.length;u++)n.allowsMarkType(l.marks[u].type)||e.step(new S(a,c,l.marks[u]));if(l.isText&&!n.spec.code)for(var d=void 0,f=/\r?\n|\r/g,h=void 0;d=f.exec(l.text);)h||(h=new p.Slice(p.Fragment.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new I(a+d.index,a+d.index+d[0].length,h))}else o.push(new I(a,c,p.Slice.empty));a=c}if(!r.validEnd){var g=r.fillBefore(p.Fragment.empty,!0);e.replace(a,a,new p.Slice(g,0,0))}for(var m=o.length-1;m>=0;m--)e.step(o[m])}(this,e,t,n),this}}]),e}();t.AddMarkStep=C,t.AddNodeMarkStep=k,t.AttrStep=$,t.DocAttrStep=W,t.MapResult=m,t.Mapping=y,t.RemoveMarkStep=S,t.RemoveNodeMarkStep=E,t.ReplaceAroundStep=O,t.ReplaceStep=I,t.Step=w,t.StepMap=v,t.StepResult=B,t.Transform=V,t.canJoin=function(e,t){var n=e.resolve(t),r=n.index();return T(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)},t.canSplit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var s=i.depth-1,l=n-2;s>o;s--,l--){var c=i.node(s),A=i.index(s);if(c.type.spec.isolating)return!1;var u=c.content.cutByIndex(A,c.childCount),d=r&&r[l+1];d&&(u=u.replaceChild(0,d.type.create(d.attrs)));var f=r&&r[l]||c;if(!c.canReplace(A+1,c.childCount)||!f.type.validContent(u))return!1}var p=i.indexAfter(o),h=r&&r[0];return i.node(o).canReplaceWith(p,p,h?h.type:i.node(o+1).type)},t.dropPoint=function(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),A=r.node(s),u=!1;if(1==a)u=A.canReplace(c,c,i);else{var d=A.contentMatchAt(c).findWrapping(i.firstChild.type);u=d&&A.canReplaceWith(c,c,d[0])}if(u)return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null},t.findWrapping=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=function(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;var a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}(e,t),o=i&&function(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<i;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}(r,t);return o?i.map(_).concat({type:t,attrs:n}).concat(o.map(_)):null},t.insertPoint=U,t.joinPoint=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.resolve(t),i=r.depth;;i--){var o=void 0,a=void 0,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&T(o,a)&&r.node(i).canReplace(s,s+1))return t;if(0==i)break;t=n<0?r.before(i):r.after(i)}},t.liftTarget=function(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(0==n||r.type.spec.isolating||!D(r,i,o))break}return null},t.replaceStep=M},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=r(n(648)),s=r(n(649)),l=n(650),c=n(653),A=n(673),u=n(674),d=r(n(676)),f=r(n(677)),p=r(n(28));function h(e,t){}h.bind(null,"warn"),h.bind(null,"error");function g(){}function m(e,t,n){var r=t.map((function(t){var r=function(e,t){return s({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var v="Invariant failed";function y(e){this.message=e}function b(e,t){if(!e)throw new y(v)}y.prototype.toString=function(){return this.message};var w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=g,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof y&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=m(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof y))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(o.Component),B=function(e){return e+1},x=function(e,t){var n=e.droppableId===t.droppableId,r=B(e.index),i=B(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},C=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},S=function(e){return"\n  The item has returned to its starting position\n  of "+B(e.index)+"\n"},k="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",E=function(e){return"\n  You have lifted an item in position "+B(e.source.index)+"\n"},I=function(e){var t=e.destination;if(t)return x(e.source,t);var n=e.combine;return n?C(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},O=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+S(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+x(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+C(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+S(e.source)+"\n  "},F={x:0,y:0},D=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},_=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},T=function(e,t){return e.x===t.x&&e.y===t.y},U=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},M=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},L=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Q=function(e,t){return Math.min.apply(Math,t.map((function(t){return L(e,t)})))},R=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},P=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},H=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},N=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=u.getRect({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):u.getRect(e)},j=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?P(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?s({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:N(a,i)}},z=function(e,t){e.frame||b(!1);var n=e.frame,r=_(t,n.scroll.initial),i=U(r),o=s({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),a=j({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return s({},e,{frame:o,subject:a})};function K(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function $(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function W(e,t){if(e.find)return e.find(t);var n=$(e,t);return-1!==n?e[n]:void 0}var V=d((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),G=d((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),q=d((function(e){return K(e)})),Y=d((function(e){return K(e)})),J=d((function(e,t){var n=Y(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function X(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Z(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ee=d((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),te=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ne={point:F,value:0},re={invisible:{},visible:{},all:[]},ie={displaced:re,displacedBy:ne,at:null},oe=function(e,t){return function(n){return e<=n&&n<=t}},ae=function(e){var t=oe(e.top,e.bottom),n=oe(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},se=function(e){var t=oe(e.top,e.bottom),n=oe(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},le={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ce={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ae=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:F;return P(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},ue=function(e){return Ae(s({},e,{isVisibleThroughFrameFn:ae}))},de=function(e){return Ae(s({},e,{isVisibleThroughFrameFn:se}))};function fe(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return u.getRect(u.expand(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!ue({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,a,o),A={draggableId:l,shouldAnimate:c};return e.visible[l]=A,e}),{all:[],visible:{},invisible:{}})}function pe(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:re,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function he(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=te(t,r);if(null==s)return pe({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var A=W(n,(function(e){return e.descriptor.index===s}));if(!A)return pe({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=ee(t,n),d=n.indexOf(A);return{displaced:fe({afterDragging:u.slice(d),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function ge(e,t){return Boolean(t.effected[e])}var me=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,A=s.at;if(A||b(!1),"REORDER"===A.type){var u=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:A.destination,insideDestination:a});return null==u?null:he({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:u})}var d=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return ge(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:A.combine,afterCritical:c});return null==d?null:he({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},ve=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=Z(n);i||b(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return ge(r,n)?o?F:U(i.point):o?i.point:F}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return D(a,s)},ye=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},be=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},we=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return M(t.line,n.marginBox[t.end]+ye(t,r),be(t,n.marginBox,r))},Be=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return M(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),be(t,n.marginBox,r))},xe=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=J(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return M(t.line,n.contentBox[t.start]+ye(t,r),be(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,A=t.displacedBy,d=c.all[0];if(d){var f=r[d];if(ge(d,o))return Be({axis:l,moveRelativeTo:f.page,isMoving:s});var p=u.offset(f.page,A.point);return Be({axis:l,moveRelativeTo:p,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(ge(h.descriptor.id,o)){var g=u.offset(h.page,U(o.displacedBy.point));return we({axis:l,moveRelativeTo:g,isMoving:s})}return we({axis:l,moveRelativeTo:h.page,isMoving:s})},Ce=function(e,t){var n=e.frame;return n?D(t,n.scroll.diff.displacement):t},Se=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?xe({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):ve({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?Ce(n,t):t},ke=function(e,t){var n=_(t,e.scroll.initial),r=U(n);return{frame:u.getRect({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ee(e,t){return e.map((function(e){return t[e]}))}var Ie=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return D(e.scroll.diff.displacement,t)}(e.viewport,t),i=_(r,n.page.borderBox.center);return D(n.client.borderBox.center,i)},Oe=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,c=_(r,t.page.borderBox.center),A={target:P(t.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:i};return l?function(e){return Ae(s({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=oe(e.top,e.bottom),r=oe(e.left,e.right);return function(e){return t===le?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(A):de(A)},Fe=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,A=e.afterCritical;if(!r.isEnabled)return null;var u=J(r.descriptor.id,i),d=te(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!X(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return s({},o,{at:t})}var l=o.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var A=ee(n,i);if(!c)return A.length?a(A[A.length-1].descriptor.id):null;var u=$(A,(function(e){return e.descriptor.id===c}));-1===u&&b(!1);var d=u-1;return d<0?null:a(A[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||me({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:A});if(!f)return null;var p=Se({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:A});if(Oe({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ie({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null};var h=_(p,l),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=ke(n,D(n.scroll.current,o)),l=r.frame?z(r,D(r.frame.scroll.current,o)):r,c=t.displaced,A=fe({afterDragging:Ee(c.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),u=fe({afterDragging:Ee(c.all,i),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),d={},f={},p=[c,A,u];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?f[e]=t:d[e]=!0})),s({},t,{displaced:{all:c.all,invisible:d,visible:f}})}({impact:f,viewport:a,destination:r,draggables:i,maxScrollChange:h});return{clientSelection:c,impact:g,scrollJumpRequest:h}},De=function(e){var t=e.subject.active;return t||b(!1),t},_e=function(e,t){var n=e.page.borderBox.center;return ge(e.descriptor.id,t)?_(n,t.displacedBy.point):n},Te=function(e,t){var n=e.page.borderBox;return ge(e.descriptor.id,t)?P(n,U(t.displacedBy.point)):n},Ue=d((function(e,t){var n=t[e.line];return{value:n,point:M(e.line,n)}})),Me=function(e,t){return s({},e,{scroll:s({},e.scroll,{max:t})})},Le=function(e,t,n){var r=e.frame;te(t,e)&&b(!1),e.subject.withPlaceholder&&b(!1);var i=Ue(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return M(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=J(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:M(r.line,o)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var l=j({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return s({},e,{subject:l})}var c=o?D(r.scroll.max,o):r.scroll.max,A=Me(r,c),u=j({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:A});return s({},e,{subject:u,frame:A})},Qe=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=oe(a[s.start],a[s.end]),c=q(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ae(o.frame)(De(e))})).filter((function(e){var n=De(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=De(e),n=oe(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=De(e)[s.crossAxisStart],i=De(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return De(e)[s.crossAxisStart]===De(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var A=c.filter((function(e){return oe(De(e)[s.start],De(e)[s.end])(n[s.line])}));return 1===A.length?A[0]:A.length>1?A.sort((function(e,t){return De(e)[s.start]-De(t)[s.start]}))[0]:c.sort((function(e,t){var r=Q(n,H(De(e))),i=Q(n,H(De(t)));return r!==i?r-i:De(e)[s.start]-De(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var A=J(c.descriptor.id,o),u=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return de({target:Te(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=L(t,Ce(r,_e(e,o))),a=L(t,Ce(r,_e(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:A,afterCritical:l}),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:re,displacedBy:ne,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},A=Se({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),u=te(i,a)?a:Le(a,i,o);return Oe({draggable:i,destination:u,newPageBorderBoxCenter:A,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var d,f=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),p=(d=n.descriptor.index,n.descriptor.id===i.descriptor.id||f?d:d+1),h=Ue(a.axis,i.displaceBy);return he({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:h,last:re,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:u,insideDestination:A,viewport:s,afterCritical:l});if(!d)return null;var f=Se({impact:d,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Ie({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}},Re=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Pe=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Re(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,A=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,d=t.dimensions,f=d.draggables,p=d.droppables;return l?Fe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:A,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Qe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:A,isOver:a,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function He(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Ne(e){var t=oe(e.top,e.bottom),n=oe(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function je(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=q(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Ne(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=oe(i[o.crossAxisStart],i[o.crossAxisEnd]),A=c(s),u=c(l);return!A&&!u||(A?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=M(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:L(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var ze=function(e,t){return u.getRect(P(e,t))};function Ke(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var $e=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=ze(n.page.borderBox,t),c=je({pageBorderBox:l,draggable:n,droppables:i});if(!c)return ie;var A=i[c],u=J(A.descriptor.id,r),d=function(e,t){var n=e.frame;return n?ze(t,n.scroll.diff.value):t}(A,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=Ue(i.axis,t.displaceBy),c=l.value,A=n[s.start],u=n[s.end],d=W(ee(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=ge(t,a),l=Ke({displaced:r.displaced,id:t});return o?l?u>n[s.start]+i&&u<n[s.end]-i:A>n[s.start]-c+i&&A<n[s.end]-c-i:l?u>n[s.start]+c+i&&u<n[s.end]+c-i:A>n[s.start]+i&&A<n[s.end]-i}));return d?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:o,destination:A,insideDestination:u,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=Ue(r.axis,n.displaceBy),A=c.value,u=t[l.start],d=t[l.end],f=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:W(ee(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=ge(t,s),i=Ke({displaced:o,id:t});return r?i?d<=n:u<n-A:i?d<=n+A:u<n})),inHomeList:te(n,r)});return he({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:A,insideDestination:u,last:o.displaced,viewport:a,afterCritical:s})},We=function(e,t){var n;return s({},e,((n={})[t.descriptor.id]=t,n))},Ve=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=Re(t),o=Re(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||b(!1);var n=e.frame;if(!n){var r=j({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return s({},e,{subject:r})}var i=t.oldFrameMaxScroll;i||b(!1);var o=Me(n,i),a=j({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return s({},e,{subject:a,frame:o})}(a);return We(r,l)},Ge=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,l=i||t.viewport,c=r||t.dimensions,A=n||t.current.client.selection,u=_(A,t.initial.client.selection),d={offset:u,selection:A,borderBoxCenter:D(t.initial.client.borderBoxCenter,u)},f={selection:D(d.selection,l.scroll.current),borderBoxCenter:D(d.borderBoxCenter,l.scroll.current),offset:D(d.offset,l.scroll.diff.value)},p={client:d,page:f};if("COLLECTING"===t.phase)return s({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:p});var h=c.draggables[t.critical.draggable.id],g=o||$e({pageOffset:f.offset,draggable:h,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=Ve({previousImpact:i,impact:o,droppables:r}),s=Re(o);if(!s)return a;var l=r[s];if(te(t,l))return a;if(l.subject.withPlaceholder)return a;var c=Le(l,t,n);return We(a,c)}({draggable:h,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return s({},t,{current:p,dimensions:{draggables:c.draggables,droppables:m},impact:g,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var qe=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r),c=fe({afterDragging:l,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return s({},t,{displaced:c})},Ye=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=Se({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return Ie({pageBorderBoxCenter:s,draggable:n,viewport:o})},Je=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&b(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],A=Re(i);A||b(!1);var u=l[A],d=qe({impact:i,viewport:o,destination:u,draggables:s}),f=Ye({impact:d,draggable:c,droppable:u,draggables:s,viewport:o,afterCritical:t.afterCritical});return Ge({impact:d,clientSelection:f,state:t,dimensions:a,viewport:o})},Xe=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=Ue(n.axis,t.displaceBy),a=J(n.descriptor.id,r),s=a.indexOf(t);-1===s&&b(!1);var l,c=a.slice(s+1),A=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:A};return{impact:{displaced:fe({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:u}},Ze=function(e){0},et=function(e){0},tt=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||b(!1),t}(n[t]),a=o.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=u.offset(t.client,n),o=u.withScroll(i,r);return s({},t,{placeholder:s({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:D(i,a),initialWindowScroll:r.scroll.initial});return l}))},nt=function(e){return"SNAP"===e.movementMode},rt=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:We(e.droppables,t)}}(e.dimensions,t);return!nt(e)||n?Ge({state:e,dimensions:r}):Je({state:e,dimensions:r})};function it(e){return e.isDragging&&"SNAP"===e.movementMode?s({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var ot={phase:"IDLE",completed:null,shouldFlush:!1},at=function(e,t){if(void 0===e&&(e=ot),"FLUSH"===t.type)return s({},ot,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&b(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,l=n.movementMode,c=a.draggables[r.draggable.id],A=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:c.client.borderBox.center,offset:F},d={client:u,page:{selection:D(u.selection,o.scroll.initial),borderBoxCenter:D(u.selection,o.scroll.initial),offset:D(u.selection,o.scroll.diff.value)}},f=q(a.droppables).every((function(e){return!e.isFixedOnPage})),p=Xe({draggable:c,home:A,draggables:a.draggables,viewport:o}),h=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:h,afterCritical:p.afterCritical,onLiftImpact:h,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&b(!1),s({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&b(!1),function(e){var t=e.state,n=e.published;Ze();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return z(n,e.scroll)})),i=s({},t.dimensions.droppables,{},V(r)),o=G(tt({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=s({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var l={droppables:i,draggables:a},c=Re(t.impact),A=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],f=Xe({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=f.impact,h=f.afterCritical,g=A&&A.isCombineEnabled?t.impact:p,m=$e({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:h});et();var v=s({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:p,dimensions:l,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:s({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;He(e)||b(!1);var g=t.payload.client;return T(g,e.current.client.selection)?e:Ge({state:e,clientSelection:g,impact:nt(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return it(e);if("COLLECTING"===e.phase)return it(e);He(e)||b(!1);var m=t.payload,v=m.id,y=m.newScroll,w=e.dimensions.droppables[v];if(!w)return e;var B=z(w,y);return rt(e,B,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;He(e)||b(!1);var x=t.payload,C=x.id,S=x.isEnabled,k=e.dimensions.droppables[C];k||b(!1),k.isEnabled===S&&b(!1);var E=s({},k,{isEnabled:S});return rt(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;He(e)||b(!1);var I=t.payload,O=I.id,_=I.isCombineEnabled,U=e.dimensions.droppables[O];U||b(!1),U.isCombineEnabled===_&&b(!1);var M=s({},U,{isCombineEnabled:_});return rt(e,M,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;He(e)||b(!1),e.isWindowScrollAllowed||b(!1);var L=t.payload.newScroll;if(T(e.viewport.scroll.current,L))return it(e);var Q=ke(e.viewport,L);return nt(e)?Je({state:e,viewport:Q}):Ge({state:e,viewport:Q})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!He(e))return e;var R=t.payload.maxScroll;if(T(R,e.viewport.scroll.max))return e;var P=s({},e.viewport,{scroll:s({},e.viewport.scroll,{max:R})});return s({phase:"DRAGGING"},e,{viewport:P})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&b(!1);var H=Pe({state:e,type:t.type});return H?Ge({state:e,impact:H.impact,clientSelection:H.clientSelection,scrollJumpRequest:H.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var N=t.payload.reason;return"COLLECTING"!==e.phase&&b(!1),s({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:N})}if("DROP_ANIMATE"===t.type){var j=t.payload,K=j.completed,$=j.dropDuration,W=j.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&b(!1),{phase:"DROP_ANIMATING",completed:K,dropDuration:$,newHomeClientOffset:W,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},st=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},lt=function(){return{type:"COLLECTION_STARTING",payload:null}},ct=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},At=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},ut=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},dt=function(e){return{type:"MOVE",payload:e}},ft=function(){return{type:"MOVE_UP",payload:null}},pt=function(){return{type:"MOVE_DOWN",payload:null}},ht=function(){return{type:"MOVE_RIGHT",payload:null}},gt=function(){return{type:"MOVE_LEFT",payload:null}},mt=function(e){return{type:"DROP_COMPLETE",payload:e}},vt=function(e){return{type:"DROP",payload:e}},yt=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var bt="cubic-bezier(.2,1,.1,1)",wt={drop:0,combining:.7},Bt={drop:.75},xt=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Ct={fluid:"opacity "+xt,snap:"transform "+xt+", opacity "+xt,drop:function(e){var t=e+"s "+bt;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+xt,placeholder:"height "+xt+", width "+xt+", margin "+xt},St=function(e){return T(e,F)?null:"translate("+e.x+"px, "+e.y+"px)"},kt=St,Et=function(e,t){var n=St(e);return n?t?n+" scale("+Bt.drop+")":n:null},It=.33,Ot=.55,Ft=Ot-It,Dt=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&b(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&b(!1);var a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],A=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:s({},r,{displaced:re}),didDropInsideDroppable:!0}:{impact:qe({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=A.impact,d=A.didDropInsideDroppable,f=d?X(u):null,p=d?Z(u):null,h={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:h,reason:o,mode:i.movementMode,destination:f,combine:p},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=Re(t),c=l?s[l]:null,A=s[n.descriptor.droppableId],u=Ye({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||A,viewport:i});return _(u,n.client.borderBox.center)}({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:u};if(!T(i.current.client.offset,m)||Boolean(g.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=L(t,n);if(i<=0)return It;if(i>=1500)return Ot;var o=It+Ft*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:m,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:y,completed:v}))}else n(mt({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},_t=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Tt(e){var t=e.onWindowScroll;var n=f((function(){t(_t())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=g;function o(){return i!==g}return{start:function(){o()&&b(!1),i=m(window,[r])},stop:function(){o()||b(!1),n.cancel(),i(),i=g},isActive:o}}var Ut=function(e){var t=Tt({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Mt=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=$(e,(function(e){return e.timerId===t}));-1===n&&b(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Lt=function(e,t){Ze(),t(),et()},Qt=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Rt=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Pt=function(e,t){var n=function(e,t){var n=Mt(),r=null,i=function(n){r||b(!1),r=null,Lt(0,(function(){return Rt(e().onDragEnd,n,t,O)}))};return{beforeCapture:function(t,n){r&&b(!1),Lt(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&b(!1),Lt(0,(function(){var r=e().onBeforeDragStart;r&&r(Qt(t,n))}))},start:function(i,o){r&&b(!1);var a=Qt(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){Lt(0,(function(){return Rt(e().onDragStart,a,t,E)}))}))},update:function(i,o){var a=X(o),l=Z(o);r||b(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);c&&(r.lastCritical=i);var A,u,d=(u=a,!(null==(A=r.lastLocation)&&null==u||null!=A&&null!=u&&A.droppableId===u.droppableId&&A.index===u.index));d&&(r.lastLocation=a);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(f&&(r.lastCombine=l),c||d||f){var p=s({},Qt(i,r.mode),{combine:l,destination:a});n.add((function(){Lt(0,(function(){return Rt(e().onDragUpdate,p,t,I)}))}))}},flush:function(){r||b(!1),n.flush()},drop:i,abort:function(){if(r){var e=s({},Qt(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Ht=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&b(!1),e.dispatch(mt({completed:r.completed}))}else t(n)}}},Nt=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=m(window,[o])}))}}}},jt=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(vt({reason:r.reason})))}}}},zt=l.compose,Kt=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return l.createStore(at,zt(l.applyMiddleware((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(mt({completed:c.completed})),"IDLE"!==n().phase&&b(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var A={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},u=e.startPublishing(A),d=u.critical,f=u.dimensions,p=u.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:f,clientSelection:s,movementMode:l,viewport:p}})}else t(i)}}}}(n),Dt,Ht,Nt,jt,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&b(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),Ut,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Pt(o,a))))};var $t=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=_({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Wt=function(){var e=document.documentElement;return e||b(!1),e},Vt=function(){var e=Wt();return $t({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Gt=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;Ze();var i=function(){var e=_t(),t=Vt(),n=e.y,r=e.x,i=Wt(),o=r+i.clientWidth,a=n+i.clientHeight;return{frame:u.getRect({top:n,left:r,right:o,bottom:a}),scroll:{initial:e,current:e,max:t,diff:{value:F,displacement:F}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:G(l),droppables:V(s)};return et(),{dimensions:c,critical:t,viewport:i}};function qt(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Yt,Jt,Xt=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,Ze();var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(F)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),A={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},et(),n.publish(A)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||b(!1);var i=n.critical.draggable;"ADDITION"===t.type&&qt(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&qt(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||b(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||b(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||b(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&b(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},Gt({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},Zt=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},en=function(e){window.scrollBy(e.x,e.y)},tn=d((function(e){return q(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),nn=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=W(tn(t),(function(t){return t.frame||b(!1),Ne(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},rn=.25,on=.05,an=28,sn=function(e){return Math.pow(e,2)},ln={stopDampeningAt:1200,accelerateAt:360},cn=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},An=ln.accelerateAt,un=ln.stopDampeningAt,dn=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return an;if(e===t.startScrollingFrom)return 1;var n=cn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=an*sn(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=un,i=Date.now()-n;if(i>=un)return e;if(i<An)return 1;var o=cn({startOfRange:An,endOfRange:r,current:i}),a=e*sn(o);return Math.ceil(a)}(o,r),1):o},fn=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*rn,maxScrollValueAt:e[t.size]*on}}(t,i);return n[i.end]<n[i.start]?dn({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*dn({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},pn=R((function(e){return 0===e?0:e})),hn=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=fn({container:n,distanceToEdges:a,dragStartTime:t,axis:le,shouldUseTimeDampening:o}),l=fn({container:n,distanceToEdges:a,dragStartTime:t,axis:ce,shouldUseTimeDampening:o}),c=pn({x:l,y:s});if(T(c,F))return null;var A=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return A?T(A,F)?null:A:null},gn=R((function(e){return 0===e?0:e>0?1:-1})),mn=(Yt=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,i=D(t,r),o={x:Yt(i.x,n.x),y:Yt(i.y,n.y)};return T(o,F)?null:o}),vn=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=gn(r),a=mn({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},yn=function(e,t){return vn({current:e.scroll.current,max:e.scroll.max,change:t})},bn=function(e,t){var n=e.frame;return!!n&&vn({current:n.scroll.current,max:n.scroll.max,change:t})},wn=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=hn({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&yn(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var c=nn({center:a,destination:Re(t.impact),droppables:t.dimensions.droppables});if(c){var A=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=hn({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&bn(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});A&&o(c.descriptor.id,A)}},Bn=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!bn(e,t))return t;var r=function(e,t){var n=e.frame;return n&&bn(e,t)?mn({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=_(t,r);return n(e.descriptor.id,i),_(t,i)},o=function(e,t,n){if(!e)return n;if(!yn(t,n))return n;var i=function(e,t){if(!yn(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return mn({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=_(n,i);return r(o),_(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Re(e.impact);r||b(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=D(e.current.client.selection,n);t({client:r})}(e,l)}}}},xn=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=f(t),i=f(n),o=null,a=function(e){o||b(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;wn({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){Ze(),o&&b(!1);var t=Date.now(),n=!1,r=function(){n=!0};wn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},et(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=Bn({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},Cn="data-rbd",Sn={base:Jt=Cn+"-drag-handle",draggableId:Jt+"-draggable-id",contextId:Jt+"-context-id"},kn=function(){var e=Cn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),En=function(){var e=Cn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),In={contextId:Cn+"-scroll-container-context-id"},On=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Fn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,Dn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function _n(e,t,n){var r=A.useMemo((function(){return function(e){var t,n,r,i=(t=e,function(e){return"["+e+'="'+t+'"]'}),o=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:i(Sn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+Ct.outOfTheWay+";\n    ",{selector:i(kn.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),o,{selector:i(En.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body, :host",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:On(a,"always"),resting:On(a,"resting"),dragging:On(a,"dragging"),dropAnimating:On(a,"dropAnimating"),userCancel:On(a,"userCancel")}}(e)}),[e]),o=i.useRef(null),a=i.useRef(null),s=A.useCallback(d((function(e){var t=a.current;t||b(!1),t.textContent=e})),[]),l=A.useCallback((function(e){var t=o.current;t||b(!1),t.textContent=e}),[]);Fn((function(){(o.current||a.current)&&b(!1);var i=Dn(t),c=Dn(t);o.current=i,a.current=c,i.setAttribute(Cn+"-always",e),c.setAttribute(Cn+"-dynamic",e);var A=function(e){var t=e||document.querySelector("head");return t||b(!1),t}(n);return A.appendChild(i),A.appendChild(c),l(r.always),s(r.resting),function(){var e=function(e){var t=e.current;t||b(!1),A.removeChild(t),e.current=null};e(o),e(a)}}),[t,l,s,r.always,r.resting,e,n]);var c=A.useCallback((function(){return s(r.dragging)}),[s,r.dragging]),u=A.useCallback((function(e){s("DROP"!==e?r.userCancel:r.dropAnimating)}),[s,r.dropAnimating,r.userCancel]),f=A.useCallback((function(){a.current&&s(r.resting)}),[s,r.resting]);return A.useMemo((function(){return{dragging:c,dropping:u,resting:f}}),[c,u,f])}function Tn(e){return e.composedPath&&e.composedPath()[0]||e.target}function Un(e,t,n){var r,i=e&&e.getRootNode(),o=i&&i.querySelectorAll?i:document,a=W((r=o.querySelectorAll(t),Array.prototype.slice.call(r)),n);return!a&&o.host?Un(o.host,t,n):a}var Mn=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ln(e){return e instanceof Mn(e).HTMLElement}function Qn(e,t,n){var r=Un(n,"["+Sn.contextId+'="'+e+'"]',(function(e){return e.getAttribute(Sn.draggableId)===t}));return r&&Ln(r)?r:null}function Rn(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||b(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return K(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||b(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return K(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Pn=o.createContext(null),Hn=function(){var e=document.body;return e||b(!1),e},Nn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var jn=0,zn={separator:"::"};function Kn(e,t){return void 0===t&&(t=zn),A.useMemo((function(){return""+e+t.separator+jn++}),[t.separator,e])}var $n=o.createContext(null);function Wn(e){0}function Vn(e,t){Wn()}function Gn(){Vn()}function qn(e){var t=i.useRef(e);return i.useEffect((function(){t.current=e})),t}var Yn,Jn=((Yn={})[13]=!0,Yn[9]=!0,Yn),Xn=function(e){Jn[e.keyCode]&&e.preventDefault()},Zn=function(){var e="visibilitychange";return"undefined"==typeof document?e:W([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var er,tr={type:"IDLE"};function nr(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&b(!1);var l=s.point;if(c=l,A=a,Math.abs(A.x-c.x)>=5||Math.abs(A.y-c.y)>=5){var c,A;e.preventDefault();var u=s.actions.fluidLift(a);i({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Xn(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&b(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Zn,fn:t}]}function rr(e){var t=i.useRef(tr),n=i.useRef(g),r=A.useMemo((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=A.useMemo((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=A.useCallback((function(){n.current=m(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=A.useCallback((function(){"IDLE"!==t.current.type&&(t.current=tr,n.current(),a())}),[a]),l=A.useCallback((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=A.useCallback((function(){var e=nr({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=m(window,e,{capture:!0,passive:!1})}),[l,s]),u=A.useCallback((function(e,n){"IDLE"!==t.current.type&&b(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Fn((function(){return a(),function(){n.current()}}),[a])}function ir(){}var or=((er={})[34]=!0,er[33]=!0,er[36]=!0,er[35]=!0,er);function ar(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(or[r.keyCode]?r.preventDefault():Xn(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Zn,fn:n}]}function sr(e){var t=i.useRef(ir),n=A.useMemo((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=m(window,ar(s,l),{capture:!0,passive:!1})}}}function l(){a||b(!1),a=!1,t.current(),r()}}}}),[e]),r=A.useCallback((function(){t.current=m(window,[n],{passive:!1,capture:!0})}),[n]);Fn((function(){return r(),function(){t.current()}}),[r])}var lr={type:"IDLE"};function cr(e){var t=i.useRef(lr),n=i.useRef(g),r=A.useCallback((function(){return t.current}),[]),o=A.useCallback((function(e){t.current=e}),[]),a=A.useMemo((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),f(i,a)}}}}}}),[e]),s=A.useCallback((function(){n.current=m(window,[a],{capture:!0,passive:!1})}),[a]),l=A.useCallback((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(lr),n.current(),s())}),[s,o]),c=A.useCallback((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=A.useCallback((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=m(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&b(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:Zn,fn:t}]}(t),e),o=m(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Zn,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=A.useCallback((function(){var e=r();"PENDING"!==e.type&&b(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),f=A.useCallback((function(e,t){"IDLE"!==r().type&&b(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);Fn((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(lr))}}),[r,s,o]),Fn((function(){return m(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var Ar={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ur(e,t){if(null==t)return!1;if(Boolean(Ar[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ur(e,t.parentElement)}function dr(e,t){var n=Tn(t);return!!Ln(n)&&ur(e,n)}var fr=function(e){return u.getRect(e.getBoundingClientRect()).center};var pr=function(){var e="matches";return"undefined"==typeof document?e:W([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function hr(e,t){return null==e?null:e[pr](t)?e:hr(e.parentElement,t)}function gr(e,t){return e.closest?e.closest(t):hr(e,t)}function mr(e,t){if(!e||e===document||e===window)return null;var n=gr(e,t);return n||mr(e.getRootNode().host,t)}function vr(e,t){var n,r=Tn(t);if(!((n=r)instanceof Mn(n).Element))return null;var i=function(e){return"["+Sn.contextId+'="'+e+'"]'}(e),o=mr(r,i);return o&&Ln(o)?o:null}function yr(e){e.preventDefault()}function br(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function wr(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!Zt(n.getState(),i))}function Br(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!wr({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var c,A,u=i.draggable.getById(o),d=function(e,t,n){var r=Un(n,"["+kn.contextId+'="'+e+'"]',(function(e){return e.getAttribute(kn.id)===t}));return r&&Ln(r)?r:null}(n,u.descriptor.id,(A=(c=l)&&c.composedPath&&c.composedPath()[0])&&A.getRootNode()||document);if(!d)return null;if(l&&!u.options.canDragInteractiveElements&&dr(d,l))return null;var p=t.claim(a||g),h="PRE_DRAG";function v(){return u.options.shouldRespectForcePress}function y(){return t.isActive(p)}var w=function(e,t){br({expected:e,phase:h,isLockActive:y,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function B(e){function n(){t.release(),h="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=m(window,[{eventName:"click",fn:yr,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(vt({reason:t}))}return"PRE_DRAG"!==h&&(n(),"PRE_DRAG"!==h&&b(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),h="DRAGGING",s({isActive:function(){return br({expected:"DRAGGING",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:v,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}return{isActive:function(){return br({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:v,fluidLift:function(e){var t=f((function(e){w((function(){return dt({client:e})}))})),n=B({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return s({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return w(ft)},moveRight:function(){return w(ht)},moveDown:function(){return w(pt)},moveLeft:function(){return w(gt)}};return B({liftActionArgs:{id:o,clientSelection:fr(d),movementMode:"SNAP"},cleanup:g,actions:e})},abort:function(){br({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!0})&&t.release()}}}var xr=[rr,sr,cr];function Cr(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?xr:[],o||[]),l=i.useState((function(){return function(){var e=null;function t(){e||b(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&b(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=A.useCallback((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Fn((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Fn((function(){return l.tryAbandon}),[l.tryAbandon]);var u=A.useCallback((function(e){return wr({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=A.useCallback((function(e,i,o){return Br({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),f=A.useCallback((function(e){return function(e,t){var n=vr(e,t);return n?n.getAttribute(Sn.draggableId):null}(t,e)}),[t]),p=A.useCallback((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),h=A.useCallback((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=A.useCallback(l.isClaimed,[l]),m=A.useMemo((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:g}}),[u,d,f,p,h,g]);Wn();for(var v=0;v<s.length;v++)s[v](m)}function Sr(e){return e.current||b(!1),e.current}function kr(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,u=e.dragHandleUsageInstructions,d=i.useRef(null);Gn();var f=qn(e),p=A.useCallback((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(f.current)}),[f]),h=function(e){var t=A.useMemo((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=i.useRef(null);return i.useEffect((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),s(e.style,Nn),Hn().appendChild(e),function(){setTimeout((function(){var t=Hn();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),A.useCallback((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),g=function(e){var t=e.contextId,n=e.text,r=Kn("hidden-text",{separator:"-"}),o=A.useMemo((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return i.useEffect((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",Hn().appendChild(e),function(){var t=Hn();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:u}),m=_n(t,a,e.stylesInsertionPoint),v=A.useCallback((function(e){Sr(d).dispatch(e)}),[]),y=A.useMemo((function(){return l.bindActionCreators({publishWhileDragging:st,updateDroppableScroll:ct,updateDroppableIsEnabled:At,updateDroppableIsCombineEnabled:ut,collectionStarting:lt},v)}),[v]),b=function(){var e=A.useMemo(Rn,[]);return i.useEffect((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),w=A.useMemo((function(){return Xt(b,y)}),[b,y]),B=A.useMemo((function(){return xn(s({scrollWindow:en,scrollDroppable:w.scrollDroppable},l.bindActionCreators({move:dt},v)))}),[w.scrollDroppable,v]),x=function(e){var t=i.useRef({}),n=i.useRef(null),r=i.useRef(null),o=i.useRef(!1),a=A.useCallback((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=A.useCallback((function(t){var n=Qn(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=A.useCallback((function(e,t){n.current===e&&(n.current=t)}),[]),c=A.useCallback((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),u=A.useCallback((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Sn.draggableId)===e&&(n.current=e)}),[]);return Fn((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),A.useMemo((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),C=A.useMemo((function(){return Kt({announce:h,autoScroller:B,dimensionMarshal:w,focusMarshal:x,getResponders:p,styleMarshal:m})}),[h,B,w,x,p,m]);d.current=C;var S=A.useCallback((function(){var e=Sr(d);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),k=A.useCallback((function(){var e=Sr(d).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(A.useMemo((function(){return{isDragging:k,tryAbort:S}}),[k,S]));var E=A.useCallback((function(e){return Zt(Sr(d).getState(),e)}),[]),I=A.useCallback((function(){return He(Sr(d).getState())}),[]),O=A.useMemo((function(){return{marshal:w,focus:x,contextId:t,canLift:E,isMovementAllowed:I,dragHandleUsageInstructionsId:g,registry:b}}),[t,w,g,x,E,I,b]);return Cr({contextId:t,store:C,registry:b,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),i.useEffect((function(){return S}),[S]),o.createElement($n.Provider,{value:O},o.createElement(c.Provider,{context:Pn,store:C},e.children))}var Er=0;var Ir=function(e){return function(t){return e===t}},Or=Ir("scroll"),Fr=Ir("auto"),Dr=(Ir("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),_r=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Dr(n,Or)||Dr(n,Fr)},Tr=function e(t){return null==t||t===document.body||t===document.documentElement?null:_r(t)?t:e(t.parentElement)},Ur=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Mr=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Lr=function(e){return{closestScrollable:Tr(e),isFixedOnPage:Mr(e)}},Qr=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,A=function(e,t){var n=u.getBox(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a={top:r,right:i+t.scrollWidth,bottom:o,left:i},s=u.expand(a,n.border);return u.createBox({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=u.withScroll(A,i),f=function(){if(!c)return null;var e=u.getBox(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:u.withScroll(e,i),scroll:Ur(c),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=$t({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:F,displacement:F}}}}(),A="vertical"===o?le:ce;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:A,isEnabled:n,client:a,page:s,frame:c,subject:j({page:s,withPlaceholder:null,axis:A,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:A,page:d,closest:f});return p},Rr={passive:!1},Pr={passive:!0},Hr=function(e){return e.shouldPublishImmediately?Rr:Pr};function Nr(e){var t=i.useContext(e);return t||b(!1),t}var jr=function(e){return e&&e.env.closestScrollable||null};function zr(){}var Kr={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},$r=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Kr:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Ct.placeholder:null}};var Wr=o.memo((function(e){var t=i.useRef(null),n=A.useCallback((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=i.useState("open"===e.animate),u=c[0],d=c[1];i.useEffect((function(){return u?"open"!==r?(n(),d(!1),zr):t.current?zr:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):zr}),[r,u,n]);var f=A.useCallback((function(e){"height"===e.propertyName&&(a(),"close"===r&&s())}),[r,s,a]),p=$r({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return o.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":l,onTransitionEnd:f,ref:e.innerRef})})),Vr=o.createContext(null);var Gr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return a(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(o.PureComponent),qr=5e3,Yr=4500,Jr=function(e,t){return t?Ct.drop(t.duration):e?Ct.snap:Ct.fluid},Xr=function(e,t){return e?t?wt.drop:wt.combining:null};function Zr(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,i=n.offset,o=n.combineWith,a=n.dropping,s=Boolean(o),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),c=Boolean(a),A=c?Et(i,s):kt(i),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Jr(l,a),transform:A,opacity:Xr(s,c),zIndex:c?Yr:qr,pointerEvents:"none"}):{transform:kt((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,i,o,a,s,l,c,A}function ei(e){var t=Kn("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=A.useMemo((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),d=A.useCallback((function(e){var t=o();return t||b(!1),function(e,t,n){void 0===n&&(n=F);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=u.calculateBox(i,r),a=u.withScroll(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),f=A.useMemo((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}}),[n,d,c,t]),p=i.useRef(f),h=i.useRef(!0);Fn((function(){return r.draggable.register(p.current),function(){return r.draggable.unregister(p.current)}}),[r.draggable]),Fn((function(){if(h.current)h.current=!1;else{var e=p.current;p.current=f,r.draggable.update(f,e)}}),[f,r.draggable])}function ti(e,t,n){Vn()}function ni(e){e.preventDefault()}var ri=function(e,t){return e===t},ii=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function oi(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ai={mapped:{type:"SECONDARY",offset:F,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:oi(null)}};var si={dropAnimationFinished:yt},li=c.connect((function(){var e,t,n,r=(e=d((function(e,t){return{x:e,y:t}})),t=d((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=d((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}})),function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=Re(r.impact),l=(A=r.impact).at&&"COMBINE"===A.at.type?A.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,c)}var A;if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==i.draggableId)return null;var d=i.isClone,f=r.dimensions.draggables[i.draggableId],p=u.result,h=p.mode,g=ii(p),m=function(e){return e.combine?e.combine.draggableId:null}(p),v={duration:r.dropDuration,curve:bt,moveTo:r.newHomeClientOffset,opacity:m?wt.drop:null,scale:m?Bt.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:v,draggingOver:g,combineWith:m,mode:h,forceShouldAnimate:null,snapshot:t(h,d,g,m,v)}}}return null}),i=function(){var e=d((function(e,t){return{x:e,y:t}})),t=d(oi),n=d((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(F,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Z(o),A=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(A);if(o.displaced.invisible[t])return null;var u=U(a.displacedBy.point),d=e(u.x,u.y);return n(d,A,!0)}if(l)return r(A);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,A,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||i(e,t)||ai}}),si,null,{context:Pn,pure:!0,areStatePropsEqual:ri})((function(e){var t=i.useRef(null),n=A.useCallback((function(e){t.current=e}),[]),r=A.useCallback((function(){return t.current}),[]),o=Nr($n),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=Nr(Vr),u=c.type,d=c.droppableId,f=A.useMemo((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),p=e.children,h=e.draggableId,g=e.isEnabled,m=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;ti(),Wn(),y||ei(A.useMemo((function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:g}}),[f,l,r,v,m,g]));var B=A.useMemo((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:ni}:null}),[a,s,h,g]),x=A.useCallback((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),C=A.useMemo((function(){var e=Zr(b),t="DRAGGING"===b.type&&b.dropping?x:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:B}}),[a,B,h,b,x,n]),S=A.useMemo((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return p(C,b.snapshot,S)}));function ci(e){return Nr(Vr).isUsingCloneFor!==e.draggableId||e.isClone?o.createElement(li,e):null}var Ai=function(e,t){return e===t.droppable.type},ui=function(e,t){return t.draggables[e.draggable.id]},di={updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}};var fi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||b(!1),document.body}},pi=c.connect((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=s({},e,{shouldAnimatePlaceholder:!1}),n=d((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=d((function(r,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var A=l?{render:l,dragging:n(s.descriptor)}:null,u={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:A}}if(!i)return t;if(!a)return e;var d={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!Ai(a,c))return t;var A=ui(c,n.dimensions),u=Re(n.impact)===o;return r(o,s,u,u,A,l)}if("DROP_ANIMATING"===n.phase){var d=n.completed;if(!Ai(a,d.critical))return t;var f=ui(d.critical,n.dimensions);return r(o,s,ii(d.result)===o,Re(d.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!Ai(a,p.critical))return t;var h=Re(p.impact)===o,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),m=p.critical.droppable.id===o;return h?g?e:t:m?e:t}return t}}),di,null,{context:Pn,pure:!0,areStatePropsEqual:ri})((function(e){var t=i.useContext($n);t||b(!1);var n=t.contextId,r=t.isMovementAllowed,a=i.useRef(null),s=i.useRef(null),l=e.children,c=e.droppableId,u=e.type,h=e.mode,g=e.direction,m=e.ignoreContainerClipping,v=e.isDropDisabled,y=e.isCombineEnabled,w=e.snapshot,B=e.useClone,x=e.updateViewportMaxScroll,C=e.getContainerForClone,S=A.useCallback((function(){return a.current}),[]),k=A.useCallback((function(e){a.current=e}),[]),E=(A.useCallback((function(){return s.current}),[]),A.useCallback((function(e){s.current=e}),[]));Vn();var I=A.useCallback((function(){r()&&x({maxScroll:Vt()})}),[r,x]);!function(e){var t=i.useRef(null),n=Nr($n),r=Kn("droppable"),o=n.registry,a=n.marshal,s=qn(e),l=A.useMemo((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=i.useRef(l),u=A.useMemo((function(){return d((function(e,n){t.current||b(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),p=A.useCallback((function(){var e=t.current;return e&&e.env.closestScrollable?Ur(e.env.closestScrollable):F}),[]),h=A.useCallback((function(){var e=p();u(e.x,e.y)}),[p,u]),g=A.useMemo((function(){return f(h)}),[h]),m=A.useCallback((function(){var e=t.current,n=jr(e);e&&n||b(!1),e.scrollOptions.shouldPublishImmediately?h():g()}),[g,h]),v=A.useCallback((function(e,r){t.current&&b(!1);var i=s.current,o=i.getDroppableRef();o||b(!1);var a=Lr(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var A=Qr({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),u=a.closestScrollable;return u&&(u.setAttribute(In.contextId,n.contextId),u.addEventListener("scroll",m,Hr(c.scrollOptions))),A}),[n.contextId,l,m,s]),y=A.useCallback((function(){var e=t.current,n=jr(e);return e&&n||b(!1),Ur(n)}),[]),w=A.useCallback((function(){var e=t.current;e||b(!1);var n=jr(e);t.current=null,n&&(g.cancel(),n.removeAttribute(In.contextId),n.removeEventListener("scroll",m,Hr(e.scrollOptions)))}),[m,g]),B=A.useCallback((function(e){var n=t.current;n||b(!1);var r=jr(n);r||b(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),x=A.useMemo((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:y,dragStopped:w,scroll:B}}),[w,v,y,B]),C=A.useMemo((function(){return{uniqueId:r,descriptor:l,callbacks:x}}),[x,l,r]);Fn((function(){return c.current=C.descriptor,o.droppable.register(C),function(){t.current&&w(),o.droppable.unregister(C)}}),[x,l,w,C,a,o.droppable]),Fn((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Fn((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:h,direction:g,isDropDisabled:v,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:S});var O=o.createElement(Gr,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,i=e.animate;return o.createElement(Wr,{placeholder:r,onClose:t,innerRef:E,animate:i,contextId:n,onTransitionEnd:I})})),D=A.useMemo((function(){return{innerRef:k,placeholder:O,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,O,k]),_=B?B.dragging.draggableId:null,T=A.useMemo((function(){return{droppableId:c,type:u,isUsingCloneFor:_}}),[c,_,u]);return o.createElement(Vr.Provider,{value:T},l(D,w),function(){if(!B)return null;var e=B.dragging,t=B.render,n=o.createElement(ci,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return p.createPortal(n,C())}())}));pi.defaultProps=fi,t.DragDropContext=function(e){var t=A.useMemo((function(){return""+Er++}),[]),n=e.dragHandleUsageInstructions||k;return o.createElement(w,null,(function(r){return o.createElement(kr,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,stylesInsertionPoint:e.stylesInsertionPoint},e.children)}))},t.Draggable=function(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return o.createElement(ci,s({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))},t.Droppable=pi,t.resetServerContext=function(){Er=0,jn=0},t.useKeyboardSensor=sr,t.useMouseSensor=rr,t.useTouchSensor=cr},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return A})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return h}));var r=n(2),i=n(3),o=n.n(i),a=n(32),s=n(108);const l=(e,t)=>{let n=null;const r=()=>{n&&clearTimeout(n),n=null};return(...i)=>{r(),n=setTimeout((()=>{e(...i),r()}),t)}},c=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(a.a)(s.f,s.e)})),A=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(a.a)(s.b,s.a)})),u=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.b)(s.b,e)})),d=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.b)(s.f,e)})),f=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.a)(s.d,s.c)})),p=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.b)(s.d,e)}));function h(e){const t=`destroy-${o.a.runtime.id}`;document.dispatchEvent(new CustomEvent(t)),document.addEventListener(t,(function(){document.removeEventListener(t,this),e()}))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(262),i=n(426),o=n(134);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=/(\[|\]|\(|\)|\{|\})/,i=(e,t,n={})=>{const i=e.trim();return i.length?r.test(i)?{valid:!1,reason:"Space name cannot contain any of the characters: [] () {}"}:{valid:!0,reason:"valid"}:{valid:!1,reason:"Space name cannot be empty"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(99),l=n(28),c=n.n(l);const A=({children:e,width:t,closeComponent:n,targetElementRef:r,mode:o,noStyles:a,onMouseEnter:l,onMouseLeave:A,instaClose:u,disableBlur:p,getPortalRoot:h,blockedBackground:g,positioning:m,getDocument:v=()=>document})=>{var y;const b=()=>{n()},w=()=>i.a.createElement(s.a,{instaClose:u,getDocument:v,onClickAway:b,targetElementRef:r,blockedBackground:g,centeredElement:"centerCenter"===m},i.a.createElement(f,{noStyles:a,disableBlur:p,mode:o},i.a.createElement(d,{onMouseEnter:l,onMouseLeave:A,width:t,mode:o},e)));if(null===h)return w();const B=null!==(y=null==h?void 0:h())&&void 0!==y?y:v().querySelector("body");return c.a.createPortal(w(),B)},u=o.keyframes`
 0% { max-height: 0px; max-width: 0px; opacity: 0 }
 100% { max-height: 800px; max-width: 800px; opacity: 1 }
`,d=(o.keyframes`
 0% { opacity: 0 }
 100% { opacity: 1 }
`,a.a.div`
    /* animation-name: ${u}; */
    animation-duration: 0.15s;
    animation-timing-function: ease-in-out;
    animation-fill-mode: forwards;
    width: ${e=>e.width?e.width:"fit-content"};
    max-height: 100%;
    max-width: 100%;
    /* box-shadow: 0px 14px 140px 10px ${e=>e.theme.colors.black2}c2; */
    border-radius: 12px;
    overflow-y: auto;
    display: flex;
    justify-content: center;

    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }

    /* ${e=>"light"===e.theme.variant&&o.css`
            box-shadow: ${e=>e.theme.borderStyles.boxShadowHoverElements};
            border: 1px solid
                ${e=>e.theme.borderStyles.borderHoverElements};
        `}; */
`),f=a.a.div`
    width: ${e=>e.width?e.width:"fit-content"};
    z-index: 300000000000;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    box-shadow: 0px 8px 26px 4px ${e=>e.theme.colors.black2}c2;
    background: ${e=>e.theme.colors.black};

    &::-webkit-scrollbar {
        display: none;
    }
    scrollbar-width: none;
    overflow: scroll;
    border-radius: 12px;
    max-height: 100vh;
    max-width: 100vw;

    ${e=>e.noStyles&&o.css`
            border: none;
            background: none;
            box-shadow: none;
        `}
    ${e=>e.disableBlur&&o.css`
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
            backdrop-filter: none;
        `}

        ${e=>"image-preview"===e.mode&&o.css`
            max-width: 80%;
            max-height: 80%;
        `}
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={r:198,g:240,b:212,a:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(3),i=n.n(r),o=n(103);const a=(e,t={runtimeAPI:i.a.runtime})=>Object(o.b)(e,t)?new URL(e).searchParams.get("file"):e,s=e=>(e&&(e.url=a(e.url)),e)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],A=!1,u=-1;function d(){A&&l&&(A=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!A){var e=s(d);A=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,A=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||A||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(3),c=n.n(l),A=n(10),u=n(33),d=n(127),f=n(42),p=n(8),h=n(37);const g=(e,t)=>"page-links"===t.currentTab?Object(p.c)(t.pageLinkEntries).filter((t=>!e.normalizedPageUrlToFilterPageLinksBy||t.normalizedPageUrl===e.normalizedPageUrlToFilterPageLinksBy)):Object(p.c)(t.listEntries),m=(e,t)=>t?`${y}-${e.unifiedId}-${t.unifiedId}`:e.unifiedId,v=e=>{if(!(e=>e.startsWith(y))(e))return{baseUnifiedId:e};let t=e.match(new RegExp(`^${y}-(\\d+)-(\\d+)$`));if(!t||!t[1]&&!t[2])throw new Error(`Failed to extract unified ID from rendered ID for space picker entry: ${e}`);return{baseUnifiedId:t[1],treeNodeUnifiedId:t[2]}},y="tree-node";var b=n(36),w=n(34),B=n(152);const x=(e,t)=>(n,r)=>{const i=e.indexOf(n.localId)+1,o=e.indexOf(r.localId)+1;if(i||o)return i&&!o?-1:!i&&o?1:i-o;const a=t.indexOf(n.localId)+1,s=t.indexOf(r.localId)+1;return a&&!s?-1:!a&&s?1:a-s},C=(e,{annotationsCache:t},n)=>{const r=t.getListByLocalId(e),i=(null==n?void 0:n.source)?`for ${n.source} `:"";if(!r)throw new Error(`Specified list data ${i}could not be found`);if((null==n?void 0:n.mustBeLocal)&&null==r.localId)throw new Error(`Specified list data ${i}could not be found locally`);return r};class S extends u.a{constructor(e){super(),this.dependencies=e,this.selectedListIds=[],this.localListIdsMRU=[],this.getInitialState=()=>({query:"",newEntryName:[],currentTab:"user-lists",currentUser:null,focusedListRenderedId:null,listEntries:Object(p.a)(),pageLinkEntries:Object(p.a)(),selectedListIds:[],filteredListIds:null,loadState:"pristine",spaceCreateState:"pristine",spaceAddRemoveState:"pristine",spaceWriteError:null,renameListErrorMessage:null,contextMenuListId:null,listIdsShownAsTrees:[],listIdToShowNewChildInput:null,addedToAllIds:[],editMenuListId:null,blockMouseOver:!1}),this.cacheAnnotationUpdatedSubscription=e=>{},this.initCacheListsSubscription=e=>t=>{const{myLists:n,joinedLists:r,pageLinkLists:i}=Object(f.j)(Object(p.c)(t),e),o=x(this.selectedListIds,this.localListIdsMRU),a=Object(p.a)({getId:e=>e.unifiedId,seedData:[...n,...r].filter((e=>"user-list"===e.type&&null!=e.localId)).sort(o)});this.emitMutation({listEntries:{$set:a},pageLinkEntries:{$set:Object(p.a)({getId:e=>e.unifiedId,seedData:i.filter((e=>null!=e.localId)).sort(o)})}})},this.init=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(A.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t,n,r,i,o;const a=yield this.dependencies.authBG.getCurrentUser(),s=a?{type:"user-reference",id:a.id}:void 0;this.emitMutation({currentUser:{$set:null!=s?s:null}}),this.localListIdsMRU=null!==(e=yield this.localStorage.get("suggestionIds"))&&void 0!==e?e:[],this.dependencies.initialSelectedListIds&&(this.selectedListIds=(null!==(t=yield this.dependencies.initialSelectedListIds())&&void 0!==t?t:[]).filter((e=>!Object.values(w.c).includes(e))),this.emitMutation({selectedListIds:{$set:[...this.selectedListIds]}})),this.cacheListsSubscription=this.initCacheListsSubscription(s),this.dependencies.annotationsCache.events.addListener("newListsState",this.cacheListsSubscription),this.dependencies.annotationsCache.events.addListener("updatedAnnotation",this.cacheAnnotationUpdatedSubscription),this.dependencies.shouldHydrateCacheOnInit?yield Object(f.f)({user:s,cache:this.dependencies.annotationsCache,bgModules:{bgScript:this.dependencies.bgScriptBG,customLists:this.dependencies.spacesBG,contentSharing:this.dependencies.contentSharingBG,pageActivityIndicator:this.dependencies.pageActivityIndicatorBG}}):this.cacheListsSubscription(this.dependencies.annotationsCache.lists),this.selectedListIds.length>0?this.emitMutation({focusedListRenderedId:{$set:null!==(r=null===(n=this.dependencies.annotationsCache.getListByLocalId(this.selectedListIds[0]))||void 0===n?void 0:n.unifiedId)&&void 0!==r?r:null}}):this.emitMutation({focusedListRenderedId:{$set:null!==(o=null===(i=this.dependencies.annotationsCache.getListByLocalId(this.localListIdsMRU[0]))||void 0===i?void 0:i.unifiedId)&&void 0!==o?o:null}})}))))})),this.cleanup=({})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.cacheListsSubscription&&this.dependencies.annotationsCache.events.removeListener("newListsState",this.cacheListsSubscription),this.dependencies.annotationsCache.events.removeListener("updatedAnnotation",this.cacheAnnotationUpdatedSubscription)})),this.setSearchInputRef=({event:{ref:e},previousState:t})=>{this.searchInputRef=e},this.toggleListShownAsTree=({event:e,previousState:t})=>{let{baseUnifiedId:n,treeNodeUnifiedId:r}=v(e.listRenderedId);if(!r)return void this.emitMutation({listIdsShownAsTrees:{$apply:e=>e.includes(n)?e:[...e,n]},listIdToShowNewChildInput:{$set:e.shouldShowNewChildInput?n:null}});let i=this.dependencies.annotationsCache.lists.byId[r];if(!i)throw new Error("Attempted to toggle tree view for list ID that does not exist in cache");null==i.parentUnifiedId&&this.emitMutation({listIdToShowNewChildInput:{$set:null},listIdsShownAsTrees:{$set:t.listIdsShownAsTrees.filter((e=>e!==n))}})},this.focusInput=()=>{var e;null===(e=this.searchInputRef)||void 0===e||e.focus()},this.switchTab=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){t.currentTab!==e.tab&&(this.emitMutation({currentTab:{$set:e.tab}}),this.calcNextFocusedEntry(t))})),this.handleMouseOver=()=>{this.emitMutation({blockMouseOver:{$set:!1}}),document.removeEventListener("mousemove",this.handleMouseOver)},this.keyPress=({event:{event:e},previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r;if(e.stopPropagation(),"Enter"!==e.key){if("ArrowUp"===e.key){e.preventDefault();let r=this.calcNextFocusedEntry(t,-1);return null===(n=this.dependencies.getEntryRowRefs()[r])||void 0===n||n.scrollIntoView(),this.emitMutation({blockMouseOver:{$set:!0}}),void document.addEventListener("mousemove",this.handleMouseOver)}if("ArrowDown"===e.key){e.preventDefault();let n=this.calcNextFocusedEntry(t,1);return null===(r=this.dependencies.getEntryRowRefs()[n])||void 0===r||r.scrollIntoView(),this.emitMutation({blockMouseOver:{$set:!0}}),void document.addEventListener("mousemove",this.handleMouseOver)}"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||null==t.focusedListRenderedId?"Escape"!==e.key||this.dependencies.closePicker(e):yield this.handleLeftRightArrowKeyPress(t,e.key)}else{const n=e.metaKey||e.ctrlKey;yield this.handleEnterKeyPress(t,n)}})),this.openListInWebUI=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.dependencies.annotationsCache.lists.byId[e.unifiedListId];if(!(null==t?void 0:t.remoteId))throw new Error("Cannot open Space in web UI - not tracked in UI state OR not shared");const n="page-link"===t.type?Object(b.g)({remoteListId:t.remoteId,remoteListEntryId:t.sharedListEntryId}):Object(b.e)({remoteListId:t.remoteId});window.open(n,"_blank")})),this.toggleEntryContextMenu=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=t.contextMenuListId===e.listId?null:e.listId;this.emitMutation({contextMenuListId:{$set:n}})})),this.toggleEntryEditMenu=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=t.editMenuListId===e.listId?null:e.listId;this.emitMutation({editMenuListId:{$set:n}})})),this.onOpenInTabGroupPress=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.dependencies.spacesBG.createTabGroup(e.listId)})),this.setListPrivacy=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;const{annotationsCache:n,contentSharingBG:r}=this.dependencies,i=null===(t=n.getListByLocalId(e.listId))||void 0===t?void 0:t.unifiedId;if(null==i)throw new Error("Tried to set privacy for non-cached list");n.updateList({unifiedId:i,isPrivate:e.isPrivate}),yield r.updateListPrivacy({localListId:e.listId,isPrivate:e.isPrivate})})),this.renameList=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=e.name.trim(),n=C(e.listId,this.dependencies,{source:"renameList",mustBeLocal:!0});if(n.name===t)return;const r=this.validateSpaceName(t,e.listId);!1!==r.valid?(this.dependencies.annotationsCache.updateList({unifiedId:n.unifiedId,name:t}),yield this.dependencies.spacesBG.updateListName({id:n.localId,oldName:n.name,newName:t})):this.emitMutation({renameListErrorMessage:{$set:r.reason}})})),this.deleteList=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=C(e.listId,this.dependencies,{source:"deleteList",mustBeLocal:!0});this.dependencies.annotationsCache.removeList(t),this.emitMutation({contextMenuListId:{$set:null},editMenuListId:{$set:null}})})),this.searchInputChanged=({event:{query:e},previousState:t})=>{var n;if(this.emitMutation({query:{$set:e}}),t.query.trim()===e.trim())return;if(0===e.trim().length)return void this.emitMutation({newEntryName:{$set:null},query:{$set:""},filteredListIds:{$set:null}});const r=[...Object(p.c)(t.listEntries),...Object(p.c)(t.pageLinkEntries)];let i=null!==(n=t.newEntryName)&&void 0!==n?n:[],o=e;const a=o.split(/\s+/).filter(Boolean);let s=t.focusedListRenderedId,l=[];l=r.filter((e=>a.reduce(((t,n)=>t&&e.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())),!0)));let c=l.flatMap((e=>[e.unifiedId]));s=c[0];const A={filteredListIds:{$set:c},focusedListRenderedId:{$set:s}};this.emitMutation(A);const u=this.withMutation(t,A);if(c&&c.length>0){let t=c[0];l.some((t=>t.name.toLowerCase()===e.toLowerCase()))?this.emitMutation({newEntryName:{$set:null}}):(0===l.length&&o.length>0&&(t="-1"),i=[{unifiedId:null,name:e}],this.emitMutation({newEntryName:{$set:i}})),this.calcNextFocusedEntry(u,null,t)}else i=[{unifiedId:null,name:e}],this.emitMutation({newEntryName:{$set:i}});if(t.query.length>0&&0===u.query.length){this.emitMutation({newEntryName:{$set:null},query:{$set:""}});const e=this.dependencies.annotationsCache.lists,n=Object(p.c)(e),r=x(this.selectedListIds.reverse(),this.localListIdsMRU),i=Object(p.a)({getId:e=>e.unifiedId,seedData:[...n].filter((e=>"user-list"===e.type&&null!=e.localId)).sort(r)}),o={selectedListIds:{$set:this.selectedListIds},filteredListIds:{$set:null},listEntries:{$set:i}};this.emitMutation(o);const a=i.byId[0].unifiedId,s=this.withMutation(t,o);this.calcNextFocusedEntry(s,null,a)}},this.maybeSetCreateEntryDisplay=(e,t)=>{const n=e.trim();if(Object(p.c)(t.listEntries).reduce(((e,t)=>e||t.name===n),!1))this.calcNextFocusedEntry(t);else{if(t.query.length>0){const{valid:e}=this.validateSpaceName(n);if(!e)return}this.calcNextFocusedEntry(t)}},this.convertQueryIntoEntryNameObject=e=>{e.split("/")},this.pressEntry=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._pressEntry(e.entry.localId,t)})),this.resultEntryAllPress=({event:{entry:e},previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(A.d)(this,"spaceAddRemoveState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;this.processingUpstreamOperation=this.dependencies.actOnAllTabs(e.localId);const r=[e.localId,...t.selectedListIds];let i=[parseFloat(e.unifiedId),...null!==(n=t.addedToAllIds)&&void 0!==n?n:[]];this.emitMutation({selectedListIds:{$set:r},addedToAllIds:{$set:i}}),this.selectedListIds=r;try{yield this.processingUpstreamOperation}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}}))))})),this.setSpaceWriteError=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({spaceWriteError:{$set:e.error}})})),this.pressNewEntry=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._pressNewEntry(e)})),this.newEntryAllPress=({event:{entry:e},previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let n;const{success:i}=yield Object(A.d)(this,"spaceCreateState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{n=yield this.createAndDisplayNewList(e,t)}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}}))));i&&(yield Object(A.d)(this,"spaceAddRemoveState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.processingUpstreamOperation=this.dependencies.actOnAllTabs(n);try{yield this.processingUpstreamOperation}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}})))))})),this.focusListEntry=({event:e})=>{this.emitMutation({focusedListRenderedId:{$set:e.listRenderedId}})},this.localStorage=new h.a(e.localStorageAPI,{prefix:"custom-lists_"})}deriveFlatListOfRenderedEntries(e){let t=this.dependencies.getListTreeRefs(),n=e.query.trim().length>0,r=g(this.dependencies,e);return n&&(r=r.filter((t=>{var n,r;return null===(r=null===(n=e.filteredListIds)||void 0===n?void 0:n.includes(t.unifiedId))||void 0===r||r}))),r.flatMap((r=>{var i,o;if(!e.listIdsShownAsTrees.includes(r.unifiedId))return Object.assign(Object.assign({},r),{renderedId:m(r)});let a=null===(i=t[r.unifiedId])||void 0===i?void 0:i.state;if(!a)return[];let s=this.dependencies.annotationsCache.getAllListsInTreeByRootId(null!==(o=r.pathUnifiedIds[0])&&void 0!==o?o:r.unifiedId);return Object(B.a)(s,a,{areListsBeingFiltered:n}).map((e=>Object.assign(Object.assign({},e),{renderedId:m(r,e)})))}))}calcNextFocusedEntry(e,t=null,n){var r;let i=this.deriveFlatListOfRenderedEntries(e),o=-1;null!=e.focusedListRenderedId&&(o=i.findIndex((t=>t.renderedId===e.focusedListRenderedId))),n&&(o=i.findIndex((e=>e.renderedId===n)));let a=-1===o?0:o+t;a<0?a=i.length-1:a>=i.length&&(a=0);let s=null===(r=i[a])||void 0===r?void 0:r.renderedId;return null!=s&&this.emitMutation({focusedListRenderedId:{$set:s}}),s}handleLeftRightArrowKeyPress(e,t){var n,i,o,a;return Object(r.__awaiter)(this,void 0,void 0,(function*(){let{baseUnifiedId:r,treeNodeUnifiedId:s}=v(e.focusedListRenderedId),l=null!==(i=null===(n=e.listEntries.byId[s])||void 0===n?void 0:n.pathUnifiedIds[0])&&void 0!==i?i:s,c=l===s;if(null==s){if("ArrowRight"===t){if(l=null!==(a=null===(o=e.listEntries.byId[r])||void 0===o?void 0:o.pathUnifiedIds[0])&&void 0!==a?a:r,null==l)return;let t=m({unifiedId:r},{unifiedId:l});this.emitMutation({focusedListRenderedId:{$set:t},listIdsShownAsTrees:{$push:[r]}})}return}let A=this.dependencies.getListTreeRefs()[r];if(!A)throw new Error("Attempted to toggle list tree with KB arrows, though ref cannot be found.");let u=A.state.listTrees.byId[s];"ArrowLeft"===t&&!0===(null==u?void 0:u.areChildrenShown)&&!c||"ArrowRight"===t&&!1===(null==u?void 0:u.areChildrenShown)?yield A.processEvent("toggleShowChildren",{listId:s}):"ArrowLeft"===t&&c&&this.emitMutation({focusedListRenderedId:{$set:r},listIdsShownAsTrees:{$apply:e=>e.filter((e=>e!==r))}})}))}handleEnterKeyPress(e,t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null!=e.newEntryName&&t)yield this._pressNewEntry(e);else if(null!=e.newEntryName&&null==e.focusedListRenderedId)yield this._pressNewEntry(e);else if(null!=e.focusedListRenderedId){let{baseUnifiedId:t,treeNodeUnifiedId:r}=v(e.focusedListRenderedId),i=null!=r?r:t,o=null===(n=e.listEntries.byId[i])||void 0===n?void 0:n.localId;if(null==o)return;yield this._pressEntry(o,e)}}))}validateSpaceName(e,t){const n=Object(d.a)(e,Object(p.c)(this.dependencies.annotationsCache.lists).map((e=>({id:e.localId,name:e.name}))),{listIdToSkip:t});return this.emitMutation({renameListErrorMessage:{$set:!1===n.valid?n.reason:null}}),n}_pressEntry(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let n;const i=C(e,this.dependencies,{source:"pressEntry"});yield Object(A.d)(this,"spaceAddRemoveState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{let r;t.selectedListIds.includes(e)?(this.selectedListIds=t.selectedListIds.filter((t=>t!==e)),r=this.dependencies.unselectEntry(e)):(this.localListIdsMRU=Array.from(new Set([i.localId,...this.localListIdsMRU])),this.selectedListIds=Array.from(new Set([i.localId,...t.selectedListIds])),r=this.dependencies.selectEntry(e)),n=this.applyAndEmitMutation(t,{selectedListIds:{$set:this.selectedListIds}});let o=null;r instanceof Promise&&(o=yield r),!1===o&&(n=this.applyAndEmitMutation(t,{selectedListIds:{$set:t.selectedListIds}}))}catch(e){throw this.selectedListIds=t.selectedListIds,n=this.applyAndEmitMutation(t,{spaceWriteError:{$set:e.message},selectedListIds:{$set:this.selectedListIds}}),e}})))),this.searchInputChanged({event:{query:t.query},previousState:n})}))}createAndDisplayNewList(e,t,n=null,i=!1){var o,a,s,l;return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(this.dependencies.filterMode)return;let r=null;null!=n&&(r=null===(o=this.dependencies.annotationsCache.getListByLocalId(n))||void 0===o?void 0:o.pathLocalIds);const{collabKey:c,localListId:A,remoteListId:u}=yield this.dependencies.spacesBG.createCustomList({name:e,parentListId:n});this.dependencies.annotationsCache.addList({name:e,collabKey:c,localId:A,remoteId:u,hasRemoteAnnotationsToLoad:!1,type:"user-list",unifiedAnnotationIds:[],creator:null!==(a=t.currentUser)&&void 0!==a?a:void 0,parentLocalId:n,isPrivate:!0,pathLocalIds:r?[...r,n]:[]}),this.localListIdsMRU.unshift(A),i||(this.selectedListIds.unshift(A),null===(l=(s=this.dependencies).onSpaceCreate)||void 0===l||l.call(s,{name:e,localListId:A,collabKey:c,remoteListId:u}));const d=this.dependencies.annotationsCache.lists,f=Object(p.c)(d),h=x(this.selectedListIds,this.localListIdsMRU),g=Object(p.a)({getId:e=>e.unifiedId,seedData:[...f].filter((e=>"user-list"===e.type&&null!=e.localId)).sort(h)});this.emitMutation({query:{$set:""},newEntryName:{$set:[]}});const m={selectedListIds:{$set:this.selectedListIds},filteredListIds:{$set:null},listEntries:{$set:g}};this.emitMutation(m);const v=this.withMutation(t,m);return this.calcNextFocusedEntry(v),this.dependencies.selectEntry(A),A}))}_pressNewEntry(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=e.newEntryName;yield Object(A.d)(this,"spaceCreateState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r,i,o;if(null!=e.contextMenuListId)return;let a=null;for(let s=0;s<t.length;s++){const l=t[s],{valid:c}=this.validateSpaceName(l.name);if(!c)return;if(null==l.unifiedId)try{a=null===(r=this.dependencies.annotationsCache.lists.byId[null===(n=t[s-1])||void 0===n?void 0:n.unifiedId])||void 0===r?void 0:r.localId;const c=yield this.createAndDisplayNewList(l.name,e,a,s!==t.length-1),A=null===(i=this.dependencies.annotationsCache.getListByLocalId(c))||void 0===i?void 0:i.unifiedId;null===(o=this.dependencies.getListTreeRefs()[A])||void 0===o||o.processEvent("toggleShowChildren",{listId:A})}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}}}))))}))}}var k=n(27);c.a.runtime.getURL("/img/search.svg");class E extends o.a.Component{constructor(){super(...arguments),this.state={isFocused:!1},this.onChange=e=>this.props.onChange(e.target.value)}render(){return o.a.createElement(O,{placeholder:this.props.searchInputPlaceholder?this.props.searchInputPlaceholder:"Search & Add Spaces",value:this.props.value,onChange:this.onChange,onKeyDown:e=>{e.stopPropagation(),this.props.onKeyDown(e)},onKeyUp:e=>{e.stopPropagation()},type:"input",componentRef:this.props.searchInputRef,icon:"searchIcon",autoFocus:null==this.props.autoFocus||this.props.autoFocus,id:"pickerSearchBox",borderRadius:this.props.borderRadius})}}const I=s.a.div.withConfig({displayName:"SearchBox",componentId:"sc-10kpint-0"})(["align-items:center;background-color:",";color:",";display:flex;flex-wrap:wrap;font-size:1rem;padding:10px;transition:border 0.1s;margin-bottom:4px;grid-gap:5px;min-height:20px;margin:10px 10px 0px 10px;",""],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.white),(e=>e.isFocused&&Object(a.css)(["outline:1px solid ",";"],(e=>e.theme.colors.lineGrey)))),O=s()(k.a).withConfig({displayName:"SearchInput",componentId:"sc-10kpint-1"})(["border:none;background-image:none;background-color:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;display:flex;flex:1;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-size:14px;height:fill-available;width:fill-available;& *{font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;}&:focus{border:none;outline:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;}&:focus ","{border:1px solid ",";}"],(e=>e.theme.colors.white),I,(e=>e.theme.colors.lineGrey));var F=n(69),D=n(13),_=e=>{const t=e.resultItem.map(((t,n)=>n===e.resultItem.length-1?t.name:e.resultItem.length>1?t.name+"/":t.name));return o.a.createElement(T,{onClick:e.onPress},o.a.createElement(U,null,o.a.createElement(M,null,'Create "',t,'"'),0===e.resultsCount&&o.a.createElement(D.a,{getRootElement:e.getRootElement,size:"small",keys:["Enter"]}),e.resultsCount>0&&o.a.createElement(D.a,{size:"small",keys:[e.commandKey,"Enter"],getRootElement:e.getRootElement})),e.children)};s.a.div.withConfig({displayName:"Flex",componentId:"tu6ktc-0"})(["flex:1;"]);const T=s.a.div.withConfig({displayName:"AddNew",componentId:"tu6ktc-1"})(["align-items:start;display:flex;justify-content:center;align-items:center;color:",";background:",";font-size:","px;font-weight:500;min-height:20px;height:fit-content;padding:8px 20px;word-break:break-word;cursor:pointer;border-radius:5px;margin:10px;& *{cursor:pointer;}"],(e=>e.theme.colors.black),(e=>e.theme.colors.white),F.m),U=s.a.div.withConfig({displayName:"ContentBox",componentId:"tu6ktc-2"})(["display:flex;flex-direction:row;grid-gap:10px;font-size:14px;align-items:center;color:",";"],(e=>e.theme.colors.white)),M=s.a.span.withConfig({displayName:"Title",componentId:"tu6ktc-3"})(["color:",";font-size:14px;display:flex;flex:1;"],(e=>e.theme.colors.black));var L=n(12),Q=n(9),R=n(4),P=n(7),H=n(22),N=n(5);class j extends o.a.PureComponent{constructor(){super(...arguments),this.resultEntryRef=Object(i.createRef)(),this.pressAllButtonRef=Object(i.createRef)(),this.addSubSpaceIconRef=o.a.createRef(),this.state={checkBoxHover:!1,mouseOverItem:!1,showExtraMenu:!1,confirmOpenAll:!1},this.handleActOnAllPress=e=>{var t,n;return null===(n=(t=this.props).onPressActOnAll)||void 0===n||n.call(t),e.stopPropagation(),!1},this.handleContextMenuBtnPress=e=>(this.props.onContextMenuBtnPress(),e.preventDefault(),e.stopPropagation(),!1),this.handleEditMenuBtnPress=e=>(this.props.onEditMenuBtnPress(),e.preventDefault(),e.stopPropagation(),!1),this.handleOpenInTabGroup=e=>(e.preventDefault(),e.stopPropagation(),this.state.confirmOpenAll?(this.props.onOpenInTabGroupPress(),e.preventDefault(),e.stopPropagation(),setTimeout((()=>{this.setState({confirmOpenAll:!1})}),2e3)):(this.setState({confirmOpenAll:!0}),e.preventDefault(),e.stopPropagation()),!1),this.handleResultPress=e=>{var t,n,r,i,o,a,s,l,c,A,u,d;if(e.shiftKey)this.props.onListFocus(this.props.id);else{if((null===(n=null===(t=this.props.contextMenuBtnRef)||void 0===t?void 0:t.current)||void 0===n?void 0:n.contains(e.target))||(null===(i=null===(r=this.props.goToButtonRef)||void 0===r?void 0:r.current)||void 0===i?void 0:i.contains(e.target))||(null===(a=null===(o=this.props.editMenuBtnRef)||void 0===o?void 0:o.current)||void 0===a?void 0:a.contains(e.target))||(null===(l=null===(s=this.props.extraMenuBtnRef)||void 0===s?void 0:s.current)||void 0===l?void 0:l.contains(e.target))||(null===(A=null===(c=this.props.openInTabGroupButtonRef)||void 0===c?void 0:c.current)||void 0===A?void 0:A.contains(e.target))||this.state.showExtraMenu)return;if(this.props.onPressActOnAll&&null!=this.pressAllButtonRef&&(null===(d=null===(u=this.pressAllButtonRef)||void 0===u?void 0:u.current)||void 0===d?void 0:d.contains(e.target)))return;this.props.onPress()}this.setState({checkBoxHover:!1}),this.props.keepScrollPosition(),e.stopPropagation()},this.scrollIntoView=()=>{var e;null===(e=this.resultEntryRef)||void 0===e||e.current.scrollIntoView({block:"center"})},this.handleOpenSpaceFromPicker=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.props.bgScriptBG.openOverviewTab({selectedSpace:this.props.localId}),e.preventDefault(),e.stopPropagation()}))}renderShowExtraMenu(e){var t,n;return this.state.showExtraMenu?o.a.createElement(H.a,{targetElementRef:null===(t=this.props.extraMenuBtnRef)||void 0===t?void 0:t.current,placement:"top-end",offsetX:10,closeComponent:()=>{this.setState({showExtraMenu:!1})},getPortalRoot:this.props.getRootElement,blockedBackground:!0},o.a.createElement($,null,o.a.createElement(N.a,{onClick:this.handleOpenSpaceFromPicker,icon:"goTo",size:"medium",type:"tertiary",fullWidth:!0,label:"Go to Space",innerRef:this.props.goToButtonRef,width:"100%"}),o.a.createElement(N.a,{onClick:this.handleEditMenuBtnPress,icon:"edit",size:"medium",type:"tertiary",fullWidth:!0,label:"Rename & Delete",innerRef:this.props.editMenuBtnRef,width:"100%"}),o.a.createElement(N.a,{onClick:this.handleOpenInTabGroup,icon:"goTo",size:"medium",type:"tertiary",fullWidth:!0,label:this.state.confirmOpenAll?"Confirm opening all urls":"Open all pages in new window",innerRef:this.props.openInTabGroupButtonRef,width:"100%"}),this.props.addedToAllIds.includes(e)?o.a.createElement(P.a,{tooltipText:o.a.createElement(o.a.Fragment,null,"All open tabs in this window",o.a.createElement("br",null)," have been added to this Space"),placement:"top",getPortalRoot:this.props.getRootElement},o.a.createElement(N.a,{icon:"checkRound",size:"medium",type:"tertiary",fullWidth:!0,label:"Added all tabs in window",innerRef:this.pressAllButtonRef,onClick:null,width:"100%"})):o.a.createElement(P.a,{tooltipText:null!==(n=this.props.actOnAllTooltipText)&&void 0!==n?n:"",placement:"bottom",getPortalRoot:this.props.getRootElement},o.a.createElement(N.a,{icon:"multiEdit",size:"medium",type:"tertiary",fullWidth:!0,label:"Add all tabs in window",innerRef:this.pressAllButtonRef,onClick:this.handleActOnAllPress,width:"100%"})))):null}render(){var e,t,n,r,i;const{id:a,focused:s,selected:l,resultItem:c,contextMenuBtnRef:A,shareState:u,dndActions:d}=this.props;let f=parseInt(a.split("ListKeyName-")[1]);return o.a.createElement(G,{onDragStart:null==d?void 0:d.onDragStart,onDragEnd:null==d?void 0:d.onDragEnd,draggable:!0,onClick:this.handleResultPress,ref:this.resultEntryRef,onMouseOver:()=>{this.props.blockMouseOver||(this.setState({mouseOverItem:!0}),this.props.onFocus())},onMouseEnter:()=>{this.props.blockMouseOver||(this.setState({mouseOverItem:!0}),this.props.onFocus())},onMouseLeave:()=>{this.props.blockMouseOver||this.setState({mouseOverItem:!1})},isFocused:s||this.state.showExtraMenu,id:a,zIndex:1e4-this.props.index,indentSteps:null!==(e=this.props.indentSteps)&&void 0!==e?e:0},o.a.createElement(z,null,null===(n=(t=this.props).renderLeftSideIcon)||void 0===n?void 0:n.call(t)),o.a.createElement(q,null,(null===(r=this.props.ancestryPath)||void 0===r?void 0:r.length)>0&&o.a.createElement(P.a,{tooltipText:"Toggle Path",placement:"bottom",getPortalRoot:this.props.getRootElement,width:""},o.a.createElement(Y,{onClick:this.props.onAncestryPathClick},this.props.ancestryPath," ")),o.a.createElement(J,null,c,"shared"===u&&o.a.createElement(P.a,{tooltipText:"Shared Space",placement:"bottom",getPortalRoot:this.props.getRootElement},o.a.createElement(R.a,{heightAndWidth:"14px",icon:"peopleFine",hoverOff:!0,color:"greyScale5"})))),o.a.createElement(V,{mouseOverResult:s||this.state.mouseOverItem},((s||this.state.mouseOverItem)&&null!=this.props.onContextMenuBtnPress||this.state.showExtraMenu)&&o.a.createElement(o.a.Fragment,null,this.renderShowExtraMenu(f),o.a.createElement(P.a,{tooltipText:"Add Sub-Space",placement:"right",targetElementRef:this.addSubSpaceIconRef.current,getPortalRoot:this.props.getRootElement},o.a.createElement(R.a,{containerRef:this.addSubSpaceIconRef,icon:"plus",heightAndWidth:"18px",color:"greyScale5",onClick:e=>{var t,n;e.stopPropagation(),null===(n=(t=this.props).toggleShowNewChildInput)||void 0===n||n.call(t)}})),o.a.createElement(P.a,{tooltipText:"More Options",placement:"bottom",targetElementRef:null===(i=this.props.extraMenuBtnRef)||void 0===i?void 0:i.current,getPortalRoot:this.props.getRootElement},o.a.createElement(K,{ref:this.props.extraMenuBtnRef},o.a.createElement(R.a,{filePath:Q.dots,heightAndWidth:"18px",onClick:()=>this.setState({showExtraMenu:!0}),background:this.state.showExtraMenu?"greyScale3":null}))),o.a.createElement(P.a,{tooltipText:"Share Space",placement:"bottom",targetElementRef:null==A?void 0:A.current,getPortalRoot:this.props.getRootElement},o.a.createElement(K,{ref:A},o.a.createElement(R.a,{filePath:Q.invite,heightAndWidth:"18px",onClick:this.handleContextMenuBtnPress})))),l&&o.a.createElement(K,null,o.a.createElement(W,{onMouseEnter:()=>this.setState({checkBoxHover:!0}),onMouseLeave:()=>this.setState({checkBoxHover:!1}),selected:l},o.a.createElement(R.a,{icon:Q.check,heightAndWidth:"16px",hoverOff:!0,color:this.state.checkBoxHover?"greyScale5":"black"}))),!l&&s&&o.a.createElement(K,null,o.a.createElement(W,{onMouseEnter:()=>this.setState({checkBoxHover:!0}),onMouseLeave:()=>this.setState({checkBoxHover:!1}),selected:l},o.a.createElement(R.a,{icon:Q.check,heightAndWidth:"16px",hoverOff:!0,color:this.state.checkBoxHover?"white":"greyScale1"})))))}}const z=s.a.div.withConfig({displayName:"LeftSideIconContainer",componentId:"sc-13vd0hv-0"})([""]),K=(s.a.div.withConfig({displayName:"ActOnAllTabsButton",componentId:"sc-13vd0hv-1"})(["pointer-events:auto !important;"]),s.a.div.withConfig({displayName:"ButtonContainer",componentId:"sc-13vd0hv-2"})(["height:20px;width:20px;display:flex;justify-content:center;border-radius:5px;align-items:center;cursor:pointer;*{cursor:pointer;}"])),$=s.a.div.withConfig({displayName:"ExtraMenuContainer",componentId:"sc-13vd0hv-3"})(["display:flex;flex-direction:column;align-items:flex-start;padding:10px;grid-gap:6px;& > div{width:100%;}"]),W=s.a.div.withConfig({displayName:"SelectionBox",componentId:"sc-13vd0hv-4"})(["height:20px;width:20px;display:flex;justify-content:center;align-items:center;border-radius:5px;background:",";",";"],(e=>e.selected?e.theme.colors.greyScale7:e.theme.colors.greyScale3),(e=>"light"===e.theme.variant&&Object(a.css)(["background:",";"],(e=>e.selected?e.theme.colors.greyScale4:e.theme.colors.greyScale3)))),V=s.a.div.withConfig({displayName:"IconStyleWrapper",componentId:"sc-13vd0hv-5"})(["display:flex;grid-gap:10px;align-items:center;justify-content:flex-end;height:fit-content;position:absolute;right:5px;padding:5px 5px 5px 5px;box-sizing:border-box;",""],(e=>e.mouseOverResult&&Object(a.css)(["border-radius:6px;background:",";"],(e=>e.theme.colors.greyScale2)))),G=s.a.div.withConfig({displayName:"Row",componentId:"sc-13vd0hv-6"})(["align-items:center;display:flex;justify-content:flex-start;transition:background 0.3s;height:60px;width:fill-available;cursor:pointer;padding:0px 0px 0 ","px;box-sizing:border-box;margin:0 0px;overflow:visible;color:",";z-index:",";&:last-child{border-bottom:none;}"," &:focus{outline:1px solid ",";background:transparent;}",";"],(({indentSteps:e})=>9+15*e),(e=>e.isFocused&&e.theme.colors.greyScale6),(e=>e.isFocused?e.zIndex+1e3:e.zIndex),(e=>e.isFocused&&Object(a.css)(["outline:1px solid ",";background:transparent;"],(e=>e.theme.colors.greyScale4))),(e=>e.theme.colors.greyScale4),(e=>"light"===e.theme.variant&&Object(a.css)(["&:focus{outline:1px solid ",";}&:hover{outline:1px solid ",";background:transparent;}",""],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale2),(e=>e.isFocused&&Object(a.css)(["outline:1px solid ",";background:transparent;"],(e=>e.theme.colors.greyScale2)))))),q=s.a.div.withConfig({displayName:"NameWrapper",componentId:"sc-13vd0hv-7"})(["display:flex;flex-direction:column;align-items:flex-start;padding-left:10px;grid-gap:2px;max-width:80%;font-size:14px;width:100%;min-width:50px;flex:1;"]),Y=s.a.div.withConfig({displayName:"PathBox",componentId:"sc-13vd0hv-8"})(["display:flex;justify-content:flex-start;font-size:12px;color:",";grid-gap:0px;padding:0 3px;margin:0 -3px;border-radius:5px;align-items:center;white-space:nowrap;width:fit-content;box-sizing:border-box;&:hover{outline:1px solid ",";cursor:pointer;color:",";}"],(e=>e.theme.colors.greyScale5),(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale7)),J=s.a.div.withConfig({displayName:"NameRow",componentId:"sc-13vd0hv-9"})(["display:flex;align-items:center;grid-gap:5px;width:100%;text-align:left;justify-content:flex-start;"]);var X=j,Z=n(35);const ee=s.a.div.withConfig({displayName:"ListResultItem",componentId:"sc-1jr6mth-0"})(["display:block;border-radius:4px;color:",";padding:0 0px 0 0;margin:2px 4px 2px 0;font-weight:400;font-size:14px;transition:all 0.1s;word-break:break-word;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;max-width:90%;&:hover{cursor:pointer;}"],(e=>e.theme.colors.greyScale6));var te=n(47),ne=n(194),re=n(195),ie=n(106),oe=n(25),ae=n(209),se=n(191),le=n(6),ce=n(241),Ae=n(240);class ue extends A.a{constructor(e){super(e,new S(Object.assign(Object.assign({},e),{getListTreeRefs:()=>this.listTreesRefs,getEntryRowRefs:()=>this.entryRowRefs}))),this.displayListRef=o.a.createRef(),this.contextMenuRef=o.a.createRef(),this.editMenuRef=o.a.createRef(),this.contextMenuBtnRef=o.a.createRef(),this.editMenuBtnRef=o.a.createRef(),this.extraMenuBtnRef=o.a.createRef(),this.goToButtonRef=o.a.createRef(),this.openInTabGroupButtonRef=o.a.createRef(),this.searchInputRef=o.a.createRef(),this.listTreesRefs={},this.entryRowRefs={},this.handleSetSearchInputRef=e=>this.processEvent("setSearchInputRef",{ref:e}),this.handleOuterSearchBoxClick=()=>this.processEvent("focusInput",{}),this.handleSearchInputChanged=e=>this.processEvent("searchInputChanged",{query:e}),this.handleNewListAllPress=e=>{e.stopPropagation()},this.handleKeyPress=e=>{e.stopPropagation(),this.processEvent("keyPress",{event:e})},this.keepScrollPosition=()=>{const e=this.displayListRef.current,t=e.scrollTop;null!=e&&0===t&&e.scroll({top:0})},this.handleSpaceContextMenuClose=e=>()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;const n=null===(t=this.props.annotationsCache.getListByLocalId(e))||void 0===t?void 0:t.name;null!=n&&(yield this.processEvent("renameList",{listId:e,name:n})),yield this.processEvent("toggleEntryContextMenu",{listId:e})}))}get shouldShowAddNewEntry(){var e,t,n;if(this.props.filterMode||"running"===this.state.loadState||"page-links"===this.state.currentTab)return!1;const r=null!==(n=null===(t=null===(e=this.state.newEntryName)||void 0===e?void 0:e[this.state.newEntryName.length-1])||void 0===t?void 0:t.name)&&void 0!==n?n:"";return Object(d.a)(r,[]).valid}get selectedCacheListIds(){return this.state.selectedListIds.map((e=>{var t;return null===(t=this.props.annotationsCache.getListByLocalId(e))||void 0===t?void 0:t.unifiedId})).filter(Boolean)}renderEmptyList(){var e,t;return(null===(e=this.state.newEntryName)||void 0===e?void 0:e.length)>0&&!this.props.filterMode||this.state.query.trim().length>0&&0===(null===(t=this.state.filteredListIds)||void 0===t?void 0:t.length)?o.a.createElement(xe,null,o.a.createElement(ie.a,{heightAndWidth:"30px"},o.a.createElement(R.a,{filePath:Q.collectionsEmpty,heightAndWidth:"16px",color:"prime1",hoverOff:!0})),o.a.createElement(ye,null,"No Space found")):this.state.query.trim().length||this.state.filteredListIds||"page-links"!==this.state.currentTab?this.state.query.trim().length||this.state.filteredListIds?void 0:o.a.createElement(xe,null,o.a.createElement(me,null,o.a.createElement(R.a,{filePath:Q.collectionsEmpty,heightAndWidth:"16px",color:"prime1",hoverOff:!0})),o.a.createElement(ye,null,"Create your first Space"),o.a.createElement(ve,null,this.props.filterMode?"to use as a search filter":"by typing into the search field")):o.a.createElement(xe,null,o.a.createElement(me,null,o.a.createElement(R.a,{filePath:Q.collectionsEmpty,heightAndWidth:"16px",color:"prime1",hoverOff:!0})),o.a.createElement(ye,null,"Create your first page link"),o.a.createElement(ve,null,'by clicking on "Share Page" ',o.a.createElement("br",null),"in the top right of the sidebar."))}renderListEntries(){let e=this.state.query.trim().length>0,t=g(this.props,this.state);if(e&&(t=t.filter((e=>{var t,n;return null===(n=null===(t=this.state.filteredListIds)||void 0===t?void 0:t.includes(e.unifiedId))||void 0===n||n}))),!t.length)return this.renderEmptyList();const n=(e,t)=>{if(!t)return e;const n=e.split(t);return n.map(((e,r)=>o.a.createElement(o.a.Fragment,{key:r},e,r<n.length-1&&o.a.createElement(Se,null,t))))};return t.map(((t,r)=>{var i,a,s,l,c,A,u;if(this.state.listIdsShownAsTrees.includes(t.unifiedId)){let s=this.props.annotationsCache.getAllListsInTreeByRootId(null!==(i=t.pathUnifiedIds[0])&&void 0!==i?i:t.unifiedId);return o.a.createElement(Ie,{active:!0,key:t.unifiedId},o.a.createElement(ce.a,{lists:s,ref:e=>this.listTreesRefs[t.unifiedId]=e,authBG:this.props.authBG,listsBG:this.props.spacesBG,cache:this.props.annotationsCache,initListsToDisplayUnfolded:[...this.selectedCacheListIds,...s.map((e=>e.unifiedId))],areListsBeingFiltered:e,initListToDisplayNewChildInput:null!==(a=this.state.listIdToShowNewChildInput)&&void 0!==a?a:void 0},((e,i,a,s)=>{var l,c,A,u,d;return o.a.createElement(Ce,{onDragEnter:s.onDragEnter,onDragLeave:s.onDragLeave,onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:s.onDrop,key:m(t,e)},o.a.createElement(X,Object.assign({blockMouseOver:this.state.blockMouseOver,id:`ListKeyName-${e.unifiedId}`,ref:n=>this.entryRowRefs[m(t,e)]=n,indentSteps:e.pathUnifiedIds.length,dndActions:s,onPress:()=>{this.processEvent("pressEntry",{entry:e})},onListFocus:()=>this.props.onListFocus(e.localId),addedToAllIds:this.state.addedToAllIds,keepScrollPosition:this.keepScrollPosition,onPressActOnAll:this.props.actOnAllTabs?()=>this.processEvent("resultEntryAllPress",{entry:e}):void 0,bgScriptBG:this.props.bgScriptBG,onFocus:()=>this.processEvent("focusListEntry",{listRenderedId:m(t,e)}),onUnfocus:()=>this.processEvent("focusListEntry",{listRenderedId:null}),index:r,selected:this.state.selectedListIds.includes(e.localId),focused:this.state.focusedListRenderedId===m(t,e),resultItem:o.a.createElement(ee,null,n(e.name,this.state.query)),contextMenuBtnRef:this.contextMenuBtnRef,goToButtonRef:this.goToButtonRef,editMenuBtnRef:this.editMenuBtnRef,extraMenuBtnRef:this.extraMenuBtnRef,openInTabGroupButtonRef:this.openInTabGroupButtonRef,onContextMenuBtnPress:(null===(l=e.creator)||void 0===l?void 0:l.id)===(null===(c=this.state.currentUser)||void 0===c?void 0:c.id)?()=>this.processEvent("toggleEntryContextMenu",{listId:e.localId}):void 0,onEditMenuBtnPress:(null===(A=e.creator)||void 0===A?void 0:A.id)===(null===(u=this.state.currentUser)||void 0===u?void 0:u.id)?()=>this.processEvent("toggleEntryEditMenu",{listId:e.localId}):void 0,onOpenInTabGroupPress:()=>this.processEvent("onOpenInTabGroupPress",{listId:e.localId}),actOnAllTooltipText:"Add all tabs in window to Space",shareState:null===(d=null==e?void 0:e.isPrivate)||void 0===d||d?"private":"shared",getRootElement:this.props.getRootElement},e,{toggleShowNewChildInput:a.toggleShowNewChildInput,renderLeftSideIcon:()=>o.a.createElement(Ae.a,{getRootElement:this.props.getRootElement,treeState:i,actions:Object.assign(Object.assign({},a),{toggleShowChildren:()=>{null==e.parentUnifiedId?this.processEvent("toggleListShownAsTree",{listRenderedId:m(t,e)}):a.toggleShowChildren()}})})})))})))}let d=t.pathUnifiedIds.map(((e,t)=>{let n=this.props.annotationsCache.lists.byId[e];return n?{unifiedId:n.unifiedId,name:n.name}:null})).filter(Boolean);const f=d.reduce(((e,t)=>e+t.name.length),0)>30;if(f){const e=d[0];if(d.length>1){const t=d[d.length-1];let n=d.slice(1,-1);for(let e of n)e.name="...";n.length>2&&(n=n.slice(0,2));const r=30-e.name.length-t.name.length-2*n.length;d[d.length-1].name=d[d.length-1].name.slice(0,Math.floor(r/2)),d[0].name=d[0].name.slice(0,Math.floor(r/2))}else d[0].name=d[0].name.slice(0,Math.floor(30))}let p=d.map(((e,t)=>o.a.createElement(ke,{shouldShorten:f&&d.length>1,key:e.unifiedId},t>0&&o.a.createElement(R.a,{filePath:"arrowRight",heightAndWidth:"14px",color:"greyScale4",hoverOff:!0}),o.a.createElement(Ee,null,e.name))));return o.a.createElement(Ie,{active:!1,key:t.unifiedId},o.a.createElement(Ce,null,o.a.createElement(X,Object.assign({blockMouseOver:this.state.blockMouseOver,ancestryPath:p,onAncestryPathClick:e=>{e.stopPropagation(),this.processEvent("toggleListShownAsTree",{listRenderedId:m(t)})},id:`ListKeyName-${t.unifiedId}`,ref:e=>this.entryRowRefs[m(t)]=e,onPress:()=>{this.processEvent("pressEntry",{entry:t})},onListFocus:()=>this.props.onListFocus(t.localId),addedToAllIds:this.state.addedToAllIds,keepScrollPosition:this.keepScrollPosition,onPressActOnAll:this.props.actOnAllTabs?()=>this.processEvent("resultEntryAllPress",{entry:t}):void 0,bgScriptBG:this.props.bgScriptBG,onFocus:()=>this.processEvent("focusListEntry",{listRenderedId:m(t)}),onUnfocus:()=>this.processEvent("focusListEntry",{listRenderedId:null}),index:r,selected:this.state.selectedListIds.includes(t.localId),focused:this.state.focusedListRenderedId===m(t),resultItem:o.a.createElement(ee,null,n(t.name,this.state.query)),contextMenuBtnRef:this.contextMenuBtnRef,goToButtonRef:this.goToButtonRef,editMenuBtnRef:this.editMenuBtnRef,extraMenuBtnRef:this.extraMenuBtnRef,openInTabGroupButtonRef:this.openInTabGroupButtonRef,onContextMenuBtnPress:(null===(s=t.creator)||void 0===s?void 0:s.id)===(null===(l=this.state.currentUser)||void 0===l?void 0:l.id)?()=>this.processEvent("toggleEntryContextMenu",{listId:t.localId}):void 0,onEditMenuBtnPress:(null===(c=t.creator)||void 0===c?void 0:c.id)===(null===(A=this.state.currentUser)||void 0===A?void 0:A.id)?()=>this.processEvent("toggleEntryEditMenu",{listId:t.localId}):void 0,onOpenInTabGroupPress:()=>this.processEvent("onOpenInTabGroupPress",{listId:t.localId}),actOnAllTooltipText:"Add all tabs in window to Space",shareState:null===(u=null==t?void 0:t.isPrivate)||void 0===u||u?"private":"shared",getRootElement:this.props.getRootElement,toggleShowNewChildInput:()=>this.processEvent("toggleListShownAsTree",{listRenderedId:m(t),shouldShowNewChildInput:!0})},t,{renderLeftSideIcon:()=>{var e;const n=(null===(e=this.props.annotationsCache.getListsByParentId(t.unifiedId))||void 0===e?void 0:e.length)>0;return o.a.createElement(P.a,{tooltipText:n?"Show Sub-Spaces":"Add Subspace",placement:"bottom",getPortalRoot:this.props.getRootElement,hideTooltip:n},o.a.createElement(R.a,{icon:n?"arrowRight":"plus",color:n?"greyScale5":"greyScale4",heightAndWidth:"18px",padding:"1px",onClick:e=>{e.stopPropagation(),this.processEvent("toggleListShownAsTree",{listRenderedId:m(t),shouldShowNewChildInput:!n})}}))}}))))}))}renderMainContent(){var e,t,n,i,a;if("running"===this.state.loadState)return o.a.createElement(be,null,o.a.createElement(L.a,{size:30}));if(null!=this.state.contextMenuListId){const n=this.props.annotationsCache.getListByLocalId(this.state.contextMenuListId);return o.a.createElement(o.a.Fragment,null,o.a.createElement(he,null,o.a.createElement(N.a,{type:"tertiary",size:"small",label:"Go back",icon:"arrowLeft",onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.processEvent("toggleEntryContextMenu",{listId:n.localId})}))}),null!=n.remoteId&&o.a.createElement(N.a,{type:"tertiary",size:"small",label:"Open Space",icon:"globe",onClick:()=>this.processEvent("openListInWebUI",{unifiedListId:n.unifiedId}),padding:"3px 6px"})),o.a.createElement(ne.a,{isCreator:(null===(e=n.creator)||void 0===e?void 0:e.id)===(null===(t=this.state.currentUser)||void 0===t?void 0:t.id),listData:n,ref:this.contextMenuRef,contentSharingBG:this.props.contentSharingBG,analyticsBG:this.props.analyticsBG,errorMessage:this.state.renameListErrorMessage,onSetSpacePrivate:e=>this.processEvent("setListPrivacy",{listId:n.localId,isPrivate:e}),getRootElement:this.props.getRootElement}))}if(null!=this.state.editMenuListId){const e=this.props.annotationsCache.getListByLocalId(this.state.editMenuListId);return o.a.createElement(o.a.Fragment,null,o.a.createElement(he,null,o.a.createElement(N.a,{type:"tertiary",size:"small",label:"Go back",icon:"arrowLeft",onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.processEvent("toggleEntryEditMenu",{listId:e.localId})}))})),o.a.createElement(re.a,{loadOwnershipData:!0,isCreator:(null===(n=e.creator)||void 0===n?void 0:n.id)===(null===(i=this.state.currentUser)||void 0===i?void 0:i.id),listData:e,ref:this.editMenuRef,contentSharingBG:this.props.contentSharingBG,analyticsBG:this.props.analyticsBG,spacesBG:this.props.spacesBG,onDeleteSpaceConfirm:()=>{this.processEvent("deleteList",{listId:e.localId})},errorMessage:this.state.renameListErrorMessage,onConfirmSpaceNameEdit:t=>{this.processEvent("renameList",{listId:e.localId,name:t})},onCancelEdit:this.handleSpaceContextMenuClose(e.localId),getRootElement:this.props.getRootElement}))}return o.a.createElement(Be,null,o.a.createElement(pe,null,o.a.createElement(E,{searchInputRef:this.searchInputRef,searchInputPlaceholder:this.props.searchInputPlaceholder?this.props.searchInputPlaceholder:this.props.filterMode?"Search for Spaces to filter":"Search & Add Spaces",showPlaceholder:0===this.state.selectedListIds.length,onChange:this.handleSearchInputChanged,onKeyDown:e=>{this.handleKeyPress(e)},value:this.state.query,autoFocus:!(this.state.listIdToShowNewChildInput||this.state.listIdsShownAsTrees.length>0),borderRadius:"12px 12px 0 0"})),o.a.createElement(ge,{shouldScroll:this.state.listEntries.allIds.length<5,ref:this.displayListRef,context:this.props.context},this.props.showPageLinks&&o.a.createElement(de,null,o.a.createElement(fe,{active:"user-lists"===this.state.currentTab,onClick:()=>this.processEvent("switchTab",{tab:"user-lists"})},"Spaces"),o.a.createElement(fe,{active:"page-links"===this.state.currentTab,onClick:()=>this.processEvent("switchTab",{tab:"page-links"})},"Page Links")),this.renderListEntries()),this.shouldShowAddNewEntry&&o.a.createElement(_,{resultItem:this.state.newEntryName,onPress:()=>this.processEvent("pressNewEntry",null),resultsCount:null===(a=this.state.filteredListIds)||void 0===a?void 0:a.length,commandKey:ue.MOD_KEY,getRootElement:this.props.getRootElement}))}render(){return o.a.createElement(a.ThemeProvider,{theme:Z.h},this.state.spaceWriteError&&o.a.createElement(se.a,{closeComponent:()=>{this.processEvent("setSpaceWriteError",{error:null})},getPortalRoot:this.props.getRootElement,blockedBackground:!0,positioning:"centerCenter",title:"Error saving note",errorMessage:this.state.spaceWriteError}),o.a.createElement(we,{onClick:this.handleOuterSearchBoxClick,width:this.props.width,context:this.props.context},this.renderMainContent()))}}ue.defaultProps={authBG:te.b,spacesBG:te.d,analyticsBG:te.a,bgScriptBG:Object(le.k)(),contentSharingBG:te.e,localStorageAPI:c.a.storage.local,pageActivityIndicatorBG:te.h,annotationsCache:new ae.a({})},ue.MOD_KEY=Object(oe.a)({key:"mod"});const de=s.a.div.withConfig({displayName:"OutputSwitcherContainer",componentId:"srir6-0"})(["display:flex;border-radius:6px;margin-bottom:10px;width:fill-available;"]),fe=s.a.div.withConfig({displayName:"OutputSwitcher",componentId:"srir6-1"})(["display:flex;color:",";padding:5px 10px;font-size:12px;cursor:pointer;justify-content:center;width:50%;border-radius:4px;",""],(e=>"light"===e.theme.variant?e.theme.colors.greyScale5:e.theme.colors.greyScale7),(e=>e.active&&Object(a.css)(["outline:1px solid ",";"],(e=>e.theme.colors.greyScale2)))),pe=s.a.div.withConfig({displayName:"SearchContainer",componentId:"srir6-2"})(["border-radius:12px 12px 0 0;"]),he=s.a.div.withConfig({displayName:"PrimaryActionBox",componentId:"srir6-3"})(["padding:2px 9px 5px 5px;margin-bottom:5px;border-bottom:1px solid ",";display:flex;align-items:center;justify-content:space-between;"],(e=>e.theme.colors.greyScale3)),ge=s.a.div.withConfig({displayName:"EntryList",componentId:"srir6-4"})(["position:relative;height:100%;padding:5px 0px 10px 0px;overflow:scroll;max-height:300px;scrollbar-width:none;&::-webkit-scrollbar{display:none;}",";",";"],(e=>"popup"===e.context&&Object(a.css)(["width:fill-available;height:100%;max-height:400px;"])),(e=>e.shouldScroll&&Object(a.css)(["overflow:visible;"]))),me=s.a.div.withConfig({displayName:"SectionCircle",componentId:"srir6-5"})(["background:",";border:1px solid ",";border-radius:8px;height:30px;width:30px;display:flex;justify-content:center;align-items:center;",";"],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale6),(e=>"light"===e.theme.variant&&Object(a.css)(["border-color:",";"],e.theme.colors.greyScale3))),ve=s.a.div.withConfig({displayName:"InfoText",componentId:"srir6-6"})(["color:",";font-size:14px;font-weight:300;text-align:center;"],(e=>e.theme.colors.greyScale5)),ye=s.a.div.withConfig({displayName:"SectionTitle",componentId:"srir6-7"})(["color:",";font-size:14px;font-weight:400;margin-top:10px;"],(e=>e.theme.colors.greyScale6)),be=s.a.div.withConfig({displayName:"LoadingBox",componentId:"srir6-8"})(["display:flex;align-items:center;justify-content:center;height:130px;width:100%;"]),we=s.a.div.withConfig({displayName:"OuterSearchBox",componentId:"srir6-9"})(["border-radius:12px;width:",";min-height:300px;background:",";",";"],(e=>e.width?e.width:"300px"),(e=>e.theme.colors.black1),(e=>"popup"===e.context&&Object(a.css)(["width:fill-available;"]))),Be=s.a.div.withConfig({displayName:"PickerContainer",componentId:"srir6-10"})(["border-radius:12px;width:fill-available;"]),xe=s.a.div.withConfig({displayName:"EmptyListsView",componentId:"srir6-11"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;grid-gap:5px;padding:20px 15px;"]),Ce=s.a.div.withConfig({displayName:"EntryRowContainer",componentId:"srir6-12"})(["display:flex;flex-direction:row;align-items:center;position:relative;"]),Se=s.a.span.withConfig({displayName:"HighlightedTextSpan",componentId:"srir6-13"})(["background:",";border-radius:4px;margin:0 2px;color:",";white-space:nowrap;"],(e=>e.theme.colors.prime1),(e=>e.theme.colors.black)),ke=s.a.div.withConfig({displayName:"PathElementBox",componentId:"srir6-14"})(["overflow:hidden;display:flex;align-items:center;"]),Ee=s.a.div.withConfig({displayName:"BreadCrumbItem",componentId:"srir6-15"})(["font-size:12px;color:",";max-width:fit-content;margin-right:5px;cursor:pointer;white-space:nowrap;width:fit-content;text-overflow:ellipsis;overflow:hidden;"],(e=>e.theme.colors.greyScale5)),Ie=s.a.div.withConfig({displayName:"EntryOuterContainer",componentId:"srir6-16"})(["border-bottom:1px solid ",";",";&:last-child{border-bottom:none;}"],(e=>e.theme.colors.greyScale2),(e=>e.active&&Object(a.css)(["background:",";"],(e=>e.theme.colors.black2))));t.a=ue},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(51),i=n(102);const o=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e));function a(e,t){if(t=Object.assign({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),Reflect.has(t,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");const n=(e=e.trim()).startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const a=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");t.forceHttp&&"https:"===a.protocol&&(a.protocol="http:"),t.forceHttps&&"http:"===a.protocol&&(a.protocol="https:"),t.stripAuthentication&&(a.username="",a.password="");if(t.stripHash&&!["web.telegram.org","mail.google.com"].includes(a.hostname)&&(a.hash=""),a.pathname&&(a.pathname=a.pathname.replace(/((?!:).|^)\/{2,}/g,((e,t)=>/^(?!\/)/g.test(t)?`${t}/`:"/"))),a.pathname&&(a.pathname=decodeURI(a.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=a.pathname.split("/");const n=e[e.length-1];o(n,t.removeDirectoryIndex)&&(e=e.slice(0,e.length-1),a.pathname=e.slice(1).join("/")+"/")}if(a.hostname&&(a.hostname=a.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(a.hostname)&&(a.hostname=a.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters)&&a.searchParams)for(const e of[...a.searchParams.keys()])o(e,t.removeQueryParameters)&&a.searchParams.delete(e);if(t.sortQueryParameters&&a.searchParams&&a.searchParams.sort(),t.removeTrailingSlash&&(a.pathname=a.pathname.replace(/\/$/,"")),e=a.toString(),!t.removeTrailingSlash&&"/"!==a.pathname||""!==a.hash||(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),Object(r.e)(e)){const t=new URL(e);let n;if(e.includes("/live/")){const e=t.pathname.split("/");n=e[e.length-1]}else if(n=t.searchParams.get("v"),!n){const e=t.pathname.split("/");n=e[e.length-1]}e=`https://youtube.com/watch?v=${n}`}return e.includes("web.telegram.org/")&&(e=Object(i.b)(e)),e.includes("mail.google.com/mail")&&(e=function(e){let t=e;if(e.includes("#search")||e.includes("#inbox")||e.includes("#sent")||e.includes("#snoozed")||e.includes("#drafts")||e.includes("#imp")||e.includes("#scheduled")){const n=e.split("/");t=`https://mail.google.com/mail/#inbox/${n[n.length-1]}`}return t}(e)),e.endsWith("/")&&(e=e.slice(0,-1)),e}function s(e){return/^(https?|file):\/\//i.test(e)}function l(e){return e.startsWith("file://")||e.startsWith("blob:")}},function(e,t,n){var r=n(148),i=n(177);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var i=r(n(0)).default.createContext(null);t.ReactReduxContext=i;var o=i;t.default=o},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(12);class l extends r.PureComponent{render(){const{size:e,className:t,width:n,height:r}=this.props;return i.a.createElement(c,{width:n,height:r},i.a.createElement(s.a,{size:e}))}}const c=a.a.div`
    display: flex;
    justify-content: center;
    align-items: center;
    width: ${e=>e.width||"100%"};
    height: ${e=>e.height||"100%"};
`;t.a=l},,function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(259);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(142),i=n(48);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},function(e,t,n){var r=n(48),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(403),i=n(404),o=n(405),a=n(406),s=n(407);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(125);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(87)(Object,"create");e.exports=r},function(e,t,n){var r=n(421);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},,function(e,t,n){var r=n(88),i=n(48);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(398),i=n(50),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(40),i=n(399),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(111)(e))},function(e,t,n){var r=n(143),i=n(408),o=n(409),a=n(410),s=n(411),l=n(412);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(93);function i(e,{listTrees:t},n){let i=new Map;return e.filter((e=>null==e.parentUnifiedId)).flatMap((o=>Object(r.d)({root:o,strategy:"dfs",getChildren:t=>e.filter((e=>e.parentUnifiedId===t.unifiedId)).reverse(),cb:e=>{let r=t.byId[e.parentUnifiedId];if(null==t.byId[e.unifiedId])return null;if(null!=e.parentUnifiedId){let t=i.get(e.parentUnifiedId);if(!(n.areListsBeingFiltered||t&&(null==r?void 0:r.areChildrenShown)))return null}return i.set(e.unifiedId,!0),e}}))).filter(Boolean)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(76);const i=(e,t)=>{const n=a(e),i=a(t);return n||i?n?i?Object(r.b)(n,"TextPositionSelector").start-Object(r.b)(i,"TextPositionSelector").start:1e5:-1e5:0},o=(e,t)=>new Date(e.createdWhen).getTime()-new Date(t.createdWhen).getTime(),a=({selector:e})=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){return null}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(4);class l extends r.Component{constructor(e){super(e),this.textAreaRef=i.a.createRef(),this.adjustHeight=()=>{const e=this.textAreaRef.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},this.state={numberOfLines:1}}componentDidMount(){this.props.autoFocus&&setTimeout((()=>{var e,t,n;const r=this.textAreaRef.current;if(r){const i=null!==(n=(null===(e=this.props.value)||void 0===e?void 0:e.length)||(null===(t=r.value)||void 0===t?void 0:t.length))&&void 0!==n?n:0;r.setSelectionRange(i,i)}}),50),this.adjustHeight()}componentDidUpdate(e){this.adjustHeight()}render(){var e;const{numberOfLines:t}=this.state,{icon:n,placeholder:r,value:o,onChange:a,onKeyDown:l,onKeyUp:d,disabled:f,notResizable:p,textColor:h,height:g,autoFocus:m,onClick:v,minHeight:y,actionButton:b,borderColor:w}=this.props;return i.a.createElement(c,{onClick:v,hasIcon:!!n,background:this.props.background,borderColor:w},n&&i.a.isValidElement(n)&&i.a.createElement(u,null,n),n&&"string"==typeof n&&!i.a.isValidElement(n)&&i.a.createElement(u,null,i.a.createElement(s.a,{filePath:n,heightAndWidth:"20px",hoverOff:!0})),i.a.createElement(A,{ref:null!==(e=this.props.ref)&&void 0!==e?e:this.textAreaRef,rows:t,placeholder:r,value:o,onChange:a,onKeyDown:l,autoComplete:"off",disabled:f,onKeyUp:d,notResizable:p,textColor:h,contentEditable:!0,hasIcon:!!n,autoFocus:m,morethanOneLine:t>1,height:g,minHeight:this.props.minHeight,maxHeight:this.props.maxHeight,defaultValue:this.props.defaultValue}),b&&b)}}const c=a.a.div`
    width: fill-available;
    width: -moz-available;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    background-color: ${e=>e.theme.colors.greyScale2};
    border-radius: 8px;
    height: ${e=>e.height?e.height:"fit-content"};

    flex: 1;
    position: relative;

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;

    &:focus-within {
        outline: 1px solid ${e=>e.theme.colors.greyScale4};
    }

    ${e=>"light"===e.theme.variant&&o.css`
            &:focus-within {
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};

    ${e=>e.hasIcon&&o.css`
            padding: 0 0 0 15px;
        `};
    ${e=>e.background&&o.css`
            background-color: ${e=>e.theme.colors[e.background]};
        `};
    ${e=>e.borderColor&&o.css`
            outline: 1px solid
                ${e=>e.theme.colors[e.borderColor]};
        `};
`,A=a.a.textarea`
    resize: vertical;

    ${e=>e.notResizable&&o.css`
            resize: none;
        `}

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;
    display: flex;
    align-items: center;
    overflow: scroll;
    width: inherit;
    font-size: 14px;
    white-space: pre-wrap;
    line-height: 22px;
    border: none;
    background-color: transparent;
    color: ${e=>e.textColor?e.theme.colors[e.textColor]:e.theme.colors.white};
    font-weight: 400;
    font-family: ${e=>e.theme.fonts.primary};
    min-height: ${e=>e.minHeight?e.minHeight:"24px"};
    max-height: ${e=>e.maxHeight&&e.maxHeight};

    padding: 10px;
    &::placeholder {
        color: ${e=>e.theme.colors.greyScale5};
        align-self: center;
        vertical-align: middle;
    }

    &:focus {
        outline: none;
    }

    &:focus ${c} {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
    }

    ${e=>"light"===e.theme.variant&&o.css`
            &:focus {
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};
    ${e=>e.hasIcon&&o.css`
            padding: 10px 10px 10px 10px;
        `};
    ${e=>e.hasIcon&&e.morethanOneLine&&o.css`
            padding-bottom: 10px;
        `};
`,u=a.a.div`
    display: flex;
    margin-top: 8px;
`},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(51);function i(e,t,n){if("A"===e.target.nodeName){e.stopPropagation();let i=e.target.href,o=new URL(i),a=o.origin+o.pathname,s=o.searchParams,l=s.get("t");if("dashboard"===t||"webUI"===t)if(Object(r.e)(i)&&s.get("t")){const t=n();if(t){let n=Object(r.c)(i),o=s.get("t").toString();if(o.includes("s")){let e=o.replace("s","");o=e}t.playerInfo.videoData.video_id===n&&(t.seekTo(o),e.preventDefault())}}else if(i.includes("https://vimeo.com/")&&i.includes("#t=")){const t=document.getElementsByClassName("videoFrame");for(const n of Object(t)){const t=n.getAttribute("src"),r=new URL(t),i=r.origin+r.pathname,s=a.split("vimeo.com/")[1],l=i.split("video/")[1],c=i+"?autoplay=1"+o.hash;l===s&&(n.setAttribute("src",c),e.preventDefault())}}else window.open(i,"_blank");else if("in-page"===t){let t=e.target.baseURI;const n=new URLSearchParams(new URL(t).search);n.forEach(((e,t)=>{"v"!==t&&n.delete(t)})),t=t.split("?")[0]+"?"+n.toString();let o=new URL(t),c=(o.origin+o.pathname).toString();if(Object(r.e)(t)&&s.get("t")){if(Object(r.c)(i)===Object(r.c)(t)){document.getElementsByTagName("video")[0].currentTime=parseInt(l.replace("s","")),e.preventDefault(),e.stopPropagation()}}else if(t.includes("vimeo.com/")&&i.includes("https://vimeo.com/")&&i.includes("#t=")){let n=i.split("#t=")[1],r=60*parseInt(n.split("m")[0])+parseInt(n.split("m")[1].replace("s"));if(i.split("#t=")[0]===t.split("#t=")[0]){const t=document.getElementsByTagName("video")[0];t.play(),t.currentTime=r,e.preventDefault()}}else if(a===c&&(i.includes("?t=")||i.includes("&t="))){const t=document.getElementsByTagName("video")[0],n=document.getElementById("player");null!=t&&(t.currentTime=parseInt(l)),null!=n&&(n.currentTime=parseInt(l)),e.preventDefault()}else window.open(i,"_blank")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n};t.default=r,e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="pdfjs/viewer.html"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Popper",{enumerable:!0,get:function(){return r.Popper}}),Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return i.Manager}}),Object.defineProperty(t,"Reference",{enumerable:!0,get:function(){return o.Reference}}),Object.defineProperty(t,"usePopper",{enumerable:!0,get:function(){return a.usePopper}});var r=n(537),i=n(205),o=n(540),a=n(300)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(4);class l extends i.a.PureComponent{constructor(){super(...arguments),this.state={isOpen:!1,selected:this.props.keepSelectedState?this.props.initSelectedIndex:-1,isOpened:!1},this.lastToggleCall=0,this.toggleMenu=()=>{const e=Date.now();e-this.lastToggleCall<100||(this.lastToggleCall=e,this.props.toggleOpen?this.props.toggleOpen():this.setState((e=>({isOpen:!e.isOpen}))))},this.handleItemClick=(e,t)=>n=>{e.isDisabled?n.preventDefault():(this.setState({isOpen:this.props.keepSelectedState,selected:t,isOpened:!1}),this.props.onMenuItemClick(e,t))}}get theme(){return Object.assign(Object.assign({},this.props.theme),{isMenuOpen:this.state.isOpen})}get isOpen(){var e;return null!==(e=this.props.isOpen)&&void 0!==e?e:this.state.isOpen}renderMenuItems(){const e=this.props.menuItems[this.state.selected];return this.state.isOpened?i.a.createElement(p,{isOpen:this.state.isOpened},this.props.menuItems.map(((e,t)=>i.a.createElement(A,{key:t,onClick:this.handleItemClick(e,t),isSelected:this.state.selected===t,backgroundColor:this.props.backgroundColor,elementHeight:this.props.elementHeight,isOpened:this.state.isOpened},i.a.createElement(u,{isSelected:this.state.selected===t},i.a.createElement(c,null,i.a.createElement(u,{isSelected:this.state.selected===t},e.name),e.info&&i.a.createElement(d,null,e.info)),this.state.selected===t&&i.a.createElement(s.a,{filePath:"check",color:"prime1",heightAndWidth:"18px",hoverOff:!0})))))):i.a.createElement(A,{key:this.state.selected,onClick:()=>{this.setState({isOpened:!0})},isSelected:!0,backgroundColor:this.props.backgroundColor,elementHeight:this.props.elementHeight,isOpened:this.state.isOpened},i.a.createElement(u,{isSelected:!0},i.a.createElement(c,null,e.name,e.info&&i.a.createElement(d,null,e.info)),i.a.createElement(s.a,{filePath:"arrowDown",color:"greyScale7",heightAndWidth:"18px",hoverOff:!0})))}render(){var e;return i.a.createElement(o.ThemeProvider,{theme:this.theme},i.a.createElement(f,{elementHeight:this.props.elementHeight,onMouseEnter:e=>{e.preventDefault(),e.stopPropagation},onMouseLeave:e=>{e.preventDefault(),e.stopPropagation},width:this.props.width,isOpen:this.state.isOpened},null!==(e=this.props.children)&&void 0!==e?e:this.renderMenuItems()))}}l.defaultProps={initSelectedIndex:0};const c=a.a.div.withConfig({displayName:"MenuItemBox",componentId:"ajtzd0-0"})(["display:flex;align-items:flex-start;justify-content:center;flex-direction:column;grid-gap:5px;"]),A=a.a.div.withConfig({displayName:"MenuItem",componentId:"ajtzd0-1"})(["background:",";padding:0px 10px 0px 15px;line-height:20px;width:fill-available;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;white-space:nowrap;border-radius:6px;cursor:pointer;height:",";",";",";"],(e=>e.backgroundColor&&e.theme.colors[e.backgroundColor]),(e=>e.elementHeight?e.elementHeight:"60px"),(e=>!e.isSelected&&Object(o.css)(["cursor:pointer;&:hover{outline:1px solid ",";}& *{cursor:pointer;}"],(e=>e.theme.colors.greyScale3))),(e=>!e.isOpened&&Object(o.css)(["&:hover{outline:1px solid ",";}& *{cursor:pointer;}"],(e=>e.theme.colors.greyScale3)))),u=(a.a.div.withConfig({displayName:"MenuTitle",componentId:"ajtzd0-2"})(["padding:8px 15px 0px 15px;margin-bottom:10px;font-size:14px;"]),a.a.div.withConfig({displayName:"MenuItemName",componentId:"ajtzd0-3"})(["color:",";font-size:14px;display:flex;align-items:center;grid-gap:5px;justify-content:space-between;width:-webkit-fill-available;"],(e=>e.theme.colors.white))),d=a.a.div.withConfig({displayName:"MenuItemInfo",componentId:"ajtzd0-4"})(["font-weight:400;font-size:12px;color:",";"],(e=>e.theme.colors.greyScale5)),f=a.a.div.withConfig({displayName:"Menu",componentId:"ajtzd0-5"})(["list-style:none;border-radius:6px;width:",";flex-direction:column;z-index:1000;width:100%;position:relative;height:",";overflow:visible;margin-bottom:10px;"],(e=>{var t;return null!==(t=e.width)&&void 0!==t?t:"max-content"}),(e=>{var t;return null!==(t=e.elementHeight)&&void 0!==t?t:"60px"})),p=a.a.div.withConfig({displayName:"MenuItemContainerUnfolded",componentId:"ajtzd0-6"})(["display:flex;position:absolute;flex-direction:column;width:100%;border-radius:6px;background:",";",""],(e=>e.theme.colors.greyScale2),(e=>e.isOpen&&Object(o.css)(["outline:1px solid ",";"],(e=>e.theme.colors.greyScale3))))},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(59),c=n(60),A=n(228),u=n.n(A),d=n(311),f=n.n(d),p=n(229),h=n.n(p),g=n(188),m=n.n(g),v=n(17);const y=v.Node.create({name:"wikiLinks",group:"inline",inline:!0,content:"inline*",selectable:!1,addAttributes:()=>({class:{default:null}}),parseHTML:()=>[{tag:"span.memex-wikilink",getAttrs:e=>{const t=e;return{id:t.getAttribute("id"),class:t.getAttribute("class"),content:t.getAttribute("content")}}},{tag:"span.memex-wikilink-delimiter",getAttrs:e=>{const t=e;return{id:t.getAttribute("id"),class:t.getAttribute("class"),content:t.getAttribute("content")}}}],renderHTML:({HTMLAttributes:e})=>["span",Object(v.mergeAttributes)(e),0],addCommands(){return{insertWikiLinkNode:e=>({tr:t,state:n,commands:r})=>{const{id:i,content:o,delimiter:a}=e,{selection:s}=n,{from:l,to:c}=s;let A=l-2,u=c+2;return A=Math.max(A,0),u=Math.min(u,t.doc.content.size),"wikilink"===a&&(r.deleteRange({from:A+1,to:u}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink-delimiter"},content:[{type:"text",text:"[["}]}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink"},content:[{type:"text",text:o}]}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink-delimiter"},content:[{type:"text",text:"]]"}]})),"hashtag"===a&&(r.deleteRange({from:A+2,to:u}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink-delimiter"},content:[{type:"text",text:"#"}]}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink"},content:[{type:"text",text:o}]})),!0}}}});var b=n(497),w=n.n(b),B=n(498),x=n.n(B),C=n(499),S=n.n(C),k=n(500),E=n.n(k),I=n(224),O=n.n(I),F=n(225),D=n.n(F),_=n(501),T=n.n(_),U=n(312),M=n.n(U),L=n(72),Q=n(4),R=n(7),P=n(22),H=n(27),N=n(215),j=n(309),z=n.n(j),K=n(314),$=n(39);const W=v.Extension.create({name:"no_new_line",addProseMirrorPlugins:()=>[new $.Plugin({key:new $.PluginKey("eventHandler"),props:{handleKeyDown:(e,t)=>{const n="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey;if("Enter"===t.key&&n)return!0}}})]});var V=n(156),G=n(105),q=n.n(G),Y=n(189);const J=()=>{const e=document.getElementsByTagName("video")[0],t=document.getElementById("player");if(e||t)return!0},X=s.a.div`
    display: flex;
    align-items: center;
    grid-gap: 10px;

    white-space: nowrap;
`,Z=s.a.div`
    color: ${e=>e.theme.colors.greyScale5};
    font-size: 12px;
    width: 100%;
    height: -webkit-fill-available;
    margin-top: 1px;
    width: 100%;
`,ee=s.a.div`
    display: flex;
    align-items: center;
    justify-content: flex-start;
    width: fill-available;
    width: -moz-available;
    grid-gap: 20px;
    padding: 0 10px;
    color: ${e=>e.theme.colors.greyScale7};
    flex-direction: row;
    border-radius: 6px;
    &:hover {
        background-color: ${e=>e.theme.colors.greyScale2};
    }
    grid-gap: 10px;
`,te=s.a.div`
    height: fit-content;
`,ne=s.a.div`
    display: flex;
    flex-direction: column;
    grid-gap: 5px;
    justify-content: space-between;
    max-height: 400px;
    overflow: scroll;
    padding: 10px;
    width: 350px;
    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }
`,re=s.a.div`
    display: flex;
    justify-content: space-between;
    border-radius: 5px;
    color: ${e=>e.theme.colors.greyScale7};
    height: 34px;
    font-size: 14px;
    align-items: center;
    padding: 0 10px;
    &:hover {
        background-color: ${e=>e.theme.colors.greyScale2};
    }

    ${e=>e.isSelected&&a.css`
            background-color: ${e=>e.theme.colors.greyScale2};
        `}
`,ie=s.a.div`
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 30px;
    background-color: ${e=>e.theme.colors.black};
    position: sticky;
    bottom: 0;
    cursor: pointer;
    box-sizing: border-box;

    &:hover {
        cursor: pointer;
    }
`,oe=a.keyframes`
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
`,ae=(s.a.span`
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    border-top-color: black;
    animation: ${oe} 1s linear infinite;
`,s.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    grid-gap: 5px;
    padding: 5px;
`),se=s.a.div`
    color: ${e=>e.theme.colors.greyScale5};
    font-size: 12px;
    padding: 0 10px 5px 10px;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
`,le=(a.keyframes`
  0% {
    transform: translateY(50%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
`,s.a.div`
    display: flex;
    width: fill-available;
    height: fit-content;
    grid-gap: 10px;
    padding: 5px 10px;
    justify-content: space-between;
    // border-top: 1px solid ${e=>e.theme.colors.greyScale3};
    overflow: scroll;

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;

    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }

    @keyframes slideInFromBottom {
        0% {
            transform: translateY(50%);
            opacity: 0;
        }
        100% {
            transform: translateY(0);
            opacity: 1;
        }
    }

    ${e=>!e.hasAlreadyRendered&&a.css`
            animation: slideInFromBottom 100ms ease-in-out;
        `}
`),ce=s.a.div`
    display: flex;
    justify-content: flex-end;
    grid-gap: 10px;
    align-items: center;
`,Ae=s.a.div`
    display: flex;
    justify-content: flex-end;
    grid-gap: 5px;
    align-items: center;
`,ue=s.a.div`
    position: relative;
    display: flex;
    flex-direction: column;
    flex: 1;


    ${e=>e.height&&a.css`
            height: ${e.height};
        `}
    ${e=>e.isEmpty&&a.css`
            min-height: 50px;
        `}
        ${e=>e.truncateEditor&&a.css`
                max-height: 400px;
                height: fit-content;
                overflow: hidden;
            `}
            
            
            
    ${e=>!e.isEditable&&!e.readOnly&&a.css`
            &:hover {
                background-color: ${e=>e.theme.colors.greyScale3}20;
            }
        `}
    // General Editor Stylings
    min-height: fit-content;
    border-radius: 8px;
    width: 100%;
    transition: height 150ms ease-in-out;
    ${e=>e.isEditable&&a.css`
            background-color: ${e=>e.theme.colors.greyScale3}30;
        `}
    outline: none;

    // Font Base Styles
    color: ${e=>e.theme.colors.greyScale7};
    line-height: 22px;
    word-break: break-word;
    hyphens: none;
    font-size: 14px;
    letter-spacing: 0.8px;
    font-weight: ${e=>(e.theme.variant,400)};


    // Wikilinks
    .memex-wikilink {
        color: ${e=>e.theme.colors.white};
    }

    .memex-wikilink-delimiter {
        color: ${e=>e.theme.colors.greyScale4};
    }
    // Element Type STyles

    .ProseMirror p.placeholder-empty:first-child::before {
        content: attr(data-placeholder);
        float: left;
        color: ${e=>e.theme.colors.greyScale4};
        pointer-events: none;
        height: 0;
    }

    .ProseMirrorContainer {

        ${e=>e.height&&a.css`
                height: ${e.height};
            `}
        flex: 1;

        font-family: 'Satoshi', sans-serif;
font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on, 'liga' off;
        min-height: fit-content;
        resize: vertical;
        font-family: 'Satoshi', sans-serif;
font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on, 'liga' off;
        width: 100%;
        color: ${e=>e.theme.colors.white};
        display: flex;
        flex-direction: column-reverse;

        scrollbar-width: none;

        outline: none;

    &::-webkit-scrollbar {
        display: none;
    }


    .ProseMirror {
        outline: none;
        padding: 10px 10px;
        width: fill-available;
        border-radius: 3px;
        min-height: fit-content;
        white-space: pre-wrap;
        overflow: hidden;
        outline: none;
        flex: 1;

    }

    ${e=>e.isEmpty&&a.css`
            .ProseMirror {
                min-height: 50px;
            }
        `}

        ${e=>e.defaultMinimized&&e.isEmpty&&a.css`
                min-height: 24px;

                .ProseMirror {
                    min-height: 24px;
                }
            `}
    // Headers
    & h1 {
        font-size: 20px;
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        line-height: 22px;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
        }
        & * {
            font-weight: 600;
            font-size: 18px;
        }
    }

    & h2 {
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        line-height: 22px;
        font-size: 18px;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
        }
        & * {
            font-weight: 600;
            font-size: 17px;
        }
    }

    & h3 {
        font-size: 16px;
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        line-height: 22px;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
            font-size: 16px;
        }
        & * {
            font-weight: 600;
            font-size: 16px;
        }
    }

    & h4 {
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
        }
    }

    & h5 {
        margin-block-start: 1em;
        margin-block-end: 0.5em;

        &:first-child {
            margin-top: 5px;
        }
    }
    // Lists
    & li {
        line-height: 20px;
        margin-left: -15px;
    }

    & ul {
        margin-block-start: 0.5em;
        margin-block-end: 0.5em;
    }

    // Paragraphs

    & p {
        margin-block-start: 0.5em;
        margin-block-end: 0.5em;
        hyphens: none;
        font-size: 14px;
        font-weight: ${e=>(e.theme.variant,400)};

        & img {
            height: auto;
            max-width: fill-available;
            width: auto;
            background: white;
            max-height: 250px;
        }
    }

    // Links

    & a {
        color: ${e=>e.theme.colors.prime1};
        text-decoration: none;

        &:visited {
            color: ${e=>e.theme.colors.prime1};
        }
        &:hover {
            text-decoration: underline;
        }
    }

    // Images
    & img {
        max-width: fill-available;
        width: auto;
        height: auto;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        border-radius: 6px;
        max-height: 400px;
        background: #f1f1f1;
    }

    & * {
        line-height: 22px;
        word-break: break-word;
        hyphens: none;
        letter-spacing: 0.8px;

        font-size: 14px;

        :first-child {
            margin-block-start: 0em;
        }
        :last-child {
            margin-block-end: 0em;
        }
    }

    & sup {
        vertical-align: baseline;
    }

    // Tables
    .table-container {
        border-radius: 8px;
        border: 1px solid ${e=>e.theme.colors.greyScale2};
    }

    & table {
        width: fit-available;
        border-spacing: 0px;
        max-width: 100%;
        width: fill-available;
        border-collapse: collapse;

        & * {
            padding-top: unset;
        }
    }

    & tbody {
        background: ${e=>e.theme.colors.greyScale1_5};
    }

    & td {
        border: 1px solid ${e=>e.theme.colors.greyScale2};
        border: 1px solid ${e=>e.theme.colors.greyScale2};
        padding: 8px 10px;
        text-align: left;
        vertical-align: middle;
        font-weight: 300;
        color: ${e=>e.theme.colors.greyScale6};
    }

    & th {
        border: 1px solid ${e=>e.theme.colors.greyScale2};
        padding: 8px 10px;
        text-align: left;
        vertical-align: middle;
        background-color: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale3+60:e.theme.colors.greyScale2};
        font-weight: 500;
    }

    & tr {
        width: fill-available;
        &:first-child {
            & *:first-child {
                border-left: none;
                border-top-left-radius: 7px;
            }

            & * {
                border-top: none;
            }

            & *:last-child {
                border-left: none;
                border-top-right-radius: 7px;
            }
        }

        *:first-child {
            border-left: none;
        }
        *:last-child {
            border-right: none;
        }

        &:last-child {
            & *:first-child {
                border-left: none;
                border-bottom-left-radius: 7px;
            }

            & * {
                border-bottom: none;
            }

            & *:last-child {
                border-right: none;
                border-bottom-right-radius: 7px;
            }
        }
    }

    // Special Syntax
    & blockquote {
        border-left: #5cd9a6 3px solid;
        margin-inline-start: 10px;
        padding-left: 10px;
    }

    & code {
        font-size: inherit;
        padding: 2px 2px 1px;
        border-radius: 3px;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        background-color: ${e=>e.theme.colors.greyScale2};
        color: ${e=>e.theme.colors.greyScale6};
        font-family: 'Courier New' !important;
        white-space: nowrap;
        overflow: auto;

        & * {
            font-family: 'Courier New' !important;
        }


        // Custom scrollbar styles
        &::-webkit-scrollbar {
            width: 12px;
        }

        &::-webkit-scrollbar-track {
            background: ${e=>e.theme.colors.greyScale2};
            border-radius: 10px;
        }

        &::-webkit-scrollbar-thumb {
            background-color: ${e=>e.theme.colors.greyScale4};
            border-radius: 10px;
            border: 3px solid ${e=>e.theme.colors.greyScale2};
        }

        &::-webkit-scrollbar-thumb:hover {
            background-color: ${e=>e.theme.colors.greyScale5};
        }

        &::-webkit-scrollbar-thumb:active {
            background-color: ${e=>e.theme.colors.greyScale6};
        }

    }

    & pre {
        width: fill-available;
        border-radius: 3px;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        background-color: ${e=>e.theme.colors.greyScale2};
        color: ${e=>e.theme.colors.greyScale6};
        padding: 10px;
        font-family: 'Courier New' !important;
        overflow: auto;

        & code {
            width: 100%;
            padding: unset;
            border: none;
            border-radius: unset;
            background-color: unset;
            color: inherit;
            white-space: pre-wrap;  

    width: max-content;
    display: flex;
        }
        & * {
            font-family: 'Courier New' !important;
        }


        // Custom scrollbar styles
        &::-webkit-scrollbar {
            width: 12px;
        }

        &::-webkit-scrollbar-track {
            background: ${e=>e.theme.colors.greyScale2};
            border-radius: 10px;
        }

        &::-webkit-scrollbar-thumb {
            background-color: ${e=>e.theme.colors.greyScale4};
            border-radius: 10px;
            border: 3px solid ${e=>e.theme.colors.greyScale2};
        }

        &::-webkit-scrollbar-thumb:hover {
            background-color: ${e=>e.theme.colors.greyScale5};
        }

        &::-webkit-scrollbar-thumb:active {
            background-color: ${e=>e.theme.colors.greyScale6};
        }
    }

    // Highlights
    strong {
        font-weight: 700 !important;

        .inHighlight-highlight {
            & strong {
                font-weight: 700 !important;
            }
        }
    }

    .inHighlight-highlight {
        background-color: #6ae394 !important;

        & strong {
            font-weight: 700;
        }
        & i {
            font-weight: 700;
        }
    }

    // Apply to everything

    & > * {
        & > * {
            &:first-child {
                margin-block-start: 0em !important;
            }
        }
    }

    & > * {
        & > * {
            &:last-child {
                margin-block-end: 0em !important;
            }
        }
    }

    // SPECIAL CSS RULES

            /// Math
    .Tiptap-mathematics-editor {
    background: #202020;
    color: #fff;
    font-family: monospace;
    padding: 0.2rem 0.5rem;
  }

  .Tiptap-mathematics-render {
    padding: 0 0.25rem;

    &--editable {
      cursor: pointer;
      transition: background 0.2s;

      &:hover {
        background: ${e=>e.theme.colors.greyScale3};
      }
    }
  }

  .Tiptap-mathematics-editor,
  .Tiptap-mathematics-render {
    border-radius: 0.25rem;
    display: inline-block;
  }

  .katex-html{
    display: none;
  }


`;t.a=e=>{var t,n,a,s,A;const[d,p]=Object(i.useState)(null),[g,v]=Object(i.useState)(null),[b,B]=Object(i.useState)(null),[C,k]=Object(i.useState)([null,null]),I=Object(i.useRef)(C),[F,_]=Object(i.useState)(null),U=Object(i.useRef)(F),[j,$]=Object(i.useState)(null),[G,oe]=Object(i.useState)(0),[de,fe]=Object(i.useState)(null),[pe,he]=Object(i.useState)(null),[ge,me]=Object(i.useState)(null),ve=Object(i.useRef)(),ye=Object(i.useRef)(),[be,we]=Object(i.useState)(e.editable),Be=Object(i.useRef)(),xe=Object(i.useRef)();let Ce=!1,Se=!1;const ke={image:e=>`![](${e})`};l.marked.use({renderer:ke});const Ee=m.a.extend({addKeyboardShortcuts(){const t=()=>{const t=Object(L.d)({youtubePlayer:e.getYoutubePlayer()}),n=Object(L.b)(t);return this.editor.chain().insertContent(l.marked.parseInline(n)+" ").run()};return{"Mod-y":t,"Alt-w":t,"Mod-w":t}},addOptions:()=>({openOnClick:!1,linkOnPaste:!0,HTMLAttributes:{href:null},isAllowedUri:e=>!0,shouldAutoLink:e=>!0,autolink:!0,protocols:["http","https"],defaultProtocol:"https",validate:e=>/^https?:\/\//.test(e)})}),Ie=c.Mark.create({name:"loadingMark",parseHTML:()=>[{tag:"span[loading-mark]"}],renderHTML:()=>["span",{"loading-mark":"true"},0]});function Oe(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield e.imageSupport.generateImageId()}))}const Fe=q()((({editor:t})=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var n;let r=t.getHTML();r=null===(n=null==r?void 0:r.replace(/^<p><\/p>/,""))||void 0===n?void 0:n.replace(/<p><\/p>$/,""),r===e.markdownContent&&""!==r||e.onContentUpdate(r,t.state.selection.anchor),e.setDebouncingSaveBlock(!1)}))),200),De=q()((t=>{e.updateSpacesSearchSuggestions(t)}),150),_e=({editor:t})=>{e.setDebouncingSaveBlock(!0),Fe({editor:t})},Te=c.Extension.create({addKeyboardShortcuts(){return{Enter:e=>null!=I.current[0]&&(Me.current(e,this.editor.view),!0),Escape:e=>null!=I.current[0]&&(Me.current(e,this.editor.view),!0),ArrowDown:e=>null!=I.current[0]&&(Me.current(e,this.editor.view),!0),ArrowUp:e=>null!=I.current[0]&&(Me.current(e,this.editor.view),!0)}}}),Ue=Object(c.useEditor)({editable:be,extensions:[m.a.configure({openOnClick:!1,linkOnPaste:!0,HTMLAttributes:{href:null}}),u.a.configure({heading:!1}),T.a.configure({HTMLAttributes:{class:"inHighlight-highlight"}}),z.a.configure({color:"#616069",width:4}),f.a,O.a.configure({HTMLAttributes:{class:"CodeBlock"}}),D.a.configure({levels:[1,2]}),Ee,h.a.configure({emptyEditorClass:"placeholder-empty",placeholder:e.promptPlaceholder,showOnlyWhenEditable:!1}),M.a,Ie,W,Object(K.a)((()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Oe()}))),(t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.imageSupport.uploadImage(t)}))),!1,(t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.openImageInPreview(t)})))),Te,y,w.a,x.a,S.a,E.a],onCreate:({editor:t})=>{var n,r;if(we(e.editable),!e.editable&&(null===(n=e.searchTerms)||void 0===n?void 0:n.length)>0){const n=e.searchTerms,r=e.markdownContent;t.commands.setContent(r),n.forEach((e=>{const n=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(n,"gi");t.state.doc.descendants(((e,n)=>{if(e.isText){let i;for(;null!==(i=r.exec(e.text));){const e=n+i.index,r=e+i[0].length,o=t.state.tr.addMark(e,r,t.schema.marks.highlight.create());t.view.dispatch(o)}}}))}))}else{if(e.markdownContent){let n=e.markdownContent;(null===(r=e.markdownContent)||void 0===r?void 0:r.startsWith("<div>"))||(n=l.marked.parseInline(e.markdownContent)),n=Object(Y.a)(n,"production"),t.commands.clearContent(),t.commands.setContent(n),t.state.doc.textContent.length>500&&fe(!0)}t.view.dom.addEventListener("keydown",(e=>{"Meta"!==e.key&&"Control"!==e.key||(Se=!0),Se&&"Enter"!==e.key&&(e.stopPropagation(),e.stopImmediatePropagation())})),t.view.dom.addEventListener("keyup",(e=>{e.stopPropagation(),e.stopImmediatePropagation(),"Meta"!==e.key&&"Control"!==e.key||(Se=!1),e.stopPropagation(),e.stopImmediatePropagation()})),e.autoFocus&&be&&(null==t||t.commands.focus()),Ce=!0}},onUpdate:_e,editorProps:{handleKeyDown:(t,n)=>{"MacIntel"===navigator.platform?n.metaKey:n.ctrlKey;if(Me.current&&Me.current(t,n),e.onKeyDown){if("Escape"===n.key&&null!=I.current[0])return null;e.onKeyDown(n)}return null}}}),Me=Object(i.useRef)();Me.current=(t,n)=>{if(n instanceof KeyboardEvent&&e.updateSpacesSearchSuggestions){if(" "===n.key&&null==j||"#"===n.key&&"#"===ge&&null==j)return void Le();if("#"===n.key&&null==C[0]){if(e.updateSpacesSearchSuggestions(""),he(0),t){const{state:e}=t,{selection:n}=e,r=t.coordsAtPos(n.$anchor.pos);k([r.left,r.top])}me("#")}if("["===n.key){if(e.updateSpacesSearchSuggestions(""),he(0),t){const{state:e}=t,{selection:n}=e,r=t.coordsAtPos(n.$anchor.pos);k([r.left,r.top]),me("[")}setTimeout((()=>ve.current.insertWikiLink(t.state.selection.anchor,"]")),10)}let r;if(null!=C[0])if("ArrowDown"===n.key&&pe+1<e.spaceSearchSuggestions.length)he(pe+1);else if("ArrowUp"===n.key&&pe+1>=0)he(pe-1);else if("Backspace"===n.key){let e=t.state.selection.anchor;if(n.altKey){const t=j.slice(0,e).lastIndexOf(" ");-1!==t?(r=j.slice(0,t)+j.slice(e),e=t):(r=j.slice(e),e=0)}else j&&(null==j?void 0:j.length)>0&&(r=j.slice(0,-1),De(r),$(r));$(r)}else if(n.ctrlKey||n.metaKey||n.altKey||"Enter"===n.key||"ArrowDown"===n.key||"ArrowUp"===n.key||"ArrowLeft"===n.key||"ArrowRight"===n.key||"Shift"===n.key||"Escape"===n.key||" "===n.key||"Delete"===n.key){if("Enter"===n.key){null!=I.current[0]&&(n.preventDefault(),n.stopPropagation());let t="";e.spaceSearchSuggestions.length>0?(e.selectSpace(e.spaceSearchSuggestions[pe].id),t=e.spaceSearchSuggestions[pe].name):(e.addNewSpaceViaWikiLinks(j),t=j),Re(n,Ue,ge,t)}else if("Escape"===n.key)n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault(),Le();else if(" "===n.key){if("#"===ge&&null==j)return void Le();let t=j+n.key;if(De(t),he(0),$(t),"#"===ge&&0===e.spaceSearchSuggestions.length&&j.length>0&&!U.current)return _(!0),void(U.current=!0);if("#"===ge&&e.spaceSearchSuggestions.length>0&&j.trim().toLowerCase()===e.spaceSearchSuggestions[0].name.trim().toLowerCase())return n.preventDefault(),e.selectSpace(e.spaceSearchSuggestions[0].id),Re(n,Ue,ge,e.spaceSearchSuggestions[0].name),void Le();if(j.length&&!0===U.current)return n.preventDefault(),Re(n,Ue,ge,j.trim()),e.addNewSpaceViaWikiLinks(j),void Le()}}else _(!1),U.current=!1,r=/^[a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`]+$/.test(n.key)?null!=j?j+n.key:n.key:j,De(r),he(0),$(r)}};const Le=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){$(null),me(null),he(0),_(!1),U.current=!1,De(""),yield new Promise((e=>setTimeout(e,50))),Ue.commands.focus(),k([null,null])}));function Qe(e,t){return Ue.commands.insertWikiLinkNode({id:t,content:t,delimiter:e})}function Re(e,t,n,r){var i;const o=t.state.selection.anchor,a=null!==(i=null==j?void 0:j.length)&&void 0!==i?i:0;"["===n?(t.commands.deleteRange({from:o-(a+1),to:o}),Qe("wikilink",r)):r.includes(" ")&&"#"===n?(t.commands.deleteRange({from:o-a,to:o}),Qe("wikilink",r)):"#"===n&&(t.commands.deleteRange({from:o-(a+1),to:o}),Qe("hashtag",r)),t.commands.insertContent(" "),Le()}Object(i.useEffect)((()=>{var t;ve.current={addVideoSnapshotToEditor:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const n=Object(L.b)(Object(L.d)({youtubePlayer:e.getYoutubePlayer()})),r=yield Oe();Ue.chain().insertContent(l.marked.parseInline(n+" ")).run(),Ue.chain().setImage({src:t,remoteid:r}).run();const i=Ue.state.selection.anchor;Ue.chain().setTextSelection(i+2).focus().run()})),addImageToEditor:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const t=yield Oe();yield Ue.chain().setImage({src:e,remoteid:t}).run();const n=Ue.state.selection.anchor;Ue.chain().setTextSelection(n+2).focus().run()})),resetState:()=>{setTimeout((()=>{Ue.commands.clearContent()}),10)},checkIfHasContent:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){let e;for(;!Ce;)yield new Promise((e=>setTimeout(e,50)));return e=!!((null==Ue?void 0:Ue.state.doc.textContent.length)>0||(null==Ue?void 0:Ue.getHTML().includes("<img"))),e})),checkIfReady:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){let e=!1;return Ue&&(e=!0),e})),updateContentExternally:e=>{Ue.commands.clearContent(),Ue.commands.setContent(Object(Y.a)(e,"production"))},setEditable:e=>{null==Ue||Ue.setOptions({editable:e})},focus:()=>{Ue.commands.focus()},insertContentAt:(e,t)=>{let n=null!=e?e:Ue.state.selection.anchor;Ue.chain().insertContentAt(n,t).setTextSelection(n+t.length).run()},insertWikiLink:(e,t)=>{let n=null!=e?e:Ue.state.selection.anchor;Ue.chain().insertContentAt(n,t).setTextSelection(n+t.length-1).run()},addYoutubeTimestamp:()=>{const t=Object(L.b)(Object(L.d)({youtubePlayer:e.getYoutubePlayer()})).replace(/\\/g,"");Ue.chain().insertContentAt(Ue.state.selection.anchor,l.marked.parseInline(t)+" ").focus().run()},addYoutubeTimestampWithText:(e,t)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){if(t)return null==Ue||Ue.setOptions({editable:!1}),null==Ue||Ue.chain().focus().insertContentAt(Ue.state.selection.anchor,[{type:"text",text:"Loading Summary...",marks:[{type:"loadingMark"}]}]).insertContentAt(Ue.state.selection.anchor,l.marked.parseInline(e)+" ").run(),!0;{null==Ue||Ue.setOptions({editable:!0}),Ue.commands.clearContent();const t=new l.marked.Renderer;t.paragraph=e=>`<p>${e}</p>`;const n=Object(l.marked)(e,{renderer:t,breaks:!0});return Ue.commands.setContent(n),_e({editor:Ue}),!0}}))},null===(t=e.setEditorInstanceRef)||void 0===t||t.call(e,ve.current),we(e.editable),null==Ue||Ue.setOptions({editable:e.editable}),I.current=C}),[Ue,e.editable,e.autoFocus,e.markdownContent,C,U]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue,{readOnly:e.readOnly,onClick:t=>{var n;"A"===t.target.nodeName&&(t.preventDefault(),Object(V.a)(t,null!==(n=e.contextLocation)&&void 0!==n?n:"in-page",e.getYoutubePlayer),t.stopPropagation())},onMouseDown:t=>{e.readOnly||(t=>{const n=Date.now();n-G<=300?(be||e.setEditing(t),oe(0)):oe(n)})(t)},isEditable:be,ref:ye,truncateEditor:de&&!be,height:null!==(t=e.height)&&void 0!==t?t:"auto",promptPlaceholder:e.promptPlaceholder,isEmpty:0===(null===(n=e.markdownContent)||void 0===n?void 0:n.length),defaultMinimized:e.defaultMinimized},o.a.createElement(c.EditorContent,{lang:"en",className:"ProseMirrorContainer",editor:Ue}),be&&!(e.defaultMinimized&&0===(null===(a=e.markdownContent)||void 0===a?void 0:a.length))&&o.a.createElement(le,null,o.a.createElement(Ae,null,!e.slimEditorActions&&o.a.createElement(R.a,{placement:"bottom",tooltipText:J()||(null===(s=e.getYoutubePlayer)||void 0===s?void 0:s.call(e))?"Add video timestamp":"Video time stamp not available",getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"timestampIcon",padding:"4px",heightAndWidth:"16px",disabled:!J()&&!(null===(A=e.getYoutubePlayer)||void 0===A?void 0:A.call(e)),onClick:()=>{const t=Object(L.b)(Object(L.d)({youtubePlayer:e.getYoutubePlayer()}));Ue.chain().insertContent(l.marked.parseInline(t+" ")).focus().run()}})),o.a.createElement(R.a,{placement:"bottom",tooltipText:o.a.createElement(o.a.Fragment,null,"Highlight"),getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"highlight",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleHighlight().run()})),o.a.createElement(R.a,{placement:"bottom",tooltipText:o.a.createElement(o.a.Fragment,null,"Bold"),getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"boldIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleBold().run()})),o.a.createElement(R.a,{placement:"bottom",tooltipText:"Italic",getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"italicIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleItalic().run()})),o.a.createElement(R.a,{placement:"bottom",tooltipText:o.a.createElement(o.a.Fragment,null,"Heading 1"),getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"h1Icon",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleHeading({level:1}).run()})),o.a.createElement(R.a,{placement:"bottom",tooltipText:o.a.createElement(o.a.Fragment,null,"Heading 2"),getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"h2Icon",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleHeading({level:2}).run()})),o.a.createElement(R.a,{placement:"bottom",tooltipText:"Bullet List",getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"bulletListIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleBulletList().run()})),o.a.createElement(R.a,{placement:"bottom",tooltipText:"Numberd List",getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"numberedListIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleOrderedList().run()})),!e.slimEditorActions&&o.a.createElement(o.a.Fragment,null,o.a.createElement(R.a,{placement:"bottom",tooltipText:"Strike Through",getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"strikethroughIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Ue.chain().focus().toggleStrike().run()})),o.a.createElement(R.a,{placement:"bottom",tooltipText:"Add image from url",getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"imageIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>p(!0),containerRef:Be,active:d})))),o.a.createElement(ce,null,o.a.createElement(R.a,{placement:"bottom-end",tooltipText:"Formatting Help",getPortalRoot:e.getRootElement},o.a.createElement(Q.a,{filePath:"helpIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>B(!0),containerRef:xe,active:b})))),null!=de&&!be&&o.a.createElement(ie,{onClick:()=>{fe(!de)}},o.a.createElement(Q.a,{filePath:de?"expand":"compress",heightAndWidth:"18px",hoverOff:!0}),de?"Show More":"Show Less"),(t=>d?o.a.createElement(P.a,{targetElementRef:Be.current,placement:"bottom-end",closeComponent:()=>{p(!1)},offsetX:5,getPortalRoot:e.getRootElement},o.a.createElement(ae,null,o.a.createElement(H.a,{placeholder:"Add Image URL",value:g,onChange:e=>{v(e.target.value)},onClick:e=>{e.stopPropagation()},onKeyDown:e=>{"Enter"===e.key&&(t.chain().focus().setImage({src:g}).insertContent([{type:"paragraph"}]).run(),p(!1),v(""))}}),o.a.createElement(Q.a,{icon:"plus",onClick:e=>{t.chain().focus().setImage({src:g}).insertContent([{type:"paragraph"}]).run(),p(!1),v("")},heightAndWidth:"26px",color:"prime1"})),o.a.createElement(se,null,"You can also paste or drop any image into the editor")):null)(Ue),b?o.a.createElement(P.a,{targetElementRef:xe.current,placement:"bottom-end",closeComponent:()=>{B(!1)},strategy:"fixed",offsetX:5,getPortalRoot:e.getRootElement},o.a.createElement(N.a,{hideShortCutSection:!0,getRootElement:e.getRootElement})):null,(()=>{var t,n;return C[0]?o.a.createElement(P.a,{targetElementRef:xe.current,placement:"bottom-end",closeComponent:()=>{k([null,null])},strategy:"fixed",getPortalRoot:e.getRootElement},o.a.createElement(ne,null,o.a.createElement(te,null,0===(null===(t=e.spaceSearchSuggestions)||void 0===t?void 0:t.length)&&(null==j?void 0:j.length)>0?o.a.createElement(ee,{onClick:()=>{e.addNewSpaceViaWikiLinks(j)}},o.a.createElement(X,null,o.a.createElement(Q.a,{icon:"plus",heightAndWidth:"16px",color:"prime1"}),j),o.a.createElement(Z,null,"Press"," ",U.current&&'"Space" or '," ",'"Enter" to confirm')):null===(n=e.spaceSearchSuggestions)||void 0===n?void 0:n.map(((t,n)=>o.a.createElement(re,{isSelected:n===pe,onClick:t=>{t.preventDefault(),(t=>{null!=I.current[0]&&(t.preventDefault(),t.stopPropagation());let n="";e.spaceSearchSuggestions.length>0?(e.selectSpace(e.spaceSearchSuggestions[pe].id),n=e.spaceSearchSuggestions[pe].name):(e.addNewSpaceViaWikiLinks(j),n=j),Re(0,Ue,ge,n)})(t)},onMouseEnter:()=>{he(n)}},t.name)))))):null})()))}},function(e,t,n){"use strict";t.a=function(){var e;return navigator.userAgent.includes("Firefox")?"firefox":"function"==typeof(null===(e=navigator.brave)||void 0===e?void 0:e.isBrave)?"brave":"chrome"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));const r="__FETCH_ME__",i=10485760,o="memex.cloud/ct/"},function(e,t){e.exports={}},function(e,t,n){"use strict";function r(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e,t,n,r,i){let a=e,s=(new DOMParser).parseFromString(a,"text/html"),l=Array.from(s.querySelectorAll("img"));for(let e of l){let a=e.getAttribute("src"),s=e.getAttribute("remoteid");s&&a!==s&&(i||(e.setAttribute("src",s),o({id:s,image:a,imageSupport:r,normalizedPageUrl:null!=t?t:null,annotationUrl:null!=n?n:null}),e.setAttribute("src",s)))}let c=Array.from(s.querySelectorAll("a"));for(let e of c){let n=e.getAttribute("href");if(n&&n.startsWith("/")){const r=new URL(t),i=r.hostname,o=r.protocol;e.setAttribute("href",`${o}//${i}${n}`)}}let A=(new XMLSerializer).serializeToString(s);return A=s.body.innerHTML,A}function o({id:e,image:t,imageSupport:n,normalizedPageUrl:i,annotationUrl:o}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){try{yield n.uploadImage({id:e,image:t,normalizedPageUrl:null!=i?i:null,annotationUrl:null!=o?o:null})}catch(e){console.error(e)}}))}},,function(e,t){e.exports=function(e){return function(t){return e(t)}}},,function(e,t,n){var r=n(245),i=n(373),o=n(374),a=n(250),s=n(392),l=n(254),c=n(393),A=n(256),u=n(258),d=n(236),f=Math.max;e.exports=function(e,t,n,p,h,g,m,v){var y=2&t;if(!y&&"function"!=typeof e)throw new TypeError("Expected a function");var b=p?p.length:0;if(b||(t&=-97,p=h=void 0),m=void 0===m?m:f(d(m),0),v=void 0===v?v:d(v),b-=h?h.length:0,64&t){var w=p,B=h;p=h=void 0}var x=y?void 0:l(e),C=[e,t,n,p,h,w,B,g,m,v];if(x&&c(C,x),e=C[0],t=C[1],n=C[2],p=C[3],h=C[4],!(v=C[9]=void 0===C[9]?y?0:e.length:f(C[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||16==t?o(e,t,v):32!=t&&33!=t||h.length?a.apply(void 0,C):s(e,t,n,p);else var S=i(e,t,n);return u((x?r:A)(S,C),e,t)}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(142),i=n(173);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(383),i=n(257)(r);e.exports=i},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[o++]=r)}return a}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var r=n(248),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(111)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(87)(n(40),"Map");e.exports=r},function(e,t,n){var r=n(413),i=n(420),o=n(422),a=n(423),s=n(424);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(429),i=n(265),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(264)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(269);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(41),i=n(115),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=/[|/\u{A0}' .,|(\n)]+/gu},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(642),o=n(120);const a=r.Mark.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach((e=>{"string"!=typeof e?i.registerCustomProtocol(e.scheme,e.optionalSlashes):i.registerCustomProtocol(e)}))},onDestroy(){i.reset()},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:e}){var t;return(null===(t=e.href)||void 0===t?void 0:t.startsWith("javascript:"))?["a",r.mergeAttributes(this.options.HTMLAttributes,{...e,href:""}),0]:["a",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[r.markPasteRule({find:e=>{const t=[];if(e){const n=i.find(e).filter((e=>e.isLink));n.length&&n.forEach((e=>t.push({text:e.value,data:{href:e.href},index:e.start})))}return t},type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];var t;return this.options.autolink&&e.push((t={type:this.type,validate:this.options.validate},new o.Plugin({key:new o.PluginKey("autolink"),appendTransaction:(e,n,o)=>{const a=e.some((e=>e.docChanged))&&!n.doc.eq(o.doc),s=e.some((e=>e.getMeta("preventAutolink")));if(!a||s)return;const{tr:l}=o,c=r.combineTransactionSteps(n.doc,[...e]);return r.getChangedRanges(c).forEach((({newRange:e})=>{const n=r.findChildrenInRange(o.doc,e,(e=>e.isTextblock));let a,s;if(n.length>1?(a=n[0],s=o.doc.textBetween(a.pos,a.pos+a.node.nodeSize,void 0," ")):n.length&&o.doc.textBetween(e.from,e.to," "," ").endsWith(" ")&&(a=n[0],s=o.doc.textBetween(a.pos,e.to,void 0," ")),a&&s){const e=s.split(" ").filter((e=>""!==e));if(e.length<=0)return!1;const n=e[e.length-1],c=a.pos+s.lastIndexOf(n);if(!n)return!1;i.find(n).filter((e=>e.isLink)).map((e=>({...e,from:c+e.start+1,to:c+e.end+1}))).filter((e=>!o.schema.marks.code||!o.doc.rangeHasMark(e.from,e.to,o.schema.marks.code))).filter((e=>!t.validate||t.validate(e.value))).forEach((e=>{r.getMarksBetween(e.from,e.to,o.doc).some((e=>e.mark.type===t.type))||l.addMark(e.from,e.to,t.type.create({href:e.href}))}))}})),l.steps.length?l:void 0}}))),this.options.openOnClick&&e.push(function(e){return new o.Plugin({key:new o.PluginKey("handleClickLink"),props:{handleClick:(t,n,i)=>{var o,a;if(0!==i.button)return!1;let s=i.target;const l=[];for(;"DIV"!==s.nodeName;)l.push(s),s=s.parentNode;if(!l.find((e=>"A"===e.nodeName)))return!1;const c=r.getAttributes(t.state,e.type.name),A=i.target,u=null!==(o=null==A?void 0:A.href)&&void 0!==o?o:c.href,d=null!==(a=null==A?void 0:A.target)&&void 0!==a?a:c.target;return!(!A||!u||(window.open(u,d),0))}}})}({type:this.type})),this.options.linkOnPaste&&e.push(function(e){return new o.Plugin({key:new o.PluginKey("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";r.content.forEach((e=>{l+=e.textContent}));const c=i.find(l).find((e=>e.isLink&&e.value===l));return!(!l||!c||(e.editor.commands.setMark(e.type,{href:c.href}),0))}}})}({editor:this.editor,type:this.type})),e}});t.Link=a,t.default=a,t.pasteRegex=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(290);function i(e,t){const n=(new DOMParser).parseFromString(e,"text/html"),i=Array.from(n.querySelectorAll("img"));for(let e of i){const n=e.getAttribute("src");let i=e.getAttribute("remoteid"),o=null;o=n.startsWith("data:")?n:i===n?Object(r.a)({id:i,env:t}):n,e.setAttribute("src",o)}return n.body.innerHTML}function o(e){const t=(new DOMParser).parseFromString(e,"text/html"),n=Array.from(t.querySelectorAll("img"));for(let e of n){let t=e.getAttribute("remoteid");e.setAttribute("src",t)}return t.body.innerHTML}},function(e,t,n){var r=n(400),i=n(168),o=n(178),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(5),l=n(128);const c=a.a.div`
    font-family: ${e=>e.theme.fonts.primary};
    width: 100%;
    padding: 20px 20px;
    display: flex;
    justify-content: flex-start;
    flex-direction: column;
    align-items: center;
    grid-gap: 10px;
    width: fit-content;
    min-width: 250px;
    max-width: 400px;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
    &::-webkit-scrollbar {
        display: none;
    }
    border-radius: 12px;
    scrollbar-width: none;
`,A=a.a.div`
    color: ${e=>e.theme.colors.warning};
    font-size: 16px;
    font-weight: 900;
`,u=a.a.div`
    color: ${e=>e.theme.colors.greyScale7};
    font-size: 14px;
    margin-bottom: 10px;
`,d=({title:e,errorMessage:t,closeComponent:n,getPortalRoot:r,blockedBackground:o,positioning:a="centerCenter"})=>i.a.createElement(l.a,{closeComponent:n,getPortalRoot:r,blockedBackground:o,width:"fit-content",positioning:a},i.a.createElement(c,null,i.a.createElement(A,null,e),i.a.createElement(u,null,t),i.a.createElement(s.a,{label:"Contact Support",onClick:()=>{window.open("https://memex.garden/chatSupport","_blank")},type:"secondary",size:"small"})))},,function(e,t,n){var r=n(447),i=n(458),o=n(140),a=n(41),s=n(465);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(33),c=n(10),A=n(36),u=n(18);class d extends l.a{constructor(e){super(),this.dependencies=e,this.getInitialState=()=>({loadState:"pristine",inviteLinksLoadState:"pristine",inviteLinks:[],nameValue:this.dependencies.listData.name,showSuccessMsg:!1,mode:null,showSaveButton:!1,isLocalPDF:!1}),this.init=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){window.location.href.includes("/pdfjs/viewer.html?file=blob")&&this.emitMutation({isLocalPDF:{$set:!0}}),yield Object(c.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.loadInviteLinks()}))))})),this.copyInviteLink=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.dependencies.copyToClipboard(e.link)})),this.updateSpacePrivacy=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.dependencies.onSetSpacePrivate(e.isPrivate)}))}loadInviteLinks(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{listData:e,contentSharingBG:t}=this.dependencies,n=t=>"page-link"===e.type?Object(A.g)({collaborationKey:t,remoteListId:e.remoteId,remoteListEntryId:e.sharedListEntryId}):Object(A.e)({collaborationKey:t,remoteListId:e.remoteId});yield Object(c.d)(this,"inviteLinksLoadState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==e.remoteId)return;if(null!=e.collabKey)return void this.emitMutation({inviteLinks:{$set:[{roleID:u.a.Commenter,link:n()},{roleID:u.a.ReadWrite,link:n(e.collabKey)}]}});const{links:r}=yield t.getExistingKeyLinksForList({listReference:{id:e.remoteId,type:"shared-list-reference"}}),i=r.find((e=>null!=e.keyString)),o=[{roleID:u.a.Commenter,link:n()}];i&&o.push({roleID:u.a.ReadWrite,link:n(i.keyString)}),this.emitMutation({inviteLinks:{$set:o}})}))))}))}}d.MSG_TIMEOUT=2e3;var f=n(5),p=n(54),h=n(160),g=n(227),m=n(114),v=n(226);const y="private-space-selection-state";class b extends c.a{constructor(e){super(e,new d(e)),this.handleWebViewOpen=e=>{const{listData:t}=this.props;null!=t.remoteId&&window.open(Object(A.e)({remoteListId:t.remoteId}))}}get isFollowedSpace(){return null==this.props.listData.localId}renderMainContent(){var e,t;return this.isFollowedSpace?o.a.createElement(C,null,o.a.createElement(f.a,{onClick:Object(m.a)(this.handleWebViewOpen),label:"Go to Space",fontSize:"14px"})):o.a.createElement(B,null,this.state.isLocalPDF&&o.a.createElement(w,null,"The PDF file is not uploaded. Send it separately & recipients must drop it into the web reader."),this.props.isCreator&&null!=this.props.listData.remoteId&&o.a.createElement(h.a,{elementHeight:"60px",backgroundColor:"greyScale2",menuItems:[{id:y,name:"Private",info:"Only visible to you and people invited"},{id:"public-space-selection-state",name:"Shared",info:"Viewable to anyone with the link"}],onMenuItemClick:e=>this.processEvent("updateSpacePrivacy",{isPrivate:e.id===y}),initSelectedIndex:null==(null===(e=this.props.listData)||void 0===e?void 0:e.isPrivate)||(null===(t=this.props.listData)||void 0===t?void 0:t.isPrivate)?0:1,keepSelectedState:!0}),null!=this.props.listData.remoteId&&o.a.createElement(x,null,"Invite Links"),o.a.createElement(v.a,{analyticsBG:this.props.analyticsBG,inviteLinks:this.state.inviteLinks,loadState:this.state.inviteLinksLoadState,copyLink:e=>this.processEvent("copyInviteLink",{link:e}),isPageLink:"page-link"===this.props.listData.type,getRootElement:this.props.getRootElement}),o.a.createElement(g.a,Object.assign({pageLinkLoadingState:this.state.inviteLinksLoadState},this.props)))}render(){return o.a.createElement(S,null,this.renderMainContent())}}b.defaultProps={copyToClipboard:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(p.a)(e),!0}))};const w=s.a.div.withConfig({displayName:"LocalPDFWarning",componentId:"n9smis-0"})(["background:","80;border:1px solid ",";border-radius:8px;padding:10px;display:flex;align-items:center;justify-content:center;width:260px;color:",";margin-bottom:10px;font-size:14px;"],(e=>e.theme.colors.warning),(e=>e.theme.colors.warning),(e=>e.theme.colors.greyScale7)),B=s.a.div.withConfig({displayName:"ContextMenuContainer",componentId:"n9smis-1"})(["display:flex;grid-gap:5px;flex-direction:column;width:fill-available;padding:10px 10px 10px 10px;min-height:fit-content;height:fit-content;justify-content:center;align-items:flex-start;"]),x=s.a.div.withConfig({displayName:"SectionTitle",componentId:"n9smis-2"})(["font-size:14px;color:",";font-weight:400;width:100%;display:flex;justify-content:flex-start;grid-gap:10px;align-items:center;"],(e=>e.theme.colors.greyScale5)),C=s.a.div.withConfig({displayName:"DeleteBox",componentId:"n9smis-3"})(["display:flex;grid-gap:10px;justify-content:center;flex-direction:column;width:fill-available;padding:15px;"]),S=s.a.div.withConfig({displayName:"MenuContainer",componentId:"n9smis-4"})(["display:flex;flex-direction:column;border-radius:12px;width:300px;"])},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(33),c=n(10),A=n(18),u=n(8);class d extends l.a{constructor(e){super(),this.dependencies=e,this.getInitialState=()=>({loadState:"pristine",ownershipLoadState:"pristine",listShareLoadState:"pristine",inviteLinksLoadState:"pristine",emailInvitesLoadState:"pristine",emailInvitesCreateState:"pristine",emailInvitesDeleteState:"pristine",emailInviteInputRole:A.a.Commenter,emailInviteInputValue:"",emailInvites:Object(u.a)(),inviteLinks:[],nameValue:this.dependencies.listData.name,showSuccessMsg:!1,mode:null,showSaveButton:!1}),this.init=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=e;yield Object(c.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.dependencies.loadOwnershipData&&(t=yield this.loadSpaceOwnership(e))}))))})),this.onDeleteSpaceConfirm=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n;const{listData:r}=this.dependencies;r.localId&&(null===(n=(t=this.dependencies).onDeleteSpaceConfirm)||void 0===n||n.call(t,e.reactEvent),yield this.dependencies.contentSharingBG.deleteListAndAllAssociatedData({localListId:r.localId}),this.emitMutation({mode:{$set:null}}))})),this.intendToDeleteSpace=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n;null===(n=(t=this.dependencies).onDeleteSpaceIntent)||void 0===n||n.call(t,e.reactEvent),this.emitMutation({mode:{$set:"confirm-space-delete"}})})),this.cancelDeleteSpace=({})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({mode:{$set:null}})})),this.updateSpaceName=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n;null===(n=(t=this.dependencies).onSpaceNameChange)||void 0===n||n.call(t,e.name),this.emitMutation({nameValue:{$set:e.name},showSaveButton:{$set:!0}})})),this.cancelSpaceNameEdit=({})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t;null===(t=(e=this.dependencies).onCancelEdit)||void 0===t||t.call(e)})),this.confirmSpaceNameEdit=({event:e,previousState:t})=>{const n=this.dependencies.listData.name,r=t.nameValue.trim();this.emitMutation({showSaveButton:{$set:!1}}),r.length&&r!==n&&this.dependencies.onConfirmSpaceNameEdit(r)}}loadSpaceOwnership(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{listData:t,spacesBG:n}=this.dependencies,i={};return yield Object(c.d)(this,"ownershipLoadState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==t.remoteId)return void(i.mode={$set:null});const e=yield n.fetchSharedListDataWithOwnership({remoteListId:t.remoteId});if(null==t)throw new Error("Remote list data not found");i.mode={$set:e.isOwned?null:"followed-space"}})))),this.emitMutation(i),this.withMutation(e,i)}))}}d.MSG_TIMEOUT=2e3;var f=n(27),p=n(4),h=n(5),g=n(7),m=n(54),v=n(13);const y=e=>t=>(t.preventDefault(),t.stopPropagation(),e(t));class b extends c.a{constructor(e){super(e,new d(e)),this.handleNameChange=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=e.target.value;yield this.processEvent("updateSpaceName",{name:t})})),this.handleNameEditInputKeyDown=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if("Escape"===e.key)return this.state.nameValue.trim().length&&e.stopPropagation(),void(yield this.processEvent("cancelSpaceNameEdit",null));"Enter"===e.key&&this.state.nameValue.trim().length>0&&(e.preventDefault(),e.stopPropagation(),yield this.processEvent("confirmSpaceNameEdit",null)),e.stopPropagation()}))}renderMainContent(){var e;if("confirm-space-delete"===this.state.mode&&this.props.isCreator)return o.a.createElement(S,null,o.a.createElement(I,null,"Delete this Space?"),o.a.createElement(O,null,"This does NOT delete the pages in it"),o.a.createElement(B,null,o.a.createElement(h.a,{onClick:y((e=>this.processEvent("onDeleteSpaceConfirm",{reactEvent:e}))),label:"Delete",icon:"trash",type:"secondary",size:"medium"}),o.a.createElement(h.a,{onClick:y((e=>this.processEvent("cancelDeleteSpace",null))),label:"Cancel",type:"tertiary",size:"medium"})));const t="page-link"===this.props.listData.type;return o.a.createElement(x,null,"special-list"!==this.props.listData.type&&this.props.isCreator&&o.a.createElement(o.a.Fragment,null,o.a.createElement(C,null,t?"Edit Page Link Name":"Edit Space Name"),o.a.createElement(k,null,o.a.createElement(_,{onClick:e=>{e.preventDefault(),e.stopPropagation()}},o.a.createElement(F,{onClick:e=>{e.preventDefault(),e.stopPropagation()},value:this.state.nameValue,onChange:this.handleNameChange,disabled:this.props.disableWriteOps,onKeyDown:this.handleNameEditInputKeyDown,onKeyUp:e=>{e.stopPropagation()},autoFocus:!0})),this.props.errorMessage&&o.a.createElement(D,null,this.props.errorMessage))),o.a.createElement(w,null,this.props.isCreator&&o.a.createElement(h.a,{onClick:y((e=>this.processEvent("intendToDeleteSpace",{reactEvent:e}))),disabled:this.props.disableWriteOps,icon:"trash",size:"medium",type:"tertiary",label:"page-link"===this.props.listData.type?"Delete Page Link":"Delete Space"}),o.a.createElement(o.a.Fragment,null,(null===(e=this.state)||void 0===e?void 0:e.showSaveButton)&&this.state.nameValue.length>0&&o.a.createElement(g.a,{tooltipText:o.a.createElement("span",null,o.a.createElement(v.a,{keys:["MOD_KEY","Enter"],getRootElement:()=>this.props.getRootElement()})),placement:"bottom-end",getPortalRoot:this.props.getRootElement},o.a.createElement(p.a,{filePath:"check",color:"prime1",heightAndWidth:"24px",onClick:()=>this.processEvent("confirmSpaceNameEdit",null)})))))}render(){return o.a.createElement(E,null,this.renderMainContent())}}b.defaultProps={copyToClipboard:m.a};const w=s.a.div.withConfig({displayName:"ButtonBox",componentId:"sc-1lt5up5-0"})(["width:fill-available;display:flex;justify-content:space-between;align-items:center;grid-gap:5px;"]),B=s.a.div.withConfig({displayName:"ButtonRow",componentId:"sc-1lt5up5-1"})(["width:fill-available;display:flex;justify-content:center;align-items:center;grid-gap:5px;"]),x=s.a.div.withConfig({displayName:"ContextMenuContainer",componentId:"sc-1lt5up5-2"})(["display:flex;grid-gap:5px;flex-direction:column;width:fill-available;padding:10px 10px 10px 10px;min-height:fit-content;height:fit-content;justify-content:center;align-items:flex-start;"]),C=s.a.div.withConfig({displayName:"SectionTitle",componentId:"sc-1lt5up5-3"})(["font-size:14px;color:",";font-weight:400;width:100%;display:flex;justify-content:flex-start;"],(e=>e.theme.colors.greyScale5)),S=s.a.div.withConfig({displayName:"DeleteBox",componentId:"sc-1lt5up5-4"})(["display:flex;grid-gap:10px;justify-content:center;flex-direction:column;width:fill-available;padding:15px;"]),k=s.a.div.withConfig({displayName:"EditArea",componentId:"sc-1lt5up5-5"})(["color:",";width:fill-available;margin-bottom:3px;"],(e=>e.theme.colors.white)),E=s.a.div.withConfig({displayName:"MenuContainer",componentId:"sc-1lt5up5-6"})(["display:flex;flex-direction:column;border-radius:12px;width:300px;"]),I=s.a.div.withConfig({displayName:"TitleBox",componentId:"sc-1lt5up5-7"})(["display:flex;flex:1;height:100%;align-items:center;font-weight:bold;color:",";justify-content:center;font-size:16px;"],(e=>e.theme.colors.white)),O=s.a.span.withConfig({displayName:"DetailsText",componentId:"sc-1lt5up5-8"})(["opacity:0.8;font-size:14px;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;color:",";margin-bottom:5px;margin-top:-5px;text-align:center;"],(e=>e.theme.colors.greyScale5)),F=s()(f.a).withConfig({displayName:"EditableTextField",componentId:"sc-1lt5up5-9"})(["padding:2px 10px;border-radius:5px;outline:none;flex:2;display:flex;min-width:50px;margin-right:0px;font-size:14px;height:40px;outline:none;border:none;width:fill-available;"]),D=s.a.div.withConfig({displayName:"ErrMsg",componentId:"sc-1lt5up5-10"})(["color:red;width:100%;text-align:center;margin-top:5px;margin-bottom:5px;"]),_=s.a.div.withConfig({displayName:"Container",componentId:"sc-1lt5up5-11"})(["width:fill-available;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;background-color:transparent;grid-gap:2px;"])},,function(e,t,n){var r;!function(i,o){if(i){for(var a,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u=1;u<20;++u)s[111+u]="f"+u;for(u=0;u<=9;++u)s[u+96]=u.toString();v.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},v.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},v.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},v.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},v.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(m(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},v.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);a=null},v.init=function(){var e=v(o);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),i.Mousetrap=v,e.exports&&(e.exports=v),void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return s[e.which]?s[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function h(e,t,n){return n||(n=function(){if(!a)for(var e in a={},s)e>95&&e<112||s.hasOwnProperty(e)&&(a[s[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,i,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],A[r]&&(r=A[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],o.push("shift")),p(r)&&o.push(r);return{key:r,modifiers:o,action:t=h(r,o,t)}}function m(e,t){return null!==e&&e!==o&&(e===t||m(e.parentNode,t))}function v(e){var t=this;if(e=e||o,!(t instanceof v))return new v(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},i=!1,a=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function c(e,n,i,o,a,s){var l,c,A,u,d=[],f=i.type;if(!t._callbacks[e])return[];for("keyup"==f&&p(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(o||!c.seq||r[c.seq]==c.level)&&f==c.action&&("keypress"==f&&!i.metaKey&&!i.ctrlKey||(A=n,u=c.modifiers,A.sort().join(",")===u.sort().join(",")))){var h=!o&&c.combo==a,g=o&&c.seq==o&&c.level==s;(h||g)&&t._callbacks[e].splice(l,1),d.push(c)}return d}function A(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function u(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=f(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):i=!1)}function h(e,t,o,a){function c(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(l,1e3)}}function u(t){A(o,t,e),"keyup"!==a&&(i=f(t)),setTimeout(l,10)}r[e]=0;for(var d=0;d<t.length;++d){var p=d+1===t.length?u:c(a||g(t[d+1]).action);m(t[d],p,a,e,d)}}function m(e,n,r,i,o){t._directMap[e+":"+r]=n;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?h(e,s,n,r):(a=g(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],c(a.key,a.modifiers,{type:a.action},i,e,o),t._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}t._handleKey=function(e,t,n){var r,i=c(e,t,n),o={},u=0,d=!1;for(r=0;r<i.length;++r)i[r].seq&&(u=Math.max(u,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=u)continue;d=!0,o[i[r].seq]=1,A(i[r].callback,n,i[r].combo,i[r].seq)}else d||A(i[r].callback,n,i[r].combo);var f="keypress"==n.type&&a;n.type!=s||p(e)||f||l(o),a=d&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)m(e[r],t,n)},d(e,"keypress",u),d(e,"keydown",u),d(e,"keyup",u)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){var r=n(41),i=n(186),o=n(273),a=n(203);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],A=0;(l=new Error(t.replace(/%s/g,(function(){return c[A++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="memex-tooltip-host",i="memex-tooltip-container"},,,function(e,t,n){var r=n(462);e.exports=function(e){return null==e?"":r(e)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=function(e){var t=e.children,n=r.useState(null),i=n[0],s=n[1],l=r.useRef(!1);r.useEffect((function(){return function(){l.current=!0}}),[]);var c=r.useCallback((function(e){l.current||s(e)}),[]);return r.createElement(o.Provider,{value:i},r.createElement(a.Provider,{value:c},t))},t.ManagerReferenceNodeSetterContext=t.ManagerReferenceNodeContext=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=r.createContext();t.ManagerReferenceNodeContext=o;var a=r.createContext();t.ManagerReferenceNodeSetterContext=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIsomorphicLayoutEffect=t.fromEntries=t.setRef=t.safeInvoke=t.unwrapArray=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}t.unwrapArray=function(e){return Array.isArray(e)?e[0]:e};var o=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}};t.safeInvoke=o;t.setRef=function(e,t){if("function"==typeof e)return o(e,t);null!=e&&(e.current=t)};t.fromEntries=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})};var a="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=a},function(e,t,n){"use strict";var r=n(334),i=n(474);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),A=["'"].concat(c),u=["%","/","?",";","#"].concat(A),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(475);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var b=l.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(y);if(w){var B=(w=w[0]).toLowerCase();this.protocol=B,y=y.substr(w.length)}if(n||w||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===y.substr(0,2);!x||w&&g[w]||(y=y.substr(2),this.slashes=!0)}if(!g[w]&&(x||w&&!m[w])){for(var C,S,k=-1,E=0;E<d.length;E++){-1!==(I=y.indexOf(d[E]))&&(-1===k||I<k)&&(k=I)}-1!==(S=-1===k?y.lastIndexOf("@"):y.lastIndexOf("@",k))&&(C=y.slice(0,S),y=y.slice(S+1),this.auth=decodeURIComponent(C)),k=-1;for(E=0;E<u.length;E++){var I;-1!==(I=y.indexOf(u[E]))&&(-1===k||I<k)&&(k=I)}-1===k&&(k=y.length),this.host=y.slice(0,k),y=y.slice(k),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var F=this.hostname.split(/\./),D=(E=0,F.length);E<D;E++){var _=F[E];if(_&&!_.match(f)){for(var T="",U=0,M=_.length;U<M;U++)_.charCodeAt(U)>127?T+="x":T+=_[U];if(!T.match(f)){var L=F.slice(0,E),Q=F.slice(E+1),R=_.match(p);R&&(L.push(R[1]),Q.unshift(R[2])),Q.length&&(y="/"+Q.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname));var P=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+P,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!h[B])for(E=0,D=A.length;E<D;E++){var N=A[E];if(-1!==y.indexOf(N)){var j=encodeURIComponent(N);j===N&&(j=escape(N)),y=y.split(N).join(j)}}var z=y.indexOf("#");-1!==z&&(this.hash=y.substr(z),y=y.slice(0,z));var K=y.indexOf("?");if(-1!==K?(this.search=y.substr(K),this.query=y.substr(K+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,K)):t&&(this.search="",this.query={}),y&&(this.pathname=y),m[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var $=this.search||"";this.path=P+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var A=l[c];"protocol"!==A&&(n[A]=e[A])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var f=u[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",v=n.search||"";n.path=h+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||y||n.host&&e.pathname,B=w,x=n.pathname&&n.pathname.split("/")||[],C=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===x[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=p;else if(p.length)x||(x=[]),x.pop(),x=x.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C)n.hostname=n.host=x.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=x.slice(-1)[0],k=(n.host||e.host||x.length>1)&&("."===S||".."===S)||""===S,E=0,I=x.length;I>=0;I--)"."===(S=x[I])?x.splice(I,1):".."===S?(x.splice(I,1),E++):E&&(x.splice(I,1),E--);if(!w&&!B)for(;E--;E)x.unshift("..");!w||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),k&&"/"!==x.join("/").substr(-1)&&x.push("");var O,F=""===x[0]||x[0]&&"/"===x[0].charAt(0);C&&(n.hostname=n.host=F?"":x.length?x.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift()));return(w=w||n.host&&x.length)&&!F&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r=n(525),i=n(529)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(53),o=n(153),a=n(8),s=n(11);var l=n(93),c=n(20),A=n(64);class u{constructor(e){var t,n;this.deps=e,this.normalizedPageUrlsToPageLinkListIds=new Map,this.pageListIds=new Map,this.annotations=Object(a.a)(),this.lists=Object(a.a)(),this.annotationIdCounter=0,this.listIdCounter=0,this.localListIdsToCacheIds=new Map,this.remoteListIdsToCacheIds=new Map,this.localAnnotIdsToCacheIds=new Map,this.remoteAnnotIdsToCacheIds=new Map,this.generateAnnotationId=()=>(this.annotationIdCounter++).toString(),this.generateListId=()=>(this.listIdCounter++).toString(),this.isListShared=e=>{var t;return null!=(null===(t=this.lists.byId[e])||void 0===t?void 0:t.remoteId)},this.getLastAssignedAnnotationId=()=>(this.annotationIdCounter-1).toString(),this.getLastAssignedListId=()=>(this.listIdCounter-1).toString(),this.warn=e=>this.deps.debug?console.warn(e):void 0,this.setHighlightColorDictionary=e=>{this.highlightColorDict=e},this.getAnnotationsArray=()=>Object(a.c)(this.annotations),this.getAnnotationByLocalId=e=>{var t;const n=this.localAnnotIdsToCacheIds.get(e);return null==n?null:null!==(t=this.annotations.byId[n])&&void 0!==t?t:null},this.getAnnotationByRemoteId=e=>{var t;const n=this.remoteAnnotIdsToCacheIds.get(e);return null==n?null:null!==(t=this.annotations.byId[n])&&void 0!==t?t:null},this.getListByLocalId=e=>{var t;const n=this.localListIdsToCacheIds.get(e);return null==n?null:null!==(t=this.lists.byId[n])&&void 0!==t?t:null},this.getListByRemoteId=e=>{var t;const n=this.remoteListIdsToCacheIds.get(e);return null==n?null:null!==(t=this.lists.byId[n])&&void 0!==t?t:null},this.getListsByParentId=e=>[...Object(a.c)(this.lists).filter((t=>t.parentUnifiedId===e&&"user-list"===t.type))].sort(c.c),this.getAllListsInTreeByRootId=e=>[...Object(a.c)(this.lists).filter((t=>"user-list"===t.type&&(0===t.pathUnifiedIds.length?t.unifiedId===e:t.pathUnifiedIds[0]===e)))].sort(c.c),this.prepareListForCaching=(e,t)=>{var n,r,i;const o=this.generateListId();if(null!=e.remoteId&&this.remoteListIdsToCacheIds.set(e.remoteId,o),null!=e.localId&&this.localListIdsToCacheIds.set(e.localId,o),null!=e.remoteId&&!(null==t?void 0:t.skipAssociatingAnnotations))for(const t of Object(a.c)(this.annotations))t.privacyLevel<s.a.SHARED||(null===(n=t.creator)||void 0===n?void 0:n.id)!==(null===(r=e.creator)||void 0===r?void 0:r.id)||e.unifiedAnnotationIds.push(t.unifiedId);return e.unifiedAnnotationIds.forEach((e=>{const t=this.annotations.byId[e];t&&!t.unifiedListIds.includes(o)&&t.unifiedListIds.unshift(o)})),Object.assign(Object.assign({},e),{pathLocalIds:null!==(i=e.pathLocalIds)&&void 0!==i?i:[],unifiedId:o})},this.prepareAnnotationForCaching=(e,t)=>{var n,i,o,a,l,c,u,{localListIds:d}=e,f=Object(r.__rest)(e,["localListIds"]);const p=this.generateAnnotationId();null==f.color&&(f.color=null!==(o=null===(i=null===(n=this.highlightColorDict)||void 0===n?void 0:n[0])||void 0===i?void 0:i.id)&&void 0!==o?o:A.a[0].id),null!=f.remoteId&&this.remoteAnnotIdsToCacheIds.set(f.remoteId,p),null!=f.localId&&this.localAnnotIdsToCacheIds.set(f.localId,p);let h=f.privacyLevel;const g=[...new Set([...null!==(a=f.unifiedListIds)&&void 0!==a?a:[],...d.map((e=>{var t;const n=this.localListIdsToCacheIds.get(e);return n?(null!=(null===(t=this.lists.byId[n])||void 0===t?void 0:t.remoteId)&&(h=s.a.PROTECTED),n):(this.warn("No cached list data found for given local list IDs on annotation - did you remember to cache lists before annotations?"),null)}))].filter((e=>null!=e&&null!=this.lists.byId[e])))];return g.forEach((e=>{const t=this.lists.byId[e];t&&!t.unifiedAnnotationIds.includes(p)&&t.unifiedAnnotationIds.unshift(p)})),Object.assign(Object.assign({},f),{privacyLevel:h,unifiedListIds:g,createdWhen:null!==(l=f.createdWhen)&&void 0!==l?l:t.now,lastEdited:null!==(u=null!==(c=f.lastEdited)&&void 0!==c?c:f.createdWhen)&&void 0!==u?u:t.now,unifiedId:p})},this.setPageData=(e,t)=>{var n,r;const i=[...null!==(n=this.pageListIds.get(e))&&void 0!==n?n:[]];this.pageListIds.has(e)&&this.pageListIds.get(e).clear(),this.ensurePageListsSet(e,t),this.events.emit("updatedPageData",e,null!==(r=this.pageListIds.get(e))&&void 0!==r?r:new Set);const o=this.updateSharedAnnotationsWithSharedPageLists();for(const e of[...i,...t]){const t=this.lists.byId[e];if(t)for(const n of o){const r=this.annotations.byId[n];r&&(r.unifiedListIds.includes(e)?t.unifiedAnnotationIds=Array.from(new Set([...t.unifiedAnnotationIds,n])):t.unifiedAnnotationIds=t.unifiedAnnotationIds.filter((e=>e!==n)))}}o.length>0&&this.events.emit("newListsState",this.lists)},this.setAnnotations=(e,{now:t=Date.now(),keepExistingData:n}={now:Date.now()})=>{n||(this.annotationIdCounter=0,this.localAnnotIdsToCacheIds.clear(),this.remoteAnnotIdsToCacheIds.clear());const r=[...e].sort(this.deps.sortingFn).filter((e=>!n||(null!=e.localId?null==this.getAnnotationByLocalId(e.localId):null==e.remoteId||null==this.getAnnotationByRemoteId(e.remoteId)))).map((e=>this.prepareAnnotationForCaching(e,{now:t})));return n&&r.push(...Object(a.c)(this.annotations)),this.annotations=Object(a.a)({seedData:r,getId:e=>e.unifiedId}),this.events.emit("newAnnotationsState",this.annotations),{unifiedIds:r.map((e=>e.unifiedId))}},this.setLists=e=>{var t;this.listIdCounter=0,this.localListIdsToCacheIds.clear(),this.remoteListIdsToCacheIds.clear();const n=new Map,r=[...e].map((e=>{const t=this.prepareListForCaching(e,{skipAssociatingAnnotations:!0});return e.localId&&n.set(e.localId,t.unifiedId),t}));for(const e of r)e.pathUnifiedIds=e.pathLocalIds.map((e=>n.get(e))).filter((e=>null!=e)),"page-link"===e.type&&this.trackPageLinkListForPage(e),"user-list"===e.type&&null!=e.parentLocalId&&(e.parentUnifiedId=null!==(t=n.get(e.parentLocalId))&&void 0!==t?t:null);return this.lists=Object(a.a)({seedData:r,getId:e=>e.unifiedId}),this.events.emit("newListsState",this.lists),{unifiedIds:r.map((e=>e.unifiedId))}},this.sortLists=e=>{throw new Error("List sorting not yet implemented")},this.sortAnnotations=e=>{e&&(this.deps.sortingFn=e),this.annotations.allIds=Object(a.c)(this.annotations).sort(this.deps.sortingFn).map((e=>e.unifiedId)),this.events.emit("newAnnotationsState",this.annotations)},this.addAnnotation=(e,{now:t=Date.now()}={now:Date.now()})=>{if(null!=e.remoteId){const t=this.remoteAnnotIdsToCacheIds.get(e.remoteId);if(null!=t)return{unifiedId:t}}const n=this.prepareAnnotationForCaching(e,{now:t});return n.privacyLevel>=s.a.SHARED&&(n.unifiedListIds=[...new Set([...this.getSharedPageListIds(n.normalizedPageUrl),...n.unifiedListIds])]),this.annotations.allIds=[n.unifiedId,...this.annotations.allIds],this.annotations.byId=Object.assign(Object.assign({},this.annotations.byId),{[n.unifiedId]:n}),this.updateCachedListAnnotationRefsForAnnotationUpdate({unifiedId:n.unifiedId,unifiedListIds:[]},n),this.events.emit("addedAnnotation",n),this.events.emit("newAnnotationsState",this.annotations),{unifiedId:n.unifiedId}},this.addList=(e,t)=>{var n,r,i;const o=this.prepareListForCaching(e);if(o.pathUnifiedIds=o.pathLocalIds.map((e=>{var t;return null===(t=this.getListByLocalId(e))||void 0===t?void 0:t.unifiedId})).filter((e=>null!=e)),"user-list"===o.type&&(null!=o.parentLocalId?(o.parentUnifiedId=null!==(r=null===(n=this.getListByLocalId(o.parentLocalId))||void 0===n?void 0:n.unifiedId)&&void 0!==r?r:null,o.pathUnifiedIds.includes(o.parentUnifiedId)||o.pathUnifiedIds.push(o.parentUnifiedId),o.pathLocalIds.includes(o.parentLocalId)||o.pathLocalIds.push(o.parentLocalId)):o.parentUnifiedId=null,null==o.order)){const e=this.getListsByParentId(null!==(i=o.parentUnifiedId)&&void 0!==i?i:null).map((e=>({id:e.unifiedId,key:e.order})));o.order=e.length>0?Object(c.d)(e,o.unifiedId,0).create.key:Object(c.e)(e,o.unifiedId).create.key}return this.lists.allIds=[o.unifiedId,...this.lists.allIds],this.lists.byId=Object.assign(Object.assign({},this.lists.byId),{[o.unifiedId]:o}),"page-link"===o.type&&(this.trackPageLinkListForPage(o),this.ensurePageListsSet(o.normalizedPageUrl,[o.unifiedId])),(null==t?void 0:t.skipEventEmission)||this.events.emit("addedList",o),this.events.emit("newListsState",this.lists),{unifiedId:o.unifiedId}},this.updateAnnotation=(e,t)=>{var n,r,i,o,a;const l=this.annotations.byId[e.unifiedId];if(!l)throw new Error("No existing cached annotation found to update");let c=[...l.unifiedListIds];(null==t?void 0:t.forceListUpdate)||l.privacyLevel===e.privacyLevel?c=[...e.unifiedListIds]:l.privacyLevel!==s.a.PRIVATE&&e.privacyLevel<=s.a.PRIVATE?(null==t?void 0:t.keepListsIfUnsharing)?e.privacyLevel=s.a.PROTECTED:c=c.filter((e=>!this.isListShared(e))):l.privacyLevel<=s.a.PRIVATE&&e.privacyLevel>=s.a.SHARED&&(c=this.getSharedPageListIds(l.normalizedPageUrl)),l.remoteId!==e.remoteId&&this.remoteAnnotIdsToCacheIds.set(e.remoteId,l.unifiedId);const A=Object.assign(Object.assign({},l),{privacyLevel:e.privacyLevel,unifiedListIds:c,comment:null!==(n=e.comment)&&void 0!==n?n:l.comment,body:null!==(r=e.body)&&void 0!==r?r:l.body,remoteId:null!==(i=e.remoteId)&&void 0!==i?i:l.remoteId,lastEdited:(null==t?void 0:t.updateLastEditedTimestamp)?null!==(o=null==t?void 0:t.now)&&void 0!==o?o:Date.now():l.lastEdited,color:null!==(a=e.color)&&void 0!==a?a:l.color});this.updateCachedListAnnotationRefsForAnnotationUpdate(l,A),this.annotations=Object.assign(Object.assign({},this.annotations),{byId:Object.assign(Object.assign({},this.annotations.byId),{[e.unifiedId]:A})}),this.events.emit("updatedAnnotation",A),this.events.emit("newAnnotationsState",this.annotations)},this.updateList=e=>{var t,n,r,i,o,a,s,c,A,u;const d=this.lists.byId[e.unifiedId];if(!d)throw new Error("No existing cached list found to update");const f=Object.assign(Object.assign({},d),{name:null!==(t=e.name)&&void 0!==t?t:d.name,order:null!==(n=e.order)&&void 0!==n?n:d.order,remoteId:null!==(r=e.remoteId)&&void 0!==r?r:d.remoteId,collabKey:null!==(i=e.collabKey)&&void 0!==i?i:d.collabKey,isPrivate:null!==(o=e.isPrivate)&&void 0!==o?o:d.isPrivate,description:null!==(a=e.description)&&void 0!==a?a:d.description,parentUnifiedId:null===e.parentUnifiedId?e.parentUnifiedId:null!==(s=e.parentUnifiedId)&&void 0!==s?s:d.parentUnifiedId});if("page-link"===d.type&&"page-link"===f.type&&(f.normalizedPageUrl=null!==(c=e.normalizedPageUrl)&&void 0!==c?c:d.normalizedPageUrl,f.sharedListEntryId=null!==(A=e.sharedListEntryId)&&void 0!==A?A:d.sharedListEntryId,f.hasRemoteAnnotationsToLoad=null!==(u=e.hasRemoteAnnotationsToLoad)&&void 0!==u?u:d.hasRemoteAnnotationsToLoad),d.remoteId!==f.remoteId&&this.remoteListIdsToCacheIds.set(f.remoteId,f.unifiedId),this.lists=Object.assign(Object.assign({},this.lists),{byId:Object.assign(Object.assign({},this.lists.byId),{[e.unifiedId]:f})}),d.parentUnifiedId!==f.parentUnifiedId&&Object(l.b)({root:f,getChildren:e=>this.getListsByParentId(e.unifiedId),cb:e=>{var t,n,r;const i=this.lists.byId[e.parentUnifiedId];if(!i)return e.parentUnifiedId=null,e.parentLocalId=null,e.pathUnifiedIds=[],void(e.pathLocalIds=[]);e.parentUnifiedId=i.unifiedId,e.parentLocalId=null!==(t=i.localId)&&void 0!==t?t:null,e.pathUnifiedIds=[...null!==(n=i.pathUnifiedIds)&&void 0!==n?n:[],i.unifiedId],e.pathLocalIds=[...null!==(r=i.pathLocalIds)&&void 0!==r?r:[],i.localId].filter((e=>null!=e))}}),this.events.emit("updatedList",f),this.events.emit("newListsState",this.lists),d.remoteId!==f.remoteId){const e=this.updateSharedAnnotationsWithSharedPageLists();f.unifiedAnnotationIds=Array.from(new Set([...d.unifiedAnnotationIds,...e]))}},this.removeAnnotation=({unifiedId:e,localId:t})=>{let n=e;null!=t&&(n=this.localAnnotIdsToCacheIds.get(t));const r=this.annotations.byId[n];if(!r)throw new Error("No existing cached annotation found to remove");null!=r.remoteId&&this.remoteAnnotIdsToCacheIds.delete(r.remoteId),null!=r.localId&&this.localAnnotIdsToCacheIds.delete(r.localId),delete this.annotations.byId[r.unifiedId],this.annotations.allIds=this.annotations.allIds.filter((e=>e!==n)),this.events.emit("removedAnnotation",r),this.events.emit("newAnnotationsState",this.annotations)},this.removeList=({unifiedId:e},t)=>{const n=this.lists.byId[e];if(!n)throw new Error("No existing cached list found to remove");const r=Object(l.d)({strategy:"dfs",root:n,cb:e=>e,getChildren:e=>this.getListsByParentId(e.unifiedId)}).reverse();for(const e of r)null!=e.remoteId&&this.remoteListIdsToCacheIds.delete(e.remoteId),null!=e.localId&&this.localListIdsToCacheIds.delete(e.localId),this.lists.allIds=this.lists.allIds.filter((t=>t!==e.unifiedId)),delete this.lists.byId[e.unifiedId],(null==t?void 0:t.skipEventEmission)||this.events.emit("removedList",e);this.events.emit("newListsState",this.lists)},e.sortingFn=null!==(t=e.sortingFn)&&void 0!==t?t:o.b,e.events=null!==(n=e.events)&&void 0!==n?n:new i.EventEmitter}get isEmpty(){return 0===this.annotations.allIds.length}get events(){return this.deps.events}ensurePageListsSet(e,t){var n;const r=null!==(n=this.pageListIds.get(e))&&void 0!==n?n:new Set;for(const e of t)this.lists.byId[e]&&!r.has(e)&&r.add(e);this.pageListIds.set(e,r)}trackPageLinkListForPage(e){var t;const n=null!==(t=this.normalizedPageUrlsToPageLinkListIds.get(e.normalizedPageUrl))&&void 0!==t?t:new Set;n.add(e.unifiedId),this.normalizedPageUrlsToPageLinkListIds.set(e.normalizedPageUrl,n)}getSharedPageListIds(e){var t;return[...null!==(t=this.pageListIds.get(e))&&void 0!==t?t:[]].filter(this.isListShared)}updateSharedAnnotationsWithSharedPageLists(){const e=[];let t=!1;return this.annotations=Object(a.a)({getId:e=>e.unifiedId,seedData:Object(a.c)(this.annotations).map((n=>{const r=Array.from(new Set([...this.getSharedPageListIds(n.normalizedPageUrl),...n.unifiedListIds.filter((e=>!this.isListShared(e)))]));return n.privacyLevel<s.a.SHARED||((e,t)=>{const n=new Set(e),r=new Set(t);if(n.size!==r.size)return!1;for(const e of n)if(!r.has(e))return!1;return!0})(n.unifiedListIds,r)?n:(e.push(n.unifiedId),t=!0,Object.assign(Object.assign({},n),{unifiedListIds:r}))}))}),t&&this.events.emit("newAnnotationsState",this.annotations),e}updateCachedListAnnotationRefsForAnnotationUpdate(e,t){const n=e.unifiedListIds.filter((e=>!t.unifiedListIds.includes(e)));for(const t of n){const n=this.lists.byId[t];n&&(n.unifiedAnnotationIds=n.unifiedAnnotationIds.filter((t=>t!==e.unifiedId)))}const r=t.unifiedListIds.filter((t=>!e.unifiedListIds.includes(t)));for(const t of r){const n=this.lists.byId[t];n&&!n.unifiedAnnotationIds.includes(e.unifiedId)&&n.unifiedAnnotationIds.push(e.unifiedId)}}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(2),i=n(36),o=n(54),a=n(75),s=n(45);function l({annotationData:e,annotationsBG:t,contentSharingBG:n,syncSettingsBG:l,skipPageIndexing:c,skipListExistenceCheck:A,privacyLevelOverride:u,shareOpts:d}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const f=yield n.generateRemoteAnnotationId();return{remoteAnnotationId:f,savePromise:(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var p,h,g,m,v,y;yield n.waitForPageLinkCreation({fullPageUrl:e.fullPageUrl});const b=yield t.createAnnotation({url:e.localId,createdWhen:e.createdWhen,pageUrl:e.fullPageUrl,selector:e.selector,title:e.pageTitle,comment:null===(p=e.comment)||void 0===p?void 0:p.replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\\(/g,"(").replace(/\\\)/g,")"),body:e.body,color:e.color},{skipPageIndexing:c});if(null===(h=e.localListIds)||void 0===h?void 0:h.length){const{sharingState:t}=yield n.shareAnnotationToSomeLists({annotationUrl:b,skipListExistenceCheck:A,localListIds:e.localListIds})}let w=null;if(null==d?void 0:d.shouldCopyShareLink){w=yield n.shareAnnotation({annotationUrl:b,remoteAnnotationId:f,excludeFromLists:null===(g=!(null==d?void 0:d.shouldShare))||void 0===g||g,shareToParentPageLists:null!==(m=null==d?void 0:d.shouldShare)&&void 0!==m&&m,skipPrivacyLevelUpdate:null===(v=!!(null==d?void 0:d.shouldShare))||void 0===v||v});const e="https://memex.social"+"/a/"+(null==w?void 0:w.remoteId);navigator.clipboard.writeText(e)}else(null==d?void 0:d.shouldShare)&&(w=yield n.shareAnnotation({annotationUrl:b,remoteAnnotationId:f,excludeFromLists:!1,shareToParentPageLists:!1,skipPrivacyLevelUpdate:!0}));return(null===(y=e.localListIds)||void 0===y?void 0:y.length)||(yield n.setAnnotationPrivacyLevel({annotationUrl:b,privacyLevel:null!=u?u:Object(a.c)(d)})),null!=(null==w?void 0:w.remoteId)&&function(e,t,n,a){Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=yield function(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let t;t=Object(s.a)({syncSettingsBG:e});let n=yield t.extension.get("shouldAutoCreateNoteLink");return null==n&&(yield t.extension.set("shouldAutoCreateNoteLink",!1),n=!1),n}))}(a);t&&Object(o.a)(Object(i.f)({remoteAnnotationId:e}))}))}(null==w?void 0:w.remoteId,0,0,l),b})))()}}))}function c({annotationData:e,annotationsBG:t,contentSharingBG:n,shareOpts:s,keepListsIfUnsharing:l}){var c,A;return Object(r.__awaiter)(this,void 0,void 0,(function*(){let u=null;if(null==s?void 0:s.shouldShare){const t=yield n.getRemoteAnnotationMetadata({annotationUrls:[e.localId]});u=null!==(A=null===(c=t[e.localId])||void 0===c?void 0:c.remoteId)&&void 0!==A?A:yield n.generateRemoteAnnotationId(),s.shouldCopyShareLink&&(yield Object(o.a)(Object(i.f)({remoteAnnotationId:u})))}return{remoteAnnotationId:u,savePromise:(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r,i;return null==e.comment&&null==e.body||(yield t.editAnnotation(e.localId,e.comment?null===(r=e.comment)||void 0===r?void 0:r.replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\\(/g,"(").replace(/\\\)/g,")"):null,e.color,null!==(i=e.body)&&void 0!==i?i:null)),yield Promise.all([(null==s?void 0:s.shouldShare)&&n.shareAnnotation({remoteAnnotationId:u,annotationUrl:e.localId,shareToParentPageLists:!0,excludeFromLists:!1}),!(null==s?void 0:s.skipPrivacyLevelUpdate)&&n.setAnnotationPrivacyLevel({annotationUrl:e.localId,privacyLevel:Object(a.c)(s),keepListsIfUnsharing:l})]),e.localId})))()}}))}},function(e,t,n){var r=n(88),i=n(184),o=n(50),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,A=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==A}},function(e,t,n){var r=n(198),i=n(109);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(1),a=n.n(o),s=n(25),l=n(276),c=n(13),A=n(7),u=n(4);class d extends i.PureComponent{constructor(){super(...arguments),this.state={isLoading:!0,infoModeShortcuts:!0},this.getOnlyShortcut=e=>{var t;if(this.state.isLoading)return null;return(null===(t=this.keyboardShortcuts[e])||void 0===t?void 0:t.shortcut).split("+")},this.handleClickOutside=()=>{this.props.onClickOutside()}}componentDidMount(){var e;return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.props.hideShortCutSection||(this.keyboardShortcuts=null!==(e=yield this.props.getKeyboardShortcutsState())&&void 0!==e?e:void 0),this.setState({isLoading:!1})}))}render(){return i.createElement(C,null,!this.props.hideShortCutSection&&i.createElement(m,null,i.createElement(g,null,i.createElement(y,null,"Keyboard Shortcuts")," ",i.createElement(A.a,{placement:"bottom",tooltipText:"Modify Keyboard Shortcuts",getPortalRoot:this.props.getRootElement},i.createElement(u.a,{onClick:()=>this.props.onSettingsClick(),filePath:"settings",color:"prime1",heightAndWidth:"20px"}))),i.createElement(w,null,i.createElement("tr",null,i.createElement(b,null,"Quick Save & Index Page"),i.createElement("td",null),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("createBookmark"),getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement(b,null,"Highlight selected text"),i.createElement("td",null),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("createHighlight"),optional:"Shift",optionalTooltipText:i.createElement("span",null,"Optional:",i.createElement("br",null)," Immediately make public"),getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement(b,null,"Add note to selected text"),i.createElement("td",null),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("createAnnotation"),optional:"Shift",optionalTooltipText:i.createElement("span",null,"Optional:",i.createElement("br",null)," Immediately make public"),getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement(b,null,"Add page to Spaces"),i.createElement("td",null),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("addToCollection"),getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement(b,null,"Open Sidebar"),i.createElement("td",null," "),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("toggleSidebar"),getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement(b,null,"Summarise page or selected text"),i.createElement("td",null),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("askAI"),getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement(b,null,"Search pages and annotations"),i.createElement("td",null),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("openDashboard"),getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement(b,null,"Toggle highlights on page"),i.createElement("td",null),i.createElement("td",null,i.createElement(c.a,{keys:this.getOnlyShortcut("toggleHighlights"),getRootElement:this.props.getRootElement}))))),!this.props.hideEditorTutorials&&i.createElement(v,{markdownTop:this.props.markdownHelpOnTop},i.createElement(w,null,i.createElement(g,null,i.createElement(y,null,"Editor Formatting"),i.createElement(p,{onClick:()=>this.setState({infoModeShortcuts:!this.state.infoModeShortcuts})},!0===this.state.infoModeShortcuts?i.createElement(i.Fragment,null,i.createElement(h,{active:!0},"Shortcuts"),i.createElement(h,null,"Markdown")):i.createElement(i.Fragment,null,i.createElement(h,null,"Shortcuts"),i.createElement(h,{active:!0},"Markdown")))),i.createElement("tr",null,i.createElement("td",null,i.createElement("b",null,"Bold")),i.createElement(f,{active:!this.state.infoModeShortcuts},"**bold**"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,"B"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("i",null,"Italic")),i.createElement(f,{active:!this.state.infoModeShortcuts},"*italic*"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,"I"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement(x,{href:"https://memex.garden/tutorials",target:"_blank"},"Link")),i.createElement(f,{active:!this.state.infoModeShortcuts},"Highlight text and paste url"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,"V"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,"YouTube timestamp"),i.createElement(f,{active:!this.state.infoModeShortcuts},i.createElement("a",{target:"_blank",href:"https://youtu.be/VIVIegSt81k?t=75"},"[1:15]")),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,"Y"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("img",{height:"20px",width:"20px",src:"https://cdn.wccftech.com/wp-content/uploads/2015/03/Fallout-4-2.png"}),"Images References"),i.createElement(f,{active:!this.state.infoModeShortcuts},"Copy&paste or drag in editor"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,"V"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("ol",null,i.createElement("li",null,"Ordered List"))),i.createElement(f,{active:!this.state.infoModeShortcuts},"1. Item One"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:["shift",d.MOD_KEY,"7"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("ul",null,i.createElement("li",null,"Bullet List"))),i.createElement(f,{active:!this.state.infoModeShortcuts},"- Item One or * Item One"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:["shift",d.MOD_KEY,"8"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("blockquote",null,"Block Quote")),i.createElement(f,{active:!this.state.infoModeShortcuts},">"," this is the quote"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:["shift",d.MOD_KEY,"B"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("h1",null,"Heading 1")),i.createElement(f,{active:!this.state.infoModeShortcuts},"# Heading 1"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,d.ALT_KEY,"1"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("h2",null,"Heading 2")),i.createElement(f,{active:!this.state.infoModeShortcuts},"## Heading 2"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,d.ALT_KEY,"2"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("h3",null,"Heading 3")),i.createElement(f,{active:!this.state.infoModeShortcuts},"### Heading 3"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,d.ALT_KEY,"3"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("code",null,"Inline Code")),i.createElement(f,{active:!this.state.infoModeShortcuts},"`inline Code``"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:["shift",d.MOD_KEY,"E"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement(B,null,"Multi-Line ",i.createElement("br",null),"Code Block")),i.createElement(f,{active:!this.state.infoModeShortcuts},"```code blocks```"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:[d.MOD_KEY,d.ALT_KEY,"C"],getRootElement:this.props.getRootElement}))),i.createElement("tr",null,i.createElement("td",null,i.createElement("s",null,"Strikethrough")),i.createElement(f,{active:!this.state.infoModeShortcuts},"~~Strikethrough~~"),i.createElement(f,{active:this.state.infoModeShortcuts},i.createElement(c.a,{keys:["shift",d.MOD_KEY,"X"],getRootElement:this.props.getRootElement}))))))}}d.MOD_KEY=Object(s.a)({key:"mod"}),d.ALT_KEY=Object(s.a)({key:"alt"}),d.defaultProps={shortcutsData:l.a};a.a.div`
    color: ${e=>e.theme.colors.prime1};
    font-size: 14px;
    cursor: pointer;
`;const f=a.a.div`
    display: ${e=>e.active?"flex":"none"};
`,p=a.a.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    border-radius: 4px;
    width: max-content;
    cursor: pointer;
    height: 20px;
    user-select: none;
`,h=a.a.div`
    color: ${e=>e.theme.colors.white};
    font-size: 12px;
    background: ${e=>e.active&&e.theme.colors.greyScale3};
    width: 70px;
    height: fill-available;
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
`,g=a.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    z-index: 2;
`,m=(a.a.div`
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
    justify-content: center;
`,a.a.div`
    color: ${e=>e.theme.colors.prime1};
    font-size: 14px;
    cursor: pointer;
    font-weight: bold;
`,a.a.div`
    margin: 15px 15px 10px 15px;
    display: flex;
    flex-direction: column;
    order: 2;
`),v=a.a.div`
    margin: 15px 15px 10px 15px;
    display: flex;
    flex-direction: column;
    order: ${e=>!0===e.markdownTop?1:3};
`,y=(a.a.div`
    order: 4;
    padding-bottom: 25px;
`,a.a.div`
    font-size: 16px;
    color: ${e=>e.theme.colors.white};
    display: flex;
    font-weight: bold;
    margin-bottom: 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 15px 0 15px;

    & last-child {
        padding-top: 25px;
    }
`,a.a.div`
    font-size: 16px;
    color: ${e=>e.theme.colors.white};
    display: flex;
    font-weight: bold;
    justify-content: space-between;
    align-items: center;
`),b=(a.a.div`
    all: initial;
    font-family: sans-serif;
    font-size: 12px;
`,a.a.div`
    background: white;
`,a.a.div`
    display: flex;
    justify-content: space-between;
    height: 40px;
    align-items: center;
    cursor: pointer;
    padding: 0 10px;
    margin: 0 5px;
    border-radius: 5px;

    &:hover {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
    }
`,a.a.div`
    font-size: 14px;
    color: ${e=>e.theme.colors.greyScale6};
`),w=a.a.table`
    width: 100%;
    font-size: 14px;

    & tr {
        height: 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: ${e=>e.theme.colors.white};
    }

    td {
        display: flex;
        flex-direction: flex-start;
        align-items: center;
    }

    td:first-child {
        width: 50px;
        white-space: nowrap;
    }

    td:nth-child(2) {
        white-space: nowrap;
        text-align: center;
    }

    & td:last-child {
        display: flex;
        justify-content: flex-end;
        width: 50px;
        font-size: 14px;
        white-space: nowrap;
        display: flex;
        align-items: center;

        & span {
            margin-right: 5px;
        }
    }

    & code {
        padding: 2px 3px 1px;
        border: 1px solid #e01e5a;
        border-radius: 3px;
        background-color: ${e=>e.theme.colors.greyScale3};
        color: #e01e5a;
        font-size: 14px;
        font-family: Monaco, Menlo, Consolas, Courier New, monospace !important;
    }

    & ul {
        margin-inline-start: -20px;
    }

    & ol {
        margin-inline-start: -20px;
    }

    & h1 {
        font-size: 18px;
    }

    & h2 {
        font-size: 16px;
    }

    & h3 {
        font-size: 14px;
    }

    & blockquote {
        border-left: #5cd9a6 3px solid;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        padding-left: 10px;
    }
`,B=a.a.pre`
    width: fit-content;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    border-radius: 3px;
    background-color: ${e=>e.theme.colors.greyScale3};
    padding: 5px;
    font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace !important;
`,x=(a.a.div`
    background-color: yellow;
`,a.a.a`
    color: ${e=>e.theme.colors.prime1};
`),C=(a.a.div`
    border: 1px solid ${e=>e.theme.colors.prime2};
    border-radius: 3px;
    padding: 2px 5px;
    font-size: 12px;
    width: fit-content;
    align-self: flex-end;
    color: ${e=>e.theme.colors.white};
`,a.a.div`
    font-size: 16px;
    color: #c0c0c0;
    display: flex;
    justify-content: space-between;
    align-items: center;
`,a.a.div`
    display: flex;
    flex-direction: column;
    overflow: scroll;
    height: fit-content;
    padding: 10px;
    width: 380px;

    &:host {
        all: initial;
    }

    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }
`);a.a.span`
    margin-right: 0px;
    font-size: 11px;
`;t.a=d},,,,function(e,t,n){var r=n(139),i=n(125),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var A=0;A<a.length;A++)o.call(n,a[A])&&(s[a[A]]=n[a[A]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===u(o)?o:String(o)),r)}var i,o}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var h=n(39),g=n(89),m=n(121),v=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},y=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},b=null,w=function(e,t,n){var r=b||(b=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},B=function(e,t,n,r){return n&&(C(e,t,n,r,-1)||C(e,t,n,r,1))},x=/^(img|br|input|textarea|hr)$/i;function C(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:S(e))){var o=e.parentNode;if(!o||1!=o.nodeType||k(e)||x.test(e.nodeName)||"false"==e.contentEditable)return!1;t=v(e)+(i<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?S(e):0}}}function S(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function k(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var E=function(e){return e.focusNode&&B(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function I(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}var O="undefined"!=typeof navigator?navigator:null,F="undefined"!=typeof document?document:null,D=O&&O.userAgent||"",_=/Edge\/(\d+)/.exec(D),T=/MSIE \d/.exec(D),U=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(D),M=!!(T||U||_),L=T?document.documentMode:U?+U[1]:_?+_[1]:0,Q=!M&&/gecko\/(\d+)/i.test(D);Q&&(/Firefox\/(\d+)/.exec(D)||[0,0])[1];var R=!M&&/Chrome\/(\d+)/.exec(D),P=!!R,H=R?+R[1]:0,N=!M&&!!O&&/Apple Computer/.test(O.vendor),j=N&&(/Mobile\/\w+/.test(D)||!!O&&O.maxTouchPoints>2),z=j||!!O&&/Mac/.test(O.platform),K=!!O&&/Win/.test(O.platform),$=/Android \d/.test(D),W=!!F&&"webkitFontSmoothing"in F.documentElement.style,V=W?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function G(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function q(e,t){return"number"==typeof e?e:e[t]}function Y(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function J(e,t,n){for(var r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,a=n||e.dom;a;a=y(a))if(1==a.nodeType){var s=a,l=s==o.body,c=l?G(o):Y(s),A=0,u=0;if(t.top<c.top+q(r,"top")?u=-(c.top-t.top+q(i,"top")):t.bottom>c.bottom-q(r,"bottom")&&(u=t.bottom-t.top>c.bottom-c.top?t.top+q(i,"top")-c.top:t.bottom-c.bottom+q(i,"bottom")),t.left<c.left+q(r,"left")?A=-(c.left-t.left+q(i,"left")):t.right>c.right-q(r,"right")&&(A=t.right-c.right+q(i,"right")),A||u)if(l)o.defaultView.scrollBy(A,u);else{var d=s.scrollLeft,f=s.scrollTop;u&&(s.scrollTop+=u),A&&(s.scrollLeft+=A);var p=s.scrollLeft-d,h=s.scrollTop-f;t={left:t.left-p,top:t.top-h,right:t.right-p,bottom:t.bottom-h}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function X(e){for(var t=[],n=e.ownerDocument,r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=y(r));return t}function Z(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.dom,o=r.top,a=r.left;i.scrollTop!=o+t&&(i.scrollTop=o+t),i.scrollLeft!=a&&(i.scrollLeft=a)}}var ee=null;function te(e,t){for(var n,r,i,o,a=2e8,s=0,l=t.top,c=t.top,A=e.firstChild,u=0;A;A=A.nextSibling,u++){var d=void 0;if(1==A.nodeType)d=A.getClientRects();else{if(3!=A.nodeType)continue;d=w(A).getClientRects()}for(var f=0;f<d.length;f++){var p=d[f];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);var h=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(h<a){n=A,a=h,r=h&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==A.nodeType&&h&&(s=u+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!i&&p.left<=t.left&&p.right>=t.left&&(i=A,o={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=u+1)}}return!n&&i&&(n=i,r=o,a=0),n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);var o=ae(r,1);if(o.top!=o.bottom&&ne(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||a&&1==n.nodeType?{node:e,offset:s}:te(n,r)}function ne(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function re(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){var a=e.childNodes[o];if(1==a.nodeType)for(var s=a.getClientRects(),l=0;l<s.length;l++){var c=s[l];if(ne(t,c))return re(a,t,c)}if((o=(o+1)%r)==i)break}return e}function ie(e,t){var n,r=e.dom.ownerDocument,i=0,o=function(e,t,n){if(e.caretPositionFromPoint)try{var r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(e){}if(e.caretRangeFromPoint){var i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:i.startOffset}}}(r,t.left,t.top);o&&(n=o.node,i=o.offset);var a,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){var l=e.dom.getBoundingClientRect();if(!ne(t,l))return null;if(!(s=re(e.dom,t,l)))return null}if(N)for(var c=s;n&&c;c=y(c))c.draggable&&(n=void 0);if(s=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(Q&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length))<n.childNodes.length){var A,u=n.childNodes[i];"IMG"==u.nodeName&&(A=u.getBoundingClientRect()).right<=t.left&&A.bottom>t.top&&i++}var d;W&&i&&1==n.nodeType&&1==(d=n.childNodes[i-1]).nodeType&&"false"==d.contentEditable&&d.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(a=function(e,t,n,r){for(var i=-1,o=t,a=!1;o!=e.dom;){var s=e.docView.nearestDesc(o,!0);if(!s)return null;if(1==s.dom.nodeType&&(s.node.isBlock&&s.parent&&!a||!s.contentDOM)){var l=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!a&&(a=!0,l.left>r.left||l.top>r.top?i=s.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=s.posAfter)),!s.contentDOM&&i<0&&!s.node.isText)return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter}o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}(e,n,i,t))}null==a&&(a=function(e,t,n){var r=te(t,n),i=r.node,o=r.offset,a=-1;if(1==i.nodeType&&!i.firstChild){var s=i.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(i,o,a)}(e,s,t));var f=e.docView.nearestDesc(s,!0);return{pos:a,inside:f?f.posAtStart-f.border:-1}}function oe(e){return e.top<e.bottom||e.left<e.right}function ae(e,t){var n=e.getClientRects();if(n.length){var r=n[t<0?0:n.length-1];if(oe(r))return r}return Array.prototype.find.call(n,oe)||e.getBoundingClientRect()}var se=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function le(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),i=r.node,o=r.offset,a=r.atom,s=W||Q;if(3==i.nodeType){if(!s||!se.test(i.nodeValue)&&(n<0?o:o!=i.nodeValue.length)){var l=o,c=o,A=n<0?1:-1;return n<0&&!o?(c++,A=-1):n>=0&&o==i.nodeValue.length?(l--,A=1):n<0?l--:c++,ce(ae(w(i,l,c),A),A<0)}var u=ae(w(i,o,o),n);if(Q&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var d=ae(w(i,o-1,o-1),-1);if(d.top==u.top){var f=ae(w(i,o,o+1),-1);if(f.top!=u.top)return ce(f,f.left<d.left)}}return u}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(null==a&&o&&(n<0||o==S(i))){var p=i.childNodes[o-1];if(1==p.nodeType)return Ae(p.getBoundingClientRect(),!1)}if(null==a&&o<S(i)){var h=i.childNodes[o];if(1==h.nodeType)return Ae(h.getBoundingClientRect(),!0)}return Ae(i.getBoundingClientRect(),n>=0)}if(null==a&&o&&(n<0||o==S(i))){var g=i.childNodes[o-1],m=3==g.nodeType?w(g,S(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(m)return ce(ae(m,1),!1)}if(null==a&&o<S(i)){for(var v=i.childNodes[o];v.pmViewDesc&&v.pmViewDesc.ignoreForCoords;)v=v.nextSibling;var y=v?3==v.nodeType?w(v,0,s?0:1):1==v.nodeType?v:null:null;if(y)return ce(ae(y,-1),!0)}return ce(ae(3==i.nodeType?w(i):i,-n),n>=0)}function ce(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Ae(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function ue(e,t,n){var r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}var de=/[\u0590-\u08ac]/;var fe=null,pe=null,he=!1;function ge(e,t,n){return fe==t&&pe==n?he:(fe=t,pe=n,he="up"==n||"down"==n?function(e,t,n){var r=t.selection,i="up"==n?r.$from:r.$to;return ue(e,t,(function(){for(var t=e.docView.domFromPos(i.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.contentDOM||r.dom;break}t=r.dom.parentNode}for(var o=le(e,i.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=w(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top+1&&("up"==n?o.top-c.top>2*(c.bottom-o.top):c.bottom-o.bottom>2*(o.bottom-c.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return de.test(r.parent.textContent)&&s.modify?ue(e,t,(function(){var t=e.domSelectionRange(),i=t.focusNode,o=t.focusOffset,a=t.anchorNode,l=t.anchorOffset,c=s.caretBidiLevel;s.modify("move",n,"character");var A=r.depth?e.docView.domAfterPos(r.before()):e.dom,u=e.domSelectionRange(),d=u.focusNode,f=u.focusOffset,p=d&&!A.contains(1==d.nodeType?d:d.parentNode)||i==d&&o==f;try{s.collapse(a,l),i&&(i!=a||o!=l)&&s.extend&&s.extend(i,o)}catch(e){}return null!=c&&(s.caretBidiLevel=c),p})):"left"==n||"backward"==n?o:a}(e,t,n))}var me=function(){function e(t,n,r,i){d(this,e),this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}return p(e,[{key:"matchesWidget",value:function(e){return!1}},{key:"matchesMark",value:function(e){return!1}},{key:"matchesNode",value:function(e,t,n){return!1}},{key:"matchesHack",value:function(e){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(e){return!1}},{key:"size",get:function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var e=0;e<this.children.length;e++)this.children[e].destroy()}},{key:"posBeforeChild",value:function(e){for(var t=0,n=this.posAtStart;;t++){var r=this.children[t];if(r==e)return n;n+=r.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,i;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(i=r.pmViewDesc)||i.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&(!(a=o.pmViewDesc)||a.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}var s;if(e==this.dom&&this.contentDOM)s=t>v(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(null==s&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.nextSibling)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,r=e;r;r=r.parentNode){var i=this.getDesc(r),o=void 0;if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}},{key:"getDesc",value:function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t}},{key:"posFromDOM",value:function(e,t,n){for(var r=e;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}},{key:"descAt",value:function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}}},{key:"domFromPos",value:function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};for(var n,r=0,i=0,o=0;r<this.children.length;r++){var a=this.children[r],s=o+a.size;if(s>e||a instanceof Ce){i=e-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof ve&&n.side>=0;r--);if(t<=0){for(var l,c=!0;(l=r?this.children[r-1]:null)&&l.dom.parentNode!=this.contentDOM;r--,c=!1);return l&&t&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?v(l.dom)+1:0}}for(var A,u=!0;(A=r<this.children.length?this.children[r]:null)&&A.dom.parentNode!=this.contentDOM;r++,u=!1);return A&&u&&!A.border&&!A.domAtom?A.domFromPos(0,t):{node:this.contentDOM,offset:A?v(A.dom):this.contentDOM.childNodes.length}}},{key:"parseRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,a=0;;a++){var s=this.children[a],l=o+s.size;if(-1==r&&e<=l){var c=o+s.border;if(e>=c&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=o;for(var A=a;A>0;A--){var u=this.children[A-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){r=v(u.dom)+1;break}e-=u.size}-1==r&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(var d=a+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=v(f.dom);break}t+=f.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}},{key:"emptyChildAt",value:function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}},{key:"domAfterPos",value:function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}},{key:"setSelection",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Math.min(e,t),o=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(i>s&&o<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}var A=this.domFromPos(e,e?-1:1),u=t==e?A:this.domFromPos(t,t?-1:1),d=n.getSelection(),f=!1;if((Q||N)&&e==t){var p=A,h=p.node,g=p.offset;if(3==h.nodeType){if((f=!(!g||"\n"!=h.nodeValue[g-1]))&&g==h.nodeValue.length)for(var m,y=h;y;y=y.parentNode){if(m=y.nextSibling){"BR"==m.nodeName&&(A=u={node:m.parentNode,offset:v(m)+1});break}var b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{var w=h.childNodes[g-1];f=w&&("BR"==w.nodeName||"false"==w.contentEditable)}}if(Q&&d.focusNode&&d.focusNode!=u.node&&1==d.focusNode.nodeType){var x=d.focusNode.childNodes[d.focusOffset];x&&"false"==x.contentEditable&&(r=!0)}if(r||f&&N||!B(A.node,A.offset,d.anchorNode,d.anchorOffset)||!B(u.node,u.offset,d.focusNode,d.focusOffset)){var C=!1;if((d.extend||e==t)&&!f){d.collapse(A.node,A.offset);try{e!=t&&d.extend(u.node,u.offset),C=!0}catch(e){}}if(!C){if(e>t){var S=A;A=u,u=S}var k=document.createRange();k.setEnd(u.node,u.offset),k.setStart(A.node,A.offset),d.removeAllRanges(),d.addRange(k)}}}},{key:"ignoreMutation",value:function(e){return!this.contentDOM&&"selection"!=e.type}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(e,t){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){var a=n+i.border,s=o-i.border;if(e>=a&&t<=s)return this.dirty=e==n||t==o?2:1,void(e!=a||t!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-a,t-a):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}},{key:"markParentsDirty",value:function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}}]),e}(),ve=function(e){a(n,e);var t=l(n);function n(e,r,i,o){var a;d(this,n);var s,l=r.type.toDOM;if("function"==typeof l&&(l=l(i,(function(){return s?s.parent?s.parent.posBeforeChild(s):void 0:o}))),!r.type.spec.raw){if(1!=l.nodeType){var A=document.createElement("span");A.appendChild(l),l=A}l.contentEditable="false",l.classList.add("ProseMirror-widget")}return(a=t.call(this,e,[],l,null)).widget=r,a.widget=r,s=c(a),a}return p(n,[{key:"matchesWidget",value:function(e){return 0==this.dirty&&e.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)}},{key:"ignoreMutation",value:function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),o(A(n.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),n}(me),ye=function(e){a(n,e);var t=l(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,[],r,null)).textDOM=i,a.text=o,a}return p(n,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}},{key:"domFromPos",value:function(e){return{node:this.textDOM,offset:e}}},{key:"ignoreMutation",value:function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}]),n}(me),be=function(e){a(n,e);var t=l(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,[],i,o)).mark=r,a}return p(n,[{key:"parseRule",value:function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(e){return 3!=this.dirty&&this.mark.eq(e)}},{key:"markDirty",value:function(e,t){if(o(A(n.prototype),"markDirty",this).call(this,e,t),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}},{key:"slice",value:function(e,t,r){var i=n.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;t<a&&(o=Qe(o,t,a,r)),e>0&&(o=Qe(o,0,e,r));for(var s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}}],[{key:"create",value:function(e,t,r,i){var o=i.nodeViews[t.type.name],a=o&&o(t,i,r);return a&&a.dom||(a=g.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t,r))),new n(e,t,a.dom,a.contentDOM||a.dom)}}]),n}(me),we=function(e){a(n,e);var t=l(n);function n(e,r,i,o,a,s,l,c,A){var u;return d(this,n),(u=t.call(this,e,[],a,s)).node=r,u.outerDeco=i,u.innerDeco=o,u.nodeDOM=l,u}return p(n,[{key:"parseRule",value:function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(var n=this.children.length-1;n>=0;n--){var r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=function(){return g.Fragment.empty})}else t.contentElement=this.contentDOM;else t.getContent=function(){return e.node.content};return t}},{key:"matchesNode",value:function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Te(t,this.outerDeco)&&n.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(e,t){var n=this,r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new Me(this,a&&a.node,e);!function(e,t,n,r){var i=t.locals(e),o=0;if(0==i.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,i,t.forChild(o,s),a),o+=s.nodeSize}return}for(var l=0,c=[],A=null,u=0;;){for(var d=void 0,f=void 0;l<i.length&&i[l].to==o;){var p=i[l++];p.widget&&(d?(f||(f=[d])).push(p):d=p)}if(d)if(f){f.sort(Le);for(var h=0;h<f.length;h++)n(f[h],u,!!A)}else n(d,u,!!A);var g=void 0,m=void 0;if(A)m=-1,g=A,A=null;else{if(!(u<e.childCount))break;m=u,g=e.child(u++)}for(var v=0;v<c.length;v++)c[v].to<=o&&c.splice(v--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);var y=o+g.nodeSize;if(g.isText){var b=y;l<i.length&&i[l].from<b&&(b=i[l].from);for(var w=0;w<c.length;w++)c[w].to<b&&(b=c[w].to);b<y&&(A=g.cut(b-o),g=g.cut(0,b-o),y=b,m=-1)}else for(;l<i.length&&i[l].to<y;)l++;r(g,g.isInline&&!g.isLeaf?c.filter((function(e){return!e.inline})):c.slice(),t.forChild(o,g),m),o=y}}(this.node,this.innerDeco,(function(t,o,a){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!a&&l.syncToMarks(o==n.node.childCount?g.Mark.none:n.node.child(o).marks,r,e),l.placeWidget(t,e,i)}),(function(t,n,a,c){var A;l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,a,c)||s&&e.state.selection.from>i&&e.state.selection.to<i+t.nodeSize&&(A=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(t,n,a,A,e)||l.updateNextNode(t,n,a,e,c,i)||l.addNode(t,n,a,e,i),i+=t.nodeSize})),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),ke(this.contentDOM,this.children,e),j&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}},{key:"localCompositionInfo",value:function(e,t){var n=e.state.selection,r=n.from,i=n.to;if(!(e.state.selection instanceof h.TextSelection)||r<t||i>t+this.node.content.size)return null;var o=e.domSelectionRange(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=S(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){var s=a.nodeValue,l=function(e,t,n,r){for(var i=0,o=0;i<e.childCount&&o<=r;){var a=e.child(i++),s=o;if(o+=a.nodeSize,a.isText){for(var l=a.text;i<e.childCount;){var c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;var A=s<r?l.lastIndexOf(t,r-s-1):-1;if(A>=0&&A+t.length+s>=n)return s+A;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}}return-1}(this.node.content,s,r-t,i-t);return l<0?null:{node:a,pos:l,text:s}}return{node:a,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(e,t){var n=t.node,r=t.pos,i=t.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}var a=new ye(this,o,n,i);e.input.compositionNodes.push(a),this.children=Qe(this.children,r,r+i.length,e,a)}}},{key:"update",value:function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}},{key:"updateInner",value:function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}},{key:"updateOuterDeco",value:function(e){if(!Te(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Fe(this.dom,this.nodeDOM,Oe(this.outerDeco,this.node,t),Oe(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}}},{key:"selectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(e,t,r,i,o,a){var s,l=o.nodeViews[t.type.name],c=l&&l(t,o,(function(){return s?s.parent?s.parent.posBeforeChild(s):void 0:a}),r,i),A=c&&c.dom,u=c&&c.contentDOM;if(t.isText)if(A){if(3!=A.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else A=document.createTextNode(t.text);else if(!A){var d=g.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t));A=d.dom,u=d.contentDOM}u||t.isText||"BR"==A.nodeName||(A.hasAttribute("contenteditable")||(A.contentEditable="false"),t.type.spec.draggable&&(A.draggable=!0));var f=A;return A=_e(A,r,t),c?s=new Se(e,t,r,i,A,u||null,f,c,o,a+1):t.isText?new xe(e,t,r,i,A,f,o):new n(e,t,r,i,A,u||null,f,o,a+1)}}]),n}(me);function Be(e,t,n,r,i){_e(r,t,e);var o=new we(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}var xe=function(e){a(n,e);var t=l(n);function n(e,r,i,o,a,s,l){return d(this,n),t.call(this,e,r,i,o,a,null,s,l,0)}return p(n,[{key:"parseRule",value:function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}},{key:"update",value:function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}},{key:"inParent",value:function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}},{key:"domFromPos",value:function(e){return{node:this.nodeDOM,offset:e}}},{key:"localPosFromDOM",value:function(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):o(A(n.prototype),"localPosFromDOM",this).call(this,e,t,r)}},{key:"ignoreMutation",value:function(e){return"characterData"!=e.type&&"selection"!=e.type}},{key:"slice",value:function(e,t,r){var i=this.node.cut(e,t),o=document.createTextNode(i.text);return new n(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}},{key:"markDirty",value:function(e,t){o(A(n.prototype),"markDirty",this).call(this,e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}},{key:"domAtom",get:function(){return!1}}]),n}(we),Ce=function(e){a(n,e);var t=l(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(e){return 0==this.dirty&&this.dom.nodeName==e}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return"IMG"==this.dom.nodeName}}]),n}(me),Se=function(e){a(n,e);var t=l(n);function n(e,r,i,o,a,s,l,c,A,u){var f;return d(this,n),(f=t.call(this,e,r,i,o,a,s,l,A,u)).spec=c,f}return p(n,[{key:"update",value:function(e,t,r,i){if(3==this.dirty)return!1;if(this.spec.update){var a=this.spec.update(e,t,r);return a&&this.updateInner(e,t,r,i),a}return!(!this.contentDOM&&!e.isLeaf)&&o(A(n.prototype),"update",this).call(this,e,t,r,i)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():o(A(n.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():o(A(n.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):o(A(n.prototype),"setSelection",this).call(this,e,t,r,i)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),o(A(n.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}},{key:"ignoreMutation",value:function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):o(A(n.prototype),"ignoreMutation",this).call(this,e)}}]),n}(we);function ke(e,t,n){for(var r=e.firstChild,i=!1,o=0;o<t.length;o++){var a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=Ue(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof be){var l=r?r.previousSibling:e.lastChild;ke(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=Ue(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}var Ee=function(e){e&&(this.nodeName=e)};Ee.prototype=Object.create(null);var Ie=[new Ee];function Oe(e,t,n){if(0==e.length)return Ie;for(var r=n?Ie[0]:new Ee,i=[r],o=0;o<e.length;o++){var a=e[o].type.attrs;if(a)for(var s in a.nodeName&&i.push(r=new Ee(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==i.length&&i.push(r=new Ee(t.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+l:"style"==s?r.style=(r.style?r.style+";":"")+l:"nodeName"!=s&&(r[s]=l))}}return i}function Fe(e,t,n,r){if(n==Ie&&r==Ie)return t;for(var i=t,o=0;o<r.length;o++){var a=r[o],s=n[o];if(o){var l=void 0;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(i),s=Ie[0]),i=l}De(i,s||Ie[0],a)}return i}function De(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){for(var o=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[],s=0;s<o.length;s++)-1==a.indexOf(o[s])&&e.classList.remove(o[s]);for(var l=0;l<a.length;l++)-1==o.indexOf(a[l])&&e.classList.add(a[l]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var c,A=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=A.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function _e(e,t,n){return Fe(e,e,Ie,Oe(t,n,1!=e.nodeType))}function Te(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Ue(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Me=function(){function e(t,n,r){d(this,e),this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(e,t){var n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){for(var s=void 0;;)if(r){var l=n.children[r-1];if(!(l instanceof be)){s=l,r--;break}n=l,r=l.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var c=s.node;if(c){if(c!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}(t.node.content,t)}return p(e,[{key:"destroyBetween",value:function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(e,t,n){for(var r=0,i=this.stack.length>>1,o=Math.min(i,e.length);r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++){var l=this.top.children[s];if(l.matchesMark(e[i])&&!this.isLocked(l.dom)){a=s;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=be.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}},{key:"findNodeMatch",value:function(e,t,n,r){var i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))o=this.top.children.indexOf(i,this.index);else for(var a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){var l=this.top.children[a];if(l.matchesNode(e,t,n)&&!this.preMatch.matched.has(l)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}},{key:"updateNodeAt",value:function(e,t,n,r,i){var o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}},{key:"findIndexWithChild",value:function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}}},{key:"updateNextNode",value:function(e,t,n,r,i,o){for(var a=this.index;a<this.top.children.length;a++){var s=this.top.children[a];if(s instanceof we){var l=this.preMatch.matched.get(s);if(null!=l&&l!=i)return!1;var c=s.dom,A=void 0,u=this.isLocked(c)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&Te(t,s.outerDeco));if(!u&&s.update(e,t,n,r))return this.destroyBetween(this.index,a),s.dom!=c&&(this.changed=!0),this.index++,!0;if(!u&&(A=this.recreateWrapper(s,e,t,n,r,o)))return this.top.children[this.index]=A,A.contentDOM&&(A.dirty=2,A.updateChildren(r,o+1),A.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(e,t,n,i,o,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;var s=we.create(this.top,t,n,i,o,a);if(s.contentDOM){s.children=e.children,e.children=[];var l,c=r(s.children);try{for(c.s();!(l=c.n()).done;){l.value.parent=s}}catch(e){c.e(e)}finally{c.f()}}return e.destroy(),s}},{key:"addNode",value:function(e,t,n,r,i){var o=we.create(this.top,e,t,n,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}},{key:"placeWidget",value:function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var i=new ve(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++}},{key:"addTextblockHacks",value:function(){for(var e=this.top.children[this.index-1],t=this.top;e instanceof be;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof xe)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((N||P)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{var n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");var r=new Ce(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}},{key:"isLocked",value:function(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}]),e}();function Le(e,t){return e.type.side-t.type.side}function Qe(e,t,n,r,i){for(var o=[],a=0,s=0;a<e.length;a++){var l=e[a],c=s,A=s+=l.size;c>=n||A<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),A>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),o=i&&0==i.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;var s,l,c=r.resolve(a);if(E(n)){for(s=c;i&&!i.node;)i=i.parent;var A=i.node;if(i&&A.isAtom&&h.NodeSelection.isSelectable(A)&&i.parent&&(!A.isInline||!function(e,t,n){for(var r=0==t,i=t==S(e);r||i;){if(e==n)return!0;var o=v(e);if(!(e=e.parentNode))return!1;r=r&&0==o,i=i&&o==S(e)}}(n.focusNode,n.focusOffset,i.dom))){var u=i.posBefore;l=new h.NodeSelection(a==u?c:r.resolve(u))}}else{var d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;s=r.resolve(d)}l||(l=Ve(e,s,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1));return l}function Pe(e){return e.editable?e.hasFocus():qe(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function He(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if($e(e,n),Pe(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&P){var r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&B(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,v(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&M&&L<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var o,a,s=n.anchor,l=n.head;!Ne||n instanceof h.TextSelection||(n.$from.parent.inlineContent||(o=je(e,n.from)),n.empty||n.$from.parent.inlineContent||(a=je(e,n.to))),e.docView.setSelection(s,l,e.root,t),Ne&&(o&&Ke(o),a&&Ke(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);var n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((function(){Pe(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var Ne=N||P&&H<63;function je(e,t){var n=e.docView.domFromPos(t,0),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(N&&o&&"false"==o.contentEditable)return ze(o);if(!(o&&"false"!=o.contentEditable||a&&"false"!=a.contentEditable)){if(o)return ze(o);if(a)return ze(a)}}function ze(e){return e.contentEditable="true",N&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Ke(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function $e(e,t){if(t instanceof h.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(We(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else We(e)}function We(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Ve(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||h.TextSelection.between(t,n,r)}function Ge(e){return!(e.editable&&!e.hasFocus())&&qe(e)}function qe(e){var t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Ye(e,t){var n=e.selection,r=n.$anchor,i=n.$head,o=t>0?r.max(i):r.min(i),a=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return a&&h.Selection.findFrom(a,t)}function Je(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Xe(e,t,n){var r=e.state.selection;if(!(r instanceof h.TextSelection)){if(r instanceof h.NodeSelection&&r.node.isInline)return Je(e,new h.TextSelection(t>0?r.$to:r.$from));var i=Ye(e.state,t);return!!i&&Je(e,i)}if(n.indexOf("s")>-1){var o=r.$head,a=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;var s=e.state.doc.resolve(o.pos+a.nodeSize*(t<0?-1:1));return Je(e,new h.TextSelection(r.$anchor,s))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){var l=Ye(e.state,t);return!!(l&&l instanceof h.NodeSelection)&&Je(e,l)}if(!(z&&n.indexOf("m")>-1)){var c,A=r.$head,u=A.textOffset?null:t<0?A.nodeBefore:A.nodeAfter;if(!u||u.isText)return!1;var d=t<0?A.pos-u.nodeSize:A.pos;return!!(u.isAtom||(c=e.docView.descAt(d))&&!c.contentDOM)&&(h.NodeSelection.isSelectable(u)?Je(e,new h.NodeSelection(t<0?e.state.doc.resolve(A.pos-u.nodeSize):A)):!!W&&Je(e,new h.TextSelection(e.state.doc.resolve(t<0?d:d+u.nodeSize))))}}function Ze(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function et(e,t){var n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function tt(e,t){return t<0?function(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;var i,o,a=!1;Q&&1==n.nodeType&&r<Ze(n)&&et(n.childNodes[r],-1)&&(a=!0);for(;;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(et(s,-1))i=n,o=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(nt(n))break;for(var l=n.previousSibling;l&&et(l,-1);)i=n.parentNode,o=v(l),l=l.previousSibling;if(l)r=Ze(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}a?rt(e,n,r):i&&rt(e,i,o)}(e):function(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;for(var i,o,a=Ze(n);;)if(r<a){if(1!=n.nodeType)break;if(!et(n.childNodes[r],1))break;i=n,o=++r}else{if(nt(n))break;for(var s=n.nextSibling;s&&et(s,1);)i=s.parentNode,o=v(s)+1,s=s.nextSibling;if(s)r=0,a=Ze(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}i&&rt(e,i,o)}(e)}function nt(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function rt(e,t,n){var r,i;3!=t.nodeType&&((i=function(e,t){for(;e&&t==e.childNodes.length&&!k(e);)t=v(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){var n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=i,n=0):(r=function(e,t){for(;e&&!t&&!k(e);)t=v(e),e=e.parentNode;for(;e&&t;){var n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=r,n=r.nodeValue.length));var o=e.domSelection();if(E(o)){var a=document.createRange();a.setEnd(t,n),a.setStart(t,n),o.removeAllRanges(),o.addRange(a)}else o.extend&&o.extend(t,n);e.domObserver.setCurSelection();var s=e.state;setTimeout((function(){e.state==s&&He(e)}),50)}function it(e,t){var n=e.state.doc.resolve(t);if(!P&&!K&&n.parent.inlineContent){var r=e.coordsAtPos(t);if(t>n.start()){var i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(t<n.end()){var a=e.coordsAtPos(t+1),s=(a.top+a.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(a.left-r.left)>1)return a.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function ot(e,t,n){var r=e.state.selection;if(r instanceof h.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(z&&n.indexOf("m")>-1)return!1;var i=r.$from,o=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=Ye(e.state,t);if(a&&a instanceof h.NodeSelection)return Je(e,a)}if(!i.parent.inlineContent){var s=t<0?i:o,l=r instanceof h.AllSelection?h.Selection.near(s,t):h.Selection.findFrom(s,t);return!!l&&Je(e,l)}return!1}function at(e,t){if(!(e.state.selection instanceof h.TextSelection))return!0;var n=e.state.selection,r=n.$head,i=n.$anchor,o=n.empty;if(!r.sameParent(i))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),e.dispatch(s),!0}return!1}function st(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function lt(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||z&&72==n&&"c"==r)return at(e,-1)||tt(e,-1);if(46==n&&!t.shiftKey||z&&68==n&&"c"==r)return at(e,1)||tt(e,1);if(13==n||27==n)return!0;if(37==n||z&&66==n&&"c"==r){var i=37==n?"ltr"==it(e,e.state.selection.from)?-1:1:-1;return Xe(e,i,r)||tt(e,i)}if(39==n||z&&70==n&&"c"==r){var o=39==n?"ltr"==it(e,e.state.selection.from)?1:-1:1;return Xe(e,o,r)||tt(e,o)}return 38==n||z&&80==n&&"c"==r?ot(e,-1,r)||tt(e,-1):40==n||z&&78==n&&"c"==r?function(e){if(!N||e.state.selection.$head.parentOffset>0)return!1;var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;st(e,i,"true"),setTimeout((function(){return st(e,i,"false")}),20)}return!1}(e)||ot(e,1,r)||tt(e,1):r==(z?"m":"c")&&(66==n||73==n||89==n||90==n)}function ct(e,t){e.someProp("transformCopied",(function(n){t=n(t,e)}));for(var n=[],r=t,i=r.content,o=r.openStart,a=r.openEnd;o>1&&a>1&&1==i.childCount&&1==i.firstChild.childCount;){o--,a--;var s=i.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),i=s.content}var l=e.someProp("clipboardSerializer")||g.DOMSerializer.fromSchema(e.state.schema),c=yt(),A=c.createElement("div");A.appendChild(l.serializeFragment(i,{document:c}));for(var u,d=A.firstChild,f=0;d&&1==d.nodeType&&(u=mt[d.nodeName.toLowerCase()]);){for(var p=u.length-1;p>=0;p--){for(var h=c.createElement(u[p]);A.firstChild;)h.appendChild(A.firstChild);A.appendChild(h),f++}d=A.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice","".concat(o," ").concat(a).concat(f?" -".concat(f):""," ").concat(JSON.stringify(n))),{dom:A,text:e.someProp("clipboardTextSerializer",(function(n){return n(t,e)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function At(e,t,n,r,i){var o,a,s=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",(function(n){t=n(t,s||r,e)})),s)return t?new g.Slice(g.Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):g.Slice.empty;var c=e.someProp("clipboardTextParser",(function(n){return n(t,i,r,e)}));if(c)a=c;else{var A=i.marks(),u=e.state.schema,d=g.DOMSerializer.fromSchema(u);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=o.appendChild(document.createElement("p"));e&&t.appendChild(d.serializeNode(u.text(e,A)))}))}}else e.someProp("transformPastedHTML",(function(t){n=t(n,e)})),o=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=yt().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);(n=i&&mt[i[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}(n),W&&function(e){for(var t=e.querySelectorAll(P?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(o);var f=o&&o.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(var h=+p[3];h>0;h--){for(var m=o.firstChild;m&&1!=m.nodeType;)m=m.nextSibling;if(!m)break;o=m}if(!a){var v=e.someProp("clipboardParser")||e.someProp("domParser")||g.DOMParser.fromSchema(e.state.schema);a=v.parseSlice(o,{preserveWhitespace:!(!l&&!p),context:i,ruleFromNode:function(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||ut.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(p)a=function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var i=e.content,o=e.openStart,a=e.openEnd,s=n.length-2;s>=0;s-=2){var l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=g.Fragment.from(l.create(n[s+1],i)),o++,a++}return new g.Slice(i,o,a)}(gt(a,+p[1],+p[2]),p[4]);else if(a=g.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n,r=function(){var n,r=t.node(i).contentMatchAt(t.index(i)),o=[];if(e.forEach((function(e){if(o){var t,i=r.findWrapping(e.type);if(!i)return o=null;if(t=o.length&&n.length&&ft(i,n,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=pt(o[o.length-1],n.length));var a=dt(e,i);o.push(a),r=r.matchType(a.type),n=i}}})),o)return{v:g.Fragment.from(o)}},i=t.depth;i>=0;i--)if(n=r())return n.v;return e}(a.content,i),!0),a.openStart||a.openEnd){for(var y=0,b=0,w=a.content.firstChild;y<a.openStart&&!w.type.spec.isolating;y++,w=w.firstChild);for(var B=a.content.lastChild;b<a.openEnd&&!B.type.spec.isolating;b++,B=B.lastChild);a=gt(a,y,b)}return e.someProp("transformPasted",(function(t){a=t(a,e)})),a}var ut=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length-1;r>=n;r--)e=t[r].create(null,g.Fragment.from(e));return e}function ft(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){var o=ft(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(g.Fragment.from(dt(n,e,i+1))))}}function pt(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,pt(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(g.Fragment.empty,!0);return e.copy(n.append(r))}function ht(e,t,n,r,i,o){var a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<r-1&&(s=ht(s,t,n,r,i+1,o)),i>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(g.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function gt(e,t,n){return t<e.openStart&&(e=new g.Slice(ht(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new g.Slice(ht(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var mt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},vt=null;function yt(){return vt||(vt=document.implementation.createHTMLDocument("title"))}var bt={},wt={},Bt={touchstart:!0,touchmove:!0},xt=p((function e(){d(this,e),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}));function Ct(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function St(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=function(t){return kt(e,t)})}))}function kt(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Et(e){return{left:e.clientX,top:e.clientY}}function It(e,t,n,r,i){if(-1==r)return!1;for(var o,a=e.state.doc.resolve(r),s=function(r){if(e.someProp(t,(function(t){return r>a.depth?t(e,n,a.nodeAfter,a.before(r),i,!0):t(e,n,a.node(r),a.before(r),i,!1)})))return{v:!0}},l=a.depth+1;l>0;l--)if(o=s(l))return o.v;return!1}function Ot(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Ft(e,t,n,r,i){return It(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(i?function(e,t){if(-1==t)return!1;var n,r,i=e.state.selection;i instanceof h.NodeSelection&&(n=i.node);for(var o=e.state.doc.resolve(t),a=o.depth+1;a>0;a--){var s=a>o.depth?o.nodeAfter:o.node(a);if(h.NodeSelection.isSelectable(s)){r=n&&i.$from.depth>0&&a>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(a);break}}return null!=r&&(Ot(e,h.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&h.NodeSelection.isSelectable(r))&&(Ot(e,new h.NodeSelection(n),"pointer"),!0)}(e,n))}function Dt(e,t,n,r){return It(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function _t(e,t,n,r){return It(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t,n){if(0!=n.button)return!1;var r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Ot(e,h.TextSelection.create(r,0,r.content.size),"pointer"),!0);for(var i=r.resolve(t),o=i.depth+1;o>0;o--){var a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Ot(e,h.TextSelection.create(r,s+1,s+1+a.content.size),"pointer");else{if(!h.NodeSelection.isSelectable(a))continue;Ot(e,h.NodeSelection.create(r,s),"pointer")}return!0}}(e,n,r)}function Tt(e){return Ht(e)}wt.keydown=function(e,t){var n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Lt(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!$||!P||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!j||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(function(t){return t(e,n)}))||lt(e,n)?n.preventDefault():Ct(e,"key");else{var r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout((function(){e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})),e.input.lastIOSEnter=0)}),200)}},wt.keyup=function(e,t){16==t.keyCode&&(e.input.shiftKey=!1)},wt.keypress=function(e,t){var n=t;if(!(Lt(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||z&&n.metaKey))if(e.someProp("handleKeyPress",(function(t){return t(e,n)})))n.preventDefault();else{var r=e.state.selection;if(!(r instanceof h.TextSelection&&r.$from.sameParent(r.$to))){var i=String.fromCharCode(n.charCode);/[\r\n]/.test(i)||e.someProp("handleTextInput",(function(t){return t(e,r.$from.pos,r.$to.pos,i)}))||e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}}};var Ut=z?"metaKey":"ctrlKey";bt.mousedown=function(e,t){var n=t;e.input.shiftKey=n.shiftKey;var r=Tt(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[Ut]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};var a=e.posAtCoords(Et(n));a&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Mt(e,a,n,!!r)):("doubleClick"==o?Dt:_t)(e,a.pos,a.inside,n)?n.preventDefault():Ct(e,"pointer"))};var Mt=function(){function e(t,n,r,i){var o,a,s=this;if(d(this,e),this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Ut],this.allowDefault=r.shiftKey,n.inside>-1)o=t.state.doc.nodeAt(n.inside),a=n.inside;else{var l=t.state.doc.resolve(n.pos);o=l.parent,a=l.depth?l.before():0}var c=i?null:r.target,A=c?t.docView.nearestDesc(c,!0):null;this.target=A?A.dom:null;var u=t.state.selection;(0==r.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||u instanceof h.NodeSelection&&u.from<=a&&u.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Q||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.input.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ct(t,"pointer")}return p(e,[{key:"done",value:function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return He(e.view)})),this.view.input.mouseDown=null}},{key:"up",value:function(e){if(this.done(),this.view.dom.contains(e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Et(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ct(this.view,"pointer"):Ft(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||N&&this.mightDrag&&!this.mightDrag.node.isAtom||P&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ot(this.view,h.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ct(this.view,"pointer")}}},{key:"move",value:function(e){this.updateAllowDefault(e),Ct(this.view,"pointer"),0==e.buttons&&this.done()}},{key:"updateAllowDefault",value:function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}]),e}();function Lt(e,t){return!!e.composing||!!(N&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}bt.touchstart=function(e){e.input.lastTouch=Date.now(),Tt(e),Ct(e,"pointer")},bt.touchmove=function(e){e.input.lastTouch=Date.now(),Ct(e,"pointer")},bt.contextmenu=function(e){return Tt(e)};var Qt=$?5e3:-1;function Rt(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((function(){return Ht(e)}),t))}function Pt(e){var t;for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!($&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Pt(e),t||e.docView&&e.docView.dirty){var n=Re(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}wt.compositionstart=wt.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),Ht(e,!0),e.markCursor=null;else if(Ht(e),Q&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.domSelectionRange(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(3==a.nodeType){e.domSelection().collapse(a,a.nodeValue.length);break}i=a,o=-1}e.input.composing=!0}Rt(e,Qt)},wt.compositionend=function(e,t){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionPendingChanges&&Promise.resolve().then((function(){return e.domObserver.flush()})),e.input.compositionID++,Rt(e,20))};var Nt=M&&L<15||j&&V<604;function jt(e,t,n,r,i){var o=At(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,i,o||g.Slice.empty)})))return!0;if(!o)return!1;var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function zt(e){var t=e.getData("text/plain")||e.getData("Text");if(t)return t;var n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}bt.copy=wt.cut=function(e,t){var n=t,r=e.state.selection,i="cut"==n.type;if(!r.empty){var o=Nt?null:n.clipboardData,a=ct(e,r.content()),s=a.dom,l=a.text;o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},wt.paste=function(e,t){var n=t;if(!e.composing||$){var r=Nt?null:n.clipboardData,i=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&jt(e,zt(r),r.getData("text/html"),i,n)?n.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();var i=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?jt(e,r.value,null,i,t):jt(e,r.textContent,r.innerHTML,i,t)}),50)}}(e,n)}};var Kt=p((function e(t,n,r){d(this,e),this.slice=t,this.move=n,this.node=r})),$t=z?"altKey":"ctrlKey";for(var Wt in bt.dragstart=function(e,t){var n=t,r=e.input.mouseDown;if(r&&r.done(),n.dataTransfer){var i,o=e.state.selection,a=o.empty?null:e.posAtCoords(Et(n));if(a&&a.pos>=o.from&&a.pos<=(o instanceof h.NodeSelection?o.to-1:o.to));else if(r&&r.mightDrag)i=h.NodeSelection.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){var s=e.docView.nearestDesc(n.target,!0);s&&s.node.type.spec.draggable&&s!=e.docView&&(i=h.NodeSelection.create(e.state.doc,s.posBefore))}var l=(i||e.state.selection).content(),c=ct(e,l),A=c.dom,u=c.text;n.dataTransfer.clearData(),n.dataTransfer.setData(Nt?"Text":"text/html",A.innerHTML),n.dataTransfer.effectAllowed="copyMove",Nt||n.dataTransfer.setData("text/plain",u),e.dragging=new Kt(l,!n[$t],i)}},bt.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},wt.dragover=wt.dragenter=function(e,t){return t.preventDefault()},wt.drop=function(e,t){var n=t,r=e.dragging;if(e.dragging=null,n.dataTransfer){var i=e.posAtCoords(Et(n));if(i){var o=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",(function(t){a=t(a,e)})):a=At(e,zt(n.dataTransfer),Nt?null:n.dataTransfer.getData("text/html"),!1,o);var s=!(!r||n[$t]);if(e.someProp("handleDrop",(function(t){return t(e,n,a||g.Slice.empty,s)})))n.preventDefault();else if(a){n.preventDefault();var l=a?m.dropPoint(e.state.doc,o.pos,a):o.pos;null==l&&(l=o.pos);var c=e.state.tr;if(s){var A=r.node;A?A.replace(c):c.deleteSelection()}var u=c.mapping.map(l),d=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,f=c.doc;if(d?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),!c.doc.eq(f)){var p=c.doc.resolve(u);if(d&&h.NodeSelection.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new h.NodeSelection(p));else{var v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((function(e,t,n,r){return v=r})),c.setSelection(Ve(e,p,c.doc.resolve(v)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}},bt.focus=function(e){e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&He(e)}),20))},bt.blur=function(e,t){var n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},bt.beforeinput=function(e,t){if(P&&$&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();var n=e.input.domChangeCount;setTimeout((function(){if(e.input.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,I(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},wt)bt[Wt]=wt[Wt];function Vt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var Gt=function(){function e(t,n){d(this,e),this.toDOM=t,this.spec=n||Zt,this.side=this.spec.side||0}return p(e,[{key:"map",value:function(e,t,n,r){var i=e.mapResult(t.from+r,this.side<0?-1:1),o=i.pos;return i.deleted?null:new Jt(o-n,o-n,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(t){return this==t||t instanceof e&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Vt(this.spec,t.spec))}},{key:"destroy",value:function(e){this.spec.destroy&&this.spec.destroy(e)}}]),e}(),qt=function(){function e(t,n){d(this,e),this.attrs=t,this.spec=n||Zt}return p(e,[{key:"map",value:function(e,t,n,r){var i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Jt(i,o,this)}},{key:"valid",value:function(e,t){return t.from<t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&Vt(this.attrs,t.attrs)&&Vt(this.spec,t.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(t){return t.type instanceof e}}]),e}(),Yt=function(){function e(t,n){d(this,e),this.attrs=t,this.spec=n||Zt}return p(e,[{key:"map",value:function(e,t,n,r){var i=e.mapResult(t.from+r,1);if(i.deleted)return null;var o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Jt(i.pos-n,o.pos-n,this)}},{key:"valid",value:function(e,t){var n,r=e.content.findIndex(t.from),i=r.index,o=r.offset;return o==t.from&&!(n=e.child(i)).isText&&o+n.nodeSize==t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&Vt(this.attrs,t.attrs)&&Vt(this.spec,t.spec)}},{key:"destroy",value:function(){}}]),e}(),Jt=function(){function e(t,n,r){d(this,e),this.from=t,this.to=n,this.type=r}return p(e,[{key:"copy",value:function(t,n){return new e(t,n,this.type)}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}},{key:"map",value:function(e,t,n){return this.type.map(e,this,t,n)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof qt}},{key:"widget",get:function(){return this.type instanceof Gt}}],[{key:"widget",value:function(t,n,r){return new e(t,t,new Gt(n,r))}},{key:"inline",value:function(t,n,r,i){return new e(t,n,new qt(r,i))}},{key:"node",value:function(t,n,r,i){return new e(t,n,new Yt(r,i))}}]),e}(),Xt=[],Zt={},en=function(){function e(t,n){d(this,e),this.local=t.length?t:Xt,this.children=n.length?n:Xt}return p(e,[{key:"find",value:function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}},{key:"findInner",value:function(e,t,n,r,i){for(var o=0;o<this.local.length;o++){var a=this.local[o];a.from<=t&&a.to>=e&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,r+l,i)}}},{key:"map",value:function(e,t,n){return this==tn||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Zt)}},{key:"mapInner",value:function(t,n,r,i,o){for(var a,s=0;s<this.local.length;s++){var l=this.local[s].map(t,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?rn(this.children,a||[],t,n,r,i,o):a?new e(a.sort(cn),Xt):tn}},{key:"add",value:function(t,n){return n.length?this==tn?e.create(t,n):this.addInner(t,n,0):this}},{key:"addInner",value:function(t,n,r){var i,o=this,a=0;t.forEach((function(e,t){var s,l=t+r;if(s=an(n,e,l)){for(i||(i=o.children.slice());a<i.length&&i[a]<t;)a+=3;i[a]==t?i[a+2]=i[a+2].addInner(e,s,l+1):i.splice(a,0,t,t+e.nodeSize,ln(s,e,l+1,Zt)),a+=3}}));for(var s=on(a?sn(n):n,-r),l=0;l<s.length;l++)s[l].type.valid(t,s[l])||s.splice(l--,1);return new e(s.length?this.local.concat(s).sort(cn):this.local,i||this.children)}},{key:"remove",value:function(e){return 0==e.length||this==tn?this:this.removeInner(e,0)}},{key:"removeInner",value:function(t,n){for(var r=this.children,i=this.local,o=0;o<r.length;o+=3){for(var a,s=void 0,l=r[o]+n,c=r[o+1]+n,A=0;A<t.length;A++)(a=t[A])&&a.from>l&&a.to<c&&(t[A]=null,(s||(s=[])).push(a));if(s){r==this.children&&(r=this.children.slice());var u=r[o+2].removeInner(s,l+1);u!=tn?r[o+2]=u:(r.splice(o,3),o-=3)}}if(i.length)for(var d,f=0;f<t.length;f++)if(d=t[f])for(var p=0;p<i.length;p++)i[p].eq(d,n)&&(i==this.local&&(i=this.local.slice()),i.splice(p--,1));return r==this.children&&i==this.local?this:i.length||r.length?new e(i,r):tn}},{key:"forChild",value:function(t,n){if(this==tn)return this;if(n.isLeaf)return e.empty;for(var r,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}for(var a=t+1,s=a+n.content.size,l=0;l<this.local.length;l++){var c=this.local[l];if(c.from<s&&c.to>a&&c.type instanceof qt){var A=Math.max(a,c.from)-a,u=Math.min(s,c.to)-a;A<u&&(i||(i=[])).push(c.copy(A,u))}}if(i){var d=new e(i.sort(cn),Xt);return r?new nn([d,r]):d}return r||tn}},{key:"eq",value:function(t){if(this==t)return!0;if(!(t instanceof e)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}},{key:"locals",value:function(e){return An(this.localsInner(e))}},{key:"localsInner",value:function(e){if(this==tn)return Xt;if(e.inlineContent||!this.local.some(qt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof qt||t.push(this.local[n]);return t}}],[{key:"create",value:function(e,t){return t.length?ln(t,e,0,Zt):tn}}]),e}();en.empty=new en([],[]),en.removeOverlap=An;var tn=en.empty,nn=function(){function e(t){d(this,e),this.members=t}return p(e,[{key:"map",value:function(t,n){var r=this.members.map((function(e){return e.map(t,n,Zt)}));return e.from(r)}},{key:"forChild",value:function(t,n){if(n.isLeaf)return en.empty;for(var r=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(t,n);o!=tn&&(o instanceof e?r=r.concat(o.members):r.push(o))}return e.from(r)}},{key:"eq",value:function(t){if(!(t instanceof e)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}},{key:"locals",value:function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(var o=0;o<i.length;o++)t.push(i[o])}else t=i}return t?An(n?t:t.sort(cn)):Xt}}],[{key:"from",value:function(t){switch(t.length){case 0:return tn;case 1:return t[0];default:return new e(t.every((function(e){return e instanceof en}))?t:t.reduce((function(e,t){return e.concat(t instanceof en?t:t.members)}),[]))}}}]),e}();function rn(e,t,n,r,i,o,a){for(var s=e.slice(),l=function(e){var t=0;n.maps[c].forEach((function(n,r,i,o){for(var a=o-i-(r-n),l=0;l<s.length;l+=3){var c=s[l+1];if(!(c<0||n>c+e-t)){var A=s[l]+e-t;r>=A?s[l+1]=n<=A?-2:-1:n>=e&&a&&(s[l]+=a,s[l+1]+=a)}}t+=a})),e=n.maps[c].map(e,-1),A=e},c=0,A=o;c<n.maps.length;c++)l(A);for(var u=!1,d=0;d<s.length;d+=3)if(s[d+1]<0){if(-2==s[d+1]){u=!0,s[d+1]=-1;continue}var f=n.map(e[d]+o),p=f-i;if(p<0||p>=r.content.size){u=!0;continue}var h=n.map(e[d+1]+o,-1)-i,g=r.content.findIndex(p),m=g.index,v=g.offset,y=r.maybeChild(m);if(y&&v==p&&v+y.nodeSize==h){var b=s[d+2].mapInner(n,y,f+1,e[d]+o+1,a);b!=tn?(s[d]=p,s[d+1]=h,s[d+2]=b):(s[d+1]=-2,u=!0)}else u=!0}if(u){var w=function(e,t,n,r,i,o,a){function s(e,t){for(var o=0;o<e.local.length;o++){var l=e.local[o].map(r,i,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[o].spec)}for(var c=0;c<e.children.length;c+=3)s(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+o+1);return n}(s,e,t,n,i,o,a),B=ln(w,r,0,a);t=B.local;for(var x=0;x<s.length;x+=3)s[x+1]<0&&(s.splice(x,3),x-=3);for(var C=0,S=0;C<B.children.length;C+=3){for(var k=B.children[C];S<s.length&&s[S]<k;)S+=3;s.splice(S,0,B.children[C],B.children[C+1],B.children[C+2])}}return new en(t.sort(cn),s)}function on(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(new Jt(i.from+t,i.to+t,i.type))}return n}function an(e,t,n){if(t.isLeaf)return null;for(var r,i=n+t.nodeSize,o=null,a=0;a<e.length;a++)(r=e[a])&&r.from>n&&r.to<i&&((o||(o=[])).push(r),e[a]=null);return o}function sn(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function ln(e,t,n,r){var i=[],o=!1;t.forEach((function(t,a){var s=an(e,t,a+n);if(s){o=!0;var l=ln(s,t,n+a+1,r);l!=tn&&i.push(a,a+t.nodeSize,l)}}));for(var a=on(o?sn(e):e,-n).sort(cn),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new en(a,i):tn}function cn(e,t){return e.from-t.from||e.to-t.to}function An(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var i=n+1;i<t.length;i++){var o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),un(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),un(t,i+1,o.copy(r.to,o.to)))}}return t}function un(e,t,n){for(;t<e.length&&cn(n,e[t])>0;)t++;e.splice(t,0,n)}function dn(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=tn&&t.push(r)})),e.cursorWrapper&&t.push(en.create(e.state.doc,[e.cursorWrapper.deco])),nn.from(t)}var fn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},pn=M&&L<=11,hn=function(){function e(){d(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return p(e,[{key:"set",value:function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}]),e}(),gn=function(){function e(t,n){var r=this;d(this,e),this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new hn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)r.queue.push(e[t]);M&&L<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?r.flushSoon():r.flush()})),pn&&(this.onCharData=function(e){r.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return p(e,[{key:"flushSoon",value:function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,fn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)}},{key:"onSelectionChange",value:function(){if(Ge(this.view)){if(this.suppressingSelectionUpdates)return He(this.view);if(M&&L<=11&&!this.view.state.selection.empty){var e=this.view.domSelectionRange();if(e.focusNode&&B(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(e){if(!e.focusNode)return!0;for(var t,n=new Set,r=e.focusNode;r;r=y(r))n.add(r);for(var i=e.anchorNode;i;i=y(i))if(n.has(i)){t=i;break}var o=t&&this.view.docView.nearestDesc(t);return o&&o.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}},{key:"pendingRecords",value:function(){if(this.observer){var e,t=r(this.observer.takeRecords());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.queue.push(n)}}catch(e){t.e(e)}finally{t.f()}}return this.queue}},{key:"flush",value:function(){var e=this.view;if(e.docView&&!(this.flushingSoon>-1)){var t=this.pendingRecords();t.length&&(this.queue=[]);var n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Ge(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,a=!1,s=[];if(e.editable)for(var l=0;l<t.length;l++){var c=this.registerMutation(t[l],s);c&&(i=i<0?c.from:Math.min(c.from,i),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(a=!0))}if(Q&&s.length>1){var A=s.filter((function(e){return"BR"==e.nodeName}));if(2==A.length){var u=A[0],d=A[1];u.parentNode&&u.parentNode.parentNode==d.parentNode?d.remove():u.remove()}}var f=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&E(n)&&(f=Re(e))&&f.eq(h.Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,He(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),function(e){if(mn.has(e))return;if(mn.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=Q,vn)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),vn=!0}}(e)),this.handleDOMChange(i,o,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||He(e),this.currentSelection.set(n))}}},{key:"registerMutation",value:function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var i=e.previousSibling,o=e.nextSibling;if(M&&L<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var s=e.addedNodes[a],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c)}var A=i&&i.parentNode==e.target?v(i)+1:0,u=n.localPosFromDOM(e.target,A,-1),d=o&&o.parentNode==e.target?v(o):e.target.childNodes.length;return{from:u,to:n.localPosFromDOM(e.target,d,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}]),e}(),mn=new WeakMap,vn=!1;function yn(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(N&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||N&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}var bn=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function wn(e,t,n,r,i){var o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){var a=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,s=Re(e,a);if(s&&!e.state.selection.eq(s)){if(P&&$&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})))return;var l=e.state.tr.setSelection(s);"pointer"==a?l.setMeta("pointer",!0):"key"==a&&l.scrollIntoView(),o&&l.setMeta("composition",o),e.dispatch(l)}}else{var c=e.state.doc.resolve(t),A=c.sharedDepth(n);t=c.before(A+1),n=e.state.doc.resolve(n).after(A+1);var u,d,f=e.state.selection,p=function(e,t,n){var r,i=e.docView.parseRange(t,n),o=i.node,a=i.fromOffset,s=i.toOffset,l=i.from,c=i.to,A=e.domSelectionRange(),u=A.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:A.anchorOffset}],E(A)||r.push({node:A.focusNode,offset:A.focusOffset})),P&&8===e.input.lastKeyCode)for(var d=s;d>a;d--){var f=o.childNodes[d-1],p=f.pmViewDesc;if("BR"==f.nodeName&&!p){s=d;break}if(!p||p.size)break}var h=e.state.doc,m=e.someProp("domParser")||g.DOMParser.fromSchema(e.state.schema),v=h.resolve(l),y=null,b=m.parse(o,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=v.parent.type.whitespace||"full",findPositions:r,ruleFromNode:yn,context:v});if(r&&null!=r[0].pos){var w=r[0].pos,B=r[1]&&r[1].pos;null==B&&(B=w),y={anchor:w+l,head:B+l}}return{doc:b,sel:y,from:l,to:c}}(e,t,n),m=e.state.doc,v=m.slice(p.from,p.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(u=e.state.selection.to,d="end"):(u=e.state.selection.from,d="start"),e.input.lastKeyCode=null;var y=function(e,t,n,r,i){var o=e.findDiffStart(t,n);if(null==o)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;if("end"==i){r-=s+Math.max(0,o-Math.min(s,l))-o}if(s<o&&e.size<t.size){var c=r<=o&&r>=s?o-r:0;(o-=c)&&o<t.size&&Cn(t.textBetween(o-1,o+1))&&(o+=c?1:-1),l=o+(l-s),s=o}else if(l<o){var A=r<=o&&r>=l?o-r:0;(o-=A)&&o<e.size&&Cn(e.textBetween(o-1,o+1))&&(o+=A?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}(v.content,p.doc.content,p.from,u,d);if((j&&e.input.lastIOSEnter>Date.now()-225||$)&&i.some((function(e){return 1==e.nodeType&&!bn.test(e.nodeName)}))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})))e.input.lastIOSEnter=0;else{if(!y){if(!(r&&f instanceof h.TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor))||e.composing||p.sel&&p.sel.anchor!=p.sel.head){if(p.sel){var b=Bn(e,e.state.doc,p.sel);if(b&&!b.eq(e.state.selection)){var w=e.state.tr.setSelection(b);o&&w.setMeta("composition",o),e.dispatch(w)}}return}y={start:f.from,endA:f.to,endB:f.to}}if(P&&e.cursorWrapper&&p.sel&&p.sel.anchor==e.cursorWrapper.deco.from&&p.sel.head==p.sel.anchor){var B=y.endB-y.start;p.sel={anchor:p.sel.anchor+B,head:p.sel.anchor+B}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof h.TextSelection&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=p.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=p.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),M&&L<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>p.from&&" \xa0"==p.doc.textBetween(y.start-p.from-1,y.start-p.from+1)&&(y.start--,y.endA--,y.endB--);var x,C=p.doc.resolveNoCache(y.start-p.from),S=p.doc.resolveNoCache(y.endB-p.from),k=m.resolve(y.start),O=C.sameParent(S)&&C.parent.inlineContent&&k.end()>=y.endA;if((j&&e.input.lastIOSEnter>Date.now()-225&&(!O||i.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!O&&C.pos<p.doc.content.size&&!C.sameParent(S)&&(x=h.Selection.findFrom(p.doc.resolve(C.pos+1),1,!0))&&x.head==S.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})))e.input.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||xn(r,!0,!1)<i.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=e.resolve(xn(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||xn(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(m,y.start,y.endA,C,S)&&e.someProp("handleKeyDown",(function(t){return t(e,I(8,"Backspace"))})))$&&P&&e.domObserver.suppressSelectionUpdates();else{P&&$&&y.endB==y.start&&(e.input.lastAndroidDelete=Date.now()),$&&!O&&C.start()!=S.start()&&0==S.parentOffset&&C.depth==S.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==y.endA&&(y.endB-=2,S=p.doc.resolveNoCache(y.endB-p.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))}))}),20));var F,D,_,T=y.start,U=y.endA;if(O)if(C.pos==S.pos)M&&L<=11&&0==C.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return He(e)}),20)),F=e.state.tr.delete(T,U),D=m.resolve(y.start).marksAcross(m.resolve(y.endA));else if(y.endA==y.endB&&(_=function(e,t){for(var n,r,i,o=e.firstChild.marks,a=t.firstChild.marks,s=o,l=a,c=0;c<a.length;c++)s=a[c].removeFromSet(s);for(var A=0;A<o.length;A++)l=o[A].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",i=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",i=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var u=[],d=0;d<t.childCount;d++)u.push(i(t.child(d)));if(g.Fragment.from(u).eq(e))return{mark:r,type:n}}(C.parent.content.cut(C.parentOffset,S.parentOffset),k.parent.content.cut(k.parentOffset,y.endA-k.start()))))F=e.state.tr,"add"==_.type?F.addMark(T,U,_.mark):F.removeMark(T,U,_.mark);else if(C.parent.child(C.index()).isText&&C.index()==S.index()-(S.textOffset?0:1)){var Q=C.parent.textBetween(C.parentOffset,S.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,T,U,Q)})))return;F=e.state.tr.insertText(Q,T,U)}if(F||(F=e.state.tr.replace(T,U,p.doc.slice(y.start-p.from,y.endB-p.from))),p.sel){var R=Bn(e,F.doc,p.sel);R&&!(P&&$&&e.composing&&R.empty&&(y.start!=y.endB||e.input.lastAndroidDelete<Date.now()-100)&&(R.head==T||R.head==F.mapping.map(U)-1)||M&&R.empty&&R.head==T)&&F.setSelection(R)}D&&F.ensureMarks(D),o&&F.setMeta("composition",o),e.dispatch(F.scrollIntoView())}}}}function Bn(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Ve(e,t.resolve(n.anchor),t.resolve(n.head))}function xn(e,t,n){for(var r=e.depth,i=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n)for(var o=e.node(r).maybeChild(e.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function Cn(e){if(2!=e.length)return!1;var t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}var Sn=ct,kn=At,En=Ht,In=function(){function e(t,n){var r=this;d(this,e),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Tn),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Dn(this),Fn(this),this.nodeViews=_n(this),this.docView=Be(this.state.doc,On(this),dn(this),this.dom,this),this.domObserver=new gn(this,(function(e,t,n,i){return wn(r,e,t,n,i)})),this.domObserver.start(),function(e){var t=function(){var t=bt[n];e.dom.addEventListener(n,e.input.eventHandlers[n]=function(n){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,n)||kt(e,n)||!e.editable&&n.type in wt||t(e,n)},Bt[n]?{passive:!0}:void 0)};for(var n in bt)t();N&&e.dom.addEventListener("input",(function(){return null})),St(e)}(this),this.updatePluginViews()}return p(e,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props}},{key:"update",value:function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&St(this);var t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Tn),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}},{key:"setProps",value:function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)}},{key:"updateState",value:function(e){this.updateStateInner(e,this._props)}},{key:"updateStateInner",value:function(e,t){var n,r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(Pt(this),o=!0),this.state=e;var a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){var s=_n(this);(function(e,t){var n=0,r=0;for(var i in e){if(e[i]!=t[i])return!0;n++}for(var o in t)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,i=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&St(this),this.editable=Dn(this),Fn(this);var l=dn(this),c=On(this),A=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=i||!this.docView.matchesNode(e.doc,c,l);!u&&e.selection.eq(r.selection)||(o=!0);var d,f,p,h,g,m,v,y,b,w,x,C="preserve"==A&&o&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=e.root.elementFromPoint(o,a);if(s&&s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=i-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:X(e.dom)}}(this);if(o){this.domObserver.stop();var S=u&&(M||P)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(h=r.selection,g=e.selection,m=Math.min(h.$anchor.sharedDepth(h.head),g.$anchor.sharedDepth(g.head)),h.$anchor.start(m)!=g.$anchor.start(m));if(u){var k=P?this.trackWrites=this.domSelectionRange().focusNode:null;!i&&this.docView.update(e.doc,c,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Be(e.doc,c,l,this.dom,this)),k&&!this.trackWrites&&(S=!0)}S||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(d=this,f=d.docView.domFromPos(d.state.selection.anchor,0),p=d.domSelectionRange(),B(f.node,f.offset,p.anchorNode,p.anchorOffset)))?He(this,S):($e(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==A?this.dom.scrollTop=0:"to selection"==A?this.scrollToSelection():C&&(y=(v=C).refDOM,b=v.refTop,w=v.stack,x=y?y.getBoundingClientRect().top:0,Z(w,0==x?0:x-b))}},{key:"scrollToSelection",value:function(){var e=this,t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(function(t){return t(e)})));else if(this.state.selection instanceof h.NodeSelection){var n=this.docView.domAfterPos(this.state.selection.from);1==n.nodeType&&J(this,n.getBoundingClientRect(),t)}else J(this,this.coordsAtPos(this.state.selection.head,1),t)}},{key:"destroyPluginViews",value:function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()}},{key:"updatePluginViews",value:function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var a=this.state.plugins[o];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}}},{key:"updateDraggedNode",value:function(e,t){var n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{var i=n.from+(this.state.doc.content.size-t.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(r=i)}this.dragging=new Kt(e.slice,e.move,r<0?void 0:h.NodeSelection.create(this.state.doc,r))}},{key:"someProp",value:function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var i=0;i<this.directPlugins.length;i++){var o=this.directPlugins[i].props[e];if(null!=o&&(n=t?t(o):o))return n}var a=this.state.plugins;if(a)for(var s=0;s<a.length;s++){var l=a[s].props[e];if(null!=l&&(n=t?t(l):l))return n}}},{key:"hasFocus",value:function(){if(M){var e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(ee)return e.focus(ee);var t=X(e);e.focus(null==ee?{get preventScroll(){return ee={preventScroll:!0},!0}}:void 0),ee||(ee=!1,Z(t,0))}(this.dom),He(this),this.domObserver.start()}},{key:"root",get:function(){var e=this,t=this._root;if(null==t)for(var n,r=function(t){if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return t.ownerDocument.getSelection()}),{v:e._root=t}},i=this.dom.parentNode;i;i=i.parentNode)if(n=r(i))return n.v;return t||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(e){return ie(this,e)}},{key:"coordsAtPos",value:function(e){return le(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}},{key:"domAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}},{key:"nodeDOM",value:function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null}},{key:"posAtDOM",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}},{key:"endOfTextblock",value:function(e,t){return ge(this,t||this.state,e)}},{key:"pasteHTML",value:function(e,t){return jt(this,"",e,!1,t||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(e,t){return jt(this,e,null,!0,t||new ClipboardEvent("paste"))}},{key:"destroy",value:function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],dn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}},{key:"isDestroyed",get:function(){return null==this.docView}},{key:"dispatchEvent",value:function(e){return function(e,t){kt(e,t)||!bt[t.type]||!e.editable&&t.type in wt||bt[t.type](e,t)}(this,e)}},{key:"dispatch",value:function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}},{key:"domSelectionRange",value:function(){return N&&11===this.root.nodeType&&function(e){for(var t=e.activeElement;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function(e){var t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);var r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=e.domAtPos(e.state.selection.anchor);if(B(s.node,s.offset,o,a)){var l=[o,a,r,i];r=l[0],i=l[1],o=l[2],a=l[3]}return{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}(this):this.domSelection()}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),e}();function On(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:"style"==r?t.style=(t.style?t.style+";":"")+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),t.translate||(t.translate="no"),[Jt.node(0,e.state.doc.content.size,t)]}function Fn(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Jt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Dn(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function _n(e){var t=Object.create(null);function n(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Tn(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}t.Decoration=Jt,t.DecorationSet=en,t.EditorView=In,t.__endComposition=En,t.__parseFromClipboard=kn,t.__serializeForClipboard=Sn},function(e,t,n){var r=n(356);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(120);const o=/^```([a-z]+)?[\s\n]$/,a=/^~~~([a-z]+)?[\s\n]$/,s=r.Node.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,r=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",r.mergeAttributes(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith("\n\n");return!(!o||!a)&&e.chain().command((({tr:e})=>(e.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type)return!1;if(!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();if(void 0===a)return!1;return!r.nodeAt(a)&&e.commands.exitCode()}}},addInputRules(){return[r.textblockTypeInputRule({find:o,type:this.type,getAttributes:e=>({language:e[1]})}),r.textblockTypeInputRule({find:a,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new i.Plugin({key:new i.PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,a=null==o?void 0:o.mode;if(!n||!a)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:a})),s.setSelection(i.TextSelection.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}});t.CodeBlock=s,t.backtickInputRegex=o,t.default=s,t.tildeInputRegex=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,r.mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>r.textblockTypeInputRule({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}})))}});t.Heading=i,t.default=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(4),c=n(18),A=n(7),u=n(92),d=n(114),f=n(65),p=n(136);class h extends o.a.PureComponent{constructor(){super(...arguments),this.state={showCopyMessageIdx:null,selectedLink:0},this.handleKeyDown=e=>{const t=this.props.inviteLinks.length-1;if("ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();const n=this.state.selectedLink+1;this.setState({selectedLink:n>t?t:n})}else if("ArrowUp"===e.key){e.preventDefault(),e.stopPropagation();const t=this.state.selectedLink-1;this.setState({selectedLink:t<0?0:t})}else if("Enter"===e.key){const{link:e}=this.props.inviteLinks[this.state.selectedLink];this.showCopyMessage(this.state.selectedLink),this.props.copyLink(e),this.trackClick("reader")}}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}showCopyMessage(e){this.setState({showCopyMessageIdx:e},(()=>setTimeout((()=>this.setState({showCopyMessageIdx:null})),2e3)))}trackClick(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(this.props.analyticsBG)try{yield Object(f.c)(this.props.analyticsBG,{inviteType:e,linkType:this.props.isPageLink?"page-link":"space-link",source:"extension"})}catch(e){console.error(`Error tracking space create event', ${e}`)}}))}render(){return"running"===this.props.loadState?o.a.createElement(p.a,{height:"90px",size:20}):o.a.createElement(m,null,this.props.inviteLinks.map((({link:e,roleID:t},n)=>o.a.createElement(B,{zIndex:10-n,key:e},o.a.createElement(A.a,{placement:"bottom",tooltipText:t===c.a.ReadWrite?o.a.createElement("span",null,"Permission to add highlights,",o.a.createElement("br",null)," pages & replies"):o.a.createElement("span",null,"Permission to read & reply ",o.a.createElement("br",null),"to highlights & pages"),fullWidthTarget:!0,getPortalRoot:this.props.getRootElement},o.a.createElement(v,{key:t,viewportBreakpoint:"normal"},o.a.createElement(w,null,o.a.createElement(y,{onClick:Object(d.a)((t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.showCopyMessage(n),this.props.copyLink(e),yield this.trackClick("reader")})))),selected:this.state.selectedLink===n,onMouseEnter:()=>this.setState({selectedLink:n}),onMouseLeave:()=>this.setState({selectedLink:null})},o.a.createElement(b,null,this.state.showCopyMessageIdx===n?"Copied to clipboard":Object(u.a)(t)),o.a.createElement(g,{id:"iconContainer"},o.a.createElement(l.a,{heightAndWidth:"20px",filePath:"copy",onClick:Object(d.a)((()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.showCopyMessage(n),this.props.copyLink(e),yield this.trackClick("reader")}))))}),o.a.createElement(l.a,{heightAndWidth:"20px",filePath:"goTo",onClick:Object(d.a)((()=>{let t=e;t.includes("?")&&this.props.isPageLink?t+="&noAutoOpen=true":this.props.isPageLink&&(t+="?noAutoOpen=true"),window.open(t,"_blank")}))}))))))))))}}const g=s.a.div.withConfig({displayName:"IconContainer",componentId:"sc-18u0b0r-0"})(["flex-direction:row;align-items:center;justify-content:flex-end;grid-gap:5px;display:none;position:absolute;background-color:","90;backdrop-filter:blur(4px);right:0px;height:40px;padding:0 10px;display:none;border-radius:0 6px 6px 0;margin-right:-5px;"],(e=>e.theme.colors.greyScale2)),m=s.a.div.withConfig({displayName:"ShareSectionContainer",componentId:"sc-18u0b0r-1"})(["margin-bottom:10px;width:fill-available;display:flex;flex-direction:column;align-items:center;justify-content:center;height:80px;"]),v=s.a.div.withConfig({displayName:"LinkAndRoleBox",componentId:"sc-18u0b0r-2"})(["width:fill-available;display:flex;flex-direction:column;align-items:flex-start;margin-bottom:5px;grid-gap:5px;height:40px;margin:0 -5px 5px -10px;padding:0px 0px 0 5px;"," &:hover ","{display:flex;}"],(e=>("small"===e.viewportBreakpoint||"mobile"===e.viewportBreakpoint)&&Object(a.css)(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;"])),g),y=s.a.div.withConfig({displayName:"LinkBox",componentId:"sc-18u0b0r-3"})(["width:fill-available;display:flex;font-size:14px;border-radius:3px;text-align:left;margin-left:10spx;height:40px;cursor:pointer;color:",";justify-content:space-between;padding-right:10px;align-items:center;border-radius:5px;",""],(e=>e.theme.colors.greyScale6),(e=>e.selected&&Object(a.css)(["background-color:","90;"],(e=>e.theme.colors.greyScale2)))),b=s.a.span.withConfig({displayName:"Link",componentId:"sc-18u0b0r-4"})(["display:flex;flex-direction:row;width:100%;padding:5px 10px;text-overflow:ellipsis;white-space:nowrap;overflow-x:scroll;scrollbar-width:none;justify-content:space-between;&::-webkit-scrollbar{display:none;}"]),w=s.a.div.withConfig({displayName:"CopyLinkBox",componentId:"sc-18u0b0r-5"})(["display:flex;justify-content:flex-start;align-items:center;width:100%;"]),B=s.a.div.withConfig({displayName:"ListItem",componentId:"sc-18u0b0r-6"})(["display:flex;position:relative;z-index:",";width:100%;"],(e=>e.zIndex))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(10),c=n(33),A=n(18),u=n(8);const d=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;class f extends c.a{constructor(e){super(),this.dependencies=e,this.getInitialState=()=>({loadState:"pristine",emailInvitesLoadState:"pristine",emailInvitesCreateState:"pristine",emailInvitesDeleteState:"pristine",emailInviteInputRole:A.a.Commenter,emailInviteInputValue:"",emailInvites:Object(u.a)(),emailInvitesHoverState:null}),this.init=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(l.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this._loadEmailInvites(this.dependencies.listData.remoteId)}))))})),this.updateProps=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.dependencies=e.props,this._loadEmailInvites(this.dependencies.listData.remoteId)})),this.reloadEmailInvites=({previousState:e,event:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInvites:{$set:Object(u.a)()}}),yield this._loadEmailInvites(t.remoteListId)})),this.setEmailInvitesHoverState=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInvitesHoverState:{$set:e.id}})})),this.updateEmailInviteInputValue=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInviteInputValue:{$set:e.value}})})),this.updateEmailInviteInputRole=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(e.role!==A.a.Commenter&&e.role!==A.a.ReadWrite)throw new Error("Cannot set invite role other than Commenter and ReadWrite");this.emitMutation({emailInviteInputRole:{$set:e.role}})})),this.inviteViaEmail=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInvitesCreateState:{$set:"running"},emailInviteInputValue:{$set:""}});const t=Date.now();let n=e.state.emailInviteInputValue.split(",");n=n.map((e=>e.trim())).filter((e=>{const t=function(e){return d.test(e)}(e);return t})).filter((t=>!e.state.emailInvites.allIds.some((n=>e.state.emailInvites.byId[n].email===t))));const i=e.state.emailInviteInputRole;for(const e of n)Object(l.d)(this,"emailInvitesCreateState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r;this.emitMutation({emailInvites:{allIds:{$push:[e]},byId:{[e]:{$set:{email:e,roleID:i,id:e,createdWhen:t,sharedListKey:null}}}}});let o=null!==(r=null===(n=this.dependencies.listData)||void 0===n?void 0:n.remoteId)&&void 0!==r?r:null;for(;null==o;)o=yield this.dependencies.contentSharingBG.getRemoteListId({localListId:this.dependencies.listData.localId});const a=yield this.dependencies.contentSharingBG.createListEmailInvite({now:t,email:e,roleID:i,listId:o});if("success"===a.status)this.emitMutation({emailInvites:{allIds:{[e]:{$set:a.keyString}},byId:{[e]:{$set:{email:e,roleID:i,createdWhen:t,id:a.keyString,sharedListKey:a.keyString}}}}});else if("permission-denied"===a.status)throw this.emitMutation({emailInvites:{byId:{$unset:[e]},allIds:{$apply:t=>t.filter((t=>t!==e))}}}),new Error(`Email invite for ${e} encountered an error`);0}))));this.emitMutation({emailInviteInputValue:{$set:""},emailInvitesCreateState:{$set:"success"}})})),this.deleteEmailInvite=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(l.d)(this,"emailInvitesDeleteState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==t.emailInvites.byId[e.key])throw new Error("Attempted to delete email invite that is not in state");this.emitMutation({emailInvites:{byId:{$unset:[e.key]},allIds:{$apply:t=>t.filter((t=>t!==e.key))}}});if("success"!==(yield this.dependencies.contentSharingBG.deleteListEmailInvite({keyString:e.key})).status)throw new Error("Email invite deletion encountered a server-side error")}))))}))}_loadEmailInvites(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(l.d)(this,"emailInvitesLoadState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==e)return;const t=yield this.dependencies.contentSharingBG.loadListEmailInvites({listReference:{type:"shared-list-reference",id:e}});if("success"!==t.status)throw new Error("Failed to load email invites for list");this.emitMutation({emailInvites:{$set:Object(u.a)({seedData:t.data,getId:e=>e.email})},emailInvitesLoadState:{$set:"success"}})}))))}))}}f.MSG_TIMEOUT=2e3;var p=n(160),h=n(27),g=n(5),m=n(92),v=n(12);const y="50px";class b extends l.a{constructor(e){super(e,new f(e)),this.handleInviteInputChange=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=e.target.value;yield this.processEvent("updateEmailInviteInputValue",{value:t})})),this.handleAddInviteInputKeyDown=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){"Enter"===e.key&&this.state.emailInviteInputValue.trim().length>0&&(e.preventDefault(),e.stopPropagation(),yield this.processEvent("inviteViaEmail",{state:this.state,remoteId:this.props.listData.remoteId})),e.stopPropagation()}))}componentDidUpdate(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){e.listData.unifiedId!==this.props.listData.unifiedId&&null!=this.props.listData.remoteId&&(yield this.processEvent("reloadEmailInvites",{remoteListId:this.props.listData.remoteId}),this.processEvent("updateProps",{props:this.props}))}))}get shouldShowInviteBtn(){return 0!==this.state.emailInviteInputValue.split(",").map((e=>e.trim())).filter((e=>e.length>0)).length}render(){var e;return o.a.createElement(o.a.Fragment,null,o.a.createElement(k,null,"Invite via Email"," ","running"===this.state.emailInvitesLoadState&&o.a.createElement(v.a,{size:18})),"running"===this.props.pageLinkLoadingState?o.a.createElement(E,null,"Available once links loaded"):o.a.createElement(O,{onClick:e=>{e.preventDefault(),e.stopPropagation()}},o.a.createElement(I,{onClick:e=>{e.preventDefault(),e.stopPropagation()},value:this.state.emailInviteInputValue,onChange:this.handleInviteInputChange,disabled:this.props.disableWriteOps||"running"===this.state.emailInvitesCreateState,placeholder:"running"===this.state.emailInvitesCreateState?"Adding new emails...":"Add address(es) with comma",element:"running"===this.state.emailInvitesCreateState?o.a.createElement(v.a,{size:18}):null,icon:"running"!==this.state.emailInvitesCreateState?"mail":null,onKeyDown:this.handleAddInviteInputKeyDown,onKeyUp:e=>{e.stopPropagation()}}),this.shouldShowInviteBtn&&"running"!==this.state.emailInvitesCreateState&&"running"!==this.state.emailInvitesLoadState&&o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{elementHeight:"40px",backgroundColor:"greyScale1_5",menuItems:[{id:A.a.Commenter,name:Object(m.a)(A.a.Commenter)},{id:A.a.ReadWrite,name:Object(m.a)(A.a.ReadWrite)}],onMenuItemClick:e=>this.processEvent("updateEmailInviteInputRole",{role:null==e?void 0:e.id}),initSelectedIndex:this.state.emailInviteInputRole===A.a.Commenter?0:1,keepSelectedState:!0}),o.a.createElement(g.a,{onClick:()=>this.processEvent("inviteViaEmail",{state:this.state,remoteId:this.props.listData.remoteId}),label:"Invite",type:"secondary",size:"medium",fullWidth:!0})),(null===(e=Object(u.c)(this.state.emailInvites))||void 0===e?void 0:e.length)>0&&o.a.createElement(w,null,Object(u.c)(this.state.emailInvites).slice().reverse().map((e=>o.a.createElement(B,{onMouseEnter:()=>{this.processEvent("setEmailInvitesHoverState",{id:null==e?void 0:e.email})},onMouseLeave:()=>{this.processEvent("setEmailInvitesHoverState",{id:null})},key:null==e?void 0:e.email},o.a.createElement(x,null,o.a.createElement(C,null,null==e?void 0:e.email)),null==(null==e?void 0:e.sharedListKey)?o.a.createElement(v.a,{size:14}):this.state.emailInvitesHoverState===(null==e?void 0:e.email)?o.a.createElement(g.a,{onClick:()=>this.processEvent("deleteEmailInvite",{key:null==e?void 0:e.email}),disabled:null==(null==e?void 0:e.sharedListKey),type:"tertiary",label:"Remove",icon:"removeX",fontSize:"12px",iconSize:"16px",iconColor:"greyScale5",padding:"0px 5px 0px 0px"}):o.a.createElement(S,null,Object(m.a)(e.roleID))))))))}}const w=s.a.div.withConfig({displayName:"EmailListContainer",componentId:"sc-1lm62rq-0"})(["width:fill-available;display:block;flex-direction:column;align-items:flex-start;max-height:150px;overflow-y:scroll;&::-webkit-scrollbar{display:none;}scrollbar-width:none;"]),B=s.a.div.withConfig({displayName:"InviteItemContainer",componentId:"sc-1lm62rq-1"})(["height:40px;padding:0 5px;display:flex;justify-content:space-between;align-items:center;grid-gap:5px;width:fill-available;width:-moz-available;border-bottom:1px solid ",";&:last-child{border-bottom:none;}"],(e=>e.theme.colors.greyScale2)),x=s.a.div.withConfig({displayName:"InvitedBox",componentId:"sc-1lm62rq-2"})(["display:flex;flex-direction:column;justify-content:center;grid-gap:3px;"]),C=s.a.div.withConfig({displayName:"InvitedEmail",componentId:"sc-1lm62rq-3"})(["color:",";font-size:14px;"],(e=>e.theme.colors.greyScale5)),S=s.a.div.withConfig({displayName:"InvitedPermission",componentId:"sc-1lm62rq-4"})(["color:",";font-size:12px;"],(e=>e.theme.colors.greyScale4)),k=s.a.div.withConfig({displayName:"SectionTitle",componentId:"sc-1lm62rq-5"})(["font-size:14px;color:",";font-weight:400;width:100%;display:flex;justify-content:flex-start;grid-gap:10px;align-items:center;"],(e=>e.theme.colors.greyScale5)),E=s.a.div.withConfig({displayName:"WaitingDescription",componentId:"sc-1lm62rq-6"})(["font-size:14px;color:",";background:",";font-weight:400;width:fill-available;width:-moz-available;padding:20px;box-sizing:border-box;display:flex;border-radius:8px;justify-content:center;align-items:center;height:",";"],(e=>e.theme.colors.greyScale5),(e=>e.theme.colors.greyScale2),y),I=s()(h.a).withConfig({displayName:"EditableTextField",componentId:"sc-1lm62rq-7"})(["padding:2px 10px;border-radius:5px;outline:none;flex:2;display:flex;min-width:50px;margin-right:0px;font-size:14px;height:40px;outline:none;border:none;width:fill-available;"]),O=s.a.div.withConfig({displayName:"Container",componentId:"sc-1lm62rq-8"})(["width:fill-available;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;background-color:transparent;grid-gap:2px;min-height:",";height:fit-content;"],y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(624),o=n(625),a=n(626),s=n(627),l=n(224),c=n(493),A=n(309),u=n(630),d=n(633),f=n(225),p=n(634),h=n(638),g=n(639),m=n(494),v=n(640),y=n(495),b=n(641),w=n(496);const B=r.Extension.create({name:"starterKit",addExtensions(){var e,t,n,r,B,x,C,S,k,E,I,O,F,D,_,T,U,M;const L=[];return!1!==this.options.blockquote&&L.push(i.Blockquote.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&L.push(o.Bold.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&L.push(a.BulletList.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&L.push(s.Code.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&L.push(l.CodeBlock.configure(null===(B=this.options)||void 0===B?void 0:B.codeBlock)),!1!==this.options.document&&L.push(c.Document.configure(null===(x=this.options)||void 0===x?void 0:x.document)),!1!==this.options.dropcursor&&L.push(A.Dropcursor.configure(null===(C=this.options)||void 0===C?void 0:C.dropcursor)),!1!==this.options.gapcursor&&L.push(u.Gapcursor.configure(null===(S=this.options)||void 0===S?void 0:S.gapcursor)),!1!==this.options.hardBreak&&L.push(d.HardBreak.configure(null===(k=this.options)||void 0===k?void 0:k.hardBreak)),!1!==this.options.heading&&L.push(f.Heading.configure(null===(E=this.options)||void 0===E?void 0:E.heading)),!1!==this.options.history&&L.push(p.History.configure(null===(I=this.options)||void 0===I?void 0:I.history)),!1!==this.options.horizontalRule&&L.push(h.HorizontalRule.configure(null===(O=this.options)||void 0===O?void 0:O.horizontalRule)),!1!==this.options.italic&&L.push(g.Italic.configure(null===(F=this.options)||void 0===F?void 0:F.italic)),!1!==this.options.listItem&&L.push(m.ListItem.configure(null===(D=this.options)||void 0===D?void 0:D.listItem)),!1!==this.options.orderedList&&L.push(v.OrderedList.configure(null===(_=this.options)||void 0===_?void 0:_.orderedList)),!1!==this.options.paragraph&&L.push(y.Paragraph.configure(null===(T=this.options)||void 0===T?void 0:T.paragraph)),!1!==this.options.strike&&L.push(b.Strike.configure(null===(U=this.options)||void 0===U?void 0:U.strike)),!1!==this.options.text&&L.push(w.Text.configure(null===(M=this.options)||void 0===M?void 0:M.text)),L}});t.StarterKit=B,t.default=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(120),o=n(481);const a=r.Extension.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,considerAnyAsEmpty:!1,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new i.Plugin({key:new i.PluginKey("placeholder"),props:{decorations:({doc:e,selection:t})=>{var n;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=t,a=[];if(!r)return null;const{firstChild:s}=e.content,l=s&&s.type.isLeaf,c=s&&s.isAtom,A=!!this.options.considerAnyAsEmpty||s&&s.type.name===(null===(n=e.type.contentMatch.defaultType)||void 0===n?void 0:n.name),u=e.content.childCount<=1&&s&&A&&s.nodeSize<=2&&(!l||!c);return e.descendants(((e,t)=>{const n=i>=t&&i<=t+e.nodeSize,r=!e.isLeaf&&!e.childCount;if((n||!this.options.showOnlyCurrent)&&r){const r=[this.options.emptyNodeClass];u&&r.push(this.options.emptyEditorClass);const i=o.Decoration.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});a.push(i)}return this.options.includeChildren})),o.DecorationSet.create(e,a)}}})]}});t.Placeholder=a,t.default=a},,,function(e,t,n){var r=n(363),i=n(365);e.exports=function(e,t,n){return r(i,e,t,n)}},function(e,t,n){var r=n(151),i=n(175),o=n(219),a=n(261),s=n(425),l=n(283),c=n(124),A=n(428),u=n(430),d=n(267),f=n(329),p=n(119),h=n(434),g=n(435),m=n(285),v=n(41),y=n(150),b=n(439),w=n(48),B=n(441),x=n(116),C=n(126),S="[object Arguments]",k="[object Function]",E="[object Object]",I={};I[S]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[E]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[k]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,O,F,D,_){var T,U=1&n,M=2&n,L=4&n;if(O&&(T=D?O(t,F,D,_):O(t)),void 0!==T)return T;if(!w(t))return t;var Q=v(t);if(Q){if(T=h(t),!U)return c(t,T)}else{var R=p(t),P=R==k||"[object GeneratorFunction]"==R;if(y(t))return l(t,U);if(R==E||R==S||P&&!D){if(T=M||P?{}:m(t),!U)return M?u(t,s(T,t)):A(t,a(T,t))}else{if(!I[R])return D?t:{};T=g(t,R,U)}}_||(_=new r);var H=_.get(t);if(H)return H;_.set(t,T),B(t)?t.forEach((function(r){T.add(e(r,n,O,r,t,_))})):b(t)&&t.forEach((function(r,i){T.set(i,e(r,n,O,i,t,_))}));var N=Q?void 0:(L?M?f:d:M?C:x)(t);return i(N||t,(function(r,i){N&&(r=t[i=r]),o(T,i,e(r,n,O,i,t,_))})),T}},function(e,t,n){var r=n(448),i=n(50);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="/get_timestamps",i="/set_timestamps"},function(e,t,n){var r=n(394);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){(function(t){var r=n(333),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function o(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function A(e,t){var n,r;if(o(e.length))for(n in e)d(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function u(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"\u2026"}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){for(var t,n=[],r=0,i=e.length;r<i;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function p(e){var t,n,r,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var l=["type","name","title","alt"];for(o=0;o<l.length;o++)r=l[o],(i=e.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function h(e,t){return!!(!!e^!!t)}function g(e,t){if(h(e,t))return!1;var n,r,i=e.frames,o=t.frames;if(void 0===i||void 0===o)return!1;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(n=i[a],r=o[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}function m(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function v(e){if("string"==typeof e){return u(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function y(e,t){return 0===t?v(e):a(e)?Object.keys(e).reduce((function(n,r){return n[r]=y(e[r],t-1),n}),{}):Array.isArray(e)?e.map((function(e){return y(e,t-1)})):v(e)}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:l,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:c,supportsReferrerPolicy:function(){if(!c())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:A,objectMerge:function(e,t){return t?(A(t,(function(t,n){e[t]=n})),e):e},truncate:u,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:d,joinRegExp:f,urlencode:function(e){var t=[];return A(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=i.crypto||i.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0;e&&r++<5&&!("html"===(t=p(e))||r>1&&i+3*n.length+t.length>=80);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:p,isSameException:function(e,t){return!h(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!o(n)||!o(r))&&g(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:g,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!l(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,i){if(!a(t))return t;i="number"!=typeof(n="number"!=typeof n?3:n)?51200:i;var o=y(t,n);return m(r(o))>i?e(t,n-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"\u2026"}return""},sanitize:function(e,t){if(!l(t)||l(t)&&0===t.length)return e;var n,i=f(t);try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return l(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return i.test(r)?n[r]="********":n[r]=e(t[r]),n}),{}):t}(n)}}}).call(this,n(61))},function(e,t,n){var r,i,o=n(357),a=n(358),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,A=t||[],u=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==d){var f=o();null==u&&(u=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:l+1,g=p-s+(h-l)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=h,i=d;var m=(1e4*(268435455&(p+=122192928e5))+h)%4294967296;A[c++]=m>>>24&255,A[c++]=m>>>16&255,A[c++]=m>>>8&255,A[c++]=255&m;var v=p/4294967296*1e4&268435455;A[c++]=v>>>8&255,A[c++]=255&v,A[c++]=v>>>24&15|16,A[c++]=v>>>16&255,A[c++]=d>>>8|128,A[c++]=255&d;for(var y=0;y<6;++y)A[c+y]=u[y];return t||a(A)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(44),l=n(9),c=n(4);class A extends i.a.PureComponent{constructor(){super(...arguments),this.state={value:this.props.initValue},this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.target.value),this.setState({value:e.target.value})},this.handleInputKeyDown=e=>{if("Escape"===e.key)return this.state.value.length&&e.stopPropagation(),void this.props.onCancelClick();"Enter"===e.key&&this.props.onConfirmClick(this.state.value),e.stopPropagation()},this.handleConfirm=()=>{this.props.onConfirmClick(this.state.value)},this.handleFocus=()=>{setTimeout((()=>{var e,t;null===(t=(e=this.props).scrollIntoView)||void 0===t||t.call(e)}),0)},this.handleCancel=()=>this.props.onCancelClick()}render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(p,null,i.a.createElement(u,{autoFocus:!0,onChange:this.handleChange,value:this.state.value,onFocus:this.handleFocus,onKeyDown:this.handleInputKeyDown,onClick:this.props.scrollIntoView}),i.a.createElement(d,{right:"5px"},i.a.createElement(c.a,{filePath:l.removeX,heightAndWidth:"18px",onClick:this.handleCancel,padding:"5px"}),i.a.createElement(c.a,{filePath:l.check,heightAndWidth:"18px",onClick:this.handleConfirm,color:"prime1",padding:"4px"}))),this.props.errorMessage&&i.a.createElement(f,null,this.props.errorMessage))}}A.defaultProps={initValue:""};const u=a.a.input.withConfig({displayName:"EditableListTitle",componentId:"sc-1bq1w87-0"})(["padding:2px 10px;border-radius:3px;outline:none;background:white;flex:0 1 100%;display:flex;margin:5px 0 5px 5px;font-size:14px;height:30px;outline:none;border:none;color:",";background-color:",";flex:1;width:-webkit-fill-available;width:-moz-available;&:focus-within{outline:1px solid ",";}"],(e=>e.theme.colors.white),(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale4)),d=a()(s.a).withConfig({displayName:"ActionButtonBox",componentId:"sc-1bq1w87-1"})(["display:grid;grid-gap:5px;justify-content:flex-start;grid-auto-flow:column;width:fit-content;padding:0 5px;box-sizing:border-box;"]),f=a.a.div.withConfig({displayName:"ErrMsg",componentId:"sc-1bq1w87-2"})(["color:red;width:100%;text-align:center;"]),p=a.a.div.withConfig({displayName:"Container",componentId:"sc-1bq1w87-3"})(["min-width:fit-content;max-width:fill-available;max-width:-moz-available;display:flex;grid-gap:5px;justify-content:space-between;align-items:center;background-color:transparent;padding:5px 5px 5px 15px;"])},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n.n(r),o=n(4),a=n(7);class s extends i.a.Component{constructor(){super(...arguments),this.toggleBtnRef=i.a.createRef()}render(){const{treeState:e,actions:t}=this.props;return i.a.createElement(a.a,{tooltipText:e.hasChildren?e.areChildrenShown?"Hide Sub-Spaces":"Show Sub-Spaces":"Add Sub-Space",placement:"bottom",targetElementRef:this.toggleBtnRef.current,getPortalRoot:this.props.getRootElement,hideTooltip:e.hasChildren},i.a.createElement(o.a,{containerRef:this.toggleBtnRef,icon:e.hasChildren?e.areChildrenShown?"arrowDown":"arrowRight":"plus",heightAndWidth:"16px",color:e.hasChildren?"greyScale5":"greyScale3",onClick:n=>{e.hasChildren?t.toggleShowChildren():t.toggleShowNewChildInput(),n.stopPropagation()}}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(10),l=n(2),c=n(33),A=n(8);const u="-reorder-pre",d="-reorder-post";var f=n(20);class p extends c.a{constructor(e){super(),this.deps=e,this.getInitialState=()=>({listTrees:Object(A.a)(),draggedListId:null,dragOverListId:null}),this.init=({event:e,previousState:t})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){this.deps.cache.events.addListener("newListsState",this.cacheListsSubscription),this.cacheListsSubscription(this.deps.cache.lists)})),this.cleanup=({previousState:e})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){this.deps.cache.events.removeListener("newListsState",this.cacheListsSubscription)})),this.cacheListsSubscription=e=>{this.emitMutation({listTrees:{$apply:t=>{let n=new Set,r=Object(A.a)({getId:e=>e.unifiedId,seedData:Object(A.c)(e).map((e=>{var r,i,o;let a=t.byId[e.unifiedId],s=null==a?void 0:a.areChildrenShown;return null==s&&(s=this.deps.initListToDisplayNewChildInput===e.unifiedId||!1,(null===(r=this.deps.initListsToDisplayUnfolded)||void 0===r?void 0:r.includes(e.unifiedId))&&e.pathUnifiedIds.forEach((e=>n.add(e)))),{areChildrenShown:s,unifiedId:e.unifiedId,wasListDropped:!1,isNewChildInputShown:null!==(i=null==a?void 0:a.isNewChildInputShown)&&void 0!==i?i:this.deps.initListToDisplayNewChildInput===e.unifiedId||!1,newChildListCreateState:null!==(o=null==a?void 0:a.newChildListCreateState)&&void 0!==o?o:"pristine",hasChildren:this.deps.cache.getListsByParentId(e.unifiedId).length>0}}))});for(let e of n)r.byId[e].areChildrenShown=!0;return r}}})},this.createNewChildList=({event:e})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){let t=this.deps.cache.lists.byId[e.parentListId],n=e.name.trim();if(!n.length||!(null==t?void 0:t.localId))return;let{localListId:r,remoteListId:i,collabKey:o}=yield this.deps.listsBG.createCustomList({name:n,parentListId:t.localId}),a=yield this.deps.authBG.getCurrentUser();this.deps.cache.addList({type:"user-list",name:n,localId:r,collabKey:o,remoteId:i,creator:{type:"user-reference",id:a.id},unifiedAnnotationIds:[],hasRemoteAnnotationsToLoad:!1,parentLocalId:t.localId,pathLocalIds:[...t.pathLocalIds,t.localId],isPrivate:!0}),this.emitMutation({listTrees:{byId:{[e.parentListId]:{isNewChildInputShown:{$set:!1},newChildListCreateState:{$set:"success"}}}}})})),this.toggleShowChildren=({event:e,previousState:t})=>{let n=t.listTrees.byId[e.listId];this.emitMutation({listTrees:{byId:{[e.listId]:{areChildrenShown:{$set:!n.areChildrenShown}}}}})},this.toggleShowNewChildInput=({event:e,previousState:t})=>{let n=t.listTrees.byId[e.listId];this.emitMutation({listTrees:{byId:{[e.listId]:{isNewChildInputShown:{$set:!n.isNewChildInputShown},areChildrenShown:{$set:!n.isNewChildInputShown||n.areChildrenShown}}}}})},this.setDragOverListId=({event:e})=>{this.emitMutation({dragOverListId:{$set:e.listId}})},this.startListDrag=({event:e})=>{this.emitMutation({draggedListId:{$set:e.listId}})},this.endListDrag=({})=>{this.emitMutation({draggedListId:{$set:null}})},this.dropOnList=({event:e,previousState:t})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){var n,r;this.emitMutation({dragOverListId:{$set:null}});let i=t.draggedListId,o=this.deps.cache.lists.byId[i];if(!o||o.unifiedId===e.dropTargetListId)return;if(e.dropTargetListId.endsWith(d)){let r=e.dropTargetListId.slice(0,e.dropTargetListId.length-13);return void(yield this.handleDropOnReorderLine(i,r,{areTargetListChildrenShown:null===(n=t.listTrees.byId[r])||void 0===n?void 0:n.areChildrenShown}))}if(e.dropTargetListId.endsWith(u)){let n=e.dropTargetListId.slice(0,e.dropTargetListId.length-12);return void(yield this.handleDropOnReorderLine(i,n,{isBeforeFirstRoot:!0,areTargetListChildrenShown:null===(r=t.listTrees.byId[n])||void 0===r?void 0:r.areChildrenShown}))}o.parentUnifiedId!==e.dropTargetListId&&(yield this.performListTreeMove(i,e.dropTargetListId));let a=this.deps.cache.getListsByParentId(e.dropTargetListId).filter((e=>e.unifiedId!==i));a.length>0&&(yield this.performListTreeReorder(i,{targetListId:a[0].unifiedId}))}))}handleDropOnReorderLine(e,t,n){var r;return Object(l.__awaiter)(this,void 0,void 0,(function*(){if(null==e||t===e)return;let{cache:i}=this.deps,o=i.lists.byId[t],a=i.lists.byId[e];if(null==n?void 0:n.isBeforeFirstRoot){let t=i.getListsByParentId(o.parentUnifiedId);a.parentUnifiedId!==o.parentUnifiedId&&(yield this.performListTreeMove(e,o.parentUnifiedId)),t.length&&this.deps.allowRootLevelReordering&&(yield this.performListTreeReorder(e,{targetListId:t[0].unifiedId}))}else if(this.deps.allowRootLevelReordering||null!=o.parentUnifiedId||null==a)if(null==n?void 0:n.areTargetListChildrenShown){let t=i.getListsByParentId(o.unifiedId);a.parentUnifiedId!==o.unifiedId&&(yield this.performListTreeMove(e,o.unifiedId)),t.length&&(yield this.performListTreeReorder(e,{targetListId:t[0].unifiedId}))}else{let t=i.getListsByParentId(o.parentUnifiedId);if(a.parentUnifiedId!==o.parentUnifiedId&&(yield this.performListTreeMove(e,o.parentUnifiedId)),t.length){let n=!1,i=t.findIndex((e=>e.unifiedId===o.unifiedId));i===t.length-1&&(i--,n=!0),yield this.performListTreeReorder(e,{targetListId:null===(r=t[i+1])||void 0===r?void 0:r.unifiedId,isFinalSibling:n})}}else if(a.pathUnifiedIds.includes(o.unifiedId)){let t=i.getListsByParentId(o.unifiedId);a.parentUnifiedId!==o.unifiedId&&(yield this.performListTreeMove(e,o.unifiedId)),yield this.performListTreeReorder(e,{targetListId:t[0].unifiedId})}else null!=a.parentUnifiedId&&(yield this.performListTreeMove(e,null))}))}performListTreeMove(e,t){var n;return Object(l.__awaiter)(this,void 0,void 0,(function*(){let r=null==t,{cache:i}=this.deps,o=i.lists.byId[e],a=r?null:i.lists.byId[t];if(null!=(null==o?void 0:o.localId)&&(r||null!=(null==a?void 0:a.localId))){if(r)return i.updateList({unifiedId:e,parentUnifiedId:null}),void(yield this.deps.listsBG.updateListTreeParent({localListId:o.localId,parentListId:null!==(n=null==a?void 0:a.localId)&&void 0!==n?n:null}));if(a.unifiedId===e||a.pathUnifiedIds.includes(e))throw new Error("Cannot make list a child of a descendent - this would result in a cycle");this.emitMutation({listTrees:{byId:{[t]:{hasChildren:{$set:!0},wasListDropped:{$set:!0}}}}}),i.updateList({unifiedId:e,parentUnifiedId:t}),setTimeout((()=>{this.emitMutation({listTrees:{byId:{[t]:{wasListDropped:{$set:!1}}}}})}),2e3),yield this.deps.listsBG.updateListTreeParent({localListId:o.localId,parentListId:a.localId})}}))}performListTreeReorder(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function*(){let{cache:n}=this.deps,r=n.lists.byId[t.targetListId],i=n.lists.byId[e],o=r?n.getListsByParentId(r.parentUnifiedId):[],a=o.findIndex((e=>e.unifiedId===t.targetListId)),s=o.map((e=>({id:e.unifiedId,key:e.order}))),l=-1===a||t.isFinalSibling?Object(f.e)(s,i.unifiedId).create.key:Object(f.d)(s,i.unifiedId,a).create.key;l!==i.order&&(n.updateList({unifiedId:i.unifiedId,order:l}),yield this.deps.listsBG.updateListTreeOrder({localListId:i.localId,siblingListIds:o.map((e=>e.localId)),intendedIndexAmongSiblings:t.isFinalSibling?o.length:a}))}))}}var h=n(239),g=n(152);class m extends s.a{constructor(e){super(e,new p(e)),this.initDropReceivingState=e=>({isDraggedOver:this.state.dragOverListId===e,onDragEnter:t=>{t.preventDefault(),t.stopPropagation(),setTimeout((()=>this.processEvent("setDragOverListId",{listId:e})),0)},onDragLeave:e=>(e.preventDefault(),e.stopPropagation(),this.processEvent("setDragOverListId",{listId:null})),onDrop:t=>(t.preventDefault(),this.processEvent("dropOnList",{dropTargetListId:e})),onDragStart:t=>this.processEvent("startListDrag",{listId:e}),onDragEnd:e=>this.processEvent("endListDrag",null)}),this.renderReorderLine=(e,t)=>{if(this.props.areListsBeingFiltered)return null;let n=this.initDropReceivingState(`${e}${t?u:d}`);return i.a.createElement(y,{topItem:t,isActive:null!=this.state.draggedListId,onDrop:n.onDrop,isVisible:n.isDraggedOver,onDragEnter:n.onDragEnter,onDragLeave:n.onDragLeave,onDragOver:e=>{e.preventDefault(),e.stopPropagation()}})}}render(){return Object(g.a)(this.props.lists,this.state,this.props).map(((e,t)=>{let n={createChildList:t=>this.processEvent("createNewChildList",{name:t,parentListId:e.unifiedId}),toggleShowChildren:()=>this.processEvent("toggleShowChildren",{listId:e.unifiedId}),toggleShowNewChildInput:()=>this.processEvent("toggleShowNewChildInput",{listId:e.unifiedId})},r=this.state.listTrees.byId[e.unifiedId],o=null;return r.areChildrenShown&&r.isNewChildInputShown&&(o=i.a.createElement(v,{indentSteps:e.pathUnifiedIds.length},i.a.createElement(h.a,{onCancelClick:n.toggleShowNewChildInput,onConfirmClick:n.createChildList}))),i.a.createElement(i.a.Fragment,{key:e.unifiedId},0===t&&this.renderReorderLine(e.unifiedId,!0),this.props.children(e,this.state.listTrees.byId[e.unifiedId],n,this.initDropReceivingState(e.unifiedId)),this.renderReorderLine(e.unifiedId),o)}))}}let v=a.a.div.withConfig({displayName:"ChildListInputContainer",componentId:"pgpl6d-0"})(["width:100%;"]),y=a.a.div.withConfig({displayName:"ReorderLine",componentId:"pgpl6d-1"})(["position:relative;z-index:-1;border-bottom:3px solid ",";&::before{content:'';width:100%;top:-10px;position:absolute;height:10px;z-index:2;background:transparent;}&::after{content:'';width:100%;bottom:-13px;position:absolute;height:10px;z-index:2;background:transparent;}"," ",""],(e=>e.isVisible&&e.isActive?e.theme.colors.prime3:"transparent"),(e=>e.isActive&&Object(o.css)(["z-index:2147483647;"])),(e=>e.topItem&&Object(o.css)(["display:none;&:first-child{display:flex;}"])))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return B}));var r=n(359),i=n.n(r);const o=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779\xd0"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"OE",letters:"\x8c\u0152"},{base:"oe",letters:"\x9c\u0153"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],a={};for(let e=0;e<o.length;e++){const t=o[e].letters;for(let n=0;n<t.length;n++)a[t[n]]=o[e].base}const s=n(187).a,l=/\s+/g,c=/[\u2000-\u206F\u2E00-\u2E7F\\!"#$%&()*+,./:;<=>?[\]^_`{|}~\xab\xbb\u3002\uff08\uff09\u3147\xa9\xba\xf8\xb0]/gi,A=/['\u2019]/g,u=/(\w+)-(\w+)/g,d=/\s+-\s+/g,f=/\b(\d{1,3}|\d{5,})\b/gi,p=i()(),h=(e="")=>e.replace(l," ").trim(),g=(e="")=>[...new Set(e.split(s))].join(" "),m=(e="")=>e.replace(A,""),v=(e="")=>{const t=e.match(u);if(null==t)return e.replace(d," ");return`${e} ${t.map((e=>e.split("-"))).reduce(((e,t)=>[...e,...t])).join(" ")}`.replace(d," ")},y=(e="")=>e.replace(/[^\u0000-\u007E]/g,(function(e){return a[e]||e}));function b(e){const t=e.match(/[\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF\u3000-\u303F]+/g);if(!t)return e;let n="",r=0;return t.forEach(((t,i)=>{const o=e.indexOf(t,r);n+=e.substring(r,o),o>0&&" "!==e[o-1]&&(n+=" "),/[\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]+/.test(t)?n+=[...t].join(" "):n+=t;const a=e[o+t.length],s=/[\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF\u3000-\u303F]/.test(a);a&&!s&&" "!==a&&(n+=" "),r=o+t.length})),n+=e.substring(r),n}const w=(e,{lang:t="en-US"}={})=>{if(!e.trim().length)return{text:e,lenAfter:0,lenBefore:0};let n=e.toLocaleLowerCase.call(e,t);return n=((e="")=>e.replace(p," "))(n),n=m(n),n=v(n),n=n.replace(d," "),n=y(n),n=((e="")=>e.replace(c," "))(n),n=g(n),n=((e="")=>e.replace(f," "))(n),n=((e="")=>e.split(" ").filter((e=>1!==e.length||/[\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF\u3000-\u303F]+/g.test(e))).join(" "))(n),n=b(n),n=h(n),{text:n,lenBefore:e.length,lenAfter:n.length}},B=e=>{if(!e.trim().length)return{text:e,lenAfter:0,lenBefore:0};let t=e.toLocaleLowerCase();return t=m(t),t=v(t),t=y(t),t=g(t),t=h(t),{text:t,lenBefore:e.length,lenAfter:t.length}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="/upload-pdf",i="/retrieve-pdf"},,function(e,t,n){var r=n(140),i=n(246),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(247),i=r&&new r;e.exports=i},function(e,t,n){var r=n(87)(n(40),"WeakMap");e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(61))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(251),i=n(252),o=n(375),a=n(141),s=n(253),l=n(260),c=n(391),A=n(176),u=n(40);e.exports=function e(t,n,d,f,p,h,g,m,v,y){var b=128&n,w=1&n,B=2&n,x=24&n,C=512&n,S=B?void 0:a(t);return function k(){for(var E=arguments.length,I=Array(E),O=E;O--;)I[O]=arguments[O];if(x)var F=l(k),D=o(I,F);if(f&&(I=r(I,f,p,x)),h&&(I=i(I,h,g,x)),E-=D,x&&E<y){var _=A(I,F);return s(t,n,e,k.placeholder,d,I,_,m,v,y-E)}var T=w?d:this,U=B?T[t]:t;return E=I.length,m?I=c(I,m):C&&E>1&&I.reverse(),b&&v<E&&(I.length=v),this&&this!==u&&this instanceof k&&(U=S||a(U)),U.apply(T,I)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,c=t.length,A=n(a-s,0),u=Array(c+A),d=!i;++l<c;)u[l]=t[l];for(;++o<s;)(d||o<a)&&(u[r[o]]=e[o]);for(;A--;)u[l++]=e[o++];return u}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,c=-1,A=t.length,u=n(a-l,0),d=Array(u+A),f=!i;++o<u;)d[o]=e[o];for(var p=o;++c<A;)d[p+c]=t[c];for(;++s<l;)(f||o<a)&&(d[p+r[s]]=e[o++]);return d}},function(e,t,n){var r=n(376),i=n(256),o=n(258);e.exports=function(e,t,n,a,s,l,c,A,u,d){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var p=[e,t,s,f?l:void 0,f?c:void 0,f?void 0:l,f?void 0:c,A,u,d],h=n.apply(void 0,p);return r(e)&&i(h,p),h.placeholder=a,o(h,e,t)}},function(e,t,n){var r=n(246),i=n(345),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t,n){var r=n(142),i=n(173);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(245),i=n(257)(r);e.exports=i},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(381),i=n(382),o=n(174),a=n(385);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},function(e,t,n){var r=n(87),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(118),i=n(116);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(397),i=n(149),o=n(41),a=n(150),s=n(138),l=n(190),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),A=!n&&i(e),u=!n&&!A&&a(e),d=!n&&!A&&!u&&l(e),f=n||A||u||d,p=f?r(e.length,String):[],h=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||u&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||p.push(g);return p}},function(e,t,n){var r=n(179),i=n(401),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(183),i=n(184),o=n(182),a=n(265),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(268),i=n(182),o=n(116);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(183),i=n(41);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t,n){var r=n(40).Uint8Array;e.exports=r},function(e,t,n){var r=n(449),i=n(452),o=n(453);e.exports=function(e,t,n,a,s,l){var c=1&n,A=e.length,u=t.length;if(A!=u&&!(c&&u>A))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,h=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<A;){var m=e[p],v=t[p];if(a)var y=c?a(v,m,p,t,e,l):a(m,v,p,e,t,l);if(void 0!==y){if(y)continue;h=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(m===e||s(m,e,n,a,l)))return g.push(t)}))){h=!1;break}}else if(m!==v&&!s(m,v,n,a,l)){h=!1;break}}return l.delete(e),l.delete(t),h}},function(e,t,n){var r=n(48);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(460),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(171),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},function(e,t,n){var r=n(139),i=n(332),o=n(193);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(13);const l=a.a.div`
    color: ${e=>e.theme.colors.greyScale5};
    display: flex;
    grid-gap: 5px;
    align-items: center;
`,c=i.a.createElement(l,null,"optional:"," ",i.a.createElement(s.a,{optionalTooltipText:i.a.createElement("span",null,"Optional:",i.a.createElement("br",null)," Note auto-added to every Space the page is in"),optional:"shift",getRootElement:null})),A=[{id:"open-AI-summaries",name:"askAI",text:"Summarise this page or selected text",tooltip:"Add tags to page"},{id:"highlight-shortcut",name:"createHighlight",text:"Highlight selected text",subText:c},{id:"annotation-shortcut",name:"createAnnotation",text:"Annotate selected text",subText:c},{id:"open-dashboard-shortcut",name:"openDashboard",text:"Open Dashboard",tooltip:"Search Memex"},{id:"copy-highlight-link",name:"copyCurrentLink",text:"Share link to page or highlighted text",tooltip:"Share link to page or highlighted text"},{id:"sidebar-shortcut",name:"toggleSidebar",text:"Open Sidebar",toggleOn:"View Annotations",toggleOff:"Open"},{id:"add-to-coll-shortcut",name:"addToCollection",text:"Add current page (or text, if highlighted) to Space",tooltip:"Add to Spaces",subText:c},{id:"share-page-shortcut",name:"sharePage",text:"Share link to annotations on this page",tooltip:"Share link to annotations on this page"},{id:"create-bm-shortcut",name:"createBookmark",text:"Save & Full-Text Index Page",toggleOn:"Save & Full-Text Index Page",toggleOff:"Save & Full-Text Index Page"},{id:"add-tag-shortcut",name:"addTag",text:"Add tags to current page (opens picker)",tooltip:"Add tags to page"},{id:"ask-ai",name:"askAI",text:"Summarise page",tooltip:"Summarise Page"}]},function(e,t,n){var r=n(232)("mapValues",n(275));r.placeholder=n(164),e.exports=r},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return A}));var r=n(2),i=n(95),o=n(32),a=n(25);function s(e){const t=i.a,n=["addToCollection","sharePage","addComment","toggleSidebar","toggleHighlights","createAnnotation","createHighlight","createBookmark","openDashboard","shortcutsEnabled","askAI","copyCurrentLink"],r={};for(const i of n){if("shortcutsEnabled"===i){r[i]=e[i]||!1;continue}const n=`${i}ShortcutEnabled`,o=`${i}Shortcut`;r[i]={enabled:null!=e[n]?e[n]:t[n],shortcut:null!=e[o]?e[o]:t[o],altName:"createAnnotation"===i?"createSharedAnnotation":"createHighlight"===i?"createSharedHighlight":"addToCollection"===i?"createSharedAnnotationAndAddToCollection":"openDashboard"===i?"openDashboardInNewTab":"askAI"===i?"instaSummarize":void 0}}return r}const l=e=>{var{shortcutsEnabled:t}=e,n=Object(r.__rest)(e,["shortcutsEnabled"]);const o=i.a,a={shortcutsEnabled:null!=t?t:o.shortcutsEnabled};for(const[e,{enabled:t,shortcut:r}]of Object.entries(n)){const n=`${e}ShortcutEnabled`,i=`${e}Shortcut`;a[n]=null!=t?t:o[n],a[i]=null!=r?r:o[i]}return a};function c(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return Object(o.b)(i.b,l(e))}))}const A=(e,t=e=>String.fromCharCode(e.keyCode))=>{if(!function(e){return e.keyCode>=65&&e.keyCode<=90}(e))return"";const n=Object(a.a)({key:"alt"});return(e.altKey?n+"+":"")+(e.ctrlKey?"ctrl+":"")+(e.metaKey?"meta+":"")+(e.shiftKey?"shift+":"")+t(e).toLowerCase()}},function(e,t,n){"use strict";function r(e,t=null){if(!(t||document).querySelector(`link[href="${e}"]`))return new Promise(((n,r)=>{const i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.onload=n,i.onerror=r,i.href=e;(t||document.body||document.head||document.documentElement).prepend(i)}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(2),i=(n(3),n(6)),o=n(32);const a="sidebar-enabled",s=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(o.a)(a,true)})),l=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(o.b)(a,e)}));Object(i.h)("openOptionsTab")},function(e,t,n){const{makeUrlAbsolute:r,parseUrl:i}=n(902);function o(e){return e.replace(/www[a-zA-Z0-9]*\./,"").replace(".co.",".").split(".").slice(0,-1).join(" ")}function a(e){return(t,n)=>{let r,i=0;for(let n=0;n<e.rules.length;n++){const[o,a]=e.rules[n],s=Array.from(t.querySelectorAll(o));if(s.length)for(const t of s){let o=e.rules.length-n;if(e.scorers)for(const n of e.scorers){const e=n(t,o);e&&(o=e)}o>i&&(i=o,r=a(t))}}if(!r&&e.defaultValue&&(r=e.defaultValue(n)),r){if(e.processors)for(const t of e.processors)r=t(r,n);return r.trim&&(r=r.trim()),r}}}const s={description:{rules:[['meta[property="og:description"]',e=>e.getAttribute("content")],['meta[name="description" i]',e=>e.getAttribute("content")]]},icon:{rules:[['link[rel="apple-touch-icon"]',e=>e.getAttribute("href")],['link[rel="apple-touch-icon-precomposed"]',e=>e.getAttribute("href")],['link[rel="icon" i]',e=>e.getAttribute("href")],['link[rel="fluid-icon"]',e=>e.getAttribute("href")],['link[rel="shortcut icon"]',e=>e.getAttribute("href")],['link[rel="Shortcut Icon"]',e=>e.getAttribute("href")],['link[rel="mask-icon"]',e=>e.getAttribute("href")]],scorers:[(e,t)=>{const n=e.getAttribute("sizes");if(n){const e=n.match(/\d+/g);if(e)return e[0]}}],defaultValue:e=>"favicon.ico",processors:[(e,t)=>r(t.url,e)]},image:{rules:[['meta[property="og:image:secure_url"]',e=>e.getAttribute("content")],['meta[property="og:image:url"]',e=>e.getAttribute("content")],['meta[property="og:image"]',e=>e.getAttribute("content")],['meta[name="twitter:image"]',e=>e.getAttribute("content")],['meta[property="twitter:image"]',e=>e.getAttribute("content")],['meta[name="thumbnail"]',e=>e.getAttribute("content")]],processors:[(e,t)=>r(t.url,e)]},keywords:{rules:[['meta[name="keywords" i]',e=>e.getAttribute("content")]],processors:[(e,t)=>e.split(",").map((e=>e.trim()))]},title:{rules:[['meta[property="og:title"]',e=>e.getAttribute("content")],['meta[name="twitter:title"]',e=>e.getAttribute("content")],['meta[property="twitter:title"]',e=>e.getAttribute("content")],['meta[name="hdl"]',e=>e.getAttribute("content")],["title",e=>e.text]]},language:{rules:[["html[lang]",e=>e.getAttribute("lang")],['meta[name="language" i]',e=>e.getAttribute("content")]],processors:[(e,t)=>e.split("-")[0]]},type:{rules:[['meta[property="og:type"]',e=>e.getAttribute("content")]]},url:{rules:[["a.amp-canurl",e=>e.getAttribute("href")],['link[rel="canonical"]',e=>e.getAttribute("href")],['meta[property="og:url"]',e=>e.getAttribute("content")]],defaultValue:e=>e.url,processors:[(e,t)=>r(t.url,e)]},provider:{rules:[['meta[property="og:site_name"]',e=>e.getAttribute("content")]],defaultValue:e=>o(i(e.url))}};e.exports={buildRuleSet:a,getMetadata:function(e,t,n){const r={},i={url:t},o=n||s;return Object.keys(o).map((t=>{const n=a(o[t]);r[t]=n(e,i)})),r},getProvider:o,metadataRuleSets:s}},,function(e,t,n){(function(e){var r=n(40),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(111)(e))},function(e,t,n){var r=n(185);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(142),i=n(184),o=n(179);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(471)();e.exports=r},,,function(e,t,n){var r=n(395),i=n(48),o=n(115),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(29),i=n(320);function o(e){return("production"===e.env?r.b.production:r.b.staging)+i.a+"?id="+e.id}},function(e,t,n){var r=n(105),i=n(48);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},,,,,,function(e,t,n){var r=n(139),i=n(125);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict";e.exports=n(530)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePopper=void 0;var r,i=A(n(0)),o=A(n(28)),a=n(538),s=(r=n(539))&&r.__esModule?r:{default:r},l=n(206);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function A(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var u=[];t.usePopper=function(e,t,n){void 0===n&&(n={});var r=i.useRef(null),c={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||u},A=i.useState({styles:{popper:{position:c.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),d=A[0],f=A[1],p=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);o.flushSync((function(){f({styles:(0,l.fromEntries)(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:(0,l.fromEntries)(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),h=i.useMemo((function(){var e={onFirstUpdate:c.onFirstUpdate,placement:c.placement,strategy:c.strategy,modifiers:[].concat(c.modifiers,[p,{name:"applyStyles",enabled:!1}])};return(0,s.default)(r.current,e)?r.current||e:(r.current=e,e)}),[c.onFirstUpdate,c.placement,c.strategy,c.modifiers,p]),g=i.useRef();return(0,l.useIsomorphicLayoutEffect)((function(){g.current&&g.current.setOptions(h)}),[h]),(0,l.useIsomorphicLayoutEffect)((function(){if(null!=e&&null!=t){var r=(n.createPopper||a.createPopper)(e,t,h);return g.current=r,function(){r.destroy(),g.current=null}}}),[e,t,n.createPopper]),{state:g.current?g.current.state:null,styles:d.styles,attributes:d.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=u,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(u(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var i=l({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var i=l({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:o}},t.createCSSTransform=function(e,t){var n=d(e,t,"px");return c({},(0,o.browserPrefixToKey)("transform",o.default),n)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTranslation=d,t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&f(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&p(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=f,t.removeClassName=p;var i=n(221),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(612));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="";function u(e,t){return A||(A=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[A])&&e[A](t)}function d(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function f(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function p(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(618),i=n(39),o="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function a(e){var t,n,r,i,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(var l=0;l<a.length-1;l++){var c=a[l];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);o?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function l(e){var t=function(e){var t=Object.create(null);for(var n in e)t[a(n)]=e[n];return t}(e);return function(e,n){var i,o=r.keyName(n),a=t[s(o,n)];if(a&&a(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){var l=t[s(o,n,!1)];if(l&&l(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=r.base[n.keyCode])&&i!=o){var c=t[s(i,n)];if(c&&c(e.state,e.dispatch,e))return!0}}return!1}}t.keydownHandler=l,t.keymap=function(e){return new i.Plugin({props:{handleKeyDown:l(e)}})}},function(e,t,n){"use strict";t.__esModule=!0,t.createSubscription=function(e,t){var n,o=i;function a(){l.onStateChange&&l.onStateChange()}function s(){var i,s,l;n||(n=t?t.addNestedSub(a):e.subscribe(a),i=(0,r.getBatch)(),s=null,l=null,o={clear:function(){s=null,l=null},notify:function(){i((function(){for(var e=s;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=s;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,n=l={callback:e,next:null,prev:l};return n.prev?n.prev.next=n:s=n,function(){t&&null!==s&&(t=!1,n.next?n.next.prev=n.prev:l=n.prev,n.prev?n.prev.next=n.next:s=n.next)}}})}var l={addNestedSub:function(e){return s(),o.subscribe(e)},notifyNestedSubs:function(){o.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:s,tryUnsubscribe:function(){n&&(n(),n=void 0,o.clear(),o=i)},getListeners:function(){return o}};return l};var r=n(484);var i={notify:function(){},get:function(){return[]}}},function(e,t,n){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var r=n(0),i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=i},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(628);const o=r.Extension.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[i.dropCursor(this.options)]}});t.Dropcursor=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(199),i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString;function s(e){return a.call(e).slice(8,-1)}var l=Object.assign||function(e,t){return c(t).forEach((function(n){i.call(t,n)&&(e[n]=t[n])})),e},c="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function A(e){return Array.isArray(e)?l(e.constructor(e.length),e):"Map"===s(e)?new Map(e):"Set"===s(e)?new Set(e):e&&"object"==typeof e?l(Object.create(Object.getPrototypeOf(e)),e):e}var u=function(){function e(){this.commands=l({},d),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,o="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(o)||r(!Array.isArray(o),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),r("object"==typeof o&&null!==o,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var a=e;return c(o).forEach((function(t){if(i.call(n.commands,t)){var r=e===a;a=n.commands[t](o[t],a,o,e),r&&n.isEquals(a,e)&&(a=e)}else{var l="Map"===s(e)?n.update(e.get(t),o[t]):n.update(e[t],o[t]),c="Map"===s(a)?a.get(t):a[t];n.isEquals(l,c)&&(void 0!==l||i.call(e,t))||(a===e&&(a=A(e)),"Map"===s(a)?a.set(t,l):a[t]=l)}})),a},e}();t.Context=u;var d={$push:function(e,t,n){return p(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return p(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){r(Array.isArray(e),"Expected $splice target to be an array; got %s",e),g(t.$splice)}(t,n),e.forEach((function(e){g(e),t===i&&e.length&&(t=A(i)),o.apply(t,e)})),t},$set:function(e,t,n){return function(e){r(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){h(e,"$toggle");var n=e.length?A(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return h(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=A(r)),delete t[e])})),t},$add:function(e,t,n,r){return m(t,"$add"),h(e,"$add"),"Map"===s(t)?e.forEach((function(e){var n=e[0],i=e[1];t===r&&t.get(n)!==i&&(t=A(r)),t.set(n,i)})):e.forEach((function(e){t!==r||t.has(e)||(t=A(r)),t.add(e)})),t},$remove:function(e,t,n,r){return m(t,"$remove"),h(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=A(r)),t.delete(e)})),t},$merge:function(e,t,n,i){var o,a;return o=t,r((a=e)&&"object"==typeof a,"update(): $merge expects a spec of type 'object'; got %s",a),r(o&&"object"==typeof o,"update(): $merge expects a target of type 'object'; got %s",o),c(e).forEach((function(n){e[n]!==t[n]&&(t===i&&(t=A(i)),t[n]=e[n])})),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),"update(): expected spec of $apply to be a function; got %s.",n),e(t)}},f=new u;function p(e,t,n){r(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),h(t[n],n)}function h(e,t){r(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function g(e){r(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function m(e,t){var n=s(e);r("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}t.isEquals=f.update.isEquals,t.extend=f.extend,t.default=f.update,t.default.default=e.exports=l(t.default,t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=e=>r.textInputRule({find:/--$/,replace:null!=e?e:"\u2014"}),o=e=>r.textInputRule({find:/\.\.\.$/,replace:null!=e?e:"\u2026"}),a=e=>r.textInputRule({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:null!=e?e:"\u201c"}),s=e=>r.textInputRule({find:/"$/,replace:null!=e?e:"\u201d"}),l=e=>r.textInputRule({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:null!=e?e:"\u2018"}),c=e=>r.textInputRule({find:/'$/,replace:null!=e?e:"\u2019"}),A=e=>r.textInputRule({find:/<-$/,replace:null!=e?e:"\u2190"}),u=e=>r.textInputRule({find:/->$/,replace:null!=e?e:"\u2192"}),d=e=>r.textInputRule({find:/\(c\)$/,replace:null!=e?e:"\xa9"}),f=e=>r.textInputRule({find:/\(tm\)$/,replace:null!=e?e:"\u2122"}),p=e=>r.textInputRule({find:/\(sm\)$/,replace:null!=e?e:"\u2120"}),h=e=>r.textInputRule({find:/\(r\)$/,replace:null!=e?e:"\xae"}),g=e=>r.textInputRule({find:/(?:^|\s)(1\/2)\s$/,replace:null!=e?e:"\xbd"}),m=e=>r.textInputRule({find:/\+\/-$/,replace:null!=e?e:"\xb1"}),v=e=>r.textInputRule({find:/!=$/,replace:null!=e?e:"\u2260"}),y=e=>r.textInputRule({find:/<<$/,replace:null!=e?e:"\xab"}),b=e=>r.textInputRule({find:/>>$/,replace:null!=e?e:"\xbb"}),w=e=>r.textInputRule({find:/\d+\s?([*x])\s?\d+$/,replace:null!=e?e:"\xd7"}),B=e=>r.textInputRule({find:/\^2$/,replace:null!=e?e:"\xb2"}),x=e=>r.textInputRule({find:/\^3$/,replace:null!=e?e:"\xb3"}),C=e=>r.textInputRule({find:/(?:^|\s)(1\/4)\s$/,replace:null!=e?e:"\xbc"}),S=e=>r.textInputRule({find:/(?:^|\s)(3\/4)\s$/,replace:null!=e?e:"\xbe"}),k=r.Extension.create({name:"typography",addInputRules(){const e=[];return!1!==this.options.emDash&&e.push(i(this.options.emDash)),!1!==this.options.ellipsis&&e.push(o(this.options.ellipsis)),!1!==this.options.openDoubleQuote&&e.push(a(this.options.openDoubleQuote)),!1!==this.options.closeDoubleQuote&&e.push(s(this.options.closeDoubleQuote)),!1!==this.options.openSingleQuote&&e.push(l(this.options.openSingleQuote)),!1!==this.options.closeSingleQuote&&e.push(c(this.options.closeSingleQuote)),!1!==this.options.leftArrow&&e.push(A(this.options.leftArrow)),!1!==this.options.rightArrow&&e.push(u(this.options.rightArrow)),!1!==this.options.copyright&&e.push(d(this.options.copyright)),!1!==this.options.trademark&&e.push(f(this.options.trademark)),!1!==this.options.servicemark&&e.push(p(this.options.servicemark)),!1!==this.options.registeredTrademark&&e.push(h(this.options.registeredTrademark)),!1!==this.options.oneHalf&&e.push(g(this.options.oneHalf)),!1!==this.options.plusMinus&&e.push(m(this.options.plusMinus)),!1!==this.options.notEqual&&e.push(v(this.options.notEqual)),!1!==this.options.laquo&&e.push(y(this.options.laquo)),!1!==this.options.raquo&&e.push(b(this.options.raquo)),!1!==this.options.multiplication&&e.push(w(this.options.multiplication)),!1!==this.options.superscriptTwo&&e.push(B(this.options.superscriptTwo)),!1!==this.options.superscriptThree&&e.push(x(this.options.superscriptThree)),!1!==this.options.oneQuarter&&e.push(C(this.options.oneQuarter)),!1!==this.options.threeQuarters&&e.push(S(this.options.threeQuarters)),e}});t.Typography=k,t.closeDoubleQuote=s,t.closeSingleQuote=c,t.copyright=d,t.default=k,t.ellipsis=o,t.emDash=i,t.laquo=y,t.leftArrow=A,t.multiplication=w,t.notEqual=v,t.oneHalf=g,t.oneQuarter=C,t.openDoubleQuote=a,t.openSingleQuote=l,t.plusMinus=m,t.raquo=b,t.registeredTrademark=h,t.rightArrow=u,t.servicemark=p,t.superscriptThree=x,t.superscriptTwo=B,t.threeQuarters=S,t.trademark=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,o=r.Node.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",r.mergeAttributes(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[r.nodeInputRule({find:i,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}});t.Image=o,t.default=o,t.inputRegex=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(4),c=n(77),A=n(5);class u extends o.a.Component{constructor(e){super(e)}render(){return o.a.createElement(A.a,{innerRef:this.props.spacePickerButtonRef,type:"tertiary",size:"small",icon:"plus",iconColor:"prime1",onClick:e=>{var t,n;null===(n=(t=this.props).onEditBtnClick)||void 0===n||n.call(t,e)},height:"24px",width:this.props.hasNoLists||!0===this.props.newLineOrientation?"fit-content":"24px",label:(this.props.hasNoLists||!0===this.props.newLineOrientation)&&o.a.createElement(o.a.Fragment,null,"Spaces"),padding:this.props.hasNoLists||!0===this.props.newLineOrientation?"2px 4px 2px 0px":"initial"})}}function d(e){var{lists:t,onListClick:n,onEditBtnClick:i,renderSpacePicker:a,filteredbyListID:s,tabIndex:A,newLineOrientation:d,spacePickerButtonRef:v,removeSpaceForAnnotation:b}=e,w=Object(r.__rest)(e,["lists","onListClick","onEditBtnClick","renderSpacePicker","filteredbyListID","tabIndex","newLineOrientation","spacePickerButtonRef","removeSpaceForAnnotation"]);return o.a.createElement(g,Object.assign({padding:c.padding.toString()},w),o.a.createElement(m,{newLineOrientation:!0===d},o.a.createElement(h,null,t.slice(0).map((e=>{var t;return o.a.createElement(y,{key:e.localId,onClick:t=>{t.stopPropagation(),n(e.localId)},isLoading:null==e.name&&null!=e,title:"string"==typeof e.name?e.name:"",spaceId:null!==(t=e.localId)&&void 0!==t?t:null}," ","page-link"===e.type&&o.a.createElement(l.a,{heightAndWidth:"16px",hoverOff:!0,icon:"link",color:"greyScale5"}),"rss-feed"===e.type&&o.a.createElement(l.a,{heightAndWidth:"16px",hoverOff:!0,icon:"feed",color:"greyScale5"}),e.isShared&&"page-link"!==e.type&&o.a.createElement(l.a,{heightAndWidth:"16px",hoverOff:!0,icon:"peopleFine",color:"greyScale5"}),o.a.createElement(p,null,e.name),o.a.createElement(f,{onClick:t=>{t.stopPropagation(),b(e.localId)}},o.a.createElement(l.a,{icon:"removeX",heightAndWidth:"16px",color:"greyScale6",hoverOff:!0,background:"greyScale3"})))})),a&&o.a.createElement(u,{hasNoLists:0===t.length,onEditBtnClick:i,renderSpacePicker:()=>a(this.props.spacePickerButtonRef),tabIndex:A,newLineOrientation:d,spacePickerButtonRef:v}))))}const f=s.a.div`
    position: absolute;
    right: 2px;
    display: none;
    border-radius: 0 4px 4px 0;
    overflow: hidden;

    & * {
        cursor: pointer;
    }
`,p=s.a.div`
    text-overflow: ellipsis;
    overflow: hidden;
`,h=s.a.div`
    width: fill-available;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
`,g=s.a.div`
    display: flex;
    grid-gap: 10px;
    align-items: flex-start;
    justify-content: flex-start;
    padding: ${e=>e.padding?e.padding:"0px 10px 5px 10px"};
    min-height: 24px;
    height: fit-content;
    grid-auto-flow: column;
    //border-top: 1px solid ${e=>e.theme.colors.greyScale3};
    pointer-events: auto;
    z-index: 1000;
    width: fill-available;
`,m=s.a.div`
    display: flex;
    align-items: ${e=>e.newLineOrientation?" flex-start":"center"};
    flex-direction: ${e=>e.newLineOrientation?"column":"row"};
`,v=a.keyframes`
    0% { background-position: -315px 0, 0 0, 0px 190px, 50px 195px;}
    100% { background-position: 315px 0, 0 0, 0 190px, 50px 195px;}
`,y=s.a.div`
    background: ${e=>"light"===e.theme.variant?e.theme.colors.greyScale1:e.theme.colors.greyScale3};
    color: ${e=>e.theme.colors.greyScale6};
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 0.6px;
    height: 20px;
    margin: 2px 4px 2px 0;
    display: flex;
    cursor: ${e=>e.spaceId?"pointer":"default"};
    align-items: center;
    white-space: nowrap;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    text-overflow: ellipsis;
    max-width: 200px;
    position: relative;

    ${e=>e.isLoading&&a.css`
            width: 50px;
            background: linear-gradient(
                    0.25turn,
                    transparent,
                    ${e=>e.theme.colors.greyScale3},
                    transparent
                ),
                linear-gradient(
                    ${e=>e.theme.colors.greyScale2},
                    ${e=>e.theme.colors.greyScale2}
                ),
                radial-gradient(
                    38px circle at 19px 19px,
                    ${e=>e.theme.colors.greyScale2}50,
                    transparent 51%
                ),
                linear-gradient(
                    ${e=>e.theme.colors.greyScale2},
                    ${e=>e.theme.colors.greyScale2}
                );
            background-repeat: no-repeat;
            background-size: 315px 250px, 315px 180px, 100px 100px, 225px 30px;
            background-position: -315px 0, 0 0, 0px 190px, 50px 195px;
            animation: ${v} 1.5s infinite;
        `};

    &:hover ${f} {
        display: flex;
    }
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(17),i=n(2),o=n(39);const a=(e,t,n)=>{let r=!1,a=null,l=null,c=null;return new o.Plugin({props:{handlePaste(r,o){var a;const l=Array.from((null===(a=o.clipboardData)||void 0===a?void 0:a.items)||[]),{schema:c}=r.state;return o.preventDefault(),l.forEach((a=>Object(i.__awaiter)(this,void 0,void 0,(function*(){const i=a.getAsFile();if(0===a.type.indexOf("image")&&(o.preventDefault(),i)){const o=yield s(i),a=yield e(),l=c.nodes.image.create({src:o,remoteid:a,draggable:!0}),A=r.state.tr.replaceSelectionWith(l);r.dispatch(A),n&&(yield t({id:a,image:o}))}})))),!1},handleDOMEvents:{dragstart:(e,t)=>(l=e.state.selection,l instanceof o.NodeSelection&&(c=l.node,a=c.copy(c.attrs)),r=!0,!1),drop(a,l){var c,A,u;const{schema:d}=a.state,f=a.posAtCoords({left:l.clientX,top:l.clientY});if(r)return;l.preventDefault();let p=[];if(null===(A=null===(c=l.dataTransfer)||void 0===c?void 0:c.files)||void 0===A?void 0:A.length)p=Array.from(l.dataTransfer.files).filter((e=>["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"].includes(e.type)));else{const e=null===(u=l.dataTransfer)||void 0===u?void 0:u.getData("text/html"),t=/src\s*=\s*"(.+?)"/.exec(e);t&&t[1]&&p.push(t[1])}return 0===p.length||(r||p.forEach((r=>Object(i.__awaiter)(this,void 0,void 0,(function*(){if("string"==typeof r)try{const e=yield fetch(r);l(yield e.blob())}catch(e){console.error("Error fetching the image",e)}else r instanceof Blob&&l(r);function l(r){return Object(i.__awaiter)(this,void 0,void 0,(function*(){const i=yield s(r),l=yield e(),c=d.nodes.image.create({src:i,remoteid:l}),A=a.state.tr.insert(-1===f.inside?f.pos:f.inside,c);a.dispatch(A),a.focus(),a.dispatch(a.state.tr.setSelection(o.TextSelection.create(a.state.doc,f.pos))),n&&(yield t({id:l,image:i}))}))}})))),r=!1),!1}}}})};function s(e){return Object(i.__awaiter)(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=function(){t(r.result)},r.onerror=function(e){n(e)},r.readAsDataURL(e)}))}))}const l=/!\[(.+|:?)\]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,c=(e,t,n,i)=>r.Node.create({name:"image",inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},remoteid:{default:null}}),parseHTML:()=>[{tag:"img[src]",getAttrs:e=>{if("string"==typeof e)return{};const t=e;return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt"),remoteid:t.getAttribute("remoteid")}}}],renderHTML:({node:e,HTMLAttributes:t})=>["img",Object.assign(Object.assign({},t),{remoteid:e.attrs.remoteid})],addCommands(){return{setImage:e=>({state:n,dispatch:r,editor:i})=>{const{selection:o,doc:a}=n;let s=o.$head?o.$head.pos:o.$to.pos;0===i.getCharacterCount()?(i.commands.clearNodes(),s=0):s>1&&(s-=1);const l=this.type.create(e),c=n.tr.insert(s,l);return t({id:e.remoteid,image:e.src}),null==r?void 0:r(c)}}},addInputRules(){return[Object(r.nodeInputRule)({find:l,type:this.type,getAttributes:e=>{const[,t,n,r,i]=e;return{src:n,alt:t,title:r,remoteid:i}}})]},addProseMirrorPlugins:()=>[a(e,t,n)],addNodeView:()=>({node:e,getPos:t,editor:n})=>{const r=document.createElement("img");return r.setAttribute("src",e.attrs.src),r.setAttribute("alt",e.attrs.alt),r.setAttribute("title",e.attrs.title),r.setAttribute("remoteid",e.attrs.remoteid),r.addEventListener("click",(()=>{i(e.attrs.src)})),{dom:r}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(242),o=n(163),a=n(510);const s=(e,t)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var n,r,s,l,c,A;const u=[];let d=!1,f=0,p=0;const h=yield e.getMetadata(),g=yield e.getDownloadInfo(),m=e.numPages;let v="";for(null==(null===(n=null==h?void 0:h.metadata)||void 0===n?void 0:n.getAll().Title)&&(v=yield Object(a.a)(e)),f=0;f<m;++f){const t=yield e.getPage(f+1),n=(yield t.getTextContent()).items.map((e=>e.str)).join(" ");if(p+=n.length,p>o.c){d=!0;break}u.push(n)}const{text:y}=Object(i.c)(u.join(" "),{});return{pdfMetadata:{memexTotalPages:e.numPages,memexIncludedPages:f,memexDocumentBytes:null!==(r=null==g?void 0:g.length)&&void 0!==r?r:null,memexOutline:null!==(s=yield e.getOutline())&&void 0!==s?s:null,documentInformationDict:null!==(l=null==h?void 0:h.info)&&void 0!==l?l:null,metadataMap:null!==(A=null===(c=null==h?void 0:h.metadata)||void 0===c?void 0:c.getAll())&&void 0!==A?A:null,fingerprints:e.fingerprints?e.fingerprints:[e.fingerprint]},pdfPageTexts:u,fullText:t?u.join(" "):y,author:h.info.Author,title:h.info.Title||v,keywords:h.info.Keywords}}))},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="/images/upload",i="/images/get"},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=(r=n(608))&&"object"==typeof r&&"default"in r?r.default:r,a=n(614),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},s(e,t)};var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};var c=o,A={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},u=function(e){function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.refDraggable=function(e){e&&(n.draggable=e)},n.refResizable=function(e){e&&(n.resizable=e,n.resizableElement.current=e.resizable)},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-t,y:o-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,i=this.getParent(),o=this.props.scale;if("parent"===this.props.bounds)r=i;else{if("body"===this.props.bounds){var a=i.getBoundingClientRect(),s=a.left,l=a.top,c=document.body.getBoundingClientRect(),A=-(s-i.offsetLeft*o-c.left)/o,u=-(l-i.offsetTop*o-c.top)/o,d=(document.body.offsetWidth-this.resizable.size.width*o)/o+A,f=(document.body.offsetHeight-this.resizable.size.height*o)/o+u;return this.setState({bounds:{top:u,right:d,bottom:f,left:A}})}if("window"===this.props.bounds){if(!this.resizable)return;var p=i.getBoundingClientRect(),h=p.left,g=p.top,m=-(h-i.offsetLeft*o)/o,v=-(g-i.offsetTop*o)/o;d=(window.innerWidth-this.resizable.size.width*o)/o+m,f=(window.innerHeight-this.resizable.size.height*o)/o+v;return this.setState({bounds:{top:v,right:d,bottom:f,left:m}})}r=document.querySelector(this.props.bounds)}if(r instanceof HTMLElement&&i instanceof HTMLElement){var y=r.getBoundingClientRect(),b=y.left,w=y.top,B=i.getBoundingClientRect(),x=(b-B.left)/o,C=w-B.top;if(this.resizable){this.updateOffsetFromParent();var S=this.offsetFromParent;this.setState({bounds:{top:C-S.top,right:x+(r.offsetWidth-this.resizable.size.width)-S.left/o,bottom:C+(r.offsetHeight-this.resizable.size.height)-S.top,left:x-S.left/o}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,l(l({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,l(l({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDrag(e,l(l({},t),{x:t.x-r,y:t.y-i}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,l(l({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,l(l({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDragStop(e,l(l({},t),{x:t.x+r,y:t.y+i}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+i.left,y:o.y+i.top},this.originalPosition=o,this.props.bounds){var a=this.getParent(),s=void 0;s="parent"===this.props.bounds?a:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(s instanceof HTMLElement||s===window)&&a instanceof HTMLElement){var c=this.getMaxSizesFromProps(),A=c.maxWidth,u=c.maxHeight,d=this.getParentSize();if(A&&"string"==typeof A)if(A.endsWith("%")){var f=Number(A.replace("%",""))/100;A=d.width*f}else A.endsWith("px")&&(A=Number(A.replace("px","")));if(u&&"string"==typeof u)if(u.endsWith("%")){f=Number(u.replace("%",""))/100;u=d.width*f}else u.endsWith("px")&&(u=Number(u.replace("px","")));var p=l.getBoundingClientRect(),h=p.left,g=p.top,m="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),v=m.left,y=m.top,b=this.getOffsetWidth(s),w=this.getOffsetHeight(s),B=t.toLowerCase().endsWith("left"),x=t.toLowerCase().endsWith("right"),C=t.startsWith("top"),S=t.startsWith("bottom");if((B||C)&&this.resizable){var k=(h-v)/r+this.resizable.size.width;this.setState({maxWidth:k>Number(A)?A:k})}if(x||this.props.lockAspectRatio&&!B&&!C){k=b+(v-h)/r;this.setState({maxWidth:k>Number(A)?A:k})}if((C||B)&&this.resizable){k=(g-y)/r+this.resizable.size.height;this.setState({maxHeight:k>Number(u)?u:k})}if(S||this.props.lockAspectRatio&&!C&&!B){k=w+(y-g)/r;this.setState({maxHeight:k>Number(u)?u:k})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var i={x:this.originalPosition.x,y:this.originalPosition.y},o=-r.width,a=-r.height;-1!==["top","left","topLeft","bottomLeft","topRight"].indexOf(t)&&("bottomLeft"===t?i.x+=o:("topRight"===t||(i.x+=o),i.y+=a)),i.x===this.draggable.state.x&&i.y===this.draggable.state.y||this.draggable.setState(i),this.updateOffsetFromParent();var s=this.offsetFromParent,l=this.getDraggablePosition().x+s.left,c=this.getDraggablePosition().y+s.top;this.resizingPosition={x:l,y:c},this.props.onResize&&this.props.onResize(e,t,n,r,{x:l,y:c})},t.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,o=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition(),l=t.scrollLeft,c=t.scrollTop;this.offsetFromParent={left:a.left-i+l-s.x*e,top:a.top-o+c-s.y*e}},t.prototype.render=function(){var e=this.props,t=e.disableDragging,n=e.style,r=e.dragHandleClassName,o=e.position,s=e.onMouseDown,u=e.onMouseUp,d=e.dragAxis,f=e.dragGrid,p=e.bounds,h=e.enableUserSelectHack,g=e.cancel,m=e.children,v=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),y=e.resizeHandleClasses,b=e.resizeHandleComponent,w=e.enableResizing,B=e.resizeGrid,x=e.resizeHandleWrapperClass,C=e.resizeHandleWrapperStyle,S=e.scale,k=e.allowAnyClick,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),I=this.props.default?l({},this.props.default):void 0;delete E.default;var O,F=t||r?{cursor:"auto"}:{cursor:"move"},D=l(l(l({},A),F),n),_=this.offsetFromParent,T=_.left,U=_.top;o&&(O={x:o.x-T,y:o.y-U});var M,L=this.state.resizing?void 0:O,Q=this.state.resizing?"both":d;return i.createElement(c,{ref:this.refDraggable,handle:r?"."+r:void 0,defaultPosition:I,onMouseDown:s,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:Q,disabled:t,grid:f,bounds:p?this.state.bounds:void 0,position:L,enableUserSelectHack:h,cancel:g,scale:S,allowAnyClick:k,nodeRef:this.resizableElement},i.createElement(a.Resizable,l({},E,{ref:this.refResizable,defaultSize:I,size:this.props.size,enable:"boolean"==typeof w?(M=w,{bottom:M,bottomLeft:M,bottomRight:M,left:M,right:M,top:M,topLeft:M,topRight:M}):w,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:D,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:B,handleWrapperClass:x,handleWrapperStyle:C,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:v,handleClasses:y,handleComponent:b,scale:this.props.scale}),m))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(i.PureComponent);t.Rnd=u},function(e,t,n){"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,"a",(function(){return r}))},,,function(e,t,n){var r=n(268),i=n(266),o=n(126);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(151),i=n(234);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var A=(c=n[a])[0],u=e[A],d=c[1];if(l&&c[2]){if(void 0===u&&!(A in e))return!1}else{var f=new r;if(o)var p=o(u,d,A,e,t,f);if(!(void 0===p?i(d,u,3,o,f):p))return!1}}return!0}},function(e,t,n){var r=n(271),i=n(116);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(286),i=n(116);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],i=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,t)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=t.call(this,o,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,o,a)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},function(e,t,n){(function(e,r){var i;!function(){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,l=36,c=/^xn--/,A=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function h(e){throw new RangeError(d[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(u,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=l)e=f(e/35);return f(r+36*e/(e+38))}function B(e){var t,n,r,i,o,a,c,A,u,d,p,g=[],m=e.length,v=0,b=128,B=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&h("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=v,a=1,c=l;i>=m&&h("invalid-input"),((A=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:l)>=l||A>f((s-v)/a))&&h("overflow"),v+=A*a,!(A<(u=c<=B?1:c>=B+26?26:c-B));c+=l)a>f(s/(d=l-u))&&h("overflow"),a*=d;B=w(v-o,t=g.length+1,0==o),f(v/t)>s-b&&h("overflow"),b+=f(v/t),v%=t,g.splice(v++,0,b)}return y(g)}function x(e){var t,n,r,i,o,a,c,A,u,d,g,m,y,B,x,C=[];for(m=(e=v(e)).length,t=128,n=0,o=72,a=0;a<m;++a)(g=e[a])<128&&C.push(p(g));for(r=i=C.length,i&&C.push("-");r<m;){for(c=s,a=0;a<m;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>f((s-n)/(y=r+1))&&h("overflow"),n+=(c-t)*y,t=c,a=0;a<m;++a)if((g=e[a])<t&&++n>s&&h("overflow"),g==t){for(A=n,u=l;!(A<(d=u<=o?1:u>=o+26?26:u-o));u+=l)x=A-d,B=l-d,C.push(p(b(d+x%B,0))),A=f(x/B);C.push(p(b(A,0))),o=w(n,y,r==i),n=0,++r}++n,++t}return C.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:y},decode:B,encode:x,toASCII:function(e){return m(e,(function(e){return A.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return m(e,(function(e){return c.test(e)?B(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(111)(e),n(61))},,,function(e,t,n){(function(t){var r=n(571),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),e.exports=a,e.exports.Client=r}).call(this,n(61))},function(e,t,n){"use strict";var r=function(e){return e},i=function(){},o=function(){return!0};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breadcrumbDataFromAction,a=void 0===n?i:n,s=t.actionTransformer,l=void 0===s?r:s,c=t.stateTransformer,A=void 0===c?r:c,u=t.breadcrumbCategory,d=void 0===u?"redux-action":u,f=t.filterBreadcrumbActions,p=void 0===f?o:f,h=t.getUserContext,g=t.getTags;return function(t){var n=void 0;return e.setDataCallback((function(e,r){var i=t.getState(),o={lastAction:l(n),state:A(i)};return e.extra=Object.assign(o,e.extra),h&&(e.user=h(i)),g&&(e.tags=g(i)),r?r(e):e})),function(t){return function(r){return p(r)&&e.captureBreadcrumb({category:d,message:r.type,data:a(r)}),n=r,t(r)}}}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="@InPageUI-ribbon_blacklist"},,,function(e,t){e.exports=function(){}},function(e,t,n){var r=n(223),i=n(274),o=n(174);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r=n(125),i=n(134),o=n(138),a=n(48);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},,,,,,,,function(e,t,n){var r=n(463),i=n(464);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(183),i=n(469);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var A=t[l];n>0&&o(A)?n>1?e(A,n-1,o,a,s):r(s,A):a||(s[s.length]=A)}return s}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";const r=n(718),i=n(719);e.exports=e=>{const t=`(?:${"(?:(?:[a-z]+:)?//)"+((e=Object.assign({strict:!0},e)).strict?"":"?")}|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|${r.v4().source}|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*${`(?:\\.${e.strict?"(?:[a-z\\u00a1-\\uffff]{2,})":`(?:${i.sort(((e,t)=>t.length-e.length)).join("|")})`})\\.?`})(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return e.exact?new RegExp(`(?:^${t}$)`,"i"):new RegExp(t,"ig")}},,,function(e,t,n){(function(e){("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.20.14"}}).call(this,n(61))},function(e,t,n){var r=n(364),i=n(164),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}e.exports=function e(t,n,c,A){var u="function"==typeof n,d=n===Object(n);if(d&&(A=c,c=n,n=void 0),null==c)throw new TypeError;A||(A={});var f=!("cap"in A)||A.cap,p=!("curry"in A)||A.curry,h=!("fixed"in A)||A.fixed,g=!("immutable"in A)||A.immutable,m=!("rearg"in A)||A.rearg,v=u?c:i,y="curry"in A&&A.curry,b="fixed"in A&&A.fixed,w="rearg"in A&&A.rearg,B=u?c.runInContext():void 0,x=u?c:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},C=x.ary,S=x.assign,k=x.clone,E=x.curry,I=x.forEach,O=x.isArray,F=x.isError,D=x.isFunction,_=x.isWeakMap,T=x.keys,U=x.rearg,M=x.toInteger,L=x.toPath,Q=T(r.aryMethod),R={castArray:function(e){return function(){var t=arguments[0];return O(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return f&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!D(n))return e(n,Object(t));var r=[];return I(T(t),(function(e){D(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),I(r,(function(e){var t=e[1];D(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:M(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),A)}}};function P(e,t){if(f){var n=r.iterateeRearg[e];if(n)return function(e,t){return K(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(U(a(e,n),t),n)}))}(t,n);var i=!u&&r.iterateeAry[e];if(i)return function(e,t){return K(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,i)}return t}function H(e,t,n){if(h&&(b||!r.skipFixed[e])){var i=r.methodSpread[e],a=i&&i.start;return void 0===a?C(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var a=i[t],s=i.slice(0,t);return a&&o.apply(s,a),t!=r&&o.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function N(e,t,n){return m&&n>1&&(w||!r.skipRearg[e])?U(t,r.methodRearg[e]||r.aryRearg[n]):t}function j(e,t){for(var n=-1,r=(t=L(t)).length,i=r-1,o=k(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],l=a[s];null==l||D(l)||F(l)||_(l)||(a[s]=k(n==i?l:Object(l))),a=a[s]}return o}function z(t,n){var i=r.aliasToReal[t]||t,o=r.remap[i]||i,a=A;return function(t){var r=u?B:x,s=u?B[o]:n,l=S(S({},a),t);return e(r,i,s,l)}}function K(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=m?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function $(e,t,n){var i,o=r.aliasToReal[e]||e,a=t,c=R[o];return c?a=c(t):g&&(r.mutate.array[o]?a=l(t,s):r.mutate.object[o]?a=l(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[o]&&(a=l(t,j))),I(Q,(function(e){return I(r.aryMethod[e],(function(t){if(o==t){var n=r.methodSpread[o],s=n&&n.afterRearg;return i=s?H(o,N(o,a,e),e):N(o,H(o,a,e),e),i=function(e,t,n){return y||p&&n>1?E(t,n):t}(0,i=P(o,i),e),!1}})),!i})),i||(i=a),i==t&&(i=y?E(i,1):function(){return t.apply(this,arguments)}),i.convert=z(o,t),i.placeholder=t.placeholder=n,i}if(!d)return $(n,c,v);var W=c,V=[];return I(Q,(function(e){I(r.aryMethod[e],(function(e){var t=W[r.remap[e]||e];t&&V.push([e,$(e,t,W)])}))})),I(T(W),(function(e){var t=W[e];if("function"==typeof t){for(var n=V.length;n--;)if(V[n][0]==e)return;t.convert=z(e,t),V.push([e,t])}})),I(V,(function(e){W[e[0]]=e[1]})),W.convert=function(e){return W.runInContext.convert(e)(void 0)},W.placeholder=W,I(T(W),(function(e){I(r.realToAlias[e]||[],(function(t){W[t]=W[e]}))})),W}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(366),assign:n(261),clone:n(402),curry:n(443),forEach:n(175),isArray:n(41),isError:n(444),isFunction:n(148),isWeakMap:n(445),iteratee:n(446),keys:n(263),rearg:n(468),toInteger:n(236),toPath:n(470)}},function(e,t,n){var r=n(170);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var r=n(148),i=n(370),o=n(48),a=n(249),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,A=l.toString,u=c.hasOwnProperty,d=RegExp("^"+A.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},function(e,t,n){var r=n(96),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(371),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(40)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(141),i=n(40);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){return(this&&this!==i&&this instanceof t?a:e).apply(o?n:this,arguments)}}},function(e,t,n){var r=n(171),i=n(141),o=n(250),a=n(253),s=n(260),l=n(176),c=n(40);e.exports=function(e,t,n){var A=i(e);return function i(){for(var u=arguments.length,d=Array(u),f=u,p=s(i);f--;)d[f]=arguments[f];var h=u<3&&d[0]!==p&&d[u-1]!==p?[]:l(d,p);return(u-=h.length)<n?a(e,t,o,i.placeholder,void 0,d,h,void 0,void 0,n-u):r(this&&this!==c&&this instanceof i?A:e,this,d)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(172),i=n(254),o=n(377),a=n(379);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},function(e,t,n){var r=n(378),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(172),i=n(255),o=n(173),a=n(41),s=n(50),l=n(380),c=Object.prototype.hasOwnProperty;function A(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(c.call(e,"__wrapped__"))return l(e)}return new i(e)}A.prototype=o.prototype,A.prototype.constructor=A,e.exports=A},function(e,t,n){var r=n(172),i=n(255),o=n(124);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(384),i=n(259),o=n(140),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(175),i=n(386),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(387);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(388),i=n(389),o=n(390);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(124),i=n(138),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var l=t[a];e[a]=i(l,n)?s[l]:void 0}return e}},function(e,t,n){var r=n(171),i=n(141),o=n(40);e.exports=function(e,t,n,a){var s=1&t,l=i(e);return function t(){for(var i=-1,c=arguments.length,A=-1,u=a.length,d=Array(u+c),f=this&&this!==o&&this instanceof t?l:e;++A<u;)d[A]=a[A];for(;c--;)d[A++]=arguments[++i];return r(f,s?n:this,d)}}},function(e,t,n){var r=n(251),i=n(252),o=n(176),a="__lodash_placeholder__",s=128,l=Math.min;e.exports=function(e,t){var n=e[1],c=t[1],A=n|c,u=A<131,d=c==s&&8==n||c==s&&256==n&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==n;if(!u&&!d)return e;1&c&&(e[2]=t[2],A|=1&n?0:4);var f=t[3];if(f){var p=e[3];e[3]=p?r(p,f,t[4]):f,e[4]=p?o(e[3],a):t[4]}return(f=t[5])&&(p=e[5],e[5]=p?i(p,f,t[6]):f,e[6]=p?o(e[5],a):t[6]),(f=t[7])&&(e[7]=f),c&s&&(e[8]=null==e[8]?t[8]:l(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=A,e}},function(e,t,n){var r=n(289),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(396),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(88),i=n(50);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(88),i=n(177),o=n(50),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(264)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(233);e.exports=function(e){return r(e,4)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(144),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(144);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(144);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(144);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(143);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(143),i=n(180),o=n(181);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(414),i=n(143),o=n(180);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(415),i=n(416),o=n(417),a=n(418),s=n(419);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(145);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(145),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(145),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(145);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(146);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(146);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(146);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(146);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(118),i=n(126);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(48),i=n(179),o=n(427),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(118),i=n(182);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(118),i=n(266);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(87)(n(40),"DataView");e.exports=r},function(e,t,n){var r=n(87)(n(40),"Promise");e.exports=r},function(e,t,n){var r=n(87)(n(40),"Set");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(185),i=n(436),o=n(437),a=n(438),s=n(284);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(185);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(96),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(440),i=n(168),o=n(178),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(119),i=n(50);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(442),i=n(168),o=n(178),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(119),i=n(50);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(170);function i(e,t,n){var o=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=i.placeholder,o}i.placeholder={},e.exports=i},function(e,t,n){var r=n(88),i=n(50),o=n(212);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t,n){var r=n(119),i=n(50);e.exports=function(e){return i(e)&&"[object WeakMap]"==r(e)}},function(e,t,n){var r=n(233),i=n(193);e.exports=function(e){return i("function"==typeof e?e:r(e,1))}},function(e,t,n){var r=n(330),i=n(331),o=n(272);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(151),i=n(270),o=n(454),a=n(457),s=n(119),l=n(41),c=n(150),A=n(190),u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,g,m){var v=l(e),y=l(t),b=v?d:s(e),w=y?d:s(t),B=(b=b==u?f:b)==f,x=(w=w==u?f:w)==f,C=b==w;if(C&&c(e)){if(!c(t))return!1;v=!0,B=!1}if(C&&!B)return m||(m=new r),v||A(e)?i(e,t,n,h,g,m):o(e,t,b,n,h,g,m);if(!(1&n)){var S=B&&p.call(e,"__wrapped__"),k=x&&p.call(t,"__wrapped__");if(S||k){var E=S?e.value():e,I=k?t.value():t;return m||(m=new r),g(E,I,n,h,m)}}return!!C&&(m||(m=new r),a(e,t,n,h,g,m))}},function(e,t,n){var r=n(181),i=n(450),o=n(451);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(96),i=n(269),o=n(125),a=n(270),s=n(455),l=n(456),c=r?r.prototype:void 0,A=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var h=d.get(e);if(h)return h==t;r|=2,d.set(e,t);var g=a(f(e),f(t),r,c,u,d);return d.delete(e),g;case"[object Symbol]":if(A)return A.call(e)==A.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(267),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),A=c.length;if(A!=r(t).length&&!l)return!1;for(var u=A;u--;){var d=c[u];if(!(l?d in t:i.call(t,d)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var h=!0;s.set(e,t),s.set(t,e);for(var g=l;++u<A;){var m=e[d=c[u]],v=t[d];if(o)var y=l?o(v,m,d,t,e,s):o(m,v,d,e,t,s);if(!(void 0===y?m===v||a(m,v,n,o,s):y)){h=!1;break}g||(g="constructor"==d)}if(h&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return s.delete(e),s.delete(t),h}},function(e,t,n){var r=n(234),i=n(459),o=n(355),a=n(186),s=n(271),l=n(272),c=n(109);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(213);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(461);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(181);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(96),i=n(214),o=n(41),a=n(115),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(198),i=n(149),o=n(41),a=n(138),s=n(177),l=n(109);e.exports=function(e,t,n){for(var c=-1,A=(t=r(t,e)).length,u=!1;++c<A;){var d=l(t[c]);if(!(u=null!=e&&n(e,d)))break;e=e[d]}return u||++c!=A?u:!!(A=null==e?0:e.length)&&s(A)&&a(d,A)&&(o(e)||i(e))}},function(e,t,n){var r=n(466),i=n(467),o=n(186),a=n(109);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(213);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(170),i=n(346),o=i((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=o},function(e,t,n){var r=n(96),i=n(149),o=n(41),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(214),i=n(124),o=n(41),a=n(115),s=n(273),l=n(109),c=n(203);e.exports=function(e){return o(e)?r(e,l):a(e)?[e]:i(s(c(e)))}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},function(e,t,n){var r=n(140),i=n(274),o=n(174);e.exports=function(e,t){return o(i(e,t,r),e+"")}},,function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(476),t.encode=t.stringify=n(477)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var A=0;A<c;++A){var u,d,f,p,h=e[A].replace(s,"%20"),g=h.indexOf(n);g>=0?(u=h.substr(0,g),d=h.substr(g+1)):(u=h,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),r(a,f)?i(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){e.exports=n(610)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=o(e);if("string"==typeof a){var l,c=s.ownerDocument,A=c.defaultView;if(!((l="parent"===a?s.parentNode:c.querySelector(a))instanceof A.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var u=A.getComputedStyle(s),d=A.getComputedStyle(l);a={left:-s.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(u.marginLeft),top:-s.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(u.marginTop),right:(0,i.innerWidth)(l)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(u.marginRight),bottom:(0,i.innerHeight)(l)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(u.marginBottom)}}(0,r.isNum)(a.right)&&(t=Math.min(t,a.right));(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom));(0,r.isNum)(a.left)&&(t=Math.max(t,a.left));(0,r.isNum)(a.top)&&(n=Math.max(n,a.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.createCoreData=function(e,t,n){var i=e.state,a=!(0,r.isNum)(i.lastX),s=o(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n(221),i=n(302);function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(222);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(646),i="tippy-content",o="tippy-backdrop",a="tippy-arrow",s="tippy-svg-arrow",l={passive:!0,capture:!0},c=function(){return document.body};function A(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function u(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function d(e,t){return"function"==typeof e?e.apply(void 0,t):e}function f(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function p(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function h(e){return[].concat(e)}function g(e,t){-1===e.indexOf(t)&&e.push(t)}function m(e){return e.split("-")[0]}function v(e){return[].slice.call(e)}function y(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function b(){return document.createElement("div")}function w(e){return["Element","Fragment"].some((function(t){return u(e,t)}))}function B(e){return u(e,"MouseEvent")}function x(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function C(e){return w(e)?[e]:function(e){return u(e,"NodeList")}(e)?v(e):Array.isArray(e)?e:v(document.querySelectorAll(e))}function S(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function k(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function E(e){var t,n=h(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function I(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function O(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var F={isTouch:!1},D=0;function _(){F.isTouch||(F.isTouch=!0,window.performance&&document.addEventListener("mousemove",T))}function T(){var e=performance.now();e-D<20&&(F.isTouch=!1,document.removeEventListener("mousemove",T)),D=e}function U(){var e=document.activeElement;if(x(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var M=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var L={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Q=Object.assign({appendTo:c,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},L,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),R=Object.keys(Q);function P(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,o=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=Q[i])?r:o);return t}),{});return Object.assign({},e,t)}function H(e,t){var n=Object.assign({},t,{content:d(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(P(Object.assign({},Q,{plugins:t}))):R).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Q.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function N(e,t){e.innerHTML=t}function j(e){var t=b();return!0===e?t.className=a:(t.className=s,w(e)?t.appendChild(e):N(t,e)),t}function z(e,t){w(t.content)?(N(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?N(e,t.content):e.textContent=t.content)}function K(e){var t=e.firstElementChild,n=v(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(i)})),arrow:n.find((function(e){return e.classList.contains(a)||e.classList.contains(s)})),backdrop:n.find((function(e){return e.classList.contains(o)}))}}function $(e){var t=b(),n=b();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=b();function o(n,r){var i=K(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||z(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(j(r.arrow))):o.appendChild(j(r.arrow)):s&&o.removeChild(s)}return r.className=i,r.setAttribute("data-state","hidden"),z(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props),{popper:t,onUpdate:o}}$.$$tippy=!0;var W=1,V=[],G=[];function q(e,t){var n,i,o,a,s,u,p,w,x=H(e,Object.assign({},Q,P(y(t)))),C=!1,D=!1,_=!1,T=!1,U=[],L=f(be,x.interactiveDebounce),R=W++,N=(w=x.plugins).filter((function(e,t){return w.indexOf(e)===t})),j={id:R,reference:e,popper:b(),popperInstance:null,props:x,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:N,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)},setProps:function(t){0;if(j.state.isDestroyed)return;ae("onBeforeUpdate",[j,t]),ve();var n=j.props,r=H(e,Object.assign({},n,y(t),{ignoreAttributes:!0}));j.props=r,me(),n.interactiveDebounce!==r.interactiveDebounce&&(ce(),L=f(be,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?h(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");le(),oe(),q&&q(n,r);j.popperInstance&&(Ce(),ke().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));ae("onAfterUpdate",[j,t])},setContent:function(e){j.setProps({content:e})},show:function(){0;var e=j.state.isVisible,t=j.state.isDestroyed,n=!j.state.isEnabled,r=F.isTouch&&!j.props.touch,i=A(j.props.duration,0,Q.duration);if(e||t||n||r)return;if(te().hasAttribute("disabled"))return;if(ae("onShow",[j],!1),!1===j.props.onShow(j))return;j.state.isVisible=!0,ee()&&($.style.visibility="visible");oe(),fe(),j.state.isMounted||($.style.transition="none");if(ee()){var o=re();S([o.box,o.content],0)}u=function(){var e;if(j.state.isVisible&&!T){if(T=!0,$.offsetHeight,$.style.transition=j.props.moveTransition,ee()&&j.props.animation){var t=re(),n=t.box,r=t.content;S([n,r],i),k([n,r],"visible")}se(),le(),g(G,j),null==(e=j.popperInstance)||e.forceUpdate(),ae("onMount",[j]),j.props.animation&&ee()&&function(e,t){he(e,t)}(i,(function(){j.state.isShown=!0,ae("onShown",[j])}))}},function(){var e,t=j.props.appendTo,n=te();e=j.props.interactive&&t===c||"parent"===t?n.parentNode:d(t,[n]);e.contains($)||e.appendChild($);j.state.isMounted=!0,Ce(),!1}()},hide:function(){0;var e=!j.state.isVisible,t=j.state.isDestroyed,n=!j.state.isEnabled,r=A(j.props.duration,1,Q.duration);if(e||t||n)return;if(ae("onHide",[j],!1),!1===j.props.onHide(j))return;j.state.isVisible=!1,j.state.isShown=!1,T=!1,C=!1,ee()&&($.style.visibility="hidden");if(ce(),pe(),oe(!0),ee()){var i=re(),o=i.box,a=i.content;j.props.animation&&(S([o,a],r),k([o,a],"hidden"))}se(),le(),j.props.animation?ee()&&function(e,t){he(e,(function(){!j.state.isVisible&&$.parentNode&&$.parentNode.contains($)&&t()}))}(r,j.unmount):j.unmount()},hideWithInteractivity:function(e){0;ne().addEventListener("mousemove",L),g(V,L),L(e)},enable:function(){j.state.isEnabled=!0},disable:function(){j.hide(),j.state.isEnabled=!1},unmount:function(){0;j.state.isVisible&&j.hide();if(!j.state.isMounted)return;Se(),ke().forEach((function(e){e._tippy.unmount()})),$.parentNode&&$.parentNode.removeChild($);G=G.filter((function(e){return e!==j})),j.state.isMounted=!1,ae("onHidden",[j])},destroy:function(){0;if(j.state.isDestroyed)return;j.clearDelayTimeouts(),j.unmount(),ve(),delete e._tippy,j.state.isDestroyed=!0,ae("onDestroy",[j])}};if(!x.render)return j;var z=x.render(j),$=z.popper,q=z.onUpdate;$.setAttribute("data-tippy-root",""),$.id="tippy-"+j.id,j.popper=$,e._tippy=j,$._tippy=j;var Y=N.map((function(e){return e.fn(j)})),J=e.hasAttribute("aria-expanded");return me(),le(),oe(),ae("onCreate",[j]),x.showOnCreate&&Ee(),$.addEventListener("mouseenter",(function(){j.props.interactive&&j.state.isVisible&&j.clearDelayTimeouts()})),$.addEventListener("mouseleave",(function(){j.props.interactive&&j.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",L)})),j;function X(){var e=j.props.touch;return Array.isArray(e)?e:[e,0]}function Z(){return"hold"===X()[0]}function ee(){var e;return!(null==(e=j.props.render)||!e.$$tippy)}function te(){return p||e}function ne(){var e=te().parentNode;return e?E(e):document}function re(){return K($)}function ie(e){return j.state.isMounted&&!j.state.isVisible||F.isTouch||a&&"focus"===a.type?0:A(j.props.delay,e?0:1,Q.delay)}function oe(e){void 0===e&&(e=!1),$.style.pointerEvents=j.props.interactive&&!e?"":"none",$.style.zIndex=""+j.props.zIndex}function ae(e,t,n){var r;(void 0===n&&(n=!0),Y.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=j.props)[e].apply(r,t)}function se(){var t=j.props.aria;if(t.content){var n="aria-"+t.content,r=$.id;h(j.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(j.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function le(){!J&&j.props.aria.expanded&&h(j.props.triggerTarget||e).forEach((function(e){j.props.interactive?e.setAttribute("aria-expanded",j.state.isVisible&&e===te()?"true":"false"):e.removeAttribute("aria-expanded")}))}function ce(){ne().removeEventListener("mousemove",L),V=V.filter((function(e){return e!==L}))}function Ae(t){if(!F.isTouch||!_&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!j.props.interactive||!O($,n)){if(h(j.props.triggerTarget||e).some((function(e){return O(e,n)}))){if(F.isTouch)return;if(j.state.isVisible&&j.props.trigger.indexOf("click")>=0)return}else ae("onClickOutside",[j,t]);!0===j.props.hideOnClick&&(j.clearDelayTimeouts(),j.hide(),D=!0,setTimeout((function(){D=!1})),j.state.isMounted||pe())}}}function ue(){_=!0}function de(){_=!1}function fe(){var e=ne();e.addEventListener("mousedown",Ae,!0),e.addEventListener("touchend",Ae,l),e.addEventListener("touchstart",de,l),e.addEventListener("touchmove",ue,l)}function pe(){var e=ne();e.removeEventListener("mousedown",Ae,!0),e.removeEventListener("touchend",Ae,l),e.removeEventListener("touchstart",de,l),e.removeEventListener("touchmove",ue,l)}function he(e,t){var n=re().box;function r(e){e.target===n&&(I(n,"remove",r),t())}if(0===e)return t();I(n,"remove",s),I(n,"add",r),s=r}function ge(t,n,r){void 0===r&&(r=!1),h(j.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),U.push({node:e,eventType:t,handler:n,options:r})}))}function me(){var e;Z()&&(ge("touchstart",ye,{passive:!0}),ge("touchend",we,{passive:!0})),(e=j.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(ge(e,ye),e){case"mouseenter":ge("mouseleave",we);break;case"focus":ge(M?"focusout":"blur",Be);break;case"focusin":ge("focusout",Be)}}))}function ve(){U.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),U=[]}function ye(e){var t,n=!1;if(j.state.isEnabled&&!xe(e)&&!D){var r="focus"===(null==(t=a)?void 0:t.type);a=e,p=e.currentTarget,le(),!j.state.isVisible&&B(e)&&V.forEach((function(t){return t(e)})),"click"===e.type&&(j.props.trigger.indexOf("mouseenter")<0||C)&&!1!==j.props.hideOnClick&&j.state.isVisible?n=!0:Ee(e),"click"===e.type&&(C=!n),n&&!r&&Ie(e)}}function be(e){var t=e.target,n=te().contains(t)||$.contains(t);if("mousemove"!==e.type||!n){var r=ke().concat($).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:x}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,a=m(i.placement),s=i.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,A="right"===a?s.left.x:0,u="left"===a?s.right.x:0,d=t.top-r+l>o,f=r-t.bottom-c>o,p=t.left-n+A>o,h=n-t.right-u>o;return d||f||p||h}))})(r,e)&&(ce(),Ie(e))}}function we(e){xe(e)||j.props.trigger.indexOf("click")>=0&&C||(j.props.interactive?j.hideWithInteractivity(e):Ie(e))}function Be(e){j.props.trigger.indexOf("focusin")<0&&e.target!==te()||j.props.interactive&&e.relatedTarget&&$.contains(e.relatedTarget)||Ie(e)}function xe(e){return!!F.isTouch&&Z()!==e.type.indexOf("touch")>=0}function Ce(){Se();var t=j.props,n=t.popperOptions,i=t.placement,o=t.offset,a=t.getReferenceClientRect,s=t.moveTransition,l=ee()?K($).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||te()}:e,A={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(ee()){var n=re().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},d=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},A];ee()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),j.popperInstance=r.createPopper(c,$,Object.assign({},n,{placement:i,onFirstUpdate:u,modifiers:d}))}function Se(){j.popperInstance&&(j.popperInstance.destroy(),j.popperInstance=null)}function ke(){return v($.querySelectorAll("[data-tippy-root]"))}function Ee(e){j.clearDelayTimeouts(),e&&ae("onTrigger",[j,e]),fe();var t=ie(!0),r=X(),i=r[0],o=r[1];F.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout((function(){j.show()}),t):j.show()}function Ie(e){if(j.clearDelayTimeouts(),ae("onUntrigger",[j,e]),j.state.isVisible){if(!(j.props.trigger.indexOf("mouseenter")>=0&&j.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&C)){var t=ie(!1);t?i=setTimeout((function(){j.state.isVisible&&j.hide()}),t):o=requestAnimationFrame((function(){j.hide()}))}}else pe()}}function Y(e,t){void 0===t&&(t={});var n=Q.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",_,l),window.addEventListener("blur",U);var r=Object.assign({},t,{plugins:n}),i=C(e).reduce((function(e,t){var n=t&&q(t,r);return n&&e.push(n),e}),[]);return w(e)?i[0]:i}Y.defaultProps=Q,Y.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Q[t]=e[t]}))},Y.currentInput=F;var J=Object.assign({},r.applyStyles,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),X={mouseover:"mouseenter",focusin:"focus",click:"click"};var Z={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return{};var n=K(e.popper),r=n.box,i=n.content,a=e.props.animateFill?function(){var e=b();return e.className=o,k([e],"hidden"),e}():null;return{onCreate:function(){a&&(r.insertBefore(a,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(a){var e=r.style.transitionDuration,t=Number(e.replace("ms",""));i.style.transitionDelay=Math.round(t/10)+"ms",a.style.transitionDuration=e,k([a],"visible")}},onShow:function(){a&&(a.style.transitionDuration="0ms")},onHide:function(){a&&k([a],"hidden")}}}};var ee={clientX:0,clientY:0},te=[];function ne(e){var t=e.clientX,n=e.clientY;ee={clientX:t,clientY:n}}var re={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=E(e.props.triggerTarget||t),r=!1,i=!1,o=!0,a=e.props;function s(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){n.addEventListener("mousemove",u)}function c(){n.removeEventListener("mousemove",u)}function A(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function u(n){var r=!n.target||t.contains(n.target),i=e.props.followCursor,o=n.clientX,a=n.clientY,s=t.getBoundingClientRect(),l=o-s.left,c=a-s.top;!r&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=o,r=a;"initial"===i&&(n=e.left+l,r=e.top+c);var s="horizontal"===i?e.top:r,A="vertical"===i?e.right:n,u="horizontal"===i?e.bottom:r,d="vertical"===i?e.left:n;return{width:A-d,height:u-s,top:s,right:A,bottom:u,left:d}}})}function d(){e.props.followCursor&&(te.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",ne)}(n))}function f(){0===(te=te.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===n})).length&&function(e){e.removeEventListener("mousemove",ne)}(n)}return{onCreate:d,onDestroy:f,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(t,n){var o=n.followCursor;r||void 0!==o&&a.followCursor!==o&&(f(),o?(d(),!e.state.isMounted||i||s()||l()):(c(),A()))},onMount:function(){e.props.followCursor&&!i&&(o&&(u(ee),o=!1),s()||l())},onTrigger:function(e,t){B(t)&&(ee={clientX:t.clientX,clientY:t.clientY}),i="focus"===t.type},onHidden:function(){e.props.followCursor&&(A(),c(),o=!0)}}}};var ie={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t,n=e.reference;var r=-1,i=!1,o=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(i){var a=i.state;e.props.inlinePositioning&&(-1!==o.indexOf(a.placement)&&(o=[]),t!==a.placement&&-1===o.indexOf(a.placement)&&(o.push(a.placement),e.setProps({getReferenceClientRect:function(){return function(e){return function(e,t,n,r){if(n.length<2||null===e)return t;if(2===n.length&&r>=0&&n[0].left>n[1].right)return n[r]||t;switch(e){case"top":case"bottom":var i=n[0],o=n[n.length-1],a="top"===e,s=i.top,l=o.bottom,c=a?i.left:o.left,A=a?i.right:o.right;return{top:s,bottom:l,left:c,right:A,width:A-c,height:l-s};case"left":case"right":var u=Math.min.apply(Math,n.map((function(e){return e.left}))),d=Math.max.apply(Math,n.map((function(e){return e.right}))),f=n.filter((function(t){return"left"===e?t.left===u:t.right===d})),p=f[0].top,h=f[f.length-1].bottom;return{top:p,bottom:h,left:u,right:d,width:d-u,height:h-p};default:return t}}(m(e),n.getBoundingClientRect(),v(n.getClientRects()),r)}(a.placement)}})),t=a.placement)}};function s(){var t;i||(t=function(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(n=e.popperOptions)?void 0:n.modifiers)||[]).filter((function(e){return e.name!==t.name})),[t])})}}(e.props,a),i=!0,e.setProps(t),i=!1)}return{onCreate:s,onAfterUpdate:s,onTrigger:function(t,n){if(B(n)){var i=v(e.reference.getClientRects()),o=i.find((function(e){return e.left-2<=n.clientX&&e.right+2>=n.clientX&&e.top-2<=n.clientY&&e.bottom+2>=n.clientY})),a=i.indexOf(o);r=a>-1?a:r}},onHidden:function(){r=-1}}}};var oe={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(t){return!0===e.props.sticky||e.props.sticky===t}var i=null,o=null;function a(){var s=r("reference")?(e.popperInstance?e.popperInstance.state.elements.reference:t).getBoundingClientRect():null,l=r("popper")?n.getBoundingClientRect():null;(s&&ae(i,s)||l&&ae(o,l))&&e.popperInstance&&e.popperInstance.update(),i=s,o=l,e.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){e.props.sticky&&a()}}}};function ae(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}Y.setDefaultProps({render:$}),t.animateFill=Z,t.createSingleton=function(e,t){var n;void 0===t&&(t={});var r,i=e,o=[],a=[],s=t.overrides,l=[],c=!1;function A(){a=i.map((function(e){return h(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function u(){o=i.map((function(e){return e.reference}))}function d(e){i.forEach((function(t){e?t.enable():t.disable()}))}function f(e){return i.map((function(t){var n=t.setProps;return t.setProps=function(i){n(i),t.reference===r&&e.setProps(i)},function(){t.setProps=n}}))}function g(e,t){var n=a.indexOf(t);if(t!==r){r=t;var l=(s||[]).concat("content").reduce((function(e,t){return e[t]=i[n].props[t],e}),{});e.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var e;return null==(e=o[n])?void 0:e.getBoundingClientRect()}}))}}d(!1),u(),A();var m={fn:function(){return{onDestroy:function(){d(!0)},onHidden:function(){r=null},onClickOutside:function(e){e.props.showOnCreate&&!c&&(c=!0,r=null)},onShow:function(e){e.props.showOnCreate&&!c&&(c=!0,g(e,o[0]))},onTrigger:function(e,t){g(e,t.currentTarget)}}}},v=Y(b(),Object.assign({},p(t,["overrides"]),{plugins:[m].concat(t.plugins||[]),triggerTarget:a,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[J])})})),y=v.show;v.show=function(e){if(y(),!r&&null==e)return g(v,o[0]);if(!r||null!=e){if("number"==typeof e)return o[e]&&g(v,o[e]);if(i.indexOf(e)>=0){var t=e.reference;return g(v,t)}return o.indexOf(e)>=0?g(v,e):void 0}},v.showNext=function(){var e=o[0];if(!r)return v.show(0);var t=o.indexOf(r);v.show(o[t+1]||e)},v.showPrevious=function(){var e=o[o.length-1];if(!r)return v.show(e);var t=o.indexOf(r),n=o[t-1]||e;v.show(n)};var w=v.setProps;return v.setProps=function(e){s=e.overrides||s,w(e)},v.setInstances=function(e){d(!0),l.forEach((function(e){return e()})),i=e,d(!1),u(),A(),l=f(v),v.setProps({triggerTarget:a})},l=f(v),v},t.default=Y,t.delegate=function(e,t){var n=[],r=[],i=!1,o=t.target,a=p(t,["target"]),s=Object.assign({},a,{trigger:"manual",touch:!1}),c=Object.assign({touch:Q.touch},a,{showOnCreate:!0}),A=Y(e,s);function u(e){if(e.target&&!i){var n=e.target.closest(o);if(n){var a=n.getAttribute("data-tippy-trigger")||t.trigger||Q.trigger;if(!n._tippy&&!("touchstart"===e.type&&"boolean"==typeof c.touch||"touchstart"!==e.type&&a.indexOf(X[e.type])<0)){var s=Y(n,c);s&&(r=r.concat(s))}}}}function d(e,t,r,i){void 0===i&&(i=!1),e.addEventListener(t,r,i),n.push({node:e,eventType:t,handler:r,options:i})}return h(A).forEach((function(e){var t=e.destroy,o=e.enable,a=e.disable;e.destroy=function(e){void 0===e&&(e=!0),e&&r.forEach((function(e){e.destroy()})),r=[],n.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),n=[],t()},e.enable=function(){o(),r.forEach((function(e){return e.enable()})),i=!1},e.disable=function(){a(),r.forEach((function(e){return e.disable()})),i=!0},function(e){var t=e.reference;d(t,"touchstart",u,l),d(t,"mouseover",u),d(t,"focusin",u),d(t,"click",u)}(e)})),A},t.followCursor=re,t.hideAll=function(e){var t=void 0===e?{}:e,n=t.exclude,r=t.duration;G.forEach((function(e){var t=!1;if(n&&(t=x(n)?e.reference===n:e.popper===n.popper),!t){var i=e.props.duration;e.setProps({duration:r}),e.hide(),e.state.isDestroyed||e.setProps({duration:i})}}))},t.inlinePositioning=ie,t.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',t.sticky=oe},function(e,t,n){var r=n(656).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0,t.setBatch=t.getBatch=void 0;var r=function(e){e()};t.setBatch=function(e){return r=e};t.getBatch=function(){return r}},function(e,t,n){"use strict";var r=n(90).default,i=n(483).default;t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,u=n.methodName,B=void 0===u?"connectAdvanced":u,x=n.renderCountProp,C=void 0===x?void 0:x,S=n.shouldHandleStateChanges,k=void 0===S||S,E=n.storeKey,I=void 0===E?"store":E,O=(n.withRef,n.forwardRef),F=void 0!==O&&O,D=n.context,_=void 0===D?d.ReactReduxContext:D,T=(0,a.default)(n,f);0;var U=_;return function(t){var n=t.displayName||t.name||"Component",r=i(n),u=(0,o.default)({},T,{getDisplayName:i,methodName:B,renderCountProp:C,shouldHandleStateChanges:k,storeKey:I,displayName:r,wrappedComponentName:n,WrappedComponent:t}),d=T.pure;var f=d?l.useMemo:function(e){return e()};function x(n){var r=(0,l.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,a.default)(n,p);return[n.context,e,t]}),[n]),i=r[0],s=r[1],d=r[2],B=(0,l.useMemo)((function(){return i&&i.Consumer&&(0,c.isContextConsumer)(l.default.createElement(i.Consumer,null))?i:U}),[i,U]),x=(0,l.useContext)(B),C=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(x)&&Boolean(x.store);var S=C?n.store:x.store,E=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,u)}(S)}),[S]),I=(0,l.useMemo)((function(){if(!k)return g;var e=(0,A.createSubscription)(S,C?null:x.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,C,x]),O=I[0],F=I[1],D=(0,l.useMemo)((function(){return C?x:(0,o.default)({},x,{subscription:O})}),[C,x,O]),_=(0,l.useReducer)(m,h,w),T=_[0][0],M=_[1];if(T&&T.error)throw T.error;var L=(0,l.useRef)(),Q=(0,l.useRef)(d),R=(0,l.useRef)(),P=(0,l.useRef)(!1),H=f((function(){return R.current&&d===Q.current?R.current:E(S.getState(),d)}),[S,T,d]);v(y,[Q,L,P,d,H,R,F]),v(b,[k,S,O,E,Q,L,P,R,F,M],[S,O,E]);var N=(0,l.useMemo)((function(){return l.default.createElement(t,(0,o.default)({},H,{ref:s}))}),[s,t,H]);return(0,l.useMemo)((function(){return k?l.default.createElement(B.Provider,{value:D},N):N}),[B,N,D])}var S=d?l.default.memo(x):x;if(S.WrappedComponent=t,S.displayName=x.displayName=r,F){var E=l.default.forwardRef((function(e,t){return l.default.createElement(S,(0,o.default)({},e,{reactReduxForwardedRef:t}))}));return E.displayName=r,E.WrappedComponent=t,(0,s.default)(E,t)}return(0,s.default)(S,t)}};var o=r(n(306)),a=r(n(307)),s=r(n(657)),l=i(n(0)),c=n(660),A=n(304),u=n(305),d=n(135),f=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],p=["reactReduxForwardedRef"],h=[],g=[null,null];function m(e,t){var n=e[1];return[t.payload,n+1]}function v(e,t,n){(0,u.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function y(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function b(e,t,n,r,i,o,a,s,l,c){if(e){var A=!1,u=null,d=function(){if(!A){var e,n,d=t.getState();try{e=r(d,i.current)}catch(e){n=e,u=e}n||(u=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(A=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u}}}var w=function(){return[null,0]}},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!r(e[n[o]],t[n[o]]))return!1;return!0}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.getDependsOnOwnProps=i,t.wrapMapToPropsConstant=function(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}},t.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=i(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(t,n)),o},r}};r(n(488));function i(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=function(e,t,n){(0,i.default)(e)||(0,o.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var i=r(n(665)),o=r(n(489))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.createStoreHook=a,t.useStore=void 0;var r=n(0),i=n(135),o=n(491);function a(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?o.useReduxContext:function(){return(0,r.useContext)(e)};return function(){return t().store}}var s=a();t.useStore=s},function(e,t,n){"use strict";t.__esModule=!0,t.useReduxContext=function(){0;return(0,r.useContext)(i.ReactReduxContext)};var r=n(0),i=n(135)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17).Node.create({name:"doc",topNode:!0,content:"block+"});t.Document=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});t.ListItem=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});t.Paragraph=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17).Node.create({name:"text",group:"inline"});t.Text=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(120),o=n(643);function a(e,t,n,r,i,o){let a=0,s=!0,l=t.firstChild;const c=e.firstChild;for(let e=0,n=0;e<c.childCount;e+=1){const{colspan:A,colwidth:u}=c.child(e).attrs;for(let e=0;e<A;e+=1,n+=1){const c=i===n?o:u&&u[e],A=c?`${c}px`:"";a+=c||r,c||(s=!1),l?(l.style.width!==A&&(l.style.width=A),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=A}}for(;l;){const e=l.nextSibling;l.parentNode.removeChild(l),l=e}s?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}class s{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),a(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type===this.node.type&&(this.node=e,a(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"===e.type&&(e.target===this.table||this.colgroup.contains(e.target))}}function l(e,t,n,r){let i=0,o=!0;const a=[],s=e.firstChild;if(!s)return{};for(let e=0,l=0;e<s.childCount;e+=1){const{colspan:c,colwidth:A}=s.child(e).attrs;for(let e=0;e<c;e+=1,l+=1){const s=n===l?r:A&&A[e],c=s?`${s}px`:"";i+=s||t,s||(o=!1),a.push(["col",c?{style:`width: ${c}`}:{}])}}const l=o?`${i}px`:"",c=o?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:c}}function c(e,t){return t?e.createChecked(null,t):e.createAndFill()}function A(e,t,n,r,i){const o=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t}(e),a=[],s=[];for(let e=0;e<n;e+=1){const e=c(o.cell,i);if(e&&s.push(e),r){const e=c(o.header_cell,i);e&&a.push(e)}}const l=[];for(let e=0;e<t;e+=1)l.push(o.row.createChecked(null,r&&0===e?a:s));return o.table.createChecked(null,l)}const u=({editor:e})=>{const{selection:t}=e.state;if(!(t instanceof o.CellSelection))return!1;let n=0;const i=r.findParentNodeClosestToPos(t.ranges[0].$from,(e=>"table"===e.type.name));null==i||i.node.descendants((e=>{if("table"===e.type.name)return!1;["tableCell","tableHeader"].includes(e.type.name)&&(n+=1)}));return n===t.ranges.length&&(e.commands.deleteTable(),!0)},d=r.Node.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:s,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:i,tableMinWidth:o}=l(e,this.options.cellMinWidth);return["table",r.mergeAttributes(this.options.HTMLAttributes,t,{style:i?`width: ${i}`:`minWidth: ${o}`}),n,["tbody",0]]},addCommands:()=>({insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:a})=>{const s=A(a.schema,e,t,n);if(o){const e=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(i.TextSelection.near(r.doc.resolve(e)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>o.addColumnBefore(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>o.addColumnAfter(e,t),deleteColumn:()=>({state:e,dispatch:t})=>o.deleteColumn(e,t),addRowBefore:()=>({state:e,dispatch:t})=>o.addRowBefore(e,t),addRowAfter:()=>({state:e,dispatch:t})=>o.addRowAfter(e,t),deleteRow:()=>({state:e,dispatch:t})=>o.deleteRow(e,t),deleteTable:()=>({state:e,dispatch:t})=>o.deleteTable(e,t),mergeCells:()=>({state:e,dispatch:t})=>o.mergeCells(e,t),splitCell:()=>({state:e,dispatch:t})=>o.splitCell(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>o.toggleHeader("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>o.toggleHeader("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>o.toggleHeaderCell(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>!!o.mergeCells(e,t)||o.splitCell(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>o.setCellAttr(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>o.goToNextCell(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>o.goToNextCell(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&o.fixTables(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const n=o.CellSelection.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:u,"Mod-Backspace":u,Delete:u,"Mod-Delete":u}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[o.columnResizing({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],o.tableEditing({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:r.callOrReturn(r.getExtensionField(e,"tableRole",t))}}});t.Table=d,t.createColGroup=l,t.createTable=A,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:e}){return["td",r.mergeAttributes(this.options.HTMLAttributes,e),0]}});t.TableCell=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:e}){return["th",r.mergeAttributes(this.options.HTMLAttributes,e),0]}});t.TableHeader=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:e}){return["tr",r.mergeAttributes(this.options.HTMLAttributes,e),0]}});t.TableRow=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,o=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,a=r.Mark.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[r.markInputRule({find:i,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:o,type:this.type})]}});t.Highlight=a,t.default=a,t.inputRegex=i,t.pasteRegex=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=n(503),c=n(70),A=n.n(c),u=n(45),d=n(5),f=n(27),p=n(4),h=n(57),g=n(64),m=n(46),v=n(13),y=n(136);class b extends o.a.Component{constructor(e){super(e),this.state={showEditColor:[],labelEditState:[],highlightColorSettingState:null,highlightColorSettingLoadState:null,showColorEditorPanel:!1,selectedRow:null,highlightColorStateChanged:!1,colorInputValue:null},this.getHighlightColorSettings=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=this.state.highlightColorSettingState;return t&&!e||(t=yield this.syncSettings.highlightColors.get("highlightColors"),t||(t=[...g.a])),this.setState({highlightColorSettingState:t,highlightColorSettingLoadState:"success"}),t})),this.updateHighlightColor=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=document.querySelectorAll("."+h.a),n=Array.from(t).filter((e=>e.classList.contains(`memex-highlight-${this.props.annotationId}`)));for(let t of n)Object(m.c)(t,e);yield this.props.updateAnnotationColor(e.id)})),this.saveHighlightColorSettings=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let e=document.querySelectorAll("."+h.a);for(let t of this.state.highlightColorSettingState){const n=Array.from(e).filter((e=>e.getAttribute("highlightcolor")===t.id));for(let e of n)Object(m.c)(e,t)}this.setState({highlightColorSettingState:this.state.highlightColorSettingState}),yield this.syncSettings.highlightColors.set("highlightColors",this.state.highlightColorSettingState)})),this.labelEditFieldRef=[],this.editButtonRef=[],this.syncSettings=Object(u.a)({syncSettingsBG:this.props.syncSettingsBG})}componentDidMount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=this.setState.bind(this);this.setState=t=>{e(t)},this.setState({highlightColorSettingLoadState:"running"});const t=yield this.getHighlightColorSettings(),n=t.find((e=>e.id===this.props.selectedColor)).color;if(this.editButtonRef=[],t){let e=0;for(let r of t){if(JSON.stringify(r.color)===JSON.stringify(n))break;e+=1,e===t.length-1&&(e=t.length)}this.setState({highlightColorSettingLoadState:"success",highlightColorSettingState:[...t],selectedRow:e})}for(let e=0;e<5;e++)this.editButtonRef[e]=o.a.createRef(),this.labelEditFieldRef[e]=o.a.createRef()}))}componentWillUnmount(){}renderColorPicker(e,t,n,i,a){var s,c,u;return o.a.createElement(B,{onClick:e=>{e.stopPropagation()},key:"ColorEditBox"+i},o.a.createElement(w,null,o.a.createElement(d.a,{label:"Cancel",onClick:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=document.querySelectorAll("."+h.a);for(let e of t){const t=e.getAttribute("highlightcolor");let n=null;t&&(n=this.state.highlightColorSettingState.find((e=>e.id===t)).color,n=Object(m.b)(n)),e.setAttribute("style",`background-color:${n};`)}const n=[...this.state.showEditColor];this.getHighlightColorSettings(!0),n[i]=!1,this.setState({showColorEditorPanel:!1,showEditColor:n}),e.stopPropagation()})),size:"small",type:"tertiary",icon:"removeX",padding:"2px 6px 2px 0px"}),o.a.createElement(d.a,{label:"Save Color",onClick:e=>{const t=[...this.state.showEditColor];t[i]=!1,this.setState({showEditColor:t,showColorEditorPanel:!1,colorInputValue:null}),this.saveHighlightColorSettings(),e.stopPropagation()},size:"small",type:"primary",icon:"check",padding:"2px 6px 2px 0px"})),!a&&o.a.createElement(F,{ref:null!==(s=this.labelEditFieldRef[i])&&void 0!==s?s:null,value:null!==(c=this.state.highlightColorSettingState[i].label)&&void 0!==c?c:n,disabled:a,autoFocus:!0,isActivated:this.state.labelEditState[i],onClick:()=>{var e;let t=[...this.state.labelEditState];this.state.labelEditState?null===(e=this.labelEditFieldRef[i])||void 0===e||e.current.addEventListener("blur",(()=>this.handleClickOutside(i))):(t[i]=!0,this.setState({labelEditState:t}))},onChange:e=>{{let t=this.state.highlightColorSettingState.map((e=>JSON.parse(JSON.stringify(e))));t[i].label=e.target.value,this.setState({highlightColorSettingState:t})}}}),o.a.createElement(k,null,o.a.createElement(l.RgbaColorPicker,{color:t,onChange:e=>{{this.setState({highlightColorStateChanged:!0});let t=this.state.highlightColorSettingState;const n=t[i].color;let r=document.querySelectorAll("."+h.a);for(let t of r){const r=t.style.backgroundColor;let i="";r.startsWith("rgb(")?i=t.style.backgroundColor.replace(")",", 1)").replace("rgb(","rgba("):r.startsWith("rgba(")&&(i=r),i===Object(m.b)(n)&&t.setAttribute("style",`background-color:${Object(m.b)(e)};`)}t[i].color=e,this.setState({highlightColorSettingState:t})}}})),o.a.createElement(f.a,{value:null!==(u=this.state.colorInputValue)&&void 0!==u?u:A()(this.state.highlightColorSettingState[i].color).toHex8String(),onChange:e=>{const t=e.target.value;if(A()(t).isValid()){this.setState({highlightColorStateChanged:!0});let n=[...this.state.highlightColorSettingState];n[i].color=A()(t).toRgb(),this.setState({highlightColorSettingState:n,colorInputValue:e.target.value})}else this.setState({colorInputValue:e.target.value})}}))}handleClickOutside(e){let t=[...this.state.labelEditState];t[e]=!1,this.setState({labelEditState:t})}handleColorPickerEditState(e){let t=[...this.state.showEditColor];t[e]=!1,this.setState({showEditColor:t})}render(){if(null==this.state.highlightColorSettingLoadState||"running"===this.state.highlightColorSettingLoadState)return o.a.createElement(y.a,{size:22,width:"230px",height:"208px"});try{const e=this.state.highlightColorSettingState;return o.a.createElement(S,null,o.a.createElement(D,null),Object.entries(e).map(((t,n)=>{var r;const i=t[1].id,a=t[1].color;let s="";return s="default"===e[n].id?"Default Color":null!==(r=t[1].label)&&void 0!==r?r:"Color "+n,this.state.showEditColor[n]?this.renderColorPicker(a,a,s,n,"default"===e[n].id):this.state.showColorEditorPanel?void 0:o.a.createElement(E,{onMouseDown:()=>{this.updateHighlightColor(t[1])},active:this.state.showEditColor[n],selected:this.state.selectedRow===n,key:i},o.a.createElement(O,{backgroundColor:Object(m.b)(a),ref:this.editButtonRef[n]}),o.a.createElement(I,null,s),o.a.createElement(C,null,o.a.createElement(v.a,{keys:[(n+1).toString()],size:"medium"})),o.a.createElement(x,{ref:this.editButtonRef[n],onMouseDown:e=>{e.stopPropagation();const t=[...this.state.showEditColor];t[n]=!0,this.setState({showEditColor:t,showColorEditorPanel:!0})}},o.a.createElement(p.a,{icon:"edit",heightAndWidth:"20px",color:"greyScale6"})))})))}catch(e){console.error("Parsing error:",e)}}}const w=s.a.div.withConfig({displayName:"TopBarBox",componentId:"sc-1c8zk7r-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),B=s.a.div.withConfig({displayName:"ColorEditBox",componentId:"sc-1c8zk7r-1"})(["padding:10px;display:flex;flex-direction:column;grid-gap:10px;align-items:flex-end;"]),x=s.a.div.withConfig({displayName:"EditIconBox",componentId:"sc-1c8zk7r-2"})(["position:absolute;right:3px;display:none;background:",";"],(e=>e.theme.colors.greyScale2)),C=s.a.div.withConfig({displayName:"HotkeyNumber",componentId:"sc-1c8zk7r-3"})(["position:absolute;right:3px;display:flex;font-size:14px;margin-left:10px;width:20px;border-radius:3px;justify-content:center;"]),S=s.a.div.withConfig({displayName:"MenuContainer",componentId:"sc-1c8zk7r-4"})(["display:flex;flex-direction:column;border-radius:12px;width:fit-content;padding:15px;min-width:200px;"]),k=s.a.div.withConfig({displayName:"HexPickerContainer",componentId:"sc-1c8zk7r-5"})(["height:200px;width:200px;> *{width:initial;}"]),E=s.a.div.withConfig({displayName:"SettingsRow",componentId:"sc-1c8zk7r-6"})(["height:40px;display:flex;grid-gap:10px;align-items:center;padding:0px 10px;min-width:30%;flex:1;position:relative;cursor:pointer;border-radius:5px;&:hover ","{display:flex;}&:hover ","{display:none;}&:hover{border-radius:5px;outline:1px solid ",";}"," ",""],x,C,(e=>e.theme.colors.greyScale3),(e=>e.active&&Object(a.css)(["background:",";"],(e=>e.theme.colors.greyScale2))),(e=>e.selected&&Object(a.css)(["background:",";"],(e=>e.theme.colors.greyScale2)))),I=s.a.div.withConfig({displayName:"ColorPickerLabel",componentId:"sc-1c8zk7r-7"})(["font-size:14px;color:",";"],(e=>"dark"===e.theme.variant?e.theme.colors.greyScale7:e.theme.colors.greyScale6)),O=s.a.div.withConfig({displayName:"ColorPickerCircle",componentId:"sc-1c8zk7r-8"})(["height:18px;width:18px;background-color:",";border-radius:50px;margin:5px;border:1px solid ",";"],(e=>e.backgroundColor),(e=>e.theme.colors.greyScale3)),F=s.a.input.withConfig({displayName:"SpaceTitleEditField",componentId:"sc-1c8zk7r-9"})(["font-size:14px;font-weight:500;height:44px;flex:1;width:fill-available;color:",";letter-spacing:1px;background:",";border-radius:5px;padding:10px;outline:1px solid ",";font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on;border:none;",";",";"],(e=>"dark"===e.theme.variant?e.theme.colors.greyScale7:e.theme.colors.greyScale6),(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale4),(e=>!e.isActivated&&Object(a.css)(["font-size:14px;font-weight:500;width:fill-available;color:",";background:transparent;letter-spacing:1px;padding:10px;border-radius:5px;outline:1px solid ",";font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on;border:none;&:hover{cursor:pointer;background:",";}"],(e=>"dark"===e.theme.variant?e.theme.colors.greyScale7:e.theme.colors.greyScale6),(e=>e.theme.colors.greyScale3),(e=>e.theme.colors.greyScale2))),(e=>e.disabled&&Object(a.css)(["outline:none;background:none;cursor:default;&:hover{cursor:pointer;background:none;}"]))),D=(s.a.div.withConfig({displayName:"LoadingBox",componentId:"sc-1c8zk7r-10"})(["display:flex;justify-content:center;align-items:center;height:100%;width:100%;"]),s.a.div.withConfig({displayName:"TopSection",componentId:"sc-1c8zk7r-11"})(["display:flex;align-items:center;justify-content:center;grid-gap:5px;color:",";"],(e=>e.theme.colors.white)),a.createGlobalStyle`

.react-colorful {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 200px;
    height: 200px;
    user-select: none;
    cursor: default;
  }

  .react-colorful__saturation {
    position: relative;
    flex-grow: 1;
    border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
    border-bottom: 12px solid #000;
    border-radius: 8px 8px 0 0;
    background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
      linear-gradient(to right, #fff, rgba(255, 255, 255, 0));
  }

  .react-colorful__pointer-fill,
  .react-colorful__alpha-gradient {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    border-radius: inherit;
  }

  /* Improve elements rendering on light backgrounds */
  .react-colorful__alpha-gradient,
  .react-colorful__saturation {
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .react-colorful__hue,
  .react-colorful__alpha {
    position: relative;
    height: 24px;
  }

  .react-colorful__hue {
    background: linear-gradient(
      to right,
      #f00 0%,
      #ff0 17%,
      #0f0 33%,
      #0ff 50%,
      #00f 67%,
      #f0f 83%,
      #f00 100%
    );
  }

  .react-colorful__last-control {
    border-radius: 0 0 8px 8px;
  }

  .react-colorful__interactive {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    outline: none;
    /* Don't trigger the default scrolling behavior when the event is originating from this element */
    touch-action: none;
  }

  .react-colorful__pointer {
    position: absolute;
    z-index: 1;
    box-sizing: border-box;
    width: 28px;
    height: 28px;
    transform: translate(-50%, -50%);
    background-color: #fff;
    border: 2px solid #fff;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  .react-colorful__interactive:focus .react-colorful__pointer {
    transform: translate(-50%, -50%) scale(1.1);
  }

  /* Chessboard-like pattern for alpha related elements */
  .react-colorful__alpha,
  .react-colorful__alpha-pointer {
    background-color: #fff;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
  }

  /* Display the saturation pointer over the hue one */
  .react-colorful__saturation-pointer {
    z-index: 3;
  }

  /* Display the hue pointer over the alpha one */
  .react-colorful__hue-pointer {
    z-index: 2;
  }

`)},function(e,t,n){var r=n(0);var i=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function s(e){var t=r.useRef(e),n=r.useRef((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var l=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},c=function(e){return"touches"in e},A=function(e){return e&&e.ownerDocument.defaultView||self},u=function(e,t,n){var r=e.getBoundingClientRect(),i=c(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:l((i.pageX-(r.left+A(e).pageXOffset))/r.width),top:l((i.pageY-(r.top+A(e).pageYOffset))/r.height)}},d=function(e){!c(e)&&e.preventDefault()},f=i.default.memo((function(e){var t=e.onMove,n=e.onKey,l=a(e,["onMove","onKey"]),f=r.useRef(null),p=s(t),h=s(n),g=r.useRef(null),m=r.useRef(!1),v=r.useMemo((function(){var e=function(e){d(e),(c(e)?e.touches.length>0:e.buttons>0)&&f.current?p(u(f.current,e,g.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=m.current,i=A(f.current),o=n?i.addEventListener:i.removeEventListener;o(r?"touchmove":"mousemove",e),o(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=f.current;if(r&&(d(t),!function(e,t){return t&&!c(e)}(t,m.current)&&r)){if(c(t)){m.current=!0;var i=t.changedTouches||[];i.length&&(g.current=i[0].identifier)}r.focus(),p(u(r,t,g.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),h({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[h,p]),y=v[0],b=v[1],w=v[2];return r.useEffect((function(){return w}),[w]),i.default.createElement("div",o({},l,{onTouchStart:y,onMouseDown:y,className:"react-colorful__interactive",ref:f,onKeyDown:b,tabIndex:0,role:"slider"}))})),p=function(e){return e.filter(Boolean).join(" ")},h=function(e){var t=e.color,n=e.left,r=e.top,o=void 0===r?.5:r,a=p(["react-colorful__pointer",e.className]);return i.default.createElement("div",{className:a,style:{top:100*o+"%",left:100*n+"%"}},i.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},g=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},m={grad:.9,turn:360,rad:360/(2*Math.PI)},v=function(e){return M(y(e))},y=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?g(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?g(parseInt(e.substring(6,8),16)/255,2):1}},b=function(e,t){return void 0===t&&(t="deg"),Number(e)*(m[t]||1)},w=function(e){var t=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?x({h:b(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},B=w,x=function(e){var t=e.s,n=e.l;return{h:e.h,s:(t*=(n<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}},C=function(e){return U(I(e))},S=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:g(e.h),s:g(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:g(i/2),a:g(r,2)}},k=function(e){var t=S(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},E=function(e){var t=S(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},I=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),s=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),c=o%6;return{r:g(255*[r,s,a,a,l,r][c]),g:g(255*[l,r,r,s,a,a][c]),b:g(255*[a,a,l,r,r,s][c]),a:g(i,2)}},O=function(e){var t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?L({h:b(t[1],t[2]),s:Number(t[3]),v:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},F=O,D=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?M({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},_=D,T=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},U=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=i<1?T(g(255*i)):"";return"#"+T(t)+T(n)+T(r)+o},M=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:g(60*(s<0?s+6:s)),s:g(o?a/o*100:0),v:g(o/255*100),a:i}},L=function(e){return{h:g(e.h),s:g(e.s),v:g(e.v),a:g(e.a,2)}},Q=i.default.memo((function(e){var t=e.hue,n=e.onChange,r=p(["react-colorful__hue",e.className]);return i.default.createElement("div",{className:r},i.default.createElement(f,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:l(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":g(t),"aria-valuemax":"360","aria-valuemin":"0"},i.default.createElement(h,{className:"react-colorful__hue-pointer",left:t/360,color:k({h:t,s:100,v:100,a:1})})))})),R=i.default.memo((function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:k({h:t.h,s:100,v:100,a:1})};return i.default.createElement("div",{className:"react-colorful__saturation",style:r},i.default.createElement(f,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:l(t.s+100*e.left,0,100),v:l(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+g(t.s)+"%, Brightness "+g(t.v)+"%"},i.default.createElement(h,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:k(t)})))})),P=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},H=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")},N=function(e,t){return e.toLowerCase()===t.toLowerCase()||P(y(e),y(t))};function j(e,t,n){var i=s(n),o=r.useState((function(){return e.toHsva(t)})),a=o[0],l=o[1],c=r.useRef({color:t,hsva:a});r.useEffect((function(){if(!e.equal(t,c.current.color)){var n=e.toHsva(t);c.current={hsva:n,color:t},l(n)}}),[t,e]),r.useEffect((function(){var t;P(a,c.current.hsva)||e.equal(t=e.fromHsva(a),c.current.color)||(c.current={hsva:a,color:t},i(t))}),[a,e,i]);var A=r.useCallback((function(e){l((function(t){return Object.assign({},t,e)}))}),[]);return[a,A]}var z,K="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,$=new Map,W=function(e){K((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!$.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',$.set(t,r);var i=z||n.nc;i&&r.setAttribute("nonce",i),t.head.appendChild(r)}}),[])},V=function(e){var t=e.className,n=e.colorModel,s=e.color,l=void 0===s?n.defaultColor:s,c=e.onChange,A=a(e,["className","colorModel","color","onChange"]),u=r.useRef(null);W(u);var d=j(n,l,c),f=d[0],h=d[1],g=p(["react-colorful",t]);return i.default.createElement("div",o({},A,{ref:u,className:g}),i.default.createElement(R,{hsva:f,onChange:h}),i.default.createElement(Q,{hue:f.h,onChange:h,className:"react-colorful__last-control"}))},G={defaultColor:"000",toHsva:v,fromHsva:function(e){return C({h:e.h,s:e.s,v:e.v,a:1})},equal:N},q=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+E(Object.assign({},n,{a:0}))+", "+E(Object.assign({},n,{a:1}))+")"},a=p(["react-colorful__alpha",t]),s=g(100*n.a);return i.default.createElement("div",{className:a},i.default.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),i.default.createElement(f,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:l(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},i.default.createElement(h,{className:"react-colorful__alpha-pointer",left:n.a,color:E(n)})))},Y=function(e){var t=e.className,n=e.colorModel,s=e.color,l=void 0===s?n.defaultColor:s,c=e.onChange,A=a(e,["className","colorModel","color","onChange"]),u=r.useRef(null);W(u);var d=j(n,l,c),f=d[0],h=d[1],g=p(["react-colorful",t]);return i.default.createElement("div",o({},A,{ref:u,className:g}),i.default.createElement(R,{hsva:f,onChange:h}),i.default.createElement(Q,{hue:f.h,onChange:h}),i.default.createElement(q,{hsva:f,onChange:h,className:"react-colorful__last-control"}))},J={defaultColor:"0001",toHsva:v,fromHsva:C,equal:N},X={defaultColor:{h:0,s:0,l:0,a:1},toHsva:x,fromHsva:S,equal:P},Z={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:w,fromHsva:E,equal:H},ee={defaultColor:{h:0,s:0,l:0},toHsva:function(e){return x({h:e.h,s:e.s,l:e.l,a:1})},fromHsva:function(e){return{h:(t=S(e)).h,s:t.s,l:t.l};var t},equal:P},te={defaultColor:"hsl(0, 0%, 0%)",toHsva:B,fromHsva:k,equal:H},ne={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(e){return e},fromHsva:L,equal:P},re={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:O,fromHsva:function(e){var t=L(e);return"hsva("+t.h+", "+t.s+"%, "+t.v+"%, "+t.a+")"},equal:H},ie={defaultColor:{h:0,s:0,v:0},toHsva:function(e){return{h:e.h,s:e.s,v:e.v,a:1}},fromHsva:function(e){var t=L(e);return{h:t.h,s:t.s,v:t.v}},equal:P},oe={defaultColor:"hsv(0, 0%, 0%)",toHsva:F,fromHsva:function(e){var t=L(e);return"hsv("+t.h+", "+t.s+"%, "+t.v+"%)"},equal:H},ae={defaultColor:{r:0,g:0,b:0,a:1},toHsva:M,fromHsva:I,equal:P},se={defaultColor:"rgba(0, 0, 0, 1)",toHsva:D,fromHsva:function(e){var t=I(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:H},le={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return M({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(t=I(e)).r,g:t.g,b:t.b};var t},equal:P},ce={defaultColor:"rgb(0, 0, 0)",toHsva:_,fromHsva:function(e){var t=I(e);return"rgb("+t.r+", "+t.g+", "+t.b+")"},equal:H},Ae=/^#?([0-9A-F]{3,8})$/i,ue=function(e){var t=e.color,n=void 0===t?"":t,l=e.onChange,c=e.onBlur,A=e.escape,u=e.validate,d=e.format,f=e.process,p=a(e,["color","onChange","onBlur","escape","validate","format","process"]),h=r.useState((function(){return A(n)})),g=h[0],m=h[1],v=s(l),y=s(c),b=r.useCallback((function(e){var t=A(e.target.value);m(t),u(t)&&v(f?f(t):t)}),[A,f,u,v]),w=r.useCallback((function(e){u(e.target.value)||m(A(n)),y(e)}),[n,A,u,y]);return r.useEffect((function(){m(A(n))}),[n,A]),i.default.createElement("input",o({},p,{value:d?d(g):g,spellCheck:"false",onChange:b,onBlur:w}))},de=function(e){return"#"+e};t.HexAlphaColorPicker=function(e){return i.default.createElement(Y,o({},e,{colorModel:J}))},t.HexColorInput=function(e){var t=e.prefixed,n=e.alpha,s=a(e,["prefixed","alpha"]),l=r.useCallback((function(e){return e.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)}),[n]),c=r.useCallback((function(e){return function(e,t){var n=Ae.exec(e),r=n?n[1].length:0;return 3===r||6===r||!!t&&4===r||!!t&&8===r}(e,n)}),[n]);return i.default.createElement(ue,o({},s,{escape:l,format:t?de:void 0,process:de,validate:c}))},t.HexColorPicker=function(e){return i.default.createElement(V,o({},e,{colorModel:G}))},t.HslColorPicker=function(e){return i.default.createElement(V,o({},e,{colorModel:ee}))},t.HslStringColorPicker=function(e){return i.default.createElement(V,o({},e,{colorModel:te}))},t.HslaColorPicker=function(e){return i.default.createElement(Y,o({},e,{colorModel:X}))},t.HslaStringColorPicker=function(e){return i.default.createElement(Y,o({},e,{colorModel:Z}))},t.HsvColorPicker=function(e){return i.default.createElement(V,o({},e,{colorModel:ie}))},t.HsvStringColorPicker=function(e){return i.default.createElement(V,o({},e,{colorModel:oe}))},t.HsvaColorPicker=function(e){return i.default.createElement(Y,o({},e,{colorModel:ne}))},t.HsvaStringColorPicker=function(e){return i.default.createElement(Y,o({},e,{colorModel:re}))},t.RgbColorPicker=function(e){return i.default.createElement(V,o({},e,{colorModel:le}))},t.RgbStringColorPicker=function(e){return i.default.createElement(V,o({},e,{colorModel:ce}))},t.RgbaColorPicker=function(e){return i.default.createElement(Y,o({},e,{colorModel:ae}))},t.RgbaStringColorPicker=function(e){return i.default.createElement(Y,o({},e,{colorModel:se}))},t.setNonce=function(e){z=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n(2),i=n(0),o=n.n(i),a=n(45),s=n(33),l=n(84),c=n(59);class A extends s.a{constructor(e){super(),this.dependencies=e,this.init=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t,n;this.syncSettings=Object(a.a)({syncSettingsBG:this.dependencies.syncSettingsBG});let r=null!==(t=yield null===(e=this.syncSettings.openAI)||void 0===e?void 0:e.get("promptSuggestions"))&&void 0!==t?t:l.a.map((e=>({text:e,isEditing:null,isFocused:!1})));null==r[0].text&&(r=null!==(n=null==r?void 0:r.map((e=>({text:e,isEditing:null,isFocused:!1}))))&&void 0!==n?n:l.a.map((e=>({text:e,isEditing:null,isFocused:!1})))),this.emitMutation({promptTemplatesArray:{$set:r}}),this.getInitialState()})),this.focusTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=e.id,r=t.promptTemplatesArray,i=null==r?void 0:r.map(((e,t)=>t===n?Object.assign(Object.assign({},e),{isFocused:!0}):t!==n?Object.assign(Object.assign({},e),{isFocused:!1}):e));this.emitMutation({promptTemplatesArray:{$set:i}})})),this.selectTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;const r=e.id,i=t.promptTemplatesArray;this.dependencies.onTemplateSelect(c.marked.parse(null===(n=i[r])||void 0===n?void 0:n.text))})),this.setTemplateEdit=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;const r=e.id,i=t.promptTemplatesArray,o=e.value||(null===(n=i[r])||void 0===n?void 0:n.text);i[r]&&(i[r]=Object.assign(Object.assign({},i[r]),{isEditing:o}),this.emitMutation({promptTemplatesArray:{$set:i},editValue:{$set:o}}))})),this.saveEditTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(0===e.text.length)return;const n=e.id,r={text:e.text,isEditing:null},i=[...t.promptTemplatesArray];i[n]=r,this.emitMutation({promptTemplatesArray:{$set:i.map((({text:e})=>({text:e})))},editValue:{$set:null}}),yield this.syncSettings.openAI.set("promptSuggestions",i)})),this.startNewTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=[{text:"",isEditing:"",isFocused:!0},...t.promptTemplatesArray];this.emitMutation({promptTemplatesArray:{$set:e}})})),this.confirmDelete=!0,this.deleteTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=e.id,r=t.promptTemplatesArray.filter(((e,t)=>t!==n));this.emitMutation({promptTemplatesArray:{$set:r}}),yield this.syncSettings.openAI.set("promptSuggestions",r)})),this.reorderTemplates=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{oldIndex:n,newIndex:r}=e;let i=[...t.promptTemplatesArray];const[o]=i.splice(n,1);i.splice(r,0,o);const a=i.map((({text:e})=>({text:e})));this.emitMutation({promptTemplatesArray:{$set:a}}),yield this.syncSettings.openAI.set("promptSuggestions",a)}))}getInitialState(){return{promptTemplatesArray:[],editValue:null}}}var u=n(113),d=n(122),f=n(5),p=n(85),h=n(1),g=n.n(h),m=n(4),v=n(28),y=n.n(v),b=n(154),w=n(25);class B extends u.a{constructor(e){super(e,{logic:new A(e)}),this.onDragEnd=e=>{e.destination&&e.source.index!==e.destination.index&&this.processEvent("reorderTemplates",{oldIndex:e.source.index,newIndex:e.destination.index})}}componentDidMount(){const e=Object.create(null,{componentDidMount:{get:()=>super.componentDidMount}});return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.handleKeyDown=this.handleKeyDown.bind(this),window.addEventListener("keydown",this.handleKeyDown),yield e.componentDidMount.call(this)}))}componentWillUnmount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){window.removeEventListener("keydown",this.handleKeyDown)}))}handleKeyDown(e){const t=this.state.promptTemplatesArray.findIndex((e=>e.isFocused));e.defaultPrevented||("ArrowUp"===e.key?(this.processEvent("focusTemplate",{id:t-1}),e.preventDefault(),e.stopPropagation()):"ArrowDown"===e.key&&(e.preventDefault(),e.stopPropagation(),this.processEvent("focusTemplate",{id:t+1})),"Enter"===e.key&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),e.shiftKey,this.processEvent("selectTemplate",{id:t})))}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,null,o.a.createElement(E,null,"Prompt Templates"),o.a.createElement(k,null,o.a.createElement(p.a,{getRootElement:this.props.getRootElement,tutorialId:"useTemplates"}),o.a.createElement(f.a,{label:"New",onClick:()=>this.processEvent("startNewTemplate",null),size:"small",type:"forth",icon:"plus",iconColor:"prime1",padding:"0px 6px 0 0"}))),o.a.createElement(I,null,o.a.createElement(d.DragDropContext,{onDragEnd:this.onDragEnd},o.a.createElement(d.Droppable,{droppableId:"droppableTemplates"},(e=>o.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,style:{gridGap:"3px",display:"flex",flexDirection:"column"}}),this.state.promptTemplatesArray.map(((e,t)=>o.a.createElement(d.Draggable,{key:t,draggableId:String(t),index:t},((e,n)=>{var r,i,a;const s=o.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:Object.assign(Object.assign({},e.draggableProps.style),{zIndex:3e13})}),null==this.state.promptTemplatesArray[t].isEditing?o.a.createElement(T,{inFocus:this.state.promptTemplatesArray[t].isFocused,onMouseOver:()=>{this.processEvent("focusTemplate",{id:t})},onMouseLeave:()=>{this.processEvent("focusTemplate",{id:null})},onClick:()=>this.processEvent("selectTemplate",{id:t}),allowFitContent:!!this.state.promptTemplatesArray[t].isEditing},o.a.createElement(F,null,o.a.createElement(m.a,{icon:"dragList",rotation:180,heightAndWidth:"16px",hoverOff:!0})),o.a.createElement(O,null,o.a.createElement(_,null,this.state.promptTemplatesArray[t].text)),!this.state.promptTemplatesArray[t].isEditing&&o.a.createElement(D,{onClick:e=>{e.stopPropagation()}},o.a.createElement(m.a,{filePath:"removeX",heightAndWidth:"20px",padding:"4px",onClick:e=>{e.stopPropagation(),this.processEvent("deleteTemplate",{id:t})}}),o.a.createElement(m.a,{filePath:"edit",heightAndWidth:"20px",padding:"4px",onClick:e=>{e.stopPropagation(),this.processEvent("setTemplateEdit",{id:t,value:this.state.promptTemplatesArray[t].text})}}))):o.a.createElement(x,null,o.a.createElement(b.a,{autoFocus:!0,value:this.state.promptTemplatesArray[t].isEditing,placeholder:"Type a new prompt",background:"greyScale3",onChange:e=>{e.stopPropagation(),this.processEvent("setTemplateEdit",{id:t,value:e.target.value})},onKeyUp:e=>{e.stopPropagation()},onKeyDown:e=>{e.stopPropagation(),"Enter"===e.key&&e.metaKey?e.target.value.length>0&&(e.stopPropagation(),this.processEvent("saveEditTemplate",{id:t,text:e.target.value})):e.key}}),o.a.createElement(C,null,o.a.createElement(f.a,{label:B.MOD_KEY+"+ Enter",size:"small",type:"tertiary",fontColor:"greyScale5",fontSize:"12px",padding:"2px 4px;",onClick:()=>{let e=this.state.promptTemplatesArray[t].isEditing;null!=e&&this.processEvent("saveEditTemplate",{id:t,text:e})}})))),l=null!==(a=null===(i=(r=this.props).getRootElement)||void 0===i?void 0:i.call(r))&&void 0!==a?a:document.querySelector("body");return n.isDragging?y.a.createPortal(s,l):s})))),e.placeholder))))))}}B.MOD_KEY=Object(w.a)({key:"mod"});const x=g.a.div.withConfig({displayName:"TextAreaContainer",componentId:"vq8604-0"})(["position:relative;margin-top:3px;"]),C=g.a.div.withConfig({displayName:"TextAreaSaveButton",componentId:"vq8604-1"})(["position:absolute;bottom:5px;right:5px;"]),S=g.a.div.withConfig({displayName:"Header",componentId:"vq8604-2"})(["display:flex;flex-direction:row;justify-content:space-between;padding:10px 15px 0px 15px;height:30px;align-items:center;"]),k=g.a.div.withConfig({displayName:"ButtonBox",componentId:"vq8604-3"})(["display:flex;grid-gap:10px;align-items:center;justify-self:flex-end;"]),E=g.a.div.withConfig({displayName:"SectionTitle",componentId:"vq8604-4"})(["color:",";font-size:14px;font-weight:600;flex:1;white-space:nowrap;"],(e=>e.theme.colors.white)),I=(g.a.div.withConfig({displayName:"NoResultsBox",componentId:"vq8604-5"})(["text-align:center;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;font-size:12px;padding:15px 10px;color:",";display:flex;justify-content:center;align-items:center;flex-direction:column;grid-gap:10px;"],(e=>e.theme.colors.white)),g.a.div.withConfig({displayName:"Center",componentId:"vq8604-6"})(["display:flex;justify-content:center;height:200px;align-items:center;flex-direction:column;grid-gap:10px;"]),g.a.div.withConfig({displayName:"Title",componentId:"vq8604-7"})(["display:flex;color:",";font-size:16px;font-weight:600;"],(e=>e.theme.colors.white)),g.a.div.withConfig({displayName:"ContentBlock",componentId:"vq8604-8"})(["padding:0 5px 5px 5px;width:100%;box-sizing:border-box;display:flex;flex-direction:column;"])),O=(g.a.div.withConfig({displayName:"SectionCircle",componentId:"vq8604-9"})(["background:",";border:1px solid ",";border-radius:8px;height:30px;width:30px;display:flex;justify-content:center;align-items:center;"],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale6)),g.a.div.withConfig({displayName:"InfoText",componentId:"vq8604-10"})(["color:",";font-size:14px;font-weight:300;text-align:center;margin:",";"],(e=>e.theme.colors.greyScale5),(e=>e.margin)),g.a.div.withConfig({displayName:"InfoTextTitle",componentId:"vq8604-11"})(["color:",";font-size:16px;font-weight:600;text-align:center;margin-top:20px;"],(e=>e.theme.colors.white)),g.a.div.withConfig({displayName:"TitleBox",componentId:"vq8604-12"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;grid-gap:3px;width:fill-available;width:-moz-available;"])),F=(g.a.div.withConfig({displayName:"DefaultLabel",componentId:"vq8604-13"})(["font-size:10px;font-weight:500;color:",";text-transform:uppercase;letter-spacing:1px;padding:2px 5px;border-radius:5px;background-color:",";text-align:center;align-self:flex-start;justify-self:flex-start;display:inline-block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px;width:fit-content;"],(e=>e.theme.colors.greyScale5),(e=>e.theme.colors.greyScale2)),g.a.div.withConfig({displayName:"DragIconContainer",componentId:"vq8604-14"})(["position:absolute;left:-15px;display:flex;align-items:center;justify-content:center;display:none;&:hover{cursor:grab;}&:hover *{cursor:grab;}"])),D=g.a.div.withConfig({displayName:"ActionsContainer",componentId:"vq8604-15"})(["flex-direction:row;align-items:center;justify-content:flex-end;grid-gap:5px;display:none;position:absolute;background-color:","90;backdrop-filter:blur(4px);right:0px;height:40px;padding:0 10px;border-radius:0 6px 6px 0;"],(e=>e.theme.colors.greyScale2)),_=(g.a.div.withConfig({displayName:"Row",componentId:"vq8604-16"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:40px;position:relative;border-radius:5px;padding:0px 0px 0 18px;&:last-child{border-bottom:none;}&:hover{","{display:flex;}}&:hover ","{display:flex;}",""],D,F,(e=>e.inFocus&&Object(h.css)(["outline:1px solid ",";"],(e=>e.theme.colors.greyScale3)))),g.a.div.withConfig({displayName:"TemplateRowTitle",componentId:"vq8604-17"})(["display:",";justify-content:center;cursor:pointer;text-align:left;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;font-weight:normal;font-size:14px;width:90%;color:",";outline:none;border:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;",""],(e=>e.fullWidth?"flex":"block"),(e=>e.theme.colors.greyScale6),(e=>e.isDefault&&Object(h.css)(["max-width:230px;"])))),T=g.a.div.withConfig({displayName:"RowContainer",componentId:"vq8604-18"})(["position:relative;display:flex;align-items:center;justify-content:space-between;width:100%;height:40px;border-radius:8px;padding:0 0 0 10px;box-sizing:border-box;",";",";&:hover{cursor:pointer;}"],(e=>e.inFocus&&Object(h.css)(["","{display:flex;}","{display:flex;}background:",";"],D,F,(e=>e.theme.colors.greyScale2))),(e=>e.allowFitContent&&Object(h.css)(["height:fit-content;"])))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe})),n.d(t,"b",(function(){return Fe})),n.d(t,"c",(function(){return De})),n.d(t,"d",(function(){return Ue}));var r=n(2),i=(n(3),n(52)),o=n(123),a=n(0),s=n.n(a),l=n(28),c=n.n(l),A=n(1),u=n.n(A),d=n(325),f=n(4),p=n(7),h=n(5),g=n(13),m=n(12);const v=({size:e,keyboardShortcuts:t,createAnnotation:n,createHighlight:r,openAIInterface:i,closeTooltip:o,hideTooltip:a,addToSpace:l,context:c,windowObject:A,highlightColorsSettings:u,askAIButtonRef:d,openPDFinViewer:v,createLink:I,getRootElement:O,copiedToClipBoard:F,setTutorialId:D,renderAIArea:_,renderSpacesButton:T,renderColorPickerButton:U,renderColorPicker:M,setRenderColorPicker:L,renderAnnotationEditArea:Q,linkCopyState:R,shouldShowTooltipsAbove:P,tooltipState:H,themeVariant:N,highlightButtonRef:j})=>A.location.href.includes(".pdf")&&!A.location.href.includes("/pdfjs/viewer.html")?s.a.createElement(x,null,"Open this PDF in the Memex Reader to annotate it",s.a.createElement(C,null,s.a.createElement(h.a,{label:"Open PDF in Memex Reader",icon:"filePDF",onClick:e=>{e.altKey?D("annotatePDFs"):v(A.location.href)},size:"small",type:"forth",iconColor:"dark"===N?"greyScale7":"greyScale5",iconSize:"18px",fontSize:"12px",padding:"0px 8px 0 4px"}),s.a.createElement(B,{fullWidth:!0,onClick:o},s.a.createElement(p.a,{tooltipText:s.a.createElement(S,null,s.a.createElement(E,null,s.a.createElement("strong",null,"Hide Tooltip")),"extension"===c&&s.a.createElement(k,null,"+"," ",s.a.createElement(g.a,{size:"small",optional:"shift",getRootElement:O})," ","-click to disable")),placement:P?"top":"bottom",getPortalRoot:O,width:"100%"},s.a.createElement(f.a,{filePath:"removeX",heightAndWidth:"16px",onClick:o,color:"dark"===N?"greyScale4":"greyScale5"}))))):"addSpaces"!==H&&"askAI"!==H?s.a.createElement(w,{className:"noDrag"},s.a.createElement(y,null,"small"===e?s.a.createElement(s.a.Fragment,null,s.a.createElement(B,{fullWidth:!0,onMouseEnter:()=>{L(!0)},onMouseLeave:()=>{L(!1)},onMouseDown:e=>{if(e.altKey)D("annotatePages");else{r(!1,null,e)}}},s.a.createElement(h.a,{icon:"highlight",size:"small",padding:"small"===e?"1px":"3px 8px",iconSize:"18px",iconColor:"dark"===N?"greyScale7":"greyScale5",type:"menuBar",innerRef:j})),s.a.createElement(B,{onMouseDown:e=>{e.altKey?D("annotatePages"):n(e)},fullWidth:!0},s.a.createElement(p.a,{placement:P?"top":"bottom",tooltipText:s.a.createElement(S,null,s.a.createElement(E,null,s.a.createElement("strong",null,"Add Note"),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createAnnotation,getRootElement:O}))),getPortalRoot:O},s.a.createElement(h.a,{icon:"commentAdd",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===N?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),j?M(j):null):U&&s.a.createElement(B,{fullWidth:!0},U()),T&&s.a.createElement(B,{onClick:t=>{t.altKey?(t.stopPropagation(),D("organiseSpaces")):"small"===e&&l(t)},fullWidth:!0},s.a.createElement(p.a,{fullWidthTarget:!0,tooltipText:s.a.createElement(S,null,s.a.createElement(E,null,s.a.createElement("strong",null,"Add to Space"),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.addToCollection,getRootElement:O}))),placement:P?"top":"bottom",getPortalRoot:O},"small"===e?s.a.createElement(h.a,{icon:"plus",label:"small"===e?"":"Spaces",width:"100%",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===N?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}):T())),I&&s.a.createElement(B,{onClick:e=>{e.altKey?D("annotatePages"):I(e)},fullWidth:!0},s.a.createElement(p.a,{placement:P?"top":"bottom",tooltipText:s.a.createElement(S,null,s.a.createElement(E,null,s.a.createElement("strong",null,"Share Highlight"),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.copyCurrentLink,getRootElement:O}))),getPortalRoot:O,fullWidthTarget:!0},s.a.createElement(h.a,{icon:"link",iconSize:"20px",label:"small"===e?"":"running"===R?s.a.createElement(m.a,{size:16}):"success"===R?"Copied":"Share",size:"small",padding:"small"===e?"0px":"3px 8px",iconColor:"dark"===N?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),A.location.href.includes("/pdfjs/viewer.html")&&s.a.createElement(B,{onClick:e=>{var t;if(e.altKey)D("annotatePDFs");else{r(!0,null,e),null===(t=window.getSelection())||void 0===t||t.empty(),a()}},fullWidth:!0},s.a.createElement(p.a,{fullWidthTarget:!0,tooltipText:s.a.createElement(S,null,s.a.createElement(E,null,s.a.createElement("strong",null,"Draw Rectangle")),"extension"===c&&s.a.createElement(s.a.Fragment,null,s.a.createElement(k,null,"without selected text"),s.a.createElement(E,null,"Highlight","extension"===c&&s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createHighlight,getRootElement:O})),s.a.createElement(E,null,"Add Note","extension"===c&&s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createAnnotation,getRootElement:O})))),placement:P?"top":"bottom",getPortalRoot:O},s.a.createElement(h.a,{icon:"rectangleDraw",label:"small"===e?"":"Share",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===N?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),i&&"extension"===c&&s.a.createElement(B,{fullWidth:!0},s.a.createElement(p.a,{fullWidthTarget:!0,tooltipText:s.a.createElement(S,null,s.a.createElement(E,null,s.a.createElement("strong",null,"Ask & Summarise "),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.askAI,getRootElement:O}))),placement:P?"top":"bottom",getPortalRoot:O},s.a.createElement(h.a,{icon:"stars",label:"small"===e?"":"Summarize",onClick:e=>{e.altKey?D("askAI"):i(e)},innerRef:d,width:"100%",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===N?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),"small"!==e?null:s.a.createElement(B,{fullWidth:!0,onClick:o},s.a.createElement(p.a,{tooltipText:s.a.createElement(S,null,s.a.createElement(E,null,s.a.createElement("strong",null,"Hide Tooltip")),"extension"===c&&s.a.createElement(k,null,"+"," ",s.a.createElement(g.a,{size:"small",optional:"shift",getRootElement:O})," ","-click to disable")),placement:"bottom",getPortalRoot:O},s.a.createElement(f.a,{filePath:"removeX",heightAndWidth:"16px",onClick:o,color:"dark"===N?"greyScale5":"greyScale4"})))),"small"!=e?s.a.createElement(b,null,_(),Q()):null):null,y=u.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    grid-gap: 5px;
    padding: 5px;
    width: 100%;
    box-sizing: border-box;
`,b=u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 5px;

    width: 100%;
    height: 100%;
    min-width: 400px;
    min-height: 200px;
    border-top: 1px solid ${e=>e.theme.colors.greyScale3};
`,w=(u.a.div`
    display: flex;
    align-items: center;
    justify-content: flex-start;
    grid-gap: 5px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 14px;
    white-space: nowrap;
    padding: 5px 10px;
`,u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    height: fit-content;
    flex-direction: column;
    height: 100%;
`),B=u.a.button`
    height: fit-content;
    width: fit-content;
    outline: none;
    border: none;
    background: none;
    cursor: pointer;
    padding: 0px;
    height: 24px;
    display: flex;
    align-items: center;
    flex-direction: row;
    grid-gap: 5px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 14px;
    flex: ${e=>e.fullWidth?"1":"0"};
    justify-content: center;
    width: 20%;
    overflow: hidden;

    span {
        white-space: nowrap; /* Prevents text from wrapping */
        overflow: hidden; /* Hides the overflow text */
        text-overflow: ellipsis; /* Adds the ellipsis */
        max-width: 70px; /* Define a width */
        display: block;
    }
`,x=u.a.button`
    height: fit-content;
    width: fit-content;
    outline: none;
    border: none;
    background: none;
    cursor: pointer;
    padding: 0px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    padding: 5px;
    grid-gap: 10px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 14px;
`,C=u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 5px;
`,S=u.a.span`
    font-size: 12px;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    font-style: unset;
    letter-spacing: 0.3px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    grid-gap: 5px;
`,k=u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
`,E=u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 5px;
    color: ${e=>e.theme.colors.white};
`;u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 10px;
    border-top: 1px solid ${e=>e.theme.colors.greyScale4};
    margin-top: 10px;
    padding-top: 10px;
`,u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    grid-gap: 5px;
`,u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50px;
    background: ${e=>e.color};
    border: 1px solid ${e=>e.theme.colors.greyScale4};
    height: 24px;
    min-width: 24px;
    width: fit-content;
    padding: 0 3px;
`,u.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    color: ${e=>e.theme.colors.black};
    size: 14px;
`;var I=n(64),O=n(27),F=n(99),D=n(200),_=n(85),T=n(161),U=n(313),M=n(57),L=n(76),Q=n(25),R=n(81),P=n(22),H=n(46),N=n(136);class j extends s.a.Component{constructor(){super(...arguments),this.colorPickerCloseTimeout=null,this.MOD_KEY=Object(Q.a)({key:"mod"}),this.askAIButtonRef=s.a.createRef(),this.spacesButtonRef=s.a.createRef(),this.colorPickerButtonRef=s.a.createRef(),this.highlightButtonRef=s.a.createRef(),this.containerRef=s.a.createRef(),this.savedSelection=null,this.selectionForAI=null,this.state={position:null,showTooltip:!1,preventClosing:!0,isShiftPressed:!1,isMouseOverTooltip:!1,tooltipDisappear:!1,highlightColorSettings:null,AIQueryText:"",copiedToClipboard:!1,tutorialId:null,tooltipState:"default",isDeboucingEditor:!1,currentAnnotation:null,currentAnnotationId:null,confirmDeletion:!1,linkCopyState:"pristine",renderColorPicker:!1},this.handleDetectHighlightClick=e=>{if(!this.state.isShiftPressed&&e.target.classList.contains(M.a)){const t=e.target.parentElement,n=[];Array.from(t.children).forEach((e=>{e.classList.contains("selectedAnnotation")&&n.push(e)}));let r=0,i=0,o=1/0;for(const e of n){const t=e.getBoundingClientRect();t.right>r&&(r=t.right),t.bottom>i&&(i=t.bottom),t.left<o&&(o=t.left)}const a=this.props.getWindow().innerWidth,s=this.props.getWindow().innerHeight,l=this.props.getWindow().scrollX,c=this.props.getWindow().scrollY,A=50,u="reader"===this.props.context?105:250,d="addAnnotation"===this.state.tooltipState?300:40;let f=Math.max((o+r)/2,20)-u/2;f=Math.max(A,Math.min(f,a-u-A));let p=i+10;p+d>s-A&&(p=Math.max(A,o-d-10));return{x:f+l,y:p+c}}},this.showTooltip=(e,t="default")=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r,i;const o=yield null===(n=this.props.tooltip)||void 0===n?void 0:n.getState();if("true"!==(null===(r=this.currentSelection.focusNode)||void 0===r?void 0:r.parentElement.contentEditable)){if(0===this.currentSelection.toString().length&&!e)return this.setState({showTooltip:!0}),this.makeTooltipDisappear(!0),!0;if(null==this.selectionForAI){const e=null===(i=this.props.getWindow().getSelection())||void 0===i?void 0:i.toString();""!==(null==e?void 0:e.trim())&&(this.selectionForAI=e)}if(this.makeTooltipDisappear(!1),(null==o||o||"default"!==t)&&(this.setState({position:this.calculateTooltipPostion()}),document.addEventListener("click",this.handleMouseDown),!this.state.isShiftPressed))return setTimeout((()=>{this.makeTooltipDisappear(!1),this.setState({preventClosing:!0}),this.setState({showTooltip:!0,preventClosing:!0})}),50),setTimeout((()=>{this.setState({preventClosing:!1})}),400),!0}})),this.closeTooltip=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n,r,i;e.preventDefault(),e.stopPropagation(),e.shiftKey&&(yield null===(n=(t=this.props).toggleTooltipState)||void 0===n?void 0:n.call(t,!1)),yield null===(i=(r=this.props).onTooltipClose)||void 0===i?void 0:i.call(r),document.removeEventListener("click",this.handleMouseDown),this.setState({showTooltip:!1}),this.setState({isMouseOverTooltip:!1})})),this.hideTooltip=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t;this.makeTooltipDisappear(!0),yield this.saveAnnotationEditState(),this.setState({tooltipState:"default",currentAnnotation:null,currentAnnotationId:null}),this.props.setCurrentAnnotation&&this.props.currentAnnotation&&this.props.setCurrentAnnotation(null),this.props.toggleSpacePicker&&this.props.toggleSpacePicker(!1),this.setState({showTooltip:!1,tooltipState:"default"}),yield null===(t=(e=this.props).onTooltipHide)||void 0===t?void 0:t.call(e)})),this.makeTooltipDisappear=e=>{this.setState({tooltipDisappear:e})},this.createHighlight=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{this.makeTooltipDisappear(!0),this.setState({renderColorPicker:!1}),yield this.props.createHighlight(this.currentSelection,!!n.shiftKey||null,e,null,t,!1)}catch(e){throw e}finally{this.setState({renderColorPicker:!1}),yield this.hideTooltip(),this.makeTooltipDisappear(!1)}})),this.createAnnotation=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{this.makeTooltipDisappear(!0),yield this.props.createAnnotation(this.currentSelection,!!e.shiftKey||null,!1,!1,null)}catch(e){throw e}finally{yield this.hideTooltip(),this.makeTooltipDisappear(!1)}})),this.createLink=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(this.setState({linkCopyState:"running"}),null==this.props.currentAnnotation)try{this.setState({copiedToClipboard:!0}),this.makeTooltipDisappear(!0),yield this.props.createHighlight(this.currentSelection,!1,!0,!0,void 0,!0)}catch(e){throw e}finally{yield new Promise((e=>setTimeout(e,3e3))),this.setState({copiedToClipboard:!1}),yield this.hideTooltip(),this.makeTooltipDisappear(!1)}else{(e=>{if(navigator.clipboard&&this.props.getWindow().isSecureContext)return navigator.clipboard.writeText(e).then((()=>{console.log("Text copied to clipboard successfully.")})).catch((e=>{console.error("Failed to copy text to clipboard: ",e)}))})(`${"https://memex.social"}/a/${this.props.currentAnnotation.remoteId}`),this.setState({linkCopyState:"success"}),yield Object(R.a)(3e3),this.setState({linkCopyState:"pristine"})}})),this.renderAITextField=()=>s.a.createElement(V,{onMouseEnter:()=>this.setState({isMouseOverTooltip:!0}),onMouseLeave:()=>this.setState({isMouseOverTooltip:!1})},null!=this.selectionForAI&&null==this.props.currentAnnotation&&s.a.createElement(q,null,s.a.createElement(J,null),s.a.createElement(Y,null,this.selectionForAI)),s.a.createElement(O.a,{placeholder:"Enter your question here",value:this.state.AIQueryText,onChange:e=>{e.preventDefault(),e.stopPropagation(),this.setState({AIQueryText:e.target.value})},autoFocus:!0,width:"100%",onClick:()=>{this.setState({preventClosing:!0})},onKeyDown:e=>{e.stopPropagation(),this.setState({preventClosing:!0}),"Enter"===e.key&&this.openAIInterface(e,this.state.AIQueryText)},onKeyUp:e=>{this.setState({preventClosing:!0})}}),this.props.promptTemplates()),this.openAIInterface=(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r;const i=this.convertHTMlTemplateToMarkdown(null!==(r=null===(n=this.props.currentAnnotation)||void 0===n?void 0:n.body)&&void 0!==r?r:this.selectionForAI);this.selectionForAI=null,yield Promise.all([this.setState({showTooltip:!1,position:null}),this.props.askAI(i,null!=t?t:"",(e.shiftKey||"askAIquery"===this.state.tooltipState)&&!this.props.isAskAIOpen)]),this.setState({isMouseOverTooltip:!1,tooltipState:"default"}),this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(null)})),this.setDebouncingSaveBlock=e=>{this.setState({isDeboucingEditor:e})},this.openSpacePicker=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.props.toggleSpacePicker(!0),this.setState({tooltipState:"addSpaces"});const e=yield this.props.createHighlight(this.currentSelection,!1,!1,!1,null,!1);this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(e),this.setState({currentAnnotationId:e})})),this.setAnnotationEdit=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;this.setState({tooltipState:"addAnnotation"});const n=yield this.props.createHighlight(this.currentSelection,!!e.shiftKey||null,!1,!1,null,!1);this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(n),this.setState({currentAnnotationId:n}),null===(t=this.editorRef)||void 0===t||t.focus()})),this.saveAnnotationEditState=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t,n;if(this.setState({preventClosing:!1}),null!=this.state.currentAnnotation&&(null===(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.comment)||void 0===t?void 0:t.length)>0){for(;this.state.isDeboucingEditor;)yield new Promise((e=>setTimeout(e,10)));yield this.props.saveAnnotation(null===(n=this.state.currentAnnotation)||void 0===n?void 0:n.comment)}else;})),this.renderAIArea=()=>{if("askAIquery"===this.state.tooltipState)return this.renderAITextField()},this.renderAnnotationEditArea=()=>{var e,t,n;if("addAnnotation"===this.state.tooltipState)return s.a.createElement(ie,{onMouseEnter:()=>this.setState({isMouseOverTooltip:!0}),onMouseLeave:()=>this.setState({isMouseOverTooltip:!1})}," ",null==this.state.currentAnnotationId?s.a.createElement(N.a,{size:20,height:"150px",width:"100%"}):s.a.createElement(oe,null,s.a.createElement(T.a,{onContentUpdate:e=>{this.setState({preventClosing:!0}),this.onCommentChange(e)},markdownContent:null!==(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.comment)&&void 0!==t?t:"",promptPlaceholder:"Write your note. Use #hashtags or [[WikiLinks]] to add Spaces. ( ? ) for formatting help.",setEditorInstanceRef:e=>this.editorRef=e,imageSupport:this.props.imageSupportBG,getRootElement:this.props.getRootElement,onKeyDown:this.handleKeyDown,editable:!0,setDebouncingSaveBlock:this.setDebouncingSaveBlock,height:"fill-available",updateSpacesSearchSuggestions:this.props.updateSpacesSearchSuggestions,openImageInPreview:this.props.openImageInPreview,spaceSearchSuggestions:this.props.spaceSearchResults,selectSpace:this.props.selectSpaceForAnnotation,autoFocus:!0,addNewSpaceViaWikiLinks:this.props.addNewSpaceViaWikiLinks}),(null===(n=this.props.currentAnnotationLists)||void 0===n?void 0:n.length)>0&&s.a.createElement(ae,null,s.a.createElement(U.a,{lists:this.props.currentAnnotationLists,onEditBtnClick:this.props.toggleSpacePicker,removeSpaceForAnnotation:this.props.removeSpaceForAnnotation})),s.a.createElement(G,null,s.a.createElement($,null,s.a.createElement(h.a,{onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.saveAnnotationEditState(),this.hideTooltip()})),label:"Save",size:"small",type:"primary",icon:"check"})),s.a.createElement(K,null,this.renderDeleteButton(null),s.a.createElement(W,{className:"dragHandle"},s.a.createElement(p.a,{tooltipText:"Drag around this box",placement:"bottom",getPortalRoot:this.props.getRootElement},s.a.createElement(f.a,{icon:"move",background:"black0",height:"20px"})))))))},this.renderSpacesButton=e=>s.a.createElement(s.a.Fragment,null,this.props.renderSpacePicker&&this.props.showSpacePicker&&this.props.renderSpacePicker(this.spacesButtonRef),this.props.renderSpacePicker&&s.a.createElement(h.a,{label:"small"===e?"":"Spaces",onClick:()=>this.props.toggleSpacePicker(),innerRef:this.spacesButtonRef,icon:"plus",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===this.props.themeVariant?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0})),this.renderDeleteButton=e=>{if(null!=this.props.currentAnnotation)return s.a.createElement(p.a,{placement:"addSpaces"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState||"askAIquery"===this.state.tooltipState?"top":"bottom",tooltipText:s.a.createElement("span",null,"You can also press",s.a.createElement("strong",null," ",this.MOD_KEY," + Z "),s.a.createElement("br",null)," to undo the last annotation"),getPortalRoot:this.props.getRootElement,fullWidthTarget:!0},s.a.createElement(h.a,{icon:"trash",label:"small"===e?"":this.state.confirmDeletion?"Confirm":"Delete",onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.state.confirmDeletion?(yield this.props.deleteAnnotation(this.state.currentAnnotationId),this.setState({confirmDeletion:!1}),this.hideTooltip()):this.setState({confirmDeletion:!0})})),type:"menuBar",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===this.props.themeVariant?"greyScale7":"greyScale5",width:"90px"}))},this.renderColorPickerButton=()=>{var e;if(null!=this.props.currentAnnotation){const t=this.state.highlightColorSettings,n=null==t?void 0:t.find((e=>this.props.currentAnnotation.color===(null==e?void 0:e.id)?e:null));return s.a.createElement(p.a,{placement:"addSpaces"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState||"askAIquery"===this.state.tooltipState?"top":"bottom",tooltipText:s.a.createElement("span",null,"Change Highlight Color"),getPortalRoot:this.props.getRootElement,fullWidthTarget:!0},s.a.createElement(h.a,{icon:s.a.createElement(se,{color:(null==n?void 0:n.color)&&Object(H.b)(null==n?void 0:n.color)}),innerRef:this.colorPickerButtonRef,label:null!==(e=null==n?void 0:n.label)&&void 0!==e?e:"Color",onMouseDown:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.setState({renderColorPicker:!this.state.renderColorPicker})})),type:"menuBar",size:"small",padding:"3px 8px",fullWidth:!0}))}},this.renderColorPicker=(e,t)=>{if(this.state.renderColorPicker&&null!=this.props.renderHighlightColorPicker)return s.a.createElement(P.a,{getPortalRoot:this.props.getRootElement,placement:"bottom-start",targetElementRef:e.current,offsetX:5,offsetY:-5,closeComponent:()=>{this.setState({renderColorPicker:!1})},instaClose:!this.state.renderColorPicker,onMouseEnter:()=>{this.colorPickerCloseTimeout&&(clearTimeout(this.colorPickerCloseTimeout),this.colorPickerCloseTimeout=null)},onMouseLeave:()=>{this.setRenderColorPicker(!1)},blockedBackgroundTransparent:!0},"addAnnotation"!==this.state.tooltipState&&s.a.createElement(le,null,s.a.createElement("strong",null,"Highlight"),"extension"===this.props.context&&s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createHighlight,getRootElement:this.props.getRootElement})),this.props.renderHighlightColorPicker())},this.onCommentChange=e=>{const t=this.state.currentAnnotation;t.comment=e,this.setState({currentAnnotation:t})},this.setRenderColorPicker=e=>{e?(this.colorPickerCloseTimeout&&(clearTimeout(this.colorPickerCloseTimeout),this.colorPickerCloseTimeout=null),this.setState({renderColorPicker:!0})):this.colorPickerCloseTimeout=setTimeout((()=>{this.setState({renderColorPicker:!1})}),200)}}componentDidMount(){var e,t,n,i,o,a,s;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const l=yield null===(e=this.props.tooltip)||void 0===e?void 0:e.getState();if(this.setState({isShiftPressed:!1}),document.addEventListener("selectionchange",(()=>{var e,t;if(null==this.props.currentAnnotation&&!this.state.renderColorPicker){const n=null===(t=null===(e=this.props.getWindow())||void 0===e?void 0:e.getSelection())||void 0===t?void 0:t.toString();""!==(null==n?void 0:n.trim())?this.selectionForAI=n:""===(null==n?void 0:n.trim())&&"default"===this.state.tooltipState&&this.hideTooltip()}})),null===(n=(t=this.props).onExternalDestroy)||void 0===n||n.call(t,(()=>this.setState({showTooltip:!1,position:null}))),this.props.shouldInitTooltip&&(null===(o=(i=this.props).onTooltipInit)||void 0===o||o.call(i,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e;const t=yield null===(e=this.props.tooltip)||void 0===e?void 0:e.getState();return this.showTooltip(!t||"addAnnotation"===this.state.tooltipState,this.state.tooltipState)}))))),null===(s=(a=this.props).openAnnotationEdit)||void 0===s||s.call(a,((e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r;this.makeTooltipDisappear(!0);let i=e,o=e?"addAnnotation":n?"addSpaces":"default";this.setState({tooltipState:o}),yield this.showTooltip(!l||"addAnnotation"===this.state.tooltipState,this.state.tooltipState);let a=0;let s=10;for(;null==this.state.position&&(0===this.currentSelection.toString().length||0===t.toString().length)&&a<20;)yield new Promise((e=>setTimeout(e,s))),a++,s=Math.min(1.5*s,1e3);if(20===a&&console.warn("Failed to calculate tooltip position after 10 seconds"),yield new Promise((e=>setTimeout(e,0))),this.makeTooltipDisappear(!1),n?(this.props.toggleSpacePicker(!0),this.setState({tooltipState:"addSpaces",showTooltip:!0,preventClosing:!1})):this.setState({tooltipState:"addAnnotation",showTooltip:!0,preventClosing:!1}),null==i&&(i=yield this.props.createHighlight(null!=t?t:this.currentSelection,!n&&null,!1,!1,null,!1)),!i)return;this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(i),this.setState({currentAnnotationId:i});let c=null;for(this.props.getAnnotationLists&&(c=yield this.props.getAnnotationLists(i));null==c;)c=yield this.props.getAnnotationLists(i),yield new Promise((e=>setTimeout(e,100)));this.setState({currentAnnotationId:i}),yield new Promise((e=>setTimeout(e,50))),null===(r=this.editorRef)||void 0===r||r.focus()})))),this.props.getKBShortcuts){const e=yield this.props.getKBShortcuts();this.setState({keyboardShortcuts:e})}if("extension"===this.props.context&&this.props.getHighlightColorsSettings){const e=yield this.props.getHighlightColorsSettings();null==e?this.setState({highlightColorSettings:[...I.a]}):this.setState({highlightColorSettings:e})}this.handleKeyDown=this.handleKeyDown.bind(this),document.addEventListener("click",this.handleDetectHighlightClick),this.handleKeyUp=this.handleKeyUp.bind(this),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}))}componentDidUpdate(e,t){var n,i,o,a,s,l,c,A,u,d;return Object(r.__awaiter)(this,void 0,void 0,(function*(){(null===(n=t.currentAnnotation)||void 0===n?void 0:n.unifiedId)!==(null===(i=this.state.currentAnnotation)||void 0===i?void 0:i.unifiedId)&&null!=(null===(o=t.currentAnnotation)||void 0===o?void 0:o.comment)&&(yield this.props.saveAnnotation(null===(a=t.currentAnnotation)||void 0===a?void 0:a.comment,null===(s=t.currentAnnotation)||void 0===s?void 0:s.color,null===(l=t.currentAnnotation)||void 0===l?void 0:l.unifiedId,!0)),e.currentAnnotation!==this.props.currentAnnotation&&(null===(c=this.editorRef)||void 0===c||c.updateContentExternally(null===(A=this.props.currentAnnotation)||void 0===A?void 0:A.comment),null==(null===(u=e.currentAnnotation)||void 0===u?void 0:u.comment)&&(null===(d=this.props.currentAnnotation)||void 0===d||d.comment),this.setState({currentAnnotation:this.props.currentAnnotation,confirmDeletion:!1}),this.selectionForAI=null),e.aiPrompt!==this.props.aiPrompt&&this.setState({AIQueryText:this.props.aiPrompt}),e.showColorPicker!==this.props.showColorPicker&&(this.setState({renderColorPicker:this.props.showColorPicker}),null==this.props.showColorPicker||this.props.showColorPicker||(this.makeTooltipDisappear(!0),setTimeout((()=>{this.hideTooltip()}),200),this.makeTooltipDisappear(!1)))}))}componentWillUnmount(){this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(null),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("click",this.handleMouseDown),document.addEventListener("click",this.handleDetectHighlightClick)}handleKeyDown(e){var t,n,i,o,a;return Object(r.__awaiter)(this,void 0,void 0,(function*(){let r=!1;if(this.state.showTooltip&&(r=!0),this.currentSelection.toString().length>0&&(r=!0),r){if("Enter"!==e.key&&"Escape"!==e.key&&"Backspace"!==e.key&&e.stopPropagation(),"Enter"===e.key&&e.metaKey&&(e.stopPropagation(),yield this.props.saveAnnotation(null===(t=this.state.currentAnnotation)||void 0===t?void 0:t.comment),this.hideTooltip()),"true"===e.target.contentEditable)return;if(this.updateSavedSelection(),"Shift"===e.key&&(e.stopPropagation(),this.setState({isShiftPressed:!0})),"Shift"===e.key&&!this.state.isMouseOverTooltip&&(null===(i=null===(n=this.savedSelection)||void 0===n?void 0:n.toString())||void 0===i?void 0:i.length)>0&&!this.state.renderColorPicker){e.stopPropagation();const t=null===(o=this.props.getWindow())||void 0===o?void 0:o.getSelection();this.setState({isShiftPressed:!0,showTooltip:!1}),t.addRange(this.savedSelection.getRangeAt(0).cloneRange()),t.addRange(this.savedSelection.getRangeAt(0).cloneRange())}const r=parseFloat(e.key);if(!isNaN(r)&&r>=0&&r<=9&&this.state.highlightColorSettings&&(this.savedSelection.toString().length>0||null!=this.props.currentAnnotation))if(e.stopPropagation(),null!=this.props.currentAnnotation){const e=this.state.highlightColorSettings[r-1];this.props.saveAnnotation(this.state.currentAnnotation.comment,e.id);let t=document.querySelectorAll("."+M.a),n=Array.from(t).filter((e=>e.classList.contains(`memex-highlight-${this.props.currentAnnotation.unifiedId}`)));for(let t of n)Object(H.c)(t,e)}else this.createHighlight(!1,null===(a=this.state.highlightColorSettings[r-1])||void 0===a?void 0:a.id,e);"Escape"===e.key&&this.hideTooltip()}}))}handleKeyUp(e){if("true"===e.target.contentEditable)return;"Shift"===e.key&&this.setState({isShiftPressed:!1});var t;"INPUT"===(t=e.target).tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.savedSelection,"Shift"===e.key&&this.props.getWindow().getSelection().toString().length>0&&this.setState({isShiftPressed:!1,showTooltip:!0}),"Shift"!==e.key||0!==this.props.getWindow().getSelection().toString().length||"addAnnotation"===this.state.tooltipState||this.state.renderColorPicker||this.state.preventClosing||this.setState({isShiftPressed:!1,showTooltip:!1}))}handleMouseDown(e){var t;(null===(t=this.state)||void 0===t?void 0:t.isShiftPressed)&&this.updateSavedSelection()}updateSavedSelection(){var e,t;(null===(t=null===(e=this.props.getWindow())||void 0===e?void 0:e.getSelection())||void 0===t?void 0:t.rangeCount)>0&&(this.savedSelection=this.currentSelection)}get currentSelection(){return Object(L.a)(this.props.getWindow().getSelection())}calculateTooltipPostion(e){try{const t=null!=e?e:this.currentSelection,n=t.getRangeAt(0).getBoundingClientRect(),r="reader"===this.props.context?105:250,i="addAnnotation"===this.state.tooltipState?300:40,o=this.props.getWindow().innerWidth,a=this.props.getWindow().innerHeight,s=this.props.getWindow().scrollY,l=50;let c=(n.left+n.right)/2-r/2;c=Math.max(l,Math.min(c,o-r-l));let A=s+n.bottom+10;return A+i>a-l&&(A=Math.max(l,s+n.top-i-10)),{x:c,y:A}}catch(e){return null}}renderTutorialBox(){if(null!=this.state.tutorialId)return s.a.createElement(_.a,{tutorialId:this.state.tutorialId,onTutorialClose:()=>this.setState({tutorialId:null}),getRootElement:()=>this.props.getRootElement(),isHeadless:!0})}convertHTMlTemplateToMarkdown(e){return e.replace(/<br\s*\/?>/g,"\n").replace(/<[^>]+>/g,"")}render(){const{showTooltip:e,position:t,keyboardShortcuts:n}=this.state;return s.a.createElement(ne,{style:null!=t?{top:t.y,left:t.x+30}:{},id:D.b,screenPosition:"absolute",showTooltip:!this.state.tooltipDisappear},this.state.showTooltip&&s.a.createElement(F.a,{onClickAway:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.saveAnnotationEditState(),this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(null),!this.state.preventClosing&&this.state.showTooltip&&this.hideTooltip()})),getDocument:()=>this.props.getWindow().document,clickThrough:"default"===this.state.tooltipState,instaClose:"default"!==this.state.tooltipState},s.a.createElement(Z,{id:D.a,onDragStart:e=>{e.stopPropagation(),e.preventDefault()},onDragEnd:(e,t)=>{this.setState({position:{x:e.x,y:e.y}})},minHeight:"addAnnotation"===this.state.tooltipState&&270,enableResizing:"addAnnotation"===this.state.tooltipState,dragHandleClassName:"dragHandle"},s.a.createElement(re,{bottomShown:"default"!==this.state.tooltipState,id:"tooltipActionBar",onMouseEnter:()=>this.setState({isMouseOverTooltip:!0}),onMouseLeave:()=>this.setState({isMouseOverTooltip:!1})},s.a.createElement(v,{size:"askAIquery"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState?"large":"small",keyboardShortcuts:n,createAnnotation:e=>{this.props.saveAnnotation?this.setAnnotationEdit(e):this.createAnnotation(e)},createHighlight:this.createHighlight,hideTooltip:this.hideTooltip,openAIInterface:this.openAIInterface,closeTooltip:this.closeTooltip,addToSpace:this.openSpacePicker,createLink:this.props.hideAddToSpaceBtn?void 0:this.createLink,linkCopyState:this.state.linkCopyState,copiedToClipBoard:this.state.copiedToClipboard,context:this.props.context,windowObject:this.props.getWindow(),highlightColorsSettings:this.state.highlightColorSettings,askAIButtonRef:this.askAIButtonRef,openPDFinViewer:this.props.openPDFinViewer,getRootElement:this.props.getRootElement,setTutorialId:e=>{this.setState({tutorialId:e})},renderAIArea:this.renderAIArea,renderAnnotationEditArea:this.renderAnnotationEditArea,renderColorPickerButton:this.renderColorPickerButton,renderColorPicker:()=>this.renderColorPicker(this.highlightButtonRef,n),highlightButtonRef:this.highlightButtonRef,setRenderColorPicker:this.setRenderColorPicker,renderSpacesButton:this.renderSpacesButton,shouldShowTooltipsAbove:"addSpaces"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState||"askAIquery"===this.state.tooltipState,tooltipState:this.state.tooltipState})),"addSpaces"===this.state.tooltipState&&this.props.renderSpacePicker&&this.props.showSpacePicker&&this.props.renderSpacePicker())),this.renderTutorialBox(),!this.colorPickerButtonRef||"askAIquery"!==this.state.tooltipState&&"addAnnotation"!==this.state.tooltipState?null:this.renderColorPicker(this.colorPickerButtonRef,n))}}j.defaultProps={getWindow:()=>window};var z=j;const K=u.a.div`
    display: flex;
    justify-content: flex-end;
    align-items: center;
    grid-gap: 10px;
`,$=u.a.div`
    display: flex;
    justify-content: flex-end;
    align-items: center;
    grid-gap: 10px;
`,W=u.a.div`
    z-index: 10;
`,V=u.a.div`
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    grid-gap: 10px;
    flex-direction: column;
    padding: 10px;
    position: relative;
    width: 100%;
`,G=u.a.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 10px;
    width: fill-available;
    width: 100%;
`,q=u.a.div`
    display: flex;
    grid-gap: 10x;
    display: flex;
    align-items: center;
    padding: 15px 15px 15px 15px;
    position: relative;
    height: fit-content;
`,Y=u.a.div`
    font-size: 14px;
    font-weight: 400;
    line-height: 1.5;
    letter-spacing: 0.2px;
    color: ${e=>e.theme.colors.greyScale7};
    padding-left: 20px;
`,J=u.a.div`
    background-color: ${e=>{var t;return null!==(t=e.color)&&void 0!==t?t:e.theme.colors.prime1}};
    margin-right: 10px;
    border-radius: 2px;
    width: 4px;
    top: 0px;
    height: calc(100% - 30px);
    position: absolute;
    margin: 15px 0px 15px 0;
    align-self: center;
    max-height: 100%;
`,X=A.keyframes`
 0% { zoom: 0.8; opacity: 0 }
 80% { zoom: 1.05; opacity: 0.8 }
 100% { zoom: 1; opacity: 1 }`,Z=u()(d.Rnd)`
    z-index: 100000;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    animation-duration: 0.1s;
    animation: ${X} cubic-bezier(0.4, 0, 0.16, 0.87);
    background: ${e=>e.theme.colors.greyScale1};
    box-shadow: 0px 22px 26px 18px rgba(0, 0, 0, 0.03);
    border-radius: 8px;
    height: fit-content;
    min-width: fit-content;
`,ee=A.keyframes`
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
`,te=A.keyframes`
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
`,ne=u.a.div`
    position: ${e=>e.screenPosition};
    width: fit-content;
    height: fit-content;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2147483647;
    pointer-events: ${e=>e.showTooltip?"auto":"none"};

    ${e=>e.showTooltip?A.css`
                  animation: ${ee} 0.15s ease-out forwards;
              `:A.css`
                  /* animation: ${te} 0.2s ease-in forwards; */
              `}
`,re=(u.a.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
`,u.a.div`
    height: 100%;
    /* ${e=>e.bottomShown&&A.css`
            border-bottom: 1px solid ${e=>e.theme.colors.greyScale2};
        `}; */
`),ie=u.a.div`
    display: flex;
    min-width: 400px;
    box-sizing: border-box;
    min-height: 230px;
    height: fill-available;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    padding: 10px;
    flex: 1;
    resize: both;
`,oe=u.a.div`
    display: flex;
    width: 100%;
    min-width: 400px;
    box-sizing: border-box;
    min-height: 200px;
    height: 100%;
    height: fill-available;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    flex: 1;
`,ae=u.a.div`
    width: fill-available;
    padding-top: 10px;
`,se=u.a.div`
    background-color: ${e=>e.color};
    border-radius: 50%;
    height: 16px;
    width: 16px;
    margin-right: 5px;
`,le=u.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: ${e=>e.theme.colors.white};
    font-weight: bold;
    padding: 15px 15px 0 15px;
    font-size: 14px;
`;var ce=n(83),Ae=n(132),ue=n(42),de=n(6),fe=n(11),pe=n(504),he=n(45),ge=n(502);class me extends s.a.Component{constructor(e){super(e),this.state={currentAnnotation:null,currentAnnotationLists:[],showSpacePicker:!1,spaceSearchResults:[],askAITabActive:!1,aiPrompt:null,currentSelection:null,showColorPicker:null},this.getAnnotationData=e=>this.props.annotationsCache.annotations.byId[e].comment,this.toggleSpacePicker=e=>{void 0===e?this.setState((e=>({showSpacePicker:!e.showSpacePicker}))):this.setState({showSpacePicker:e})},this.updateSpacesSearchSuggestions=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.props.annotationsCache.lists.allIds.filter((t=>this.props.annotationsCache.lists.byId[t].name.toLowerCase().includes(e.toLowerCase())&&"page-link"!==this.props.annotationsCache.lists.byId[t].type)).map((e=>({id:this.props.annotationsCache.lists.byId[e].localId,name:this.props.annotationsCache.lists.byId[e].name})));this.setState({spaceSearchResults:t})})),this.getAnnotationLists=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.props.annotationsCache.annotations.byId[e].unifiedListIds,n=[];for(const e of t){const t=this.props.annotationsCache.lists.byId[e];n.push(t)}return this.setState({currentAnnotationLists:n}),n})),this.setCurrentAnnotation=e=>{if(!e)return void this.setState({currentAnnotation:null,currentAnnotationLists:[]});const t=this.props.annotationsCache.annotations.byId[e];this.setState({currentAnnotation:t,currentAnnotationLists:[]})},this.selectSpaceForAnnotation=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;const{currentAnnotation:n}=this.state;if(!n)return;if(this.state.currentAnnotationLists.some((t=>t.localId===e)))return;const r=this.props.annotationsCache.getListByLocalId(e),i=[...this.state.currentAnnotationLists];i.push(r),this.setState({currentAnnotationLists:i});const o=[...null===(t=this.props.annotationsCache.annotations.byId[n.unifiedId])||void 0===t?void 0:t.unifiedListIds,r.unifiedId];this.props.annotationsCache.updateAnnotation(Object.assign(Object.assign({},n),{unifiedListIds:o,privacyLevel:fe.a.PROTECTED})),this.props.contentSharingBG.shareAnnotationToSomeLists({annotationUrl:n.localId,localListIds:[e],protectAnnotation:!0})})),this.removeSpaceForAnnotation=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{currentAnnotation:t}=this.state;if(!t)return;const n=this.props.annotationsCache.getListByLocalId(e);let r=[...this.state.currentAnnotationLists];const i=r.findIndex((t=>t.localId===e));i>-1&&r.splice(i,1),this.setState({currentAnnotationLists:r});const o=null==n?void 0:n.unifiedId,a=[...this.props.annotationsCache.annotations.byId[t.unifiedId].unifiedListIds],s=a.indexOf(o);s>-1&&a.splice(s,1),this.props.annotationsCache.updateAnnotation(Object.assign(Object.assign({},t),{unifiedListIds:[...a]})),this.props.contentSharingBG.unshareAnnotationFromList({annotationUrl:t.localId,localListId:e})})),this.addNewSpaceViaWikiLinks=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{localListId:t,remoteListId:n,collabKey:r}=yield this.props.spacesBG.createCustomList({name:e}),i={type:"user-reference",id:(yield this.props.authBG.getCurrentUser()).id};this.props.annotationsCache.addList({name:e,collabKey:r,localId:t,remoteId:n,hasRemoteAnnotationsToLoad:!1,type:"user-list",unifiedAnnotationIds:[],creator:null!=i?i:void 0,parentLocalId:null,isPrivate:!0}),yield this.selectSpaceForAnnotation(t)})),this.renderHighlightColorPicker=()=>{var e,t,n,i;return s.a.createElement(ge.a,{syncSettingsBG:this.props.syncSettingsBG,annotationId:null!==(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.unifiedId)&&void 0!==t?t:null,updateAnnotationColor:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.setState({showColorPicker:!0}),this.state.currentAnnotation?yield this.saveAnnotation(null,e):(yield this.props.createHighlight(this.state.currentSelection,!1,!1,!1,e,!1),this.setState({currentSelection:null,showColorPicker:!1}))})),selectedColor:null!==(i=null===(n=this.state.currentAnnotation)||void 0===n?void 0:n.color)&&void 0!==i?i:I.a[0].id})},this.getHighlightColorsSettings=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.syncSettings.highlightColors.get("highlightColors")})),this.saveAnnotation=(e,t,n,i)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let r,o=e;r=n?this.props.annotationsCache.annotations.byId[n]:this.state.currentAnnotation;const a=this.props.annotationsCache.annotations.byId[r.unifiedId];this.props.annotationsCache.updateAnnotation({unifiedId:a.unifiedId,remoteId:a.remoteId,comment:null!=o?o:a.comment,body:a.body,privacyLevel:a.privacyLevel,color:null!=t?t:a.color,unifiedListIds:a.unifiedListIds},{updateLastEditedTimestamp:!0});try{yield this.props.annotationsBG.editAnnotation(a.localId,o,null!=t?t:a.color,a.body)}catch(e){console.log(e)}i||this.setState({currentAnnotation:Object.assign(Object.assign({},r),{comment:o,color:null!=t?t:a.color})})})),this.renderPromptTemplates=()=>s.a.createElement(pe.a,{syncSettingsBG:this.props.syncSettingsBG,getRootElement:this.props.getRootElement,onTemplateSelect:e=>this.setState({aiPrompt:e})}),this.renderSpacePicker=e=>{if(this.state.showSpacePicker){const t=s.a.createElement(Ae.a,{authBG:this.props.authBG,spacesBG:this.props.spacesBG,annotationsCache:this.props.annotationsCache,contentSharingBG:this.props.contentSharingBG,bgScriptBG:this.props.bgScriptsBG,analyticsBG:this.props.analyticsBG,pageActivityIndicatorBG:this.props.pageActivityIndicatorBG,getRootElement:()=>this.props.mount.rootElement,localStorageAPI:this.props.localStorageAPI,selectEntry:e=>this.selectSpaceForAnnotation(e),unselectEntry:e=>this.removeSpaceForAnnotation(e),onSpaceCreate:()=>null,initialSelectedListIds:()=>{var e,t;return ue.c(this.props.annotationsCache,null!==(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.unifiedListIds)&&void 0!==t?t:[])},closePicker:()=>this.toggleSpacePicker(!1)});return e?s.a.createElement(P.a,{targetElementRef:e.current,placement:"bottom-start",getPortalRoot:this.props.getRootElement,offsetX:12,offsetY:-10,closeComponent:()=>this.toggleSpacePicker(!1),blockedBackground:!0,blockedBackgroundTransparent:!0,instaClose:!0},t):t}},this.syncSettings=Object(he.a)({syncSettingsBG:this.props.syncSettingsBG})}componentDidMount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.setState({themeVariant:yield Object(ce.a)()}),this.summarisePageEvents=Object(de.c)("pageSummary"),this.summarisePageEvents.on("setActiveSidebarTab",(({activeTab:e})=>{this.setState({askAITabActive:!0})})),document.addEventListener("selectionchange",(()=>{var e;const t=Object(L.a)(null===(e=this.props.getWindow())||void 0===e?void 0:e.getSelection());t&&this.setState({currentSelection:t})}))}))}render(){const{themeVariant:e}=this.state;if(!e)return null;const{props:t}=this;return s.a.createElement(A.StyleSheetManager,{target:t.mount.shadowRoot},s.a.createElement(A.ThemeProvider,{theme:Object(ce.b)({variant:e})},s.a.createElement(z,Object.assign({onTooltipInit:t.onTooltipInit},t.params,{context:"extension",getRootElement:()=>t.mount.rootElement,setCurrentAnnotation:this.setCurrentAnnotation,renderSpacePicker:e=>this.renderSpacePicker(e),promptTemplates:this.renderPromptTemplates,saveAnnotation:this.saveAnnotation,getAnnotationData:this.getAnnotationData,currentAnnotationLists:this.state.currentAnnotationLists,getHighlightColorsSettings:this.getHighlightColorsSettings,currentAnnotation:this.state.currentAnnotation,getAnnotationLists:this.getAnnotationLists,toggleSpacePicker:this.toggleSpacePicker,removeSpaceForAnnotation:this.removeSpaceForAnnotation,selectSpaceForAnnotation:this.selectSpaceForAnnotation,updateSpacesSearchSuggestions:this.updateSpacesSearchSuggestions,spaceSearchResults:this.state.spaceSearchResults,addNewSpaceViaWikiLinks:this.addNewSpaceViaWikiLinks,isAskAIOpen:this.state.askAITabActive,showSpacePicker:this.state.showSpacePicker,aiPrompt:this.state.aiPrompt,themeVariant:e,renderHighlightColorPicker:this.renderHighlightColorPicker,showColorPicker:this.state.showColorPicker,toggleTooltipState:t.toggleTooltipState,tooltip:t.params.tooltip,shouldInitTooltip:t.shouldInitTooltip}))))}}n(32);var ve=n(38),ye=n(107);n(279);const be="memex-tooltip-notification";const we=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){(yield ye.c(ve.b.annotation))===ve.e.annotation.notifiedSelectOption&&(yield ye.g(ve.b.annotation,e),function(){const e=document.querySelector(`.${be}`);e&&e.remove()}())}));var Be=n(110);let xe=null;let Ce,Se=null,ke=null,Ee=!1,Ie=!0;const Oe=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var t,n;Se||(Se=e.mount.rootElement,ke=yield function(e,t,n){return new Promise((i=>Object(r.__awaiter)(this,void 0,void 0,(function*(){c.a.render(s.a.createElement(me,{mount:e,params:t,onTooltipInit:i,annotationsBG:n.annotationsBG,annotationsCache:n.annotationsCache,contentSharingBG:n.contentSharingBG,authBG:n.authBG,spacesBG:n.spacesBG,bgScriptsBG:n.bgScriptsBG,analyticsBG:n.analyticsBG,pageActivityIndicatorBG:n.pageActivityIndicatorBG,localStorageAPI:n.localStorageAPI,getRootElement:n.getRootElement,inPageUI:n.inPageUI,syncSettingsBG:n.syncSettingsBG,createHighlight:t.createHighlight,getWindow:t.getWindow,toggleTooltipState:n.toggleTooltipState,tooltip:t.tooltip,shouldInitTooltip:t.shouldInitTooltip}),e.rootElement)}))))}(e.mount,{getWindow:()=>window,createAnnotation:(...t)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){yield e.createAnnotation(...t),yield we(ve.e.annotation.annotationCreated)})),createHighlight:(...t)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.createHighlight(...t)})),deleteAnnotation:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.deleteAnnotation(t)})),askAI:e.askAI,getKBShortcuts:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield Object(Be.a)(),t=({shortcut:e})=>e.split("+");return{createAnnotation:t(e.createAnnotation),createHighlight:t(e.createHighlight),addToCollection:t(e.addToCollection),copyCurrentLink:t(e.copyCurrentLink),askAI:t(e.askAI)}})),onTooltipHide:()=>e.inPageUI.hideTooltip(),onTooltipClose:()=>e.inPageUI.removeTooltip(),toggleTooltipState:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){e.toggleTooltipState})),onExternalDestroy:t=>{var n;const r=e=>{"tooltip"in e.changes&&(e.newState.tooltip||(i.a.trackEvent({category:"InPageTooltip",action:"closeTooltip"}),t()))};null===(n=e.inPageUI.events)||void 0===n||n.on("stateChanged",r),Ce=()=>{var t;return null===(t=e.inPageUI.events)||void 0===t?void 0:t.removeListener("stateChanged",r)}},getHighlightColorsSettings:()=>null,saveHighlightColorsSettings:t=>e.saveHighlightColorsSettings(t),openPDFinViewer:t=>e.openPDFinViewer(t),getRootElement:()=>Se,imageSupportBG:e.imageSupportBG,setCurrentAnnotation:()=>{},saveAnnotation:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){})),renderSpacePicker:()=>null,analyticsBG:e.analyticsBG,openAnnotationEdit:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const n=(e,n)=>{t(e.annotationCacheId,e.selection,e.openForSpaces),n&&n(!0)};e.inPageUI.events.on("tooltipAction",((e,t)=>{e.annotationCacheId||e.openForSpaces?(n(e,t),t(!0)):(n(e,t),Ie=!0),t(!0)}))})),currentAnnotation:null,getAnnotationData:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return{}})),getAnnotationLists:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return[]})),toggleSpacePicker:e=>{},removeSpaceForAnnotation:e=>{},selectSpaceForAnnotation:e=>{},updateSpacesSearchSuggestions:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return[]})),spaceSearchResults:[],addNewSpaceViaWikiLinks:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){})),openImageInPreview:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return null})),tooltip:{getState:e.tooltip.getState,setState:e.tooltip.setState},shouldInitTooltip:Ie},{annotationsBG:e.annotationsBG,annotationsCache:e.annotationsCache,analyticsBG:e.analyticsBG,contentSharingBG:e.contentSharingBG,authBG:e.authBG,spacesBG:e.spacesBG,bgScriptsBG:e.bgScriptsBG,pageActivityIndicatorBG:e.pageActivityIndicatorBG,localStorageAPI:e.localStorageAPI,getRootElement:()=>Se,inPageUI:e.inPageUI,syncSettingsBG:e.syncSettingsBG,createHighlight:e.createHighlight,getWindow:()=>window,toggleTooltipState:e.toggleTooltipState,tooltip:{getState:e.tooltip.getState,setState:e.tooltip.setState},shouldInitTooltip:Ie}),t=()=>{e.inPageUI.showTooltip()},n=null,xe=e=>{_e({callback:t,toolbarNotifications:n},e)},document.body.addEventListener("mouseup",xe),_e({callback:()=>e.inPageUI.showTooltip()}))})),Fe=e=>{var t;(Ee=!!(null==e?void 0:e.override),Se)&&(null==Ce||Ce(),document.body.removeEventListener("mouseup",xe),xe=null,t=Se,c.a.unmountComponentAtNode(t),Se.remove(),Se=null,ke=null)},De=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){null==ke&&(yield Oe(e));let t=0;for(;null==ke&&t<20;)yield new Promise((e=>setTimeout(e,50*Math.pow(1.5,t)))),t++;if(null==ke)return void console.error("Failed to initialize showTooltip after multiple attempts");const n=Te();ke(n)})),_e=Object(o.a)((({callback:e,toolbarNotifications:t},n)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){if(!Ue()||n&&function(e){const t=document.querySelector("#memex-tooltip-container");if(!t)return!0;return t.contains(e.target)}(n))return;let o;o=Te(),i.a.trackEvent({category:"InPageTooltip",action:"showTooltip"}),e(o),(({toolbarNotifications:e,position:t})=>{Object(r.__awaiter)(void 0,void 0,void 0,(function*(){ye.e()&&(yield ye.c(ve.b.annotation))===ve.e.annotation.notifiedHighlightText&&(e._destroyRootElement(),yield ye.g(ve.b.annotation,ve.e.annotation.notifiedSelectOption))}))})({toolbarNotifications:t,position:o})}))),10);function Te(){const e=document.getSelection();if(!e||0===e.rangeCount)return{x:window.innerWidth/2,y:window.innerHeight/2};const t=e.getRangeAt(0).getBoundingClientRect();return{x:t.left+t.width/2,y:window.pageYOffset+t.top+t.height}}function Ue(){const e=document.getSelection();if("None"===e.type)return!1;const t=e.toString().trim(),n=function(e){let t=e.parentElement;for(;t;){if("true"===t.contentEditable||"A"===t.nodeName)return!0;t=t.parentElement}return!1}(e.getRangeAt(0).commonAncestorContainer);return!(!e||e.isCollapsed||!t||n)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=yield e.getPage(1),n=yield(yield t.getTextContent()).items;let r=0,i="";for(const e of n)e.transform.some((e=>e<0))||e.height>r&&(r=e.height);for(const e of n)if(!e.transform.some((e=>e<0)))if(i.length>0&&e.height===r)i=i+" "+e.str;else if(0===i.length&&e.height===r)i=e.str;else if(i.length>0&&e.height<r)break;return i}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(2);const i=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result.toString()),r.onerror=()=>n(r.error),r.readAsDataURL(e)}))}));function o(e){const t=e.split(","),n=atob(t[1]),r=t[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return new Blob([i],{type:r})}function a(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>{const e=window.devicePixelRatio||1,i=document.createElement("canvas"),o=i.getContext("2d");o?(r.width=r.width/e,r.height=r.height/e,i.width=r.width,i.height=r.height,o.drawImage(r,0,0,r.width,r.height),t(i)):n(new Error("Canvas 2d context is not supported."))},r.onerror=()=>{n(new Error("Failed to load the image."))},r.src=e}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="@Highlights-color"},,,,,,,,function(e,t,n){"use strict";var r=n(220),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,A=60116;if("function"==typeof Symbol&&Symbol.for){var u=Symbol.for;i=u("react.element"),o=u("react.portal"),t.Fragment=u("react.fragment"),t.StrictMode=u("react.strict_mode"),t.Profiler=u("react.profiler"),a=u("react.provider"),s=u("react.context"),l=u("react.forward_ref"),t.Suspense=u("react.suspense"),c=u("react.memo"),A=u("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function g(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}function m(){}function v(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var y=v.prototype=new m;y.constructor=v,r(y,g.prototype),y.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!B.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),A=0;A<l;A++)c[A]=arguments[A+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+k(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),E(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var A=r+k(s=e[c],c);l+=E(s,t,n,A,a)}else if(A=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof A)for(e=A.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,n,A=r+k(s,c++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var F={current:null};function D(){var e=F.current;if(null===e)throw Error(f(321));return e}var _={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(A in t)w.call(t,A)&&!B.hasOwnProperty(A)&&(o[A]=void 0===t[A]&&void 0!==c?c[A]:t[A])}var A=arguments.length-2;if(1===A)o.children=n;else if(1<A){c=Array(A);for(var u=0;u<A;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:A,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.0-alpha.0-2d131d782"},function(e,t,n){"use strict";var r=n(0),i=n(220),o=n(523);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){A(e,t),A(e+"Capture",t)}function A(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},h={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=60103,x=60106,C=60107,S=60108,k=60114,E=60109,I=60110,O=60112,F=60113,D=60120,_=60115,T=60116,U=60121,M=60128,L=60129,Q=60130,R=60131;if("function"==typeof Symbol&&Symbol.for){var P=Symbol.for;B=P("react.element"),x=P("react.portal"),C=P("react.fragment"),S=P("react.strict_mode"),k=P("react.profiler"),E=P("react.provider"),I=P("react.context"),O=P("react.forward_ref"),F=P("react.suspense"),D=P("react.suspense_list"),_=P("react.memo"),T=P("react.lazy"),U=P("react.block"),P("react.scope"),M=P("react.opaque.id"),L=P("react.debug_trace_mode"),Q=P("react.offscreen"),R=P("react.legacy_hidden")}var H,N="function"==typeof Symbol&&Symbol.iterator;function j(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}function z(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var K=!1;function $(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 22:return e=$(e.type._render,!1);case 1:return e=$(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case k:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return V(e.type);case U:return V(e._render);case T:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ue="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,ge,me=(ge=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ie=null,Oe=null;function Fe(e){if(e=Yr(e)){if("function"!=typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=Xr(t),Ee(e.stateNode,e.type,t))}}function De(e){Ie?Oe?Oe.push(e):Oe=[e]:Ie=e}function _e(){if(Ie){var e=Ie,t=Oe;if(Oe=Ie=null,Fe(e),t)for(e=0;e<t.length;e++)Fe(t[e])}}function Te(e,t){return e(t)}function Ue(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Te,Qe=!1,Re=!1;function Pe(){null===Ie&&null===Oe||(Me(),_e())}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=Xr(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ge){Ne=!1}function ze(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ke=!1,$e=null,We=!1,Ve=null,Ge={onError:function(e){Ke=!0,$e=e}};function qe(e,t,n,r,i,o,a,s,l){Ke=!1,$e=null,ze.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,lt=null,ct=null,At=new Map,ut=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=Yr(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=qr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Yr(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=Yr(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&vt(st)&&(st=null),null!==lt&&vt(lt)&&(lt=null),null!==ct&&vt(ct)&&(ct=null),At.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Bt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==lt&&wt(lt,e),null!==ct&&wt(ct,e),At.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},kt={};function Et(e){if(St[e])return St[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return St[e]=n[t];return e}u&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var It=Et("animationend"),Ot=Et("animationiteration"),Ft=Et("animationstart"),Dt=Et("transitionend"),_t=new Map,Tt=new Map,Ut=["abort","abort",It,"animationEnd",Ot,"animationIteration",Ft,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Tt.set(r,t),_t.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Qt(e){if(1&e)return Lt=15,1;if(2&e)return Lt=14,2;if(4&e)return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):32&e?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):256&e?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):4096&e?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):134217728&e?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):1073741824&e?(Lt=1,1073741824):(Lt=8,e)}function Rt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Qt(l),i=Lt):0!==(s&=o)&&(r=Qt(s),i=Lt)}else 0!==(o=n&~a)?(r=Qt(o),i=Lt):0!==s&&(r=Qt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&a)){if(Qt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ht(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Nt(24&~t))?Ht(10,t):e;case 10:return 0===(e=Nt(192&~t))?Ht(8,t):e;case 8:return 0===(e=Nt(3584&~t))&&(0===(e=Nt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Nt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Nt(e){return e&-e}function jt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/$t|0)|0},Kt=Math.log,$t=Math.LN2;var Wt=o.unstable_UserBlockingPriority,Vt=o.unstable_runWithPriority,Gt=!0;function qt(e,t,n,r){Qe||Me();var i=Jt,o=Qe;Qe=!0;try{Ue(i,e,t,n,r)}finally{(Qe=o)||Pe()}}function Yt(e,t,n,r){Vt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Gt)if((i=!(4&t))&&0<at.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&ht(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return lt=gt(lt,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,gt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,gt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ht(e,r)}Ir(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=ke(r);if(null!==(i=qr(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0};function an(){return!0}function sn(){return!1}function ln(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:on;for(var a in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=i,this.currentTarget=null,o)if(o.hasOwnProperty(a)){var s=o[a];this[a]=s?s(r):r[a]}return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?an:sn,this.isPropagationStopped=sn,this}i(ln.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an});var cn,An,un,dn=i({},on,{view:0,detail:0}),fn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,An=e.screenY-un.screenY):An=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:An}}),pn=i({},fn,{dataTransfer:0}),hn=i({},dn,{relatedTarget:0}),gn=i({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),mn=i({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=i({},on,{data:0}),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function xn(){return Bn}var Cn=i({},dn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=i({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kn=i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn}),En=i({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),In=i({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=[9,13,27,32],Fn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var _n=u&&"TextEvent"in window&&!Dn,Tn=u&&(!Fn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Mn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Nn(e,t,n,r){n=new ln("onChange","change",null,n,r),De(r),Fr(t,e,n)}var jn=null,zn=null;function Kn(e){Br(e,0)}function $n(e){if(J(Jr(e)))return e}function Wn(e,t){if("change"===e)return t}var Vn=!1;if(u){var Gn;if(u){var qn="oninput"in document;if(!qn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),qn="function"==typeof Yn.oninput}Gn=qn}else Gn=!1;Vn=Gn&&(!document.documentMode||9<document.documentMode)}function Jn(){jn&&(jn.detachEvent("onpropertychange",Xn),zn=jn=null)}function Xn(e){if("value"===e.propertyName&&$n(zn)){var t=[];if(Nn(t,zn,e,ke(e)),e=Kn,Qe)e(t);else{Qe=!0;try{Te(e,t)}finally{Qe=!1,Pe()}}}}function Zn(e,t,n){"focusin"===e?(Jn(),zn=n,(jn=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Jn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(zn)}function tr(e,t){if("click"===e)return $n(t)}function nr(e,t){if("input"===e||"change"===e)return $n(t)}var rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ir=Object.prototype.hasOwnProperty;function or(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ir.call(t,n[r])||!rr(e[n[r]],t[n[r]]))return!1;return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ur=u&&"documentMode"in document&&11>=document.documentMode,dr=null,fr=null,pr=null,hr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==dr||dr!==X(r)||("selectionStart"in(r=dr)&&Ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&or(pr,r)||(pr=r,(t=new ln("onSelect","select",null,t,n)).target=dr,Fr(fr,e,t)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Ut,2);for(var mr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),vr=0;vr<mr.length;vr++)Tt.set(mr[vr],0);A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),br=new Set("cancel close invalid load scroll toggle".split(" ").concat(yr));function wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(qe.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var A=$e;Ke=!1,$e=null,We||(We=!0,Ve=A)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;wr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;wr(i,s,c),o=l}}}if(We)throw e=Ve,We=!1,Ve=null,e}function xr(e,t){var n=Zr(t),r=e+"__bubble";void 0===n.get(r)&&(e=Er(t,e,2,!1),n.set(r,{passive:!1,listener:e}))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){br.has(t)||kr(t,!1,e,null),kr(t,!0,e,null)})))}function kr(e,t,n,r,i,o){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),void 0!==i||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),null!==r&&!t&&br.has(e)){if("scroll"!==e)return;a|=2,s=r}var l=Zr(s),c=e+"__"+(t?"capture":"bubble"),A=l.get(c),u=void 0!==A&&!0===A.passive&&!i;(void 0===A||u)&&(u&&s.removeEventListener(e,A.listener,t),t&&(a|=4),a=Er(s,e,a,t,!1,i,o),l.set(c,{passive:i,listener:a}))}function Er(e,t,n,r,i,o,a){switch(void 0===a?i=void 0===(i=Tt.get(t))?2:i:i=a,i){case 0:i=qt;break;case 1:i=Yt;break;default:i=Jt}return n=i.bind(null,t,n,e),!0!==o||Ne||(o=!1),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1),n}function Ir(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=qr(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Re)return e(t,n);Re=!0;try{return Le(e,t,n)}finally{Re=!1,Pe()}}((function(){var r=o,i=ke(n),a=[];e:{var s=_t.get(e);if(void 0!==s){var l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":var c=Cn;break;case"focusin":l="focus",c=hn;break;case"focusout":l="blur",c=hn;break;case"beforeblur":case"afterblur":c=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case It:case Ot:case Ft:c=gn;break;case Dt:c=En;break;case"scroll":c=dn;break;case"wheel":c=In;break;case"copy":case"cut":case"paste":c=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Sn}s=new ln(s,l,null,n,i,c),l=!(c=!!(4&t))&&"scroll"===e;for(var A=s._reactName,u=null!==A?A+"Capture":null,d=[],f=r;null!==f;){var p=f,h=p.stateNode;if(5===p.tag&&null!==h&&(p=h,null!==u&&c&&(null!=(h=He(f,u))&&d.push(Or(f,h,p))),null===A||c||null!=(h=He(f,A))&&d.push(Or(f,h,p))),l)break;f=f.return}0!==d.length&&a.push({event:s,listeners:d})}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(l=n.relatedTarget||n.fromElement)||!qr(l)&&!l[Vr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?qr(l):null)&&(l!==(A=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,h="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Sn,h="onPointerLeave",d="onPointerEnter",f="pointer"),A=null==c?s:Jr(c),p=null==l?s:Jr(l),(s=new ln(h,f+"leave",c,n,i,u)).target=A,s.relatedTarget=p,h=null,qr(i)===r&&((u=new ln(d,f+"enter",l,n,i,u)).target=p,u.relatedTarget=A,h=u),A=h,c&&l)e:{for(d=l,f=0,p=u=c;p;p=Dr(p))f++;for(p=0,h=d;h;h=Dr(h))p++;for(;0<f-p;)u=Dr(u),f--;for(;0<p-f;)d=Dr(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Dr(u),d=Dr(d)}u=null}else u=null;null!==c&&_r(a,s,c,u,!1),null!==l&&null!==A&&_r(a,A,l,u,!0)}if("select"===(c=(s=r?Jr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Wn;else if(Hn(s))if(Vn)g=nr;else{g=er;var m=Zn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?Nn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?Jr(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(dr=m,fr=r,pr=null);break;case"focusout":pr=fr=dr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,gr(a,n,i);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":gr(a,n,i)}var v;if(Fn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Rn?Ln(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Tn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Rn&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Rn=!0)),Fr(r,a,y=new ln(y,e,null,n,i,vn)),v?y.data=v:null!==(v=Qn(n))&&(y.data=v)),(v=_n?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Un);case"textInput":return(e=t.data)===Un&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Fn&&Ln(e,t)?(e=nn(),tn=en=Zt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(Fr(r,a,i=new ln("onBeforeInput","beforeinput",null,n,i,vn)),i.data=v)}Br(a,t)}))}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t,n){for(var r=n._reactName,i=null!==r?r+"Capture":null,o=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!==i&&(null!=(s=He(e,i))&&o.unshift(Or(e,s,a))),null!==r&&(null!=(s=He(e,r))&&o.push(Or(e,s,a)))),e=e.return}0!==o.length&&t.push({event:n,listeners:o})}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=He(n,o))&&a.unshift(Or(n,l,s)):i||null!=(l=He(n,o))&&a.push(Or(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Tr(){}var Ur=null,Mr=null;function Lr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Rr="function"==typeof setTimeout?setTimeout:void 0,Pr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Nr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function jr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var zr=0;var Kr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Kr,Wr="__reactProps$"+Kr,Vr="__reactContainer$"+Kr,Gr="__reactEvents$"+Kr;function qr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=jr(e);null!==e;){if(n=e[$r])return n;e=jr(e)}return t}n=(e=n).parentNode}return null}function Yr(e){return!(e=e[$r]||e[Vr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Jr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Xr(e){return e[Wr]||null}function Zr(e){var t=e[Gr];return void 0===t&&(t=e[Gr]=new Map),t}var ei=[],ti=-1;function ni(e){return{current:e}}function ri(e){0>ti||(e.current=ei[ti],ei[ti]=null,ti--)}function ii(e,t){ti++,ei[ti]=e.current,e.current=t}var oi={},ai=ni(oi),si=ni(!1),li=oi;function ci(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!=(e=e.childContextTypes)}function ui(){ri(si),ri(ai)}function di(e,t,n){if(ai.current!==oi)throw Error(a(168));ii(ai,t),ii(si,n)}function fi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,V(t)||"Unknown",o));return i({},n,r)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,li=ai.current,ii(ai,e),ii(si,si.current),!0}function hi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=fi(e,t,li),r.__reactInternalMemoizedMergedChildContext=e,ri(si),ri(ai),ii(ai,e)):ri(si),ii(si,n)}var gi=null,mi=null,vi=o.unstable_runWithPriority,yi=o.unstable_scheduleCallback,bi=o.unstable_cancelCallback,wi=o.unstable_shouldYield,Bi=o.unstable_requestPaint,xi=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Si=o.unstable_ImmediatePriority,ki=o.unstable_UserBlockingPriority,Ei=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Fi={},Di=void 0!==Bi?Bi:function(){},_i=null,Ti=null,Ui=!1,Mi=xi(),Li=1e4>Mi?xi:function(){return xi()-Mi};function Qi(){switch(Ci()){case Si:return 99;case ki:return 98;case Ei:return 97;case Ii:return 96;case Oi:return 95;default:throw Error(a(332))}}function Ri(e){switch(e){case 99:return Si;case 98:return ki;case 97:return Ei;case 96:return Ii;case 95:return Oi;default:throw Error(a(332))}}function Pi(e,t){return e=Ri(e),vi(e,t)}function Hi(e,t,n){return e=Ri(e),yi(e,t,n)}function Ni(){if(null!==Ti){var e=Ti;Ti=null,bi(e)}ji()}function ji(){if(!Ui&&null!==_i){Ui=!0;var e=0;try{var t=_i;Pi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),_i=null}catch(t){throw null!==_i&&(_i=_i.slice(e+1)),yi(Si,Ni),t}finally{Ui=!1}}}function zi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ni(null),$i=null,Wi=null,Vi=null;function Gi(){Vi=Wi=$i=null}function qi(e){var t=Ki.current;ri(Ki),e.type._context._currentValue=t}function Yi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Ji(e,t){$i=e,Vi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Fa=!0),e.firstContext=null)}function Xi(e,t){if(Vi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Vi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Wi){if(null===$i)throw Error(a(308));Wi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Wi=Wi.next=t;return e._currentValue}var Zi=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function to(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function no(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,r){var o=e.updateQueue;Zi=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,A=c.next;c.next=null,null===s?a=A:s.next=A,s=c;var u=e.alternate;if(null!==u){var d=(u=u.updateQueue).lastBaseUpdate;d!==s&&(null===d?u.firstBaseUpdate=A:d.next=A,u.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,u=A=c=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,h=a;switch(l=t,f=n,h.tag){case 1:if("function"==typeof(p=h.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.effectTag=-4097&p.effectTag|64;case 0:if(null==(l="function"==typeof(p=h.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:Zi=!0}}null!==a.callback&&(e.effectTag|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(A=u=f,c=d):u=u.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=A,o.lastBaseUpdate=u,Us|=s,e.lanes=s,e.memoizedState=d}}function ao(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var so=w.ReactCurrentBatchConfig,lo=(new r.Component).refs;function co(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ao={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ol(),i=al(e,so.suspense),o=no(r,i);o.payload=t,null!=n&&(o.callback=n),ro(e,o),sl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ol(),i=al(e,so.suspense),o=no(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ro(e,o),sl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ol(),r=al(e,so.suspense),i=no(n,r);i.tag=2,null!=t&&(i.callback=t),ro(e,i),sl(e,r,n)}};function uo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,o))}function fo(e,t,n){var r=!1,i=oi,o=t.contextType;return"object"==typeof o&&null!==o?o=Xi(o):(i=Ai(t)?li:ai.current,o=(r=null!=(r=t.contextTypes))?ci(e,i):oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ao,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function po(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=lo,eo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Xi(o):(o=Ai(t)?li:ai.current,i.context=ci(e,o)),oo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(co(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ao.enqueueReplaceState(i,i.state,null),oo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var go=Array.isArray;function mo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===lo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function vo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function yo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=mo(e,t,n),r.return=e,r):((r=Hl(n.type,n.key,n.props,null,e.mode,r)).ref=mo(e,t,n),r.return=e,r)}function A(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Nl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case B:return(n=Hl(t.type,t.key,t.props,null,e.mode,n)).ref=mo(e,null,t),n.return=e,n;case x:return(t=Kl(t,e.mode,n)).return=e,t}if(go(t)||j(t))return(t=Nl(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case B:return n.key===i?n.type===C?u(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?A(e,t,n,r):null}if(go(n)||j(n))return null!==i?null:u(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case B:return e=e.get(null===r.key?n:r.key)||null,r.type===C?u(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return A(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(go(r)||j(r))return u(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function h(i,a,s,l){for(var c=null,A=null,u=a,h=a=0,g=null;null!==u&&h<s.length;h++){u.index>h?(g=u,u=null):g=u.sibling;var m=f(i,u,s[h],l);if(null===m){null===u&&(u=g);break}e&&u&&null===m.alternate&&t(i,u),a=o(m,a,h),null===A?c=m:A.sibling=m,A=m,u=g}if(h===s.length)return n(i,u),c;if(null===u){for(;h<s.length;h++)null!==(u=d(i,s[h],l))&&(a=o(u,a,h),null===A?c=u:A.sibling=u,A=u);return c}for(u=r(i,u);h<s.length;h++)null!==(g=p(u,i,h,s[h],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?h:g.key),a=o(g,a,h),null===A?c=g:A.sibling=g,A=g);return e&&u.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var A=j(l);if("function"!=typeof A)throw Error(a(150));if(null==(l=A.call(l)))throw Error(a(151));for(var u=A=null,h=s,g=s=0,m=null,v=l.next();null!==h&&!v.done;g++,v=l.next()){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,v.value,c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,g),null===u?A=y:u.sibling=y,u=y,h=m}if(v.done)return n(i,h),A;if(null===h){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=o(v,s,g),null===u?A=v:u.sibling=v,u=v);return A}for(h=r(i,h);!v.done;g++,v=l.next())null!==(v=p(h,i,g,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),s=o(v,s,g),null===u?A=v:u.sibling=v,u=v);return e&&h.forEach((function(e){return t(i,e)})),A}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===C&&null===o.key;c&&(o=o.props.children);var A="object"==typeof o&&null!==o;if(A)switch(o.$$typeof){case B:e:{for(A=o.key,c=r;null!==c;){if(c.key===A){if(7===c.tag){if(o.type===C){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=mo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===C?((r=Nl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Hl(o.type,o.key,o.props,null,e.mode,l)).ref=mo(e,r,o),l.return=e,e=l)}return s(e);case x:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Kl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=zl(o,e.mode,l)).return=e,e=r),s(e);if(go(o))return h(e,r,o,l);if(j(o))return g(e,r,o,l);if(A&&vo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,V(e.type)||"Component"))}return n(e,r)}}var bo=yo(!0),wo=yo(!1),Bo={},xo=ni(Bo),Co=ni(Bo),So=ni(Bo);function ko(e){if(e===Bo)throw Error(a(174));return e}function Eo(e,t){switch(ii(So,t),ii(Co,e),ii(xo,Bo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ri(xo),ii(xo,t)}function Io(){ri(xo),ri(Co),ri(So)}function Oo(e){ko(So.current);var t=ko(xo.current),n=pe(t,e.type);t!==n&&(ii(Co,e),ii(xo,n))}function Fo(e){Co.current===e&&(ri(xo),ri(Co))}var Do=ni(0);function _o(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.effectTag)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var To=null,Uo=null,Mo=!1;function Lo(e,t){var n=Ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ro(e){if(Mo){var t=Uo;if(t){var n=t;if(!Qo(e,t)){if(!(t=Nr(n.nextSibling))||!Qo(e,t))return e.effectTag=-1025&e.effectTag|2,Mo=!1,void(To=e);Lo(To,n)}To=e,Uo=Nr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Mo=!1,To=e}}function Po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;To=e}function Ho(e){if(e!==To)return!1;if(!Mo)return Po(e),Mo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Qr(t,e.memoizedProps))for(t=Uo;t;)Lo(e,t),t=Nr(t.nextSibling);if(Po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Nr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=To?Nr(e.stateNode.nextSibling):null;return!0}function No(){Uo=To=null,Mo=!1}var jo=[];function zo(){for(var e=0;e<jo.length;e++)jo[e]._workInProgressVersionPrimary=null;jo.length=0}var Ko=w.ReactCurrentDispatcher,$o=w.ReactCurrentBatchConfig,Wo=0,Vo=null,Go=null,qo=null,Yo=!1,Jo=!1;function Xo(){throw Error(a(321))}function Zo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,i,o){if(Wo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?ka:Ea,e=n(r,i),Jo){o=0;do{if(Jo=!1,!(25>o))throw Error(a(301));o+=1,qo=Go=null,t.updateQueue=null,Ko.current=Ia,e=n(r,i)}while(Jo)}if(Ko.current=Sa,t=null!==Go&&null!==Go.next,Wo=0,qo=Go=Vo=null,Yo=!1,t)throw Error(a(300));return e}function ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Vo.memoizedState=qo=e:qo=qo.next=e,qo}function na(){if(null===Go){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===qo?Vo.memoizedState:qo.next;if(null!==t)qo=t,Go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===qo?Vo.memoizedState=qo=e:qo=qo.next=e}return qo}function ra(e,t){return"function"==typeof t?t(e):t}function ia(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var A=c.lane;if((Wo&A)===A)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var u={lane:A,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=u,o=r):l=l.next=u,Vo.lanes|=A,Us|=A}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,rr(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function oa(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);rr(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function aa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Wo&e)===e)&&(t._workInProgressVersionPrimary=r,jo.push(t))),e)return n(t._source);throw jo.push(t),Error(a(350))}function sa(e,t,n,r){var i=ks;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Ko.current,c=l.useState((function(){return aa(i,t,n)})),A=c[1],u=c[0];c=qo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,h=d.source;d=d.subscribe;var g=Vo;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=A;var e=o(t._source);if(!rr(s,e)){e=n(t._source),rr(u,e)||(A(e),e=al(g,so.suspense),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-zt(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=al(g,so.suspense);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),rr(p,n)&&rr(h,t)&&rr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:u}).dispatch=A=Ca.bind(null,Vo,e),c.queue=e,c.baseQueue=null,u=aa(i,t,n),c.memoizedState=c.baseState=u),u}function la(e,t,n){return sa(na(),e,t,n)}function ca(e){var t=ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e}).dispatch=Ca.bind(null,Vo,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ua(){return na().memoizedState}function da(e,t,n,r){var i=ta();Vo.effectTag|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function fa(e,t,n,r){var i=na();r=void 0===r?null:r;var o=void 0;if(null!==Go){var a=Go.memoizedState;if(o=a.destroy,null!==r&&Zo(r,a.deps))return void Aa(t,n,o,r)}Vo.effectTag|=e,i.memoizedState=Aa(1|t,n,o,r)}function pa(e,t){return da(516,4,e,t)}function ha(e,t){return fa(516,4,e,t)}function ga(e,t){return fa(4,2,e,t)}function ma(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function va(e,t,n){return n=null!=n?n.concat([e]):null,fa(4,2,ma.bind(null,t,e),n)}function ya(){}function ba(e,t){return ta().memoizedState=[e,void 0===t?null:t],e}function wa(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xa(e,t,n){var r=Qi();Pi(98>r?98:r,(function(){e(!0)})),Pi(97<r?97:r,(function(){var r=$o.suspense;$o.suspense=void 0===t?null:t;try{e(!1),n()}finally{$o.suspense=r}}))}function Ca(e,t,n){var r=ol(),i=al(e,so.suspense),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Vo||null!==a&&a===Vo)Jo=Yo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,rr(l,s))return}catch(e){}sl(e,i,r)}}var Sa={readContext:Xi,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo,useDeferredValue:Xo,useTransition:Xo,useMutableSource:Xo,useOpaqueIdentifier:Xo,unstable_isNewReconciler:!1},ka={readContext:Xi,useCallback:ba,useContext:Xi,useEffect:pa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,da(4,2,ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4,2,e,t)},useMemo:function(e,t){var n=ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ca.bind(null,Vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ta().memoizedState=e},useState:ca,useDebugValue:ya,useDeferredValue:function(e,t){var n=ca(e),r=n[0],i=n[1];return pa((function(){var n=$o.suspense;$o.suspense=void 0===t?null:t;try{i(e)}finally{$o.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ca(!1),n=t[0];return t=t[1],[ba(xa.bind(null,t,e),[t,e]),n]},useMutableSource:function(e,t,n){var r=ta();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},sa(r,e,t,n)},useOpaqueIdentifier:function(){if(Mo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(zr++).toString(36))),Error(a(355))})),n=ca(t)[1];return!(2&Vo.mode)&&(Vo.effectTag|=516,Aa(5,(function(){n("r:"+(zr++).toString(36))}),void 0,null)),t}return ca(t="r:"+(zr++).toString(36)),t},unstable_isNewReconciler:!1},Ea={readContext:Xi,useCallback:wa,useContext:Xi,useEffect:ha,useImperativeHandle:va,useLayoutEffect:ga,useMemo:Ba,useReducer:ia,useRef:ua,useState:function(){return ia(ra)},useDebugValue:ya,useDeferredValue:function(e,t){var n=ia(ra),r=n[0],i=n[1];return ha((function(){var n=$o.suspense;$o.suspense=void 0===t?null:t;try{i(e)}finally{$o.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(ra),n=t[0];return t=t[1],[wa(xa.bind(null,t,e),[t,e]),n]},useMutableSource:la,useOpaqueIdentifier:function(){return ia(ra)[0]},unstable_isNewReconciler:!1},Ia={readContext:Xi,useCallback:wa,useContext:Xi,useEffect:ha,useImperativeHandle:va,useLayoutEffect:ga,useMemo:Ba,useReducer:oa,useRef:ua,useState:function(){return oa(ra)},useDebugValue:ya,useDeferredValue:function(e,t){var n=oa(ra),r=n[0],i=n[1];return ha((function(){var n=$o.suspense;$o.suspense=void 0===t?null:t;try{i(e)}finally{$o.suspense=n}}),[e,t]),r},useTransition:function(e){var t=oa(ra),n=t[0];return t=t[1],[wa(xa.bind(null,t,e),[t,e]),n]},useMutableSource:la,useOpaqueIdentifier:function(){return oa(ra)[0]},unstable_isNewReconciler:!1},Oa=w.ReactCurrentOwner,Fa=!1;function Da(e,t,n,r){t.child=null===e?wo(t,null,n,r):bo(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return Ji(t,i),r=ea(e,t,n,r,o,i),null===e||Fa?(t.effectTag|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~i,Xa(e,t,i))}function Ta(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,i,o))}return a=e.child,i&o||(i=a.memoizedProps,!(n=null!==(n=n.compare)?n:or)(i,r)||e.ref!==t.ref)?(t.effectTag|=1,(e=Pl(a,r)).ref=t.ref,e.return=t,t.child=e):Xa(e,t,o)}function Ua(e,t,n,r,i,o){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(Fa=!1,!(o&i))return t.lanes=e.lanes,Xa(e,t,o);16384&e.effectTag&&(Fa=!0)}return Qa(e,t,n,r,o)}function Ma(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},hl(t,e),null;t.memoizedState={baseLanes:0},hl(t,null!==o?o.baseLanes:n)}else t.memoizedState={baseLanes:0},hl(t,n);else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,hl(t,r);return Da(e,t,i,n),t.child}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Qa(e,t,n,r,i){var o=Ai(n)?li:ai.current;return o=ci(t,o),Ji(t,i),n=ea(e,t,n,r,o,i),null===e||Fa?(t.effectTag|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~i,Xa(e,t,i))}function Ra(e,t,n,r,i){if(Ai(n)){var o=!0;pi(t)}else o=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),fo(t,n,r),ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Xi(c):c=ci(t,c=Ai(n)?li:ai.current);var A=n.getDerivedStateFromProps,u="function"==typeof A||"function"==typeof a.getSnapshotBeforeUpdate;u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&po(t,a,r,c),Zi=!1;var d=t.memoizedState;a.state=d,oo(t,r,a,i),l=t.memoizedState,s!==r||d!==l||si.current||Zi?("function"==typeof A&&(co(t,n,A,r),l=t.memoizedState),(s=Zi||uo(t,n,s,r,d,l,c))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else{a=t.stateNode,to(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:zi(t.type,s),a.props=c,u=t.pendingProps,d=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Xi(l):l=ci(t,l=Ai(n)?li:ai.current);var f=n.getDerivedStateFromProps;(A="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==u||d!==l)&&po(t,a,r,l),Zi=!1,d=t.memoizedState,a.state=d,oo(t,r,a,i);var p=t.memoizedState;s!==u||d!==p||si.current||Zi?("function"==typeof f&&(co(t,n,f,r),p=t.memoizedState),(c=Zi||uo(t,n,c,r,d,p,l))?(A||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=256),r=!1)}return Pa(e,t,n,r,o,i)}function Pa(e,t,n,r,i,o){La(e,t);var a=!!(64&t.effectTag);if(!r&&!a)return i&&hi(t,n,!1),Xa(e,t,o);r=t.stateNode,Oa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=bo(t,e.child,null,o),t.child=bo(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&hi(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&di(0,t.context,!1),Eo(e,t.containerInfo)}var Na,ja,za,Ka,$a={dehydrated:null,retryLane:0};function Wa(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=!!(64&t.effectTag))||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ii(Do,1&o),null===e?(void 0!==i.fallback&&Ro(t),a?(e=i.fallback,o=t.mode,a=t.child,i={mode:"hidden",children:i.children},2&o||null===a?a=jl(i,o,0,null):(a.childLanes=0,a.pendingProps=i),e=Nl(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState={baseLanes:n},t.memoizedState=$a,e):((n=jl({mode:"visible",children:i.children},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Ga(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$a,i):(n=Va(e,t,i.children,n),t.memoizedState=null,n))}function Va(e,t,n,r){var i=e.child;return e=i.sibling,n=Pl(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.effectTag=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ga(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 2&o||t.child===a?n=Pl(a,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=Pl(e,r):(r=Nl(r,o,i,null)).effectTag|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function qa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Yi(e.return,t)}function Ya(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),2&(r=Do.current))r=1&r|2,t.effectTag|=64;else{if(null!==e&&64&e.effectTag)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n);else if(19===e.tag)qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ii(Do,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===_o(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===_o(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,o,t.lastEffect);break;case"together":Ya(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Za(e,t){if(!Mo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Ai(t.type)&&ui(),null;case 3:return Io(),ri(si),ri(ai),zo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.effectTag|=4:r.hydrate||(t.effectTag|=256)),ja(t),null;case 5:Fo(t);var o=ko(So.current);if(n=t.type,null!==e&&null!=t.stateNode)za(e,t,n,r,o),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=ko(xo.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Wr]=s,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<yr.length;e++)xr(yr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,s),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xr("invalid",r);break;case"textarea":le(r,s),xr("invalid",r)}for(var c in Ce(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),Ae(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Tr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===ue&&(e=fe(n)),e===ue?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Wr]=r,Na(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":xr("cancel",e),xr("close",e),o=r;break;case"iframe":case"object":case"embed":xr("load",e),o=r;break;case"video":case"audio":for(o=0;o<yr.length;o++)xr(yr[o],e);o=r;break;case"source":xr("error",e),o=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),o=r;break;case"details":xr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),xr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),xr("invalid",e);break;default:o=r}Ce(n,o);var A=o;for(s in A)if(A.hasOwnProperty(s)){var u=A[s];"style"===s?Be(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&me(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&ve(e,u):"number"==typeof u&&ve(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=u&&"onScroll"===s&&xr("scroll",e):null!=u&&b(e,s,u,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),Ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Tr)}Lr(n,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ka(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=ko(So.current),ko(xo.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ri(Do),r=t.memoizedState,64&t.effectTag?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Do.current?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===ks||!(134217727&Us)&&!(134217727&Ms)||ul(ks,Is))),(r||n)&&(t.effectTag|=4),null);case 4:return Io(),ja(t),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return qi(t),null;case 19:if(ri(Do),null===(r=t.memoizedState))return null;if(s=!!(64&t.effectTag),null===(c=r.rendering))if(s)Za(r,!1);else{if(0!==Ds||null!==e&&64&e.effectTag)for(e=t.child;null!==e;){if(null!==(c=_o(e))){for(t.effectTag|=64,Za(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ii(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Li()>Ps&&(t.effectTag|=64,s=!0,Za(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=_o(c))){if(t.effectTag|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Za(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Mo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Li()-r.renderingStartTime>Ps&&1073741824!==n&&(t.effectTag|=64,s=!0,Za(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Li(),n.sibling=null,t=Do.current,ii(Do,s?1&t|2:1&t),n):null;case 23:case 24:return gl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.effectTag|=4),null}throw Error(a(156,t.tag))}function ts(e){switch(e.tag){case 1:Ai(e.type)&&ui();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Io(),ri(si),ri(ai),zo(),64&(t=e.effectTag))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Fo(e),null;case 13:return ri(Do),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ri(Do),null;case 4:return Io(),null;case 10:return qi(e),null;case 23:case 24:return gl(),null;default:return null}}function ns(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},za=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ko(xo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Tr)}for(u in Ce(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var A=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&A!==c&&(null!=A||null!=c))if("style"===u)if(c){for(a in c)!c.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in A)A.hasOwnProperty(a)&&c[a]!==A[a]&&(n||(n={}),n[a]=A[a])}else n||(s||(s=[]),s.push(u,n)),n=A;else"dangerouslySetInnerHTML"===u?(A=A?A.__html:void 0,c=c?c.__html:void 0,null!=A&&c!==A&&(s=s||[]).push(u,A)):"children"===u?"string"!=typeof A&&"number"!=typeof A||(s=s||[]).push(u,""+A):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=A&&"onScroll"===u&&xr("scroll",e),s||c===A||(s=[])):"object"==typeof A&&null!==A&&A.$$typeof===M?A.toString():(s=s||[]).push(u,A))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.effectTag|=4)}},Ka=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var is="function"==typeof WeakMap?WeakMap:Map;function os(e,t,n){(n=no(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Ks=r),rs(0,t)},n}function as(e,t,n){(n=no(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return rs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===$s?$s=new Set([this]):$s.add(this),rs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ss="function"==typeof WeakSet?WeakSet:Set;function ls(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Tl(e,t,n)}else n.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.effectTag&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function As(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,4&(i=i.tag)&&1&i&&(Fl(n,e),Ol(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.effectTag&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ao(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ao(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Lr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Bt(n)))))}throw Error(a(163))}function us(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t,n){if(mi&&"function"==typeof mi.onCommitFiberUnmount)try{mi.onCommitFiberUnmount(gi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,o=i.destroy;if(i=i.tag,void 0!==o)if(4&i)Fl(t,r);else{i=t;var a=n;try{o()}catch(e){Tl(i,a,e)}}r=r.next}while(r!==e)}break;case 1:if(ls(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Tl(t,n,e)}break;case 5:ls(t,n);break;case 4:vs(e,t,n)}}function fs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ps(e){return 5===e.tag||3===e.tag||4===e.tag}function hs(e){e:{for(var t=e.return;null!==t;){if(ps(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ps(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):ms(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Tr));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function vs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,A=n,u=c;;)if(ds(l,u,A),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(l=r,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ds(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Wr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Be(n,l):"dangerouslySetInnerHTML"===s?me(n,l):"children"===s?ve(n,l):b(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Bt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Rs=Li(),us(t.child,!0)),void bs(t);case 19:return void bs(t);case 23:case 24:return void us(t,null!==t.memoizedState)}throw Error(a(163))}function bs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ss),t.forEach((function(t){var r=Ml.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ws(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Bs=Math.ceil,xs=w.ReactCurrentDispatcher,Cs=w.ReactCurrentOwner,Ss=0,ks=null,Es=null,Is=0,Os=0,Fs=ni(0),Ds=0,_s=null,Ts=0,Us=0,Ms=0,Ls=0,Qs=null,Rs=0,Ps=1/0;function Hs(){Ps=Li()+500}var Ns,js=null,zs=!1,Ks=null,$s=null,Ws=!1,Vs=null,Gs=90,qs=[],Ys=[],Js=null,Xs=0,Zs=null,el=-1,tl=0,nl=0,rl=null,il=!1;function ol(){return 48&Ss?Li():-1!==el?el:el=Li()}function al(e,t){return 2&(e=e.mode)?4&e?(0===tl&&(tl=Ts),null!==t?(0!==nl&&(nl=null!==Qs?Qs.pendingLanes:0),t=tl,e=4186112&~nl,0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e):(t=Qi(),4&Ss&&98===t?t=Ht(12,tl):(t=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),t=Ht(t,tl)),t)):99===Qi()?1:2:1}function sl(e,t,n){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));if(null===(e=ll(e,t)))return null;jt(e,t,n),e===ks&&(Ms|=t,4===Ds&&ul(e,Is));var r=Qi();1===t?8&Ss&&!(48&Ss)?dl(e):(cl(e,n),0===Ss&&(Hs(),Ni())):(!(4&Ss)||98!==r&&99!==r||(null===Js?Js=new Set([e]):Js.add(e)),cl(e,n)),Qs=e}function ll(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-zt(s),c=1<<l,A=o[l];if(-1===A){if(!(c&r)||c&i){A=t,Qt(c);var u=Lt;o[l]=10<=u?A+1e3:6<=u?A+5e3:-1}}else A<=t&&(e.expiredLanes|=c);s&=~c}if(r=Rt(e,e===ks?Is:0),t=Lt,0===r)null!==n&&(n!==Fi&&bi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&bi(n)}15===t?(n=dl.bind(null,e),null===_i?(_i=[n],Ti=yi(Si,ji)):_i.push(n),n=Fi):14===t?n=Hi(99,dl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Hi(n,Al.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Al(e){if(el=-1,nl=tl=0,48&Ss)throw Error(a(327));var t=e.callbackNode;if(Il()&&e.callbackNode!==t)return null;var n=Rt(e,e===ks?Is:0);if(0===n)return null;var r=n,i=Ss;Ss|=16;var o=yl();for(ks===e&&Is===r||(Hs(),ml(e,r));;)try{Bl();break}catch(t){vl(e,t)}if(Gi(),xs.current=o,Ss=i,null!==Es?r=0:(ks=null,Is=0,r=Ds),Ts&Ms)ml(e,0);else if(0!==r){if(2===r&&(Ss|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Pt(e))&&(r=bl(e,n))),1===r)throw t=_s,ml(e,0),ul(e,n),cl(e,Li()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Sl(e);break;case 3:if(ul(e,n),(62914560&n)===n&&10<(r=Rs+500-Li())){if(0!==Rt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ol(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rr(Sl.bind(null,e),r);break}Sl(e);break;case 4:if(ul(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Li()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bs(n/1960))-n)){e.timeoutHandle=Rr(Sl.bind(null,e),n);break}Sl(e);break;default:throw Error(a(329))}}return cl(e,Li()),e.callbackNode===t?Al.bind(null,e):null}function ul(e,t){for(t&=~Ls,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function dl(e){if(48&Ss)throw Error(a(327));if(Il(),e===ks&&e.expiredLanes&Is){var t=Is,n=bl(e,t);Ts&Ms&&(n=bl(e,t=Rt(e,t)))}else n=bl(e,t=Rt(e,0));if(0!==e.tag&&2===n&&(Ss|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Pt(e))&&(n=bl(e,t))),1===n)throw n=_s,ml(e,0),ul(e,t),cl(e,Li()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e),cl(e,Li()),null}function fl(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(Hs(),Ni())}}function pl(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&(Hs(),Ni())}}function hl(e,t){ii(Fs,Os),Os|=t,Ts|=t}function gl(){Os=Fs.current,ri(Fs)}function ml(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Pr(n)),null!==Es)for(n=Es.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ui();break;case 3:Io(),ri(si),ri(ai),zo();break;case 5:Fo(r);break;case 4:Io();break;case 13:case 19:ri(Do);break;case 10:qi(r);break;case 23:case 24:gl()}n=n.return}ks=e,Es=Pl(e.current,null),Is=Os=Ts=t,Ds=0,_s=null,Ls=Ms=Us=0}function vl(e,t){for(;;){var n=Es;try{if(Gi(),Ko.current=Sa,Yo){for(var r=Vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Yo=!1}if(Wo=0,qo=Go=Vo=null,Jo=!1,Cs.current=null,null===n||null===n.return){Ds=1,_s=t,Es=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Is,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(!(2&s.mode)){var A=s.alternate;A?(s.updateQueue=A.updateQueue,s.memoizedState=A.memoizedState,s.lanes=A.lanes):(s.updateQueue=null,s.memoizedState=null)}var u=!!(1&Do.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!u)}}if(f){var g=d.updateQueue;if(null===g){var m=new Set;m.add(c),d.updateQueue=m}else g.add(c);if(!(2&d.mode)){if(d.effectTag|=64,s.effectTag|=16384,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=no(-1,1);v.tag=2,ro(s,v)}s.lanes|=1;break e}l=void 0,s=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new is,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(s)){l.add(s);var b=Ul.bind(null,o,c,s);c.then(b,b)}d.effectTag|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((V(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),l=ns(l,s),d=a;do{switch(d.tag){case 3:o=l,d.effectTag|=4096,t&=-t,d.lanes|=t,io(d,os(0,o,t));break e;case 1:o=l;var w=d.type,B=d.stateNode;if(!(64&d.effectTag||"function"!=typeof w.getDerivedStateFromError&&(null===B||"function"!=typeof B.componentDidCatch||null!==$s&&$s.has(B)))){d.effectTag|=4096,t&=-t,d.lanes|=t,io(d,as(d,o,t));break e}}d=d.return}while(null!==d)}Cl(n)}catch(e){t=e,Es===n&&null!==n&&(Es=n=n.return);continue}break}}function yl(){var e=xs.current;return xs.current=Sa,null===e?Sa:e}function bl(e,t){var n=Ss;Ss|=16;var r=yl();for(ks===e&&Is===t||ml(e,t);;)try{wl();break}catch(t){vl(e,t)}if(Gi(),Ss=n,xs.current=r,null!==Es)throw Error(a(261));return ks=null,Is=0,Ds}function wl(){for(;null!==Es;)xl(Es)}function Bl(){for(;null!==Es&&!wi();)xl(Es)}function xl(e){var t=Ns(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?Cl(e):Es=t,Cs.current=null}function Cl(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.effectTag){if(null!==(n=ts(t)))return n.effectTag&=2047,void(Es=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(null!==(n=es(n,t,Os)))return void(Es=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Os||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Es=t);Es=t=e}while(null!==t);0===Ds&&(Ds=5)}function Sl(e){var t=Qi();return Pi(99,kl.bind(null,e,t)),null}function kl(e,t){do{Il()}while(null!==Vs);if(48&Ss)throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-zt(o),A=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~A}if(null!==Js&&!(24&r)&&Js.has(e)&&Js.delete(e),e===ks&&(Es=ks=null,Is=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ss,Ss|=32,Cs.current=null,Ur=Gt,Ar(s=cr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(A=l.getSelection&&l.getSelection())&&0!==A.rangeCount){l=A.anchorNode,o=A.anchorOffset,c=A.focusNode,A=A.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var u=0,d=-1,f=-1,p=0,h=0,g=s,m=null;t:for(;;){for(var v;g!==l||0!==o&&3!==g.nodeType||(d=u+o),g!==c||0!==A&&3!==g.nodeType||(f=u+A),3===g.nodeType&&(u+=g.nodeValue.length),null!==(v=g.firstChild);)m=g,g=v;for(;;){if(g===s)break t;if(m===l&&++p===o&&(d=u),m===c&&++h===A&&(f=u),null!==(v=g.nextSibling))break;m=(g=m).parentNode}g=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Mr={focusedElem:s,selectionRange:l},Gt=!1,rl=null,il=!1,js=r;do{try{El()}catch(e){if(null===js)throw Error(a(330));Tl(js,js.return,e),js=js.nextEffect}}while(null!==js);rl=null,js=r;do{try{for(s=e;null!==js;){var y=js.effectTag;if(16&y&&ve(js.stateNode,""),128&y){var b=js.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:hs(js),js.effectTag&=-3;break;case 6:hs(js),js.effectTag&=-3,ys(js.alternate,js);break;case 1024:js.effectTag&=-1025;break;case 1028:js.effectTag&=-1025,ys(js.alternate,js);break;case 4:ys(js.alternate,js);break;case 8:vs(s,l=js,js.return);var B=l.alternate;fs(l),null!==B&&fs(B)}js=js.nextEffect}}catch(e){if(null===js)throw Error(a(330));Tl(js,js.return,e),js=js.nextEffect}}while(null!==js);if(w=Mr,b=cr(),y=w.focusedElem,s=w.selectionRange,b!==y&&y&&y.ownerDocument&&lr(y.ownerDocument.documentElement,y)){null!==s&&Ar(y)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=y.textContent.length,B=Math.min(s.start,l),s=void 0===s.end?B:Math.min(s.end,l),!w.extend&&B>s&&(l=s,s=B,B=l),l=sr(y,B),o=sr(y,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),B>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Gt=!!Ur,Mr=Ur=null,e.current=n,js=r;do{try{for(y=e;null!==js;){var x=js.effectTag;if(36&x&&As(y,js.alternate,js),128&x){b=void 0;var C=js.ref;if(null!==C){var S=js.stateNode;js.tag,b=S,"function"==typeof C?C(b):C.current=b}}js=js.nextEffect}}catch(e){if(null===js)throw Error(a(330));Tl(js,js.return,e),js=js.nextEffect}}while(null!==js);js=null,Di(),Ss=i}else e.current=n;if(Ws)Ws=!1,Vs=e,Gs=t;else for(js=r;null!==js;)t=js.nextEffect,js.nextEffect=null,8&js.effectTag&&((x=js).sibling=null,x.stateNode=null),js=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===Zs?Xs++:(Xs=0,Zs=e):Xs=0,n=n.stateNode,mi&&"function"==typeof mi.onCommitFiberRoot)try{mi.onCommitFiberRoot(gi,n,void 0,!(64&~n.current.effectTag))}catch(e){}if(cl(e,Li()),zs)throw zs=!1,e=Ks,Ks=null,e;return 8&Ss||Ni(),null}function El(){for(;null!==js;){var e=js.alternate;il||null===rl||(8&js.effectTag?et(js,rl)&&(il=!0):13===js.tag&&ws(e,js)&&et(js,rl)&&(il=!0));var t=js.effectTag;256&t&&cs(e,js),!(512&t)||Ws||(Ws=!0,Hi(97,(function(){return Il(),null}))),js=js.nextEffect}}function Il(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,Pi(e,Dl)}return!1}function Ol(e,t){qs.push(t,e),Ws||(Ws=!0,Hi(97,(function(){return Il(),null})))}function Fl(e,t){Ys.push(t,e),Ws||(Ws=!0,Hi(97,(function(){return Il(),null})))}function Dl(){if(null===Vs)return!1;var e=Vs;if(Vs=null,48&Ss)throw Error(a(331));var t=Ss;Ss|=32;var n=Ys;Ys=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Tl(o,o.return,e)}}for(n=qs,qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));Tl(o,o.return,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.effectTag&&(l.sibling=null,l.stateNode=null),l=e;return Ss=t,Ni(),!0}function _l(e,t,n){ro(e,t=os(0,t=ns(n,t),1)),t=ol(),null!==(e=ll(e,1))&&(jt(e,1,t),cl(e,t))}function Tl(e,t,n){var r;if(3===e.tag)_l(e,e,n);else for(r=e.return;null!==r;){if(3===r.tag){_l(r,e,n);break}if(1===r.tag&&(t=r.stateNode,"function"==typeof r.type.getDerivedStateFromError||"function"==typeof t.componentDidCatch&&(null===$s||!$s.has(t)))){var i=as(r,e=ns(n,e),1);if(ro(r,i),i=ol(),null!==(r=ll(r,1)))jt(r,1,i),cl(r,i);else if("function"==typeof t.componentDidCatch&&(null===$s||!$s.has(t)))try{t.componentDidCatch(n,e)}catch(e){}break}r=r.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ol(),e.pingedLanes|=e.suspendedLanes&n,ks===e&&(Is&n)===n&&(4===Ds||3===Ds&&(62914560&Is)===Is&&500>Li()-Rs?ml(e,0):Ls|=n),cl(e,t)}function Ml(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(2&(t=e.mode)?4&t?(0===tl&&(tl=Ts),0===(t=Nt(62914560&~tl))&&(t=4194304)):t=99===Qi()?1:2:t=1),n=ol(),null!==(e=ll(e,t))&&(jt(e,t,n),cl(e,n))}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ql(e,t,n,r){return new Ll(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Rl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Nl(n.children,i,o,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case k:return(e=Ql(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case F:return(e=Ql(13,n,t,i)).type=F,e.elementType=F,e.lanes=o,e;case D:return(e=Ql(19,n,t,i)).elementType=D,e.lanes=o,e;case Q:return jl(n,i,o,t);case R:return(e=Ql(24,n,t,i)).elementType=R,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case I:s=9;break e;case O:s=11;break e;case _:s=14;break e;case T:s=16,r=null;break e;case U:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ql(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Nl(e,t,n,r){return(e=Ql(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Ql(23,e,r,t)).elementType=Q,e.lanes=n,e}function zl(e,t,n){return(e=Ql(6,e,null,t)).lanes=n,e}function Kl(e,t,n){return(t=Ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Array(31).fill(0),this.expirationTimes=Array(31).fill(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Array(31).fill(0),this.mutableSourceEagerHydrationData=null}function Wl(e,t,n,r){var i=t.current,o=ol(),s=al(i,so.suspense);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Ai(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(Ai(c)){n=fi(n,c,l);break e}}n=l}else n=oi;return null===t.context?t.context=n:t.pendingContext=n,(t=no(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ro(i,t),sl(i,s,o),s}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}function Yl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $l(e,t,null!=n&&!0===n.hydrate),t=Ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,eo(t),e[Vr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Vl(a);s.call(e)}}Wl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Vl(a);l.call(e)}}pl((function(){Wl(t,a,e,i)}))}return Vl(a)}function Zl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ns=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||si.current)Fa=!0;else{if(!(n&r)){switch(Fa=!1,t.tag){case 3:Ha(t),No();break;case 5:Oo(t);break;case 1:Ai(t.type)&&pi(t);break;case 4:Eo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ii(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Wa(e,t,n):(ii(Do,1&Do.current),null!==(t=Xa(e,t,n))?t.sibling:null);ii(Do,1&Do.current);break;case 19:if(r=!!(n&t.childLanes),64&e.effectTag){if(r)return Ja(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ii(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Ma(e,t,n)}return Xa(e,t,n)}Fa=!!(16384&e.effectTag)}else Fa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=ci(t,ai.current),Ji(t,n),i=ea(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)){var o=!0;pi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,eo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&co(t,r,s,e),i.updater=Ao,t.stateNode=i,i._reactInternals=t,ho(t,r,e,n),t=Pa(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Rl(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===_)return 14}return 2}(i),e=zi(i,e),o){case 0:t=Qa(null,t,i,e,n);break e;case 1:t=Ra(null,t,i,e,n);break e;case 11:t=_a(null,t,i,e,n);break e;case 14:t=Ta(null,t,i,zi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Qa(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,to(e,t),oo(t,r,null,n),(r=t.memoizedState.element)===i)No(),t=Xa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Nr(t.stateNode.containerInfo.firstChild),To=t,o=Mo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],jo.push(o);for(n=wo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling}else Da(e,t,r,n),No();t=t.child}return t;case 5:return Oo(t),null===e&&Ro(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Qr(r,i)?s=null:null!==o&&Qr(r,o)&&(t.effectTag|=16),La(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&Ro(t),null;case 13:return Wa(e,t,n);case 4:return Eo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bo(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ii(Ki,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=rr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!si.current){t=Xa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var A=c.firstContext;null!==A;){if(A.context===r&&A.observedBits&o){1===l.tag&&((A=no(-1,n&-n)).tag=2,ro(l,A)),l.lanes|=n,null!==(A=l.alternate)&&(A.lanes|=n),Yi(l.return,n),c.lanes|=n;break}A=A.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ji(t,n),r=r(i=Xi(i,o.unstable_observedBits)),t.effectTag|=1,Da(e,t,r,n),t.child;case 14:return o=zi(i=t.type,t.pendingProps),Ta(e,t,i,o=zi(i.type,o),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ai(r)?(e=!0,pi(t)):e=!1,Ji(t,n),fo(t,r,i),ho(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return Ja(e,t,n);case 23:case 24:return Ma(e,t,n)}throw Error(a(156,t.tag))},Yl.prototype.render=function(e){Wl(e,this._internalRoot,null,null)},Yl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Wl(null,e,null,(function(){t[Vr]=null}))},tt=function(e){13===e.tag&&(sl(e,4,ol()),ql(e,4))},nt=function(e){13===e.tag&&(sl(e,67108864,ol()),ql(e,67108864))},rt=function(e){if(13===e.tag){var t=ol(),n=al(e,null);sl(e,n,t),ql(e,n)}},it=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Xr(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Te=fl,Ue=function(e,t,n,r,i){var o=Ss;Ss|=4;try{return Pi(98,e.bind(null,t,n,r,i))}finally{0===(Ss=o)&&(Hs(),Ni())}},Me=function(){!(49&Ss)&&(function(){if(null!==Js){var e=Js;Js=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cl(e,Li())}))}Ni()}(),Il())},Le=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&(Hs(),Ni())}};var ec={Events:[Yr,Jr,Xr,De,_e,Il,{current:!1}]},tc={findFiberByHostInstance:qr,bundleType:0,version:"17.0.0-alpha.0-2d131d782",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{gi=rc.inject(nc),mi=rc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=Zl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ss;if(48&n)return e(t);Ss|=1;try{if(e)return Pi(99,e.bind(null,t))}finally{Ss=n,Ni()}},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return Xl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return Xl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(pl((function(){Xl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Vr]=null}))})),!0)},t.unstable_batchedUpdates=fl,t.unstable_createPortal=function(e,t){return Zl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xl(e,t,n,!1,r)},t.version="17.0.0-alpha.0-2d131d782"},function(e,t,n){"use strict";e.exports=n(524)},function(e,t,n){"use strict";var r,i,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var A=null,u=null,d=function(){if(null!==A)try{var e=t.unstable_now();A(!0,e),A=null}catch(e){throw setTimeout(d,0),e}};r=function(e){null!==A?setTimeout(r,0,e):(A=e,setTimeout(d,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,B=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?B.postMessage(null):(g=!1,m=null)}catch(e){throw B.postMessage(null),e}}else g=!1},r=function(e){m=e,g||(g=!0,B.postMessage(null))},i=function(e,n){v=f((function(){e(t.unstable_now())}),n)},o=function(){p(v),v=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],I=[],O=1,F=null,D=3,_=!1,T=!1,U=!1;function M(e){for(var t=C(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,x(E,t)}t=C(I)}}function L(e){if(U=!1,M(e),!T)if(null!==C(E))T=!0,r(Q);else{var t=C(I);null!==t&&i(L,t.startTime-e)}}function Q(e,n){T=!1,U&&(U=!1,o()),_=!0;var r=D;try{for(M(n),F=C(E);null!==F&&(!(F.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=F.callback;if("function"==typeof a){F.callback=null,D=F.priorityLevel;var s=a(F.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?F.callback=s:F===C(E)&&S(E),M(n)}else S(E);F=C(E)}if(null!==F)var l=!0;else{var c=C(I);null!==c&&i(L,c.startTime-n),l=!1}return l}finally{F=null,D=r,_=!1}}var R=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){T||_||(T=!0,r(Q))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(E)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=R,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,x(I,e),null===C(E)&&e===C(I)&&(U?o():U=!0,i(L,a-s))):(e.sortIndex=l,x(E,e),T||_||(T=!0,r(Q))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},function(e,t,n){var r=n(151),i=n(297),o=n(286),a=n(526),s=n(48),l=n(126),c=n(298);e.exports=function e(t,n,A,u,d){t!==n&&o(n,(function(o,l){if(d||(d=new r),s(o))a(t,n,l,A,e,u,d);else{var f=u?u(c(t,l),o,l+"",t,n,d):void 0;void 0===f&&(f=o),i(t,l,f)}}),l)}},function(e,t,n){var r=n(297),i=n(283),o=n(284),a=n(124),s=n(285),l=n(149),c=n(41),A=n(527),u=n(150),d=n(148),f=n(48),p=n(212),h=n(190),g=n(298),m=n(528);e.exports=function(e,t,n,v,y,b,w){var B=g(e,n),x=g(t,n),C=w.get(x);if(C)r(e,n,C);else{var S=b?b(B,x,n+"",e,t,w):void 0,k=void 0===S;if(k){var E=c(x),I=!E&&u(x),O=!E&&!I&&h(x);S=x,E||I||O?c(B)?S=B:A(B)?S=a(B):I?(k=!1,S=i(x,!0)):O?(k=!1,S=o(x,!0)):S=[]:p(x)||l(x)?(S=B,l(B)?S=m(B):f(B)&&!d(B)||(S=s(x))):k=!1}k&&(w.set(x,S),y(S,x,v,b,w),w.delete(x)),r(e,n,S)}}},function(e,t,n){var r=n(134),i=n(50);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(118),i=n(126);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(472),i=n(347);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,A=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case A:case f:case c:return e;default:return t}}case m:case g:case o:return t}}}function w(e){return b(e)===d}t.typeOf=b,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=A,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===c||e.$$typeof===A||e.$$typeof===f||e.$$typeof===v||e.$$typeof===y)},t.isAsyncMode=function(e){return w(e)||b(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===A},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===l},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===p}},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var A=e[c],u=t[c];if(!1===(i=n?n.call(r,A,u,c):void 0)||void 0===i&&A!==u)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,r,l,c,d){for(var f,p,h,g,b,B=0,x=0,C=0,S=0,k=0,_=0,U=h=f=0,L=0,Q=0,R=0,P=0,H=l.length,N=H-1,j="",z="",K="",$="";L<H;){if(p=l.charCodeAt(L),L===N&&0!==x+S+C+B&&(0!==x&&(p=47===x?10:47),S=C=B=0,H++,N++),0===x+S+C+B){if(L===N&&(0<Q&&(j=j.replace(u,"")),0<j.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:j+=l.charAt(L)}p=59}switch(p){case 123:for(f=(j=j.trim()).charCodeAt(0),h=1,P=++L;L<H;){switch(p=l.charCodeAt(L)){case 123:h++;break;case 125:h--;break;case 47:switch(p=l.charCodeAt(L+1)){case 42:case 47:e:{for(U=L+1;U<N;++U)switch(l.charCodeAt(U)){case 47:if(42===p&&42===l.charCodeAt(U-1)&&L+2!==U){L=U+1;break e}break;case 10:if(47===p){L=U+1;break e}}L=U}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<N&&l.charCodeAt(L)!==p;);}if(0===h)break;L++}if(h=l.substring(P,L),0===f&&(f=(j=j.replace(A,"").trim()).charCodeAt(0)),64===f){switch(0<Q&&(j=j.replace(u,"")),p=j.charCodeAt(1)){case 100:case 109:case 115:case 45:Q=r;break;default:Q=D}if(P=(h=t(r,Q,h,p,d+1)).length,0<T&&(b=s(3,h,Q=n(D,j,R),r,I,E,P,p,d,c),j=Q.join(""),void 0!==b&&0===(P=(h=b.trim()).length)&&(p=0,h="")),0<P)switch(p){case 115:j=j.replace(w,a);case 100:case 109:case 45:h=j+"{"+h+"}";break;case 107:h=(j=j.replace(m,"$1 $2"))+"{"+h+"}",h=1===F||2===F&&o("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=j+h,112===c&&(z+=h,h="")}else h=""}else h=t(r,n(r,j,R),h,c,d+1);K+=h,h=R=Q=U=f=0,j="",p=l.charCodeAt(++L);break;case 125:case 59:if(1<(P=(j=(0<Q?j.replace(u,""):j).trim()).length))switch(0===U&&(f=j.charCodeAt(0),45===f||96<f&&123>f)&&(P=(j=j.replace(" ",":")).length),0<T&&void 0!==(b=s(1,j,r,e,I,E,z.length,c,d,c))&&0===(P=(j=b.trim()).length)&&(j="\0\0"),f=j.charCodeAt(0),p=j.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){$+=j+l.charAt(L);break}default:58!==j.charCodeAt(P-1)&&(z+=i(j,f,p,j.charCodeAt(2)))}R=Q=U=f=0,j="",p=l.charCodeAt(++L)}}switch(p){case 13:case 10:47===x?x=0:0===1+f&&107!==c&&0<j.length&&(Q=1,j+="\0"),0<T*M&&s(0,j,r,e,I,E,z.length,c,d,c),E=1,I++;break;case 59:case 125:if(0===x+S+C+B){E++;break}default:switch(E++,g=l.charAt(L),p){case 9:case 32:if(0===S+B+x)switch(k){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===S+x+B&&(Q=R=1,g="\f"+g);break;case 108:if(0===S+x+B+O&&0<U)switch(L-U){case 2:112===k&&58===l.charCodeAt(L-3)&&(O=k);case 8:111===_&&(O=_)}break;case 58:0===S+x+B&&(U=L);break;case 44:0===x+C+S+B&&(Q=1,g+="\r");break;case 34:case 39:0===x&&(S=S===p?0:0===S?p:S);break;case 91:0===S+x+C&&B++;break;case 93:0===S+x+C&&B--;break;case 41:0===S+x+B&&C--;break;case 40:if(0===S+x+B){if(0===f)if(2*k+3*_==533);else f=1;C++}break;case 64:0===x+C+S+B+U+h&&(h=1);break;case 42:case 47:if(!(0<S+B+C))switch(x){case 0:switch(2*p+3*l.charCodeAt(L+1)){case 235:x=47;break;case 220:P=L,x=42}break;case 42:47===p&&42===k&&P+2!==L&&(33===l.charCodeAt(P+2)&&(z+=l.substring(P,L+1)),g="",x=0)}}0===x&&(j+=g)}_=k,k=p,L++}if(0<(P=z.length)){if(Q=r,0<T&&(void 0!==(b=s(2,z,Q,e,I,E,P,c,d,c))&&0===(z=b).length))return $+z+K;if(z=Q.join(",")+"{"+z+"}",0!=F*O){switch(2!==F||o(z,2)||(O=0),O){case 111:z=z.replace(y,":-moz-$1")+z;break;case 112:z=z.replace(v,"::-webkit-input-$1")+z.replace(v,"::-moz-$1")+z.replace(v,":-ms-input-$1")+z}O=0}}return $+z+K}function n(e,t,n){var i=t.trim().split(h);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===F||2===F&&o(l,1)?"-webkit-"+l+l:l}if(0===F||2===F&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return f.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),U(2!==t?r:r.replace(C,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(B," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,A){for(var u,d=0,f=t;d<T;++d)switch(u=_[d].call(c,e,f,n,r,i,o,a,s,l,A)){case void 0:case!1:case!0:case null:break;default:f=u}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(U=null,e?"function"!=typeof e?F=1:(F=2,U=e):F=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<T){var i=s(-1,n,r,r,I,E,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(D,r,n,0,0);return 0<T&&(void 0!==(i=s(-2,o,r,r,I,E,o.length,0,0,0))&&(o=i)),O=0,E=I=1,o}var A=/^\0+/g,u=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,B=/([\s\S]*?);/g,x=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,E=1,I=1,O=0,F=1,D=[],_=[],T=0,U=null,M=0;return c.use=function e(t){switch(t){case void 0:case null:T=_.length=0;break;default:if("function"==typeof t)_[T++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else M=0|!!t}return e},c.set=l,void 0!==e&&l(e),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(535))&&"object"==typeof r&&"default"in r?r.default:r,o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=i((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";var r=n(299),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,A=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=A(n);u&&(a=a.concat(u(n)));for(var s=l(t),h=l(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||h&&h[m]||s&&s[m])){var v=d(n,m);try{c(t,m,v)}catch(e){}}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popper=function(e){var t=e.placement,n=void 0===t?"bottom":t,s=e.strategy,u=void 0===s?"absolute":s,d=e.modifiers,f=void 0===d?A:d,p=e.referenceElement,h=e.onFirstUpdate,g=e.innerRef,m=e.children,v=r.useContext(i.ManagerReferenceNodeContext),y=r.useState(null),b=y[0],w=y[1],B=r.useState(null),x=B[0],C=B[1];r.useEffect((function(){(0,o.setRef)(g,b)}),[g,b]);var S=r.useMemo((function(){return{placement:n,strategy:u,onFirstUpdate:h,modifiers:[].concat(f,[{name:"arrow",enabled:null!=x,options:{element:x}}])}}),[n,u,h,f,x]),k=(0,a.usePopper)(p||v,b,S),E=k.state,I=k.styles,O=k.forceUpdate,F=k.update,D=r.useMemo((function(){return{ref:w,style:I.popper,placement:E?E.placement:n,hasPopperEscaped:E&&E.modifiersData.hide?E.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:E&&E.modifiersData.hide?E.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:I.arrow,ref:C},forceUpdate:O||l,update:F||c}}),[w,C,n,E,I,F,O]);return(0,o.unwrapArray)(m)(D)};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(205),o=n(206),a=n(300);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var l=function(){},c=function(){return Promise.resolve(null)},A=[]},function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){return e instanceof r(e).Element||e instanceof Element}function o(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}Object.defineProperty(t,"__esModule",{value:!0});var s=Math.max,l=Math.min,c=Math.round;function A(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function u(){return!/^((?!chrome|android).)*safari/i.test(A())}function d(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),s=1,l=1;t&&o(e)&&(s=e.offsetWidth>0&&c(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&c(a.height)/e.offsetHeight||1);var A=(i(e)?r(e):window).visualViewport,d=!u()&&n,f=(a.left+(d&&A?A.offsetLeft:0))/s,p=(a.top+(d&&A?A.offsetTop:0))/l,h=a.width/s,g=a.height/l;return{width:h,height:g,top:p,right:f+h,bottom:p+g,left:f,x:f,y:p}}function f(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function h(e){return((i(e)?e.ownerDocument:e.document)||window.document).documentElement}function g(e){return d(h(e)).left+f(e).scrollLeft}function m(e){return r(e).getComputedStyle(e)}function v(e){var t=m(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function y(e,t,n){void 0===n&&(n=!1);var i,a,s=o(t),l=o(t)&&function(e){var t=e.getBoundingClientRect(),n=c(t.width)/e.offsetWidth||1,r=c(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),A=h(t),u=d(e,l,n),m={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(s||!s&&!n)&&(("body"!==p(t)||v(A))&&(m=(i=t)!==r(i)&&o(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:f(i)),o(t)?((y=d(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):A&&(y.x=g(A))),{x:u.left+m.scrollLeft-y.x,y:u.top+m.scrollTop-y.y,width:u.width,height:u.height}}function b(e){var t=d(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function w(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||h(e)}function B(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:o(e)&&v(e)?e:B(w(e))}function x(e,t){var n;void 0===t&&(t=[]);var i=B(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=r(i),s=o?[a].concat(a.visualViewport||[],v(i)?i:[]):i,l=t.concat(s);return o?l:l.concat(x(w(s)))}function C(e){return["table","td","th"].indexOf(p(e))>=0}function S(e){return o(e)&&"fixed"!==m(e).position?e.offsetParent:null}function k(e){for(var t=r(e),n=S(e);n&&C(n)&&"static"===m(n).position;)n=S(n);return n&&("html"===p(n)||"body"===p(n)&&"static"===m(n).position)?t:n||function(e){var t=/firefox/i.test(A());if(/Trident/i.test(A())&&o(e)&&"fixed"===m(e).position)return null;var n=w(e);for(a(n)&&(n=n.host);o(n)&&["html","body"].indexOf(p(n))<0;){var r=m(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var E="top",I="bottom",O="right",F="left",D="auto",_=[E,I,O,F],T="start",U="end",M="viewport",L="popper",Q=_.reduce((function(e,t){return e.concat([t+"-"+T,t+"-"+U])}),[]),R=[].concat(_,[D]).reduce((function(e,t){return e.concat([t,t+"-"+T,t+"-"+U])}),[]),P=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function N(e){return e.split("-")[0]}function j(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function z(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function K(e,t,n){return t===M?z(function(e,t){var n=r(e),i=h(e),o=n.visualViewport,a=i.clientWidth,s=i.clientHeight,l=0,c=0;if(o){a=o.width,s=o.height;var A=u();(A||!A&&"fixed"===t)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:a,height:s,x:l+g(e),y:c}}(e,n)):i(t)?function(e,t){var n=d(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):z(function(e){var t,n=h(e),r=f(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=s(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+g(e),c=-r.scrollTop;return"rtl"===m(i||n).direction&&(l+=s(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:l,y:c}}(h(e)))}function $(e,t,n,r){var a="clippingParents"===t?function(e){var t=x(w(e)),n=["absolute","fixed"].indexOf(m(e).position)>=0&&o(e)?k(e):e;return i(n)?t.filter((function(e){return i(e)&&j(e,n)&&"body"!==p(e)})):[]}(e):[].concat(t),c=[].concat(a,[n]),A=c[0],u=c.reduce((function(t,n){var i=K(e,n,r);return t.top=s(i.top,t.top),t.right=l(i.right,t.right),t.bottom=l(i.bottom,t.bottom),t.left=s(i.left,t.left),t}),K(e,A,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function W(e){return e.split("-")[1]}function V(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function G(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?N(i):null,a=i?W(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case E:t={x:s,y:n.y-r.height};break;case I:t={x:s,y:n.y+n.height};break;case O:t={x:n.x+n.width,y:l};break;case F:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?V(o):null;if(null!=c){var A="y"===c?"height":"width";switch(a){case T:t[c]=t[c]-(n[A]/2-r[A]/2);break;case U:t[c]=t[c]+(n[A]/2-r[A]/2)}}return t}function q(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Y(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function J(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,a=n.strategy,s=void 0===a?e.strategy:a,l=n.boundary,c=void 0===l?"clippingParents":l,A=n.rootBoundary,u=void 0===A?M:A,f=n.elementContext,p=void 0===f?L:f,g=n.altBoundary,m=void 0!==g&&g,v=n.padding,y=void 0===v?0:v,b=q("number"!=typeof y?y:Y(y,_)),w=p===L?"reference":L,B=e.rects.popper,x=e.elements[m?w:p],C=$(i(x)?x:x.contextElement||h(e.elements.popper),c,u,s),S=d(e.elements.reference),k=G({reference:S,element:B,strategy:"absolute",placement:o}),F=z(Object.assign({},B,k)),D=p===L?F:S,T={top:C.top-D.top+b.top,bottom:D.bottom-C.bottom+b.bottom,left:C.left-D.left+b.left,right:D.right-C.right+b.right},U=e.modifiersData.offset;if(p===L&&U){var Q=U[o];Object.keys(T).forEach((function(e){var t=[O,I].indexOf(e)>=0?1:-1,n=[E,I].indexOf(e)>=0?"y":"x";T[e]+=Q[n]*t}))}return T}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,a=void 0===o?X:o;return function(e,t,n){void 0===n&&(n=a);var o,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],A=!1,u={state:l,setOptions:function(n){var o="function"==typeof n?n(l.options):n;d(),l.options=Object.assign({},a,l.options,o),l.scrollParents={reference:i(e)?x(e):e.contextElement?x(e.contextElement):[],popper:x(t)};var s=function(e){var t=H(e);return P.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,l.options.modifiers)));return l.orderedModifiers=s.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:l,name:t,instance:u,options:r}),a=function(){};c.push(o||a)}})),u.update()},forceUpdate:function(){if(!A){var e=l.elements,t=e.reference,n=e.popper;if(Z(t,n)){l.rects={reference:y(t,k(n),"fixed"===l.options.strategy),popper:b(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var i=l.orderedModifiers[r],o=i.fn,a=i.options,s=void 0===a?{}:a,c=i.name;"function"==typeof o&&(l=o({state:l,options:s,name:c,instance:u})||l)}else l.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){d(),A=!0}};if(!Z(e,t))return u;function d(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!A&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var te={passive:!0};var ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,a=void 0===o||o,s=i.resize,l=void 0===s||s,c=r(t.elements.popper),A=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&A.forEach((function(e){e.addEventListener("scroll",n.update,te)})),l&&c.addEventListener("resize",n.update,te),function(){a&&A.forEach((function(e){e.removeEventListener("scroll",n.update,te)})),l&&c.removeEventListener("resize",n.update,te)}},data:{}};var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=G({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oe(e){var t,n=e.popper,i=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,l=e.position,A=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=s.x,g=void 0===p?0:p,v=s.y,y=void 0===v?0:v,b="function"==typeof d?d({x:g,y:y}):{x:g,y:y};g=b.x,y=b.y;var w=s.hasOwnProperty("x"),B=s.hasOwnProperty("y"),x=F,C=E,S=window;if(u){var D=k(n),_="clientHeight",T="clientWidth";if(D===r(n)&&"static"!==m(D=h(n)).position&&"absolute"===l&&(_="scrollHeight",T="scrollWidth"),o===E||(o===F||o===O)&&a===U)C=I,y-=(f&&D===S&&S.visualViewport?S.visualViewport.height:D[_])-i.height,y*=A?1:-1;if(o===F||(o===E||o===I)&&a===U)x=O,g-=(f&&D===S&&S.visualViewport?S.visualViewport.width:D[T])-i.width,g*=A?1:-1}var M,L=Object.assign({position:l},u&&ie),Q=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:c(t*r)/r||0,y:c(n*r)/r||0}}({x:g,y:y}):{x:g,y:y};return g=Q.x,y=Q.y,A?Object.assign({},L,((M={})[C]=B?"0":"",M[x]=w?"0":"",M.transform=(S.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",M)):Object.assign({},L,((t={})[C]=B?y+"px":"",t[x]=w?g+"px":"",t.transform="",t))}var ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:N(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,oe(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,oe(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];o(i)&&p(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});o(r)&&p(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=R.reduce((function(e,n){return e[n]=function(e,t,n){var r=N(e),i=[F,E].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[F,O].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},ce={left:"right",right:"left",bottom:"top",top:"bottom"};function Ae(e){return e.replace(/left|right|bottom|top/g,(function(e){return ce[e]}))}var ue={start:"end",end:"start"};function de(e){return e.replace(/start|end/g,(function(e){return ue[e]}))}function fe(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?R:l,A=W(r),u=A?s?Q:Q.filter((function(e){return W(e)===A})):_,d=u.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=u);var f=d.reduce((function(t,n){return t[n]=J(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[N(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,A=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,h=n.allowedAutoPlacements,g=t.options.placement,m=N(g),v=l||(m===g||!p?[Ae(g)]:function(e){if(N(e)===D)return[];var t=Ae(e);return[de(e),t,de(t)]}(g)),y=[g].concat(v).reduce((function(e,n){return e.concat(N(n)===D?fe(t,{placement:n,boundary:A,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:h}):n)}),[]),b=t.rects.reference,w=t.rects.popper,B=new Map,x=!0,C=y[0],S=0;S<y.length;S++){var k=y[S],_=N(k),U=W(k)===T,M=[E,I].indexOf(_)>=0,L=M?"width":"height",Q=J(t,{placement:k,boundary:A,rootBoundary:u,altBoundary:d,padding:c}),R=M?U?O:F:U?I:E;b[L]>w[L]&&(R=Ae(R));var P=Ae(R),H=[];if(o&&H.push(Q[_]<=0),s&&H.push(Q[R]<=0,Q[P]<=0),H.every((function(e){return e}))){C=k,x=!1;break}B.set(k,H)}if(x)for(var j=function(e){var t=y.find((function(t){var n=B.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},z=p?3:1;z>0;z--){if("break"===j(z))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function he(e,t,n){return s(e,l(t,n))}var ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,c=void 0!==a&&a,A=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,h=void 0===p||p,g=n.tetherOffset,m=void 0===g?0:g,v=J(t,{boundary:A,rootBoundary:u,padding:f,altBoundary:d}),y=N(t.placement),w=W(t.placement),B=!w,x=V(y),C="x"===x?"y":"x",S=t.modifiersData.popperOffsets,D=t.rects.reference,_=t.rects.popper,U="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,M="number"==typeof U?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(S){if(o){var R,P="y"===x?E:F,H="y"===x?I:O,j="y"===x?"height":"width",z=S[x],K=z+v[P],$=z-v[H],G=h?-_[j]/2:0,q=w===T?D[j]:_[j],Y=w===T?-_[j]:-D[j],X=t.elements.arrow,Z=h&&X?b(X):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[P],ne=ee[H],re=he(0,D[j],Z[j]),ie=B?D[j]/2-G-re-te-M.mainAxis:q-re-te-M.mainAxis,oe=B?-D[j]/2+G+re+ne+M.mainAxis:Y+re+ne+M.mainAxis,ae=t.elements.arrow&&k(t.elements.arrow),se=ae?"y"===x?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(R=null==L?void 0:L[x])?R:0,ce=z+oe-le,Ae=he(h?l(K,z+ie-le-se):K,z,h?s($,ce):$);S[x]=Ae,Q[x]=Ae-z}if(c){var ue,de="x"===x?E:F,fe="x"===x?I:O,pe=S[C],ge="y"===C?"height":"width",me=pe+v[de],ve=pe-v[fe],ye=-1!==[E,F].indexOf(y),be=null!=(ue=null==L?void 0:L[C])?ue:0,we=ye?me:pe-D[ge]-_[ge]-be+M.altAxis,Be=ye?pe+D[ge]+_[ge]-be-M.altAxis:ve,xe=h&&ye?function(e,t,n){var r=he(e,t,n);return r>n?n:r}(we,pe,Be):he(h?we:me,pe,h?Be:ve);S[C]=xe,Q[C]=xe-pe}t.modifiersData[r]=Q}},requiresIfExists:["offset"]};var me={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=N(n.placement),l=V(s),c=[F,O].indexOf(s)>=0?"height":"width";if(o&&a){var A=function(e,t){return q("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Y(e,_))}(i.padding,n),u=b(o),d="y"===l?E:F,f="y"===l?I:O,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],h=a[l]-n.rects.reference[l],g=k(o),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=p/2-h/2,y=A[d],w=m-u[c]-A[f],B=m/2-u[c]/2+v,x=he(y,B,w),C=l;n.modifiersData[r]=((t={})[C]=x,t.centerOffset=x-B,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&j(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ve(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ye(e){return[E,O,I,F].some((function(t){return e[t]>=0}))}var be={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=J(t,{elementContext:"reference"}),s=J(t,{altBoundary:!0}),l=ve(a,r),c=ve(s,i,o),A=ye(l),u=ye(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:A,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":A,"data-popper-escaped":u})}},we=ee({defaultModifiers:[ne,re,ae,se]}),Be=[ne,re,ae,se,le,pe,ge,me,be],xe=ee({defaultModifiers:Be});t.applyStyles=se,t.arrow=me,t.computeStyles=ae,t.createPopper=xe,t.createPopperLite=we,t.defaultModifiers=Be,t.detectOverflow=J,t.eventListeners=ne,t.flip=pe,t.hide=be,t.offset=le,t.popperGenerator=ee,t.popperOffsets=re,t.preventOverflow=ge},function(e,t){var n="undefined"!=typeof Element,r="function"==typeof Map,i="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,l,c,A;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(l=s;0!=l--;)if(!a(e[l],t[l]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(A=e.entries();!(l=A.next()).done;)if(!t.has(l.value[0]))return!1;for(A=e.entries();!(l=A.next()).done;)if(!a(l.value[1],t.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(A=e.entries();!(l=A.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(l=s;0!=l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(t,c[l]))return!1;if(n&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!a(e[c[l]],t[c[l]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=function(e){var t=e.children,n=e.innerRef,r=i.useContext(a.ManagerReferenceNodeSetterContext),l=i.useCallback((function(e){(0,s.setRef)(n,e),(0,s.safeInvoke)(r,e)}),[n,r]);return i.useEffect((function(){return function(){return(0,s.setRef)(n,null)}}),[]),i.useEffect((function(){(0,o.default)(Boolean(r),"`Reference` should not be used outside of a `Manager` component.")}),[r]),(0,s.unwrapArray)(t)({ref:l})};var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=(r=n(541))&&r.__esModule?r:{default:r},a=n(205),s=n(206);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(546),i=n(301),o=n(547),a=n(548);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(301),i=n(549);function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),e.raw=t,e}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(89);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(2),i=n(0),o=n.n(i),a=n(22),s=n(91),l=n(1),c=n.n(l),A=n(5);function u(e,t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=yield t.storage.local.get(s.d);let i=null!==(n=r[s.d])&&void 0!==n?n:s.b,o=i[e];return null!=o&&(o+=1,o===s.c[e]?(i[e]=o,yield t.storage.local.set({[s.d]:i}),!0):(o>s.c[e]?i[e]=0:i[e]=o,yield t.storage.local.set({[s.d]:i}),!1))}))}function d(e,t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=yield t.storage.local.get(s.d);let i=null!==(n=r[s.d])&&void 0!==n?n:s.b;return null!=i[e]&&(i[e]=null,yield t.storage.local.set({[s.d]:i}),!0)}))}function f(e,t,n,r,i,s,l,c,u){return o.a.createElement(a.a,{getPortalRoot:l,placement:u,targetElementRef:c,offsetX:10,instaClose:!0,strategy:"fixed",clickThrough:!0,noStyles:!0},o.a.createElement(p,{width:r},n?o.a.createElement(h,null,n," "):null,e?o.a.createElement(g,null,e):null,t?o.a.createElement(m,null,t):null,o.a.createElement(v,null,o.a.createElement(A.a,{onClick:s,label:"Remind me later",type:"secondary",size:"small",padding:"2px 6px",fullWidth:!0}),o.a.createElement(A.a,{onClick:i,label:"Hide Forever",type:"primary",size:"small",padding:"2px 6px",fullWidth:!0}))))}const p=c.a.div.withConfig({displayName:"NudgeContainer",componentId:"udjd7e-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;grid-gap:5px;padding:20px;background:",";border-radius:14px;width:",";position:relative;"],(e=>e.theme.colors.prime1),(e=>e.width?e.width:"300px")),h=c.a.div.withConfig({displayName:"HotKeysBox",componentId:"udjd7e-1"})(["position:absolute;top:20px;right:20px;"]),g=c.a.div.withConfig({displayName:"NudgeTitle",componentId:"udjd7e-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:10px;line-height:1.5;color:",";font-size:18px;font-weight:900;text-align:left;"],(e=>e.theme.colors.black1)),m=c.a.div.withConfig({displayName:"NudgeText",componentId:"udjd7e-3"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:10px;line-height:1.5;color:",";font-size:16px;text-align:left;"],(e=>e.theme.colors.black)),v=c.a.div.withConfig({displayName:"NudgeBottomNote",componentId:"udjd7e-4"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:10px;line-height:1.5;padding:10px 0px 0 0px;color:",";font-size:12px;text-align:center;box-sizing:border-box;width:100%;margin-top:15px;margin-bottom:-5px;"],(e=>e.theme.colors.blac))},,,,,,,,,function(e,t,n){(function(t){var r=n(572),i=n(333),o=n(573),a=n(574),s=n(237),l=s.isErrorEvent,c=s.isDOMError,A=s.isDOMException,u=s.isError,d=s.isObject,f=s.isPlainObject,p=s.isUndefined,h=s.isFunction,g=s.isString,m=s.isArray,v=s.isEmptyObject,y=s.each,b=s.objectMerge,w=s.truncate,B=s.objectFrozen,x=s.hasKey,C=s.joinRegExp,S=s.urlencode,k=s.uuid4,E=s.htmlTreeAsString,I=s.isSameException,O=s.isSameStacktrace,F=s.parseUrl,D=s.fill,_=s.supportsFetch,T=s.supportsReferrerPolicy,U=s.serializeKeysForMessage,M=s.serializeException,L=s.sanitize,Q=n(575).wrapMethod,R="source protocol user pass host port path".split(" "),P=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function H(){return+new Date}var N="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},j=N.document,z=N.navigator;function K(e,t){return h(t)?function(n){return t(n,e)}:t}function $(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!p(j),this._hasNavigator=!p(z),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:N.SENTRY_RELEASE&&N.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:T()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=N.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=H(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=N.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}$.prototype={VERSION:"3.26.3",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&y(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:i[e]=t})),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=C(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&C(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&C(i.whitelistUrls),i.includePaths=C(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=b(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},l=i.instrument;return"[object Object]"==={}.toString.call(l)?l=b(s,l):!1!==l&&(l=s),i.instrument=l,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+i+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return h(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(p(t)&&!h(e))return e;if(h(e)&&(t=e,e=void 0),!h(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function i(){var i=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(n&&h(n)&&n.apply(this,arguments);o--;)i[o]=a?r.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,i)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var o in t)x(t,o)&&(i[o]=t[o]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=t,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),N.addEventListener&&N.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return N.removeEventListener&&N.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=b({trimHeadFrames:0},t||{}),l(e)&&e.error)e=e.error;else{if(c(e)||A(e)){var n=e.name||(c(e)?"DOMError":"DOMException"),i=e.message?n+": "+e.message:n;return this.captureMessage(i,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(u(e));else{if(!f(e))return this.captureMessage(e,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var o=r.computeStackTrace(e);this._handleStackInfo(o,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=b(e,{message:"Non-Error exception captured with keys: "+U(n),fingerprint:[o(n)],extra:e.extra||{}});return r.extra.__serialized__=M(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,i=b({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var o=r.computeStackTrace(n),a=m(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===i.message){i.fingerprint=null==i.fingerprint?e:i.fingerprint,(t=b({trimHeadFrames:0},t)).trimHeadFrames+=1;var l=this._prepareFrames(o,t);i.stacktrace={frames:l.reverse()}}return i.fingerprint&&(i.fingerprint=m(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(e){var t=b({timestamp:H()/1e3},e);if(h(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(d(n)&&!v(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=K(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=K(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=K(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=N.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(j){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new a("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new a("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(t),i+="&dsn="+r(n);var o=e.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var s=this._getGlobalServer(this._parseDSN(n)),l=j.createElement("script");l.async=!0,l.src=s+"/api/embed/error-page/"+i,(j.head||j.body).appendChild(l)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),j.createEvent?(n=j.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=j.createEventObject()).eventType=e,t)x(t,r)&&(n[r]=t[r]);if(j.createEvent)j.dispatchEvent(n);else try{j.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=E(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(t),clearTimeout(i),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=F(this._location.href),r=F(t),i=F(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return h(a)&&(i[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(n){var i=N[n]&&N[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(D(i,"addEventListener",(function(t){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(e){}var l,c,A;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(c=e._breadcrumbEventHandler("click"),A=e._keypressEventHandler(),l=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?c(e):"keypress"===t?A(e):void 0}}),t.call(this,i,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,l),a,s)}}),t),D(i,"removeEventListener",(function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,i)}}),t))}D(N,"setTimeout",n,t),D(N,"setInterval",n,t),N.requestAnimationFrame&&D(N,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)i(o[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&h(n[t])&&D(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in N){var i=N.XMLHttpRequest&&N.XMLHttpRequest.prototype;D(i,"open",(function(t){return function(n,r){return g(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),D(i,"send",(function(t){return function(){var n=this;function i(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)r(o[a],n);return"onreadystatechange"in n&&h(n.onreadystatechange)?D(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,i)})):n.onreadystatechange=i,t.apply(this,arguments)}}),n)}t.xhr&&_()&&D(N,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in N&&o instanceof N.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(j.addEventListener?(j.addEventListener("click",e._breadcrumbEventHandler("click"),!1),j.addEventListener("keypress",e._keypressEventHandler(),!1)):j.attachEvent&&(j.attachEvent("onclick",e._breadcrumbEventHandler("click")),j.attachEvent("onkeypress",e._keypressEventHandler())));var o=N.chrome,a=!(o&&o.app&&o.app.runtime)&&N.history&&N.history.pushState&&N.history.replaceState;if(t.location&&a){var s=N.onpopstate;N.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var l=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};D(N.history,"pushState",l,n),D(N.history,"replaceState",l,n)}if(t.console&&"console"in N&&console.log){var c=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};y(["debug","info","warn","error","log"],(function(e,t){Q(console,t,c)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;y(this._plugins,(function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))}))},_parseDSN:function(e){var t=P.exec(e),n={},r=7;try{for(;r--;)n[R[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(y(e.stack,(function(t,i){var o=n._normalizeFrame(i,e.url);o&&r.push(o)})),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var l=b({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},o),c=l.exception.values[0];null==c.type&&""===c.value&&(c.value="Unrecoverable error caught"),!l.exception.mechanism&&l.mechanism&&(l.exception.mechanism=l.mechanism,delete l.mechanism),l.exception.mechanism=b({type:"generic",handled:!0},l.exception.mechanism||{}),this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=w(e.message,t)),e.exception){var n=e.exception.values[0];n.value=w(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=w(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=w(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&d(n.data)&&!B(n.data)){r=b({},n.data);for(var a=0;a<i.length;++a)t=i[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=w(r[t],this._globalOptions.maxUrlLength));e.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&z.userAgent&&(e.headers={"User-Agent":z.userAgent}),N.location&&N.location.href&&(e.url=N.location.href),this._hasDocument&&j.referrer&&(e.headers||(e.headers={}),e.headers.Referer=j.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&H()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?O(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||I(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=_()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=H()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=b(n,e)).tags=b(b({},this._globalContext.tags),e.tags),e.extra=b(b({},this._globalContext.extra),e.extra),e.extra["session:duration"]=H()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||v(e[t]))&&delete e[t]})),h(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!v(e)&&(h(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return L(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return k()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+S(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),_()){r.body=i(e.data);var o=b({},this._fetchDefaults),a=b(o,r);return n&&(a.headers=n),N.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=N.XMLHttpRequest&&new N.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&y(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(i(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){p(t)?delete this._globalContext[e]:this._globalContext[e]=b(this._globalContext[e]||{},t)}},$.prototype.setUser=$.prototype.setUserContext,$.prototype.setReleaseContext=$.prototype.setRelease,e.exports=$}).call(this,n(61))},function(e,t,n){(function(t){var r=n(237),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=[].slice,s="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function c(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var e,t,n=[],A=null,u=null,d=null;function f(e,t){var r=null;if(!t||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function p(t,n,o,a,A){var u=r.isErrorEvent(A)?A.error:A,p=r.isErrorEvent(t)?t.message:t;if(d)i.computeStackTrace.augmentStackTraceWithInitialElement(d,n,o,p),h();else if(u&&r.isError(u))f(i.computeStackTrace(u),!0);else{var g,m={url:n,line:o,column:a},v=void 0;if("[object String]"==={}.toString.call(p))(g=p.match(l))&&(v=g[1],p=g[2]);m.func=s,f({name:v,message:p,url:c(),stack:[m]},!0)}return!!e&&e.apply(this,arguments)}function h(){var e=d,t=A;A=null,d=null,u=null,f.apply(null,[e,!1].concat(t))}function g(e,t){var n=a.call(arguments,1);if(d){if(u===e)return;h()}var r=i.computeStackTrace(e);if(d=r,u=e,A=n,setTimeout((function(){u===e&&h()}),r.incomplete?2e3:0),!1!==t)throw e}return g.subscribe=function(r){!function(){if(t)return;e=o.onerror,o.onerror=p,t=!0}(),n.push(r)},g.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},g.uninstall=function(){!function(){if(!t)return;o.onerror=e,t=!1,e=void 0}(),n=[]},g}(),i.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,A=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=e.stack.split("\n"),d=[],f=(/^(.*) is undefined$/.exec(e.message),0),p=u.length;f<p;++f){if(n=i.exec(u[f])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=A.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:h?null:n[2],func:n[1]||s,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(u[f]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(u[f])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==f||n[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var g=new XMLHttpRequest;if(g.open("GET",r.url,!1),g.send(null),200===g.status){var m=g.responseText||"",v=(m=m.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var y=v[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+y.slice(1)),r.url=y.slice(0,-4)}}}d.push(r)}return d.length?{name:e.name,message:e.message,url:c(),stack:d}:null}}function t(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=s),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,o){for(var a,l,A=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],d={},f=!1,p=n.caller;p&&!f;p=p.caller)if(p!==r&&p!==i.report){if(l={url:null,func:s,line:null,column:null},p.name?l.func=p.name:(a=A.exec(p.toString()))&&(l.func=a[1]),void 0===l.func)try{l.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}d[""+p]?f=!0:d[""+p]=!0,u.push(l)}o&&u.splice(0,o);var h={name:e.name,message:e.message,url:c(),stack:u};return t(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function r(t,r){var o=null;r=null==r?0:+r;try{if(o=e(t))return o}catch(e){if(i.debug)throw e}try{if(o=n(t,r+1))return o}catch(e){if(i.debug)throw e}return{name:t.name,message:t.message,url:c()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=i}).call(this,n(61))},function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(l=o)|s>>>32-l,r);var s,l}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function l(e,t){var r,l,c,A,u;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var d=1732584193,f=-271733879,p=-1732584194,h=271733878;for(r=0;r<e.length;r+=16)l=d,c=f,A=p,u=h,d=i(d,f,p,h,e[r],7,-680876936),h=i(h,d,f,p,e[r+1],12,-389564586),p=i(p,h,d,f,e[r+2],17,606105819),f=i(f,p,h,d,e[r+3],22,-1044525330),d=i(d,f,p,h,e[r+4],7,-176418897),h=i(h,d,f,p,e[r+5],12,1200080426),p=i(p,h,d,f,e[r+6],17,-1473231341),f=i(f,p,h,d,e[r+7],22,-45705983),d=i(d,f,p,h,e[r+8],7,1770035416),h=i(h,d,f,p,e[r+9],12,-1958414417),p=i(p,h,d,f,e[r+10],17,-42063),f=i(f,p,h,d,e[r+11],22,-1990404162),d=i(d,f,p,h,e[r+12],7,1804603682),h=i(h,d,f,p,e[r+13],12,-40341101),p=i(p,h,d,f,e[r+14],17,-1502002290),d=o(d,f=i(f,p,h,d,e[r+15],22,1236535329),p,h,e[r+1],5,-165796510),h=o(h,d,f,p,e[r+6],9,-1069501632),p=o(p,h,d,f,e[r+11],14,643717713),f=o(f,p,h,d,e[r],20,-373897302),d=o(d,f,p,h,e[r+5],5,-701558691),h=o(h,d,f,p,e[r+10],9,38016083),p=o(p,h,d,f,e[r+15],14,-660478335),f=o(f,p,h,d,e[r+4],20,-405537848),d=o(d,f,p,h,e[r+9],5,568446438),h=o(h,d,f,p,e[r+14],9,-1019803690),p=o(p,h,d,f,e[r+3],14,-187363961),f=o(f,p,h,d,e[r+8],20,1163531501),d=o(d,f,p,h,e[r+13],5,-1444681467),h=o(h,d,f,p,e[r+2],9,-51403784),p=o(p,h,d,f,e[r+7],14,1735328473),d=a(d,f=o(f,p,h,d,e[r+12],20,-1926607734),p,h,e[r+5],4,-378558),h=a(h,d,f,p,e[r+8],11,-2022574463),p=a(p,h,d,f,e[r+11],16,1839030562),f=a(f,p,h,d,e[r+14],23,-35309556),d=a(d,f,p,h,e[r+1],4,-1530992060),h=a(h,d,f,p,e[r+4],11,1272893353),p=a(p,h,d,f,e[r+7],16,-155497632),f=a(f,p,h,d,e[r+10],23,-1094730640),d=a(d,f,p,h,e[r+13],4,681279174),h=a(h,d,f,p,e[r],11,-358537222),p=a(p,h,d,f,e[r+3],16,-722521979),f=a(f,p,h,d,e[r+6],23,76029189),d=a(d,f,p,h,e[r+9],4,-640364487),h=a(h,d,f,p,e[r+12],11,-421815835),p=a(p,h,d,f,e[r+15],16,530742520),d=s(d,f=a(f,p,h,d,e[r+2],23,-995338651),p,h,e[r],6,-198630844),h=s(h,d,f,p,e[r+7],10,1126891415),p=s(p,h,d,f,e[r+14],15,-1416354905),f=s(f,p,h,d,e[r+5],21,-57434055),d=s(d,f,p,h,e[r+12],6,1700485571),h=s(h,d,f,p,e[r+3],10,-1894986606),p=s(p,h,d,f,e[r+10],15,-1051523),f=s(f,p,h,d,e[r+1],21,-2054922799),d=s(d,f,p,h,e[r+8],6,1873313359),h=s(h,d,f,p,e[r+15],10,-30611744),p=s(p,h,d,f,e[r+6],15,-1560198380),f=s(f,p,h,d,e[r+13],21,1309151649),d=s(d,f,p,h,e[r+4],6,-145523070),h=s(h,d,f,p,e[r+11],10,-1120210379),p=s(p,h,d,f,e[r+2],15,718787259),f=s(f,p,h,d,e[r+9],21,-343485551),d=n(d,l),f=n(f,c),p=n(p,A),h=n(h,u);return[d,f,p,h]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function A(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function d(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return c(l(A(e),8*e.length))}(d(e))}function p(e,t){return function(e,t){var n,r,i=A(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=l(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=l(o.concat(A(t)),512+8*t.length),c(l(a.concat(r),640))}(d(e),d(t))}e.exports=function(e,t,n){return t?n?p(t,e):u(p(t,e)):n?f(e):u(f(e))}},function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},function(e,t,n){var r=n(237);e.exports={wrapMethod:function(e,t,n){var i=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),l={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),l.extra.arguments=e.slice(1),n&&n(s,l)):n&&n(s,l),i&&Function.prototype.apply.call(i,o,e)}}}}},function(e,t,n){var r=n(40);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";var r=n(578);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(609),i=r.default,o=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return A.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=d(n(478)),o=d(n(28)),a=d(n(58)),s=n(302),l=n(479),c=n(221),A=d(n(613)),u=d(n(480));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;return S(e)}(this,n)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,e);var t=C(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),E(S(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,u.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,l.createDraggableData)(S(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),E(S(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",t);var n=(0,l.createDraggableData)(S(r),t),i={x:n.x,y:n.y};if(r.props.bounds){var o=i.x,a=i.y;i.x+=r.state.slackX,i.y+=r.state.slackY;var s=m((0,l.getBoundPosition)(S(r),i.x,i.y),2),c=s[0],A=s[1];i.x=c,i.y=A,i.slackX=r.state.slackX+(o-i.x),i.slackY=r.state.slackY+(a-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-r.state.x,n.deltaY=i.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(i)})),E(S(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,l.createDraggableData)(S(r),t)))return!1;(0,u.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var i=r.props.position,o=i.x,a=i.y;n.x=o,n.y=a}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return B(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}]),B(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),i=t.defaultPosition,o=t.defaultClassName,c=t.defaultClassNameDragging,u=t.defaultClassNameDragged,d=t.position,f=t.positionOffset,p=(t.scale,g(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},v=null,y=!Boolean(d)||this.state.dragging,w=d||i,B={x:(0,l.canDragX)(this)&&y?this.state.x:w.x,y:(0,l.canDragY)(this)&&y?this.state.y:w.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(B,f):m=(0,s.createCSSTransform)(B,f);var x=(0,a.default)(n.props.className||"",o,(E(e={},c,this.state.dragging),E(e,u,this.state.dragged),e));return r.createElement(A.default,h({},p,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:x,style:b(b({},n.props.style),m),transform:v}))}}]),n}(r.Component);t.default=I,E(I,"displayName","Draggable"),E(I,"propTypes",b(b({},A.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),E(I,"defaultProps",b(b({},A.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";var r=n(611);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=i,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(o(e,r[n])in t)return r[n];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=i();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=A(n(478)),o=A(n(28)),a=n(302),s=n(479),l=n(221),c=A(n(480));function A(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={start:"touchstart",move:"touchmove",stop:"touchend"},B={start:"mousedown",move:"mousemove",stop:"mouseup"},x=B,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(A,e);var t,n,i,l=m(A);function A(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=l.call.apply(l,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),b(v(e),"mounted",!1),b(v(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,a.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,a.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,a.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,s.getControlPosition)(t,i,v(e));if(null!=o){var l=o.x,A=o.y,u=(0,s.createCoreData)(v(e),l,A);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,u)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:l,lastY:A}),(0,a.addEvent)(r,x.move,e.handleDrag),(0,a.addEvent)(r,x.stop,e.handleDragStop))}}})),b(v(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,v(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,a=i-e.state.lastY,l=f((0,s.snapToGrid)(e.props.grid,o,a),2);if(o=l[0],a=l[1],!o&&!a)return;r=e.state.lastX+o,i=e.state.lastY+a}var A=(0,s.createCoreData)(v(e),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",A),!1!==e.props.onDrag(t,A)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(u)}}})),b(v(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,v(e));if(null!=n){var r=n.x,i=n.y,o=(0,s.createCoreData)(v(e),r,i);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var l=e.findDOMNode();l&&e.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(l.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),l&&((0,c.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(l.ownerDocument,x.move,e.handleDrag),(0,a.removeEvent)(l.ownerDocument,x.stop,e.handleDragStop))}}})),b(v(e),"onMouseDown",(function(t){return x=B,e.handleDragStart(t)})),b(v(e),"onMouseUp",(function(t){return x=B,e.handleDragStop(t)})),b(v(e),"onTouchStart",(function(t){return x=w,e.handleDragStart(t)})),b(v(e),"onTouchEnd",(function(t){return x=w,e.handleDragStop(t)})),e}return t=A,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,a.addEvent)(e,w.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,a.removeEvent)(t,B.move,this.handleDrag),(0,a.removeEvent)(t,w.move,this.handleDrag),(0,a.removeEvent)(t,B.stop,this.handleDragStop),(0,a.removeEvent)(t,w.stop,this.handleDragStop),(0,a.removeEvent)(e,w.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&h(t.prototype,n),i&&h(t,i),A}(r.Component);t.default=C,b(C,"displayName","DraggableCore"),b(C,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),b(C,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(615);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var s=a(r),l=o(i),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},d={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return A(t,e),t.prototype.render=function(){return s.createElement("div",{className:this.props.className||"",style:u(u({position:"absolute",userSelect:"none"},d[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(s.PureComponent),p={width:"auto",height:"auto"},h=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),g=l.default((function(e,t){return Math.round(e/t)*t})),m=l.default((function(e,t){return new RegExp(e,"i").test(t)})),v=function(e){return Boolean(e.touches&&e.touches.length)},y=l.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),b=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),w=l.default((function(e){return"auto"===(e=e.toString())||b(e,"px")||b(e,"%")||b(e,"vh")||b(e,"vw")||b(e,"vmax")||b(e,"vmin")?e:e+"px"})),B=function(e,t,n,r){if(e&&"string"==typeof e){if(b(e,"px"))return Number(e.replace("px",""));if(b(e,"%"))return t*(Number(e.replace("%",""))/100);if(b(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(b(e,"vh"))return r*(Number(e.replace("vh",""))/100)}return e},x=l.default((function(e,t,n,r,i,o,a){return r=B(r,e.width,t,n),i=B(i,e.height,t,n),o=B(o,e.width,t,n),a=B(a,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===i?void 0:Number(i),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===a?void 0:Number(a)}})),C=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],S="__resizable_base__",k=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add(S):t.className+=S,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return A(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&b(e.propsSize[t].toString(),"%")){if(b(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return w(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?w(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?w(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,o=this.state.direction,a=i&&m("left",o),s=i&&m("top",o);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,a=i.original,s=this.props,l=s.lockAspectRatio,c=s.lockAspectRatioExtraHeight,A=s.lockAspectRatioExtraWidth,u=a.width,d=a.height,f=c||0,p=A||0;return m("right",o)&&(u=a.width+(e-a.x)*r/n,l&&(d=(u-p)/this.ratio+f)),m("left",o)&&(u=a.width-(e-a.x)*r/n,l&&(d=(u-p)/this.ratio+f)),m("bottom",o)&&(d=a.height+(t-a.y)*r/n,l&&(u=(d-f)*this.ratio+p)),m("top",o)&&(d=a.height-(t-a.y)*r/n,l&&(u=(d-f)*this.ratio+p)),{newWidth:u,newHeight:d}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,c=void 0===n.width||n.width<0?e:n.width,A=void 0===r.height?10:r.height,u=void 0===n.height||n.height<0?t:n.height,d=a||0,f=s||0;if(o){var p=(A-d)*this.ratio+f,g=(u-d)*this.ratio+f,m=(l-f)/this.ratio+d,v=(c-f)/this.ratio+d,y=Math.max(l,p),b=Math.min(c,g),w=Math.max(A,m),B=Math.min(u,v);e=h(e,y,b),t=h(t,w,B)}else e=h(e,l,c),t=h(t,A,u);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top,a=r.right,s=r.bottom;this.resizableLeft=i,this.resizableRight=a,this.resizableTop=o,this.resizableBottom=s}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&v(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:u(u({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&v(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,o=t.minHeight,a=v(e)?e.touches[0].clientX:e.clientX,s=v(e)?e.touches[0].clientY:e.clientY,l=this.state,c=l.direction,A=l.original,u=l.width,d=l.height,f=this.getParentSize(),p=x(f,this.window.innerWidth,this.window.innerHeight,n,r,i,o);n=p.maxWidth,r=p.maxHeight,i=p.minWidth,o=p.minHeight;var h=this.calculateNewSizeFromDirection(a,s),m=h.newHeight,w=h.newWidth,B=this.calculateNewMaxFromBoundary(n,r),C=this.calculateNewSizeFromAspectRatio(w,m,{width:B.maxWidth,height:B.maxHeight},{width:i,height:o});if(w=C.newWidth,m=C.newHeight,this.props.grid){var S=g(w,this.props.grid[0]),k=g(m,this.props.grid[1]),E=this.props.snapGap||0;w=0===E||Math.abs(S-w)<=E?S:w,m=0===E||Math.abs(k-m)<=E?k:m}this.props.snap&&this.props.snap.x&&(w=y(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(m=y(m,this.props.snap.y,this.props.snapGap));var I={width:w-A.width,height:m-A.height};if(u&&"string"==typeof u)if(b(u,"%"))w=w/f.width*100+"%";else if(b(u,"vw")){w=w/this.window.innerWidth*100+"vw"}else if(b(u,"vh")){w=w/this.window.innerHeight*100+"vh"}if(d&&"string"==typeof d)if(b(d,"%"))m=m/f.height*100+"%";else if(b(d,"vw")){m=m/this.window.innerWidth*100+"vw"}else if(b(d,"vh")){m=m/this.window.innerHeight*100+"vh"}var O={width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(m,"height")};"row"===this.flexDir?O.flexBasis=O.width:"column"===this.flexDir&&(O.flexBasis=O.height),this.setState(O),this.props.onResize&&this.props.onResize(e,c,this.resizable,I)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:u(u({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,o=t.handleWrapperStyle,a=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(f,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t]},l&&l[t]?l[t]:null):null}));return s.createElement("div",{className:a,style:o},c)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==C.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=u(u(u({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return s.createElement(r,u({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&s.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);t.Resizable=k},function(e,t){function n(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(o);return void 0===a&&(a=e.call(this,r),t.set(o,a)),a}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function i(e,t,n,r,i){return n.bind(t,e,r,i)}function o(e,t){return i(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:l,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:o)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return i(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return i(e,this,n,t.cache.create(),t.serializer)}}},function(e,t,n){"use strict";function r(e){this.content=e}r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,o=i.find(e),a=i.content.slice();return-1==o?a.push(n||e,t):(a[o+1]=t,n&&(a[o]=n)),new r(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),o=i.content.slice(),a=i.find(e);return o.splice(-1==a?o.length:a,0,t,n),new r(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)},e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(303);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),a="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),s=0;s<10;s++)r[48+s]=r[96+s]=String(s);for(s=1;s<=24;s++)r[s+111]="F"+s;for(s=65;s<=90;s++)r[s]=String.fromCharCode(s+32),i[s]=String.fromCharCode(s);for(var l in r)i.hasOwnProperty(l)||(i[l]=r[l]);t.base=r,t.keyName=function(e){var t=!(o&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||a&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?i:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t},t.shift=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(121);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(621);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(121),o=n(89),a=n(39),s=function(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)};function l(e,t){var n=e.selection.$cursor;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}var c=function(e,t,n){var r=l(e,n);if(!r)return!1;var s=f(r);if(!s){var c=r.blockRange(),A=c&&i.liftTarget(c);return null!=A&&(t&&t(e.tr.lift(c,A).scrollIntoView()),!0)}var d=s.nodeBefore;if(!d.type.spec.isolating&&k(e,s,t))return!0;if(0==r.parent.content.size&&(u(d,"end")||a.NodeSelection.isSelectable(d))){var p=i.replaceStep(e.doc,r.before(),r.after(),o.Slice.empty);if(p&&p.slice.size<p.to-p.from){if(t){var h=e.tr.step(p);h.setSelection(u(d,"end")?a.Selection.findFrom(h.doc.resolve(h.mapping.map(s.pos,-1)),-1):a.NodeSelection.create(h.doc,s.pos-d.nodeSize)),t(h.scrollIntoView())}return!0}}return!(!d.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos-d.nodeSize,s.pos).scrollIntoView()),!0)};function A(e,t,n){for(var r=t.nodeBefore,s=t.pos-1;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;var l=r.lastChild;if(!l)return!1;r=l}for(var c=t.nodeAfter,A=t.pos+1;!c.isTextblock;A++){if(c.type.spec.isolating)return!1;var u=c.firstChild;if(!u)return!1;c=u}var d=i.replaceStep(e.doc,s,A,o.Slice.empty);if(!d||d.from!=s||d instanceof i.ReplaceStep&&d.slice.size>=A-s)return!1;if(n){var f=e.tr.step(d);f.setSelection(a.TextSelection.create(f.doc,s)),n(f.scrollIntoView())}return!0}function u(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}var d=function(e,t,n){var r=e.selection,i=r.$head,o=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;o=f(i)}var s=o&&o.nodeBefore;return!(!s||!a.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function f(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function p(e,t){var n=e.selection.$cursor;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}var h=function(e,t,n){var r=p(e,n);if(!r)return!1;var s=m(r);if(!s)return!1;var l=s.nodeAfter;if(k(e,s,t))return!0;if(0==r.parent.content.size&&(u(l,"start")||a.NodeSelection.isSelectable(l))){var c=i.replaceStep(e.doc,r.before(),r.after(),o.Slice.empty);if(c&&c.slice.size<c.to-c.from){if(t){var A=e.tr.step(c);A.setSelection(u(l,"start")?a.Selection.findFrom(A.doc.resolve(A.mapping.map(s.pos)),1):a.NodeSelection.create(A.doc,A.mapping.map(s.pos))),t(A.scrollIntoView())}return!0}}return!(!l.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos,s.pos+l.nodeSize).scrollIntoView()),!0)},g=function(e,t,n){var r=e.selection,i=r.$head,o=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;o=m(i)}var s=o&&o.nodeAfter;return!(!s||!a.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,o.pos)).scrollIntoView()),!0)};function m(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}var v=function(e,t){var n=e.selection,r=n.$head,i=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(i))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function y(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}var b=function(e,t){var n=e.selection,r=n.$head,i=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;var o=r.node(-1),s=r.indexAfter(-1),l=y(o.contentMatchAt(s));if(!l||!o.canReplaceWith(s,s,l))return!1;if(t){var c=r.after(),A=e.tr.replaceWith(c,c,l.createAndFill());A.setSelection(a.Selection.near(A.doc.resolve(c),1)),t(A.scrollIntoView())}return!0},w=function(e,t){var n=e.selection,r=n.$from,i=n.$to;if(n instanceof a.AllSelection||r.parent.inlineContent||i.parent.inlineContent)return!1;var o=y(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=e.tr.insert(s,o.createAndFill());l.setSelection(a.TextSelection.create(l.doc,s+1)),t(l.scrollIntoView())}return!0},B=function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(i.canSplit(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),a=o&&i.liftTarget(o);return null!=a&&(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)};function x(e){return function(t,n){var r=t.selection,o=r.$from,s=r.$to;if(t.selection instanceof a.NodeSelection&&t.selection.node.isBlock)return!(!o.parentOffset||!i.canSplit(t.doc,o.pos))&&(n&&n(t.tr.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;if(n){var l=s.parentOffset==s.parent.content.size,c=t.tr;(t.selection instanceof a.TextSelection||t.selection instanceof a.AllSelection)&&c.deleteSelection();var A=0==o.depth?null:y(o.node(-1).contentMatchAt(o.indexAfter(-1))),u=e&&e(s.parent,l),d=u?[u]:l&&A?[{type:A}]:void 0,f=i.canSplit(c.doc,c.mapping.map(o.pos),1,d);if(d||f||!i.canSplit(c.doc,c.mapping.map(o.pos),1,A?[{type:A}]:void 0)||(A&&(d=[{type:A}]),f=!0),f&&(c.split(c.mapping.map(o.pos),1,d),!l&&!o.parentOffset&&o.parent.type!=A)){var p=c.mapping.map(o.before()),h=c.doc.resolve(p);A&&o.node(-1).canReplaceWith(h.index(),h.index()+1,A)&&c.setNodeMarkup(c.mapping.map(o.before()),A)}n(c.scrollIntoView())}return!0}}var C=x(),S=function(e,t){return t&&t(e.tr.setSelection(new a.AllSelection(e.doc))),!0};function k(e,t,n){var r,s,l=t.nodeBefore,c=t.nodeAfter;if(l.type.spec.isolating||c.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,a=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!o.isTextblock&&!i.canJoin(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var A=t.parent.canReplace(t.index(),t.index()+1);if(A&&(r=(s=l.contentMatchAt(l.childCount)).findWrapping(c.type))&&s.matchType(r[0]||c.type).validEnd){if(n){for(var d=t.pos+c.nodeSize,f=o.Fragment.empty,p=r.length-1;p>=0;p--)f=o.Fragment.from(r[p].create(null,f));f=o.Fragment.from(l.copy(f));var h=e.tr.step(new i.ReplaceAroundStep(t.pos-1,d,t.pos,d,new o.Slice(f,1,0),r.length,!0)),g=d+2*r.length;i.canJoin(h.doc,g)&&h.join(g),n(h.scrollIntoView())}return!0}var m=a.Selection.findFrom(t,1),v=m&&m.$from.blockRange(m.$to),y=v&&i.liftTarget(v);if(null!=y&&y>=t.depth)return n&&n(e.tr.lift(v,y).scrollIntoView()),!0;if(A&&u(c,"start",!0)&&u(l,"end")){for(var b=l,w=[];w.push(b),!b.isTextblock;)b=b.lastChild;for(var B=c,x=1;!B.isTextblock;B=B.firstChild)x++;if(b.canReplace(b.childCount,b.childCount,B.content)){if(n){for(var C=o.Fragment.empty,S=w.length-1;S>=0;S--)C=o.Fragment.from(w[S].copy(C));n(e.tr.step(new i.ReplaceAroundStep(t.pos-w.length,t.pos+c.nodeSize,t.pos+x,t.pos+c.nodeSize-x,new o.Slice(C,w.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function E(e){return function(t,n){for(var r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(a.TextSelection.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}var I=E(-1),O=E(1);function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(var i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}var D=F(s,c,d),_=F(s,h,g),T={Enter:F(v,w,B,C),"Mod-Enter":b,Backspace:D,"Mod-Backspace":D,"Shift-Backspace":D,Delete:_,"Mod-Delete":_,"Mod-a":S},U={"Ctrl-h":T.Backspace,"Alt-Backspace":T["Mod-Backspace"],"Ctrl-d":T.Delete,"Ctrl-Alt-Backspace":T["Mod-Delete"],"Alt-Delete":T["Mod-Delete"],"Alt-d":T["Mod-Delete"],"Ctrl-a":I,"Ctrl-e":O};for(var M in T)U[M]=T[M];var L=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?U:T;t.autoJoin=function(e,t){var n=Array.isArray(t)?function(e){return t.indexOf(e.type.name)>-1}:t;return function(t,r,o){return e(t,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var a=n.mapping.maps[o],s=0;s<r.length;s++)r[s]=a.map(r[s]);a.forEach((function(e,t,n,i){return r.push(n,i)}))}for(var l=[],c=0;c<r.length;c+=2)for(var A=r[c],u=r[c+1],d=n.doc.resolve(A),f=d.sharedDepth(u),p=d.node(f),h=d.indexAfter(f),g=d.after(f+1);g<=u;++h){var m=p.maybeChild(h);if(!m)break;if(h&&-1==l.indexOf(g)){var v=p.child(h-1);v.type==m.type&&t(v,m)&&l.push(g)}g+=m.nodeSize}l.sort((function(e,t){return e-t}));for(var y=l.length-1;y>=0;y--)i.canJoin(n.doc,l[y])&&n.join(l[y]);e(n)}}(r,n),o)}},t.baseKeymap=L,t.chainCommands=F,t.createParagraphNear=w,t.deleteSelection=s,t.exitCode=b,t.joinBackward=c,t.joinDown=function(e,t){var n,r=e.selection;if(r instanceof a.NodeSelection){if(r.node.isTextblock||!i.canJoin(e.doc,r.to))return!1;n=r.to}else if(null==(n=i.joinPoint(e.doc,r.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t.joinForward=h,t.joinTextblockBackward=function(e,t,n){var r=l(e,n);if(!r)return!1;var i=f(r);return!!i&&A(e,i,t)},t.joinTextblockForward=function(e,t,n){var r=p(e,n);if(!r)return!1;var i=m(r);return!!i&&A(e,i,t)},t.joinUp=function(e,t){var n,r=e.selection,o=r instanceof a.NodeSelection;if(o){if(r.node.isTextblock||!i.canJoin(e.doc,r.from))return!1;n=r.from}else if(null==(n=i.joinPoint(e.doc,r.from,-1)))return!1;if(t){var s=e.tr.join(n);o&&s.setSelection(a.NodeSelection.create(s.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},t.lift=function(e,t){var n=e.selection,r=n.$from,o=n.$to,a=r.blockRange(o),s=a&&i.liftTarget(a);return null!=s&&(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)},t.liftEmptyBlock=B,t.macBaseKeymap=U,t.newlineInCode=v,t.pcBaseKeymap=T,t.selectAll=S,t.selectNodeBackward=d,t.selectNodeForward=g,t.selectParentNode=function(e,t){var n,r=e.selection,i=r.$from,o=r.to,s=i.sharedDepth(o);return 0!=s&&(n=i.before(s),t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,n))),!0)},t.selectTextblockEnd=O,t.selectTextblockStart=I,t.setBlockType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){for(var i=!1,o=0;o<n.selection.ranges.length&&!i;o++){var a=n.selection.ranges[o],s=a.$from.pos,l=a.$to.pos;n.doc.nodesBetween(s,l,(function(r,o){if(i)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)i=!0;else{var a=n.doc.resolve(o),s=a.index();i=a.parent.canReplaceWith(s,s+1,e)}}))}if(!i)return!1;if(r){for(var c=n.tr,A=0;A<n.selection.ranges.length;A++){var u=n.selection.ranges[A],d=u.$from.pos,f=u.$to.pos;c.setBlockType(d,f,e,t)}r(c.scrollIntoView())}return!0}},t.splitBlock=C,t.splitBlockAs=x,t.splitBlockKeepMarks=function(e,t){return C(e,t&&function(n){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})},t.toggleMark=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,i){var o=n.selection,a=o.empty,s=o.$cursor,l=o.ranges;if(a&&!s||!function(e,t,n){for(var i=function(r){var i=t[r],o=i.$from,a=i.$to,s=0==o.depth&&e.inlineContent&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var a=i(o);if("object"===r(a))return a.v}return!1}(n.doc,l,e))return!1;if(i)if(s)e.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(e)):i(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,A=n.tr,u=0;!c&&u<l.length;u++){var d=l[u],f=d.$from,p=d.$to;c=n.doc.rangeHasMark(f.pos,p.pos,e)}for(var h=0;h<l.length;h++){var g=l[h],m=g.$from,v=g.$to;if(c)A.removeMark(m.pos,v.pos,e);else{var y=m.pos,b=v.pos,w=m.nodeAfter,B=v.nodeBefore,x=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,C=B&&B.isText?/\s*$/.exec(B.text)[0].length:0;y+x<b&&(y+=x,b-=C),A.addMark(y,b,e.create(t))}}i(A.scrollIntoView())}return!0}},t.wrapIn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){var o=n.selection,a=o.$from,s=o.$to,l=a.blockRange(s),c=l&&i.findWrapping(l,e,t);return!!c&&(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(623);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(121),i=n(89),o=n(39),a=["ol",0],s=["ul",0],l=["li",0],c={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?a:["ol",{start:e.attrs.order},0]}},A={parseDOM:[{tag:"ul"}],toDOM:function(){return s}},u={parseDOM:[{tag:"li"}],toDOM:function(){return l},defining:!0};function d(e,t){var n={};for(var r in e)n[r]=e[r];for(var i in t)n[i]=t[i];return n}t.addListNodes=function(e,t,n){return e.append({ordered_list:d(c,{content:"list_item+",group:n}),bullet_list:d(A,{content:"list_item+",group:n}),list_item:d(u,{content:t})})},t.bulletList=A,t.liftListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,l=a.blockRange(s,(function(t){return t.childCount>0&&t.firstChild.type==e}));return!!l&&(!n||(a.node(l.depth-1).type==e?function(e,t,n,o){var a=e.tr,s=o.end,l=o.$to.end(o.depth);s<l&&(a.step(new r.ReplaceAroundStep(s-1,l,s,l,new i.Slice(i.Fragment.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new i.NodeRange(a.doc.resolve(o.$from.pos),a.doc.resolve(l),o.depth));var c=r.liftTarget(o);if(null==c)return!1;a.lift(o,c);var A=a.mapping.map(s,-1)-1;r.canJoin(a.doc,A)&&a.join(A);return t(a.scrollIntoView()),!0}(t,n,e,l):function(e,t,n){for(var o=e.tr,a=n.parent,s=n.end,l=n.endIndex-1,c=n.startIndex;l>c;l--)s-=a.child(l).nodeSize,o.delete(s-1,s+1);var A=o.doc.resolve(n.start),u=A.nodeAfter;if(o.mapping.map(n.end)!=n.start+A.nodeAfter.nodeSize)return!1;var d=0==n.startIndex,f=n.endIndex==a.childCount,p=A.node(-1),h=A.index(-1);if(!p.canReplace(h+(d?0:1),h+1,u.content.append(f?i.Fragment.empty:i.Fragment.from(a))))return!1;var g=A.pos,m=g+u.nodeSize;return o.step(new r.ReplaceAroundStep(g-(d?1:0),m+(f?1:0),g+1,m-1,new i.Slice((d?i.Fragment.empty:i.Fragment.from(a.copy(i.Fragment.empty))).append(f?i.Fragment.empty:i.Fragment.from(a.copy(i.Fragment.empty))),d?0:1,f?0:1),d?0:1)),t(o.scrollIntoView()),!0}(t,n,l)))}},t.listItem=u,t.orderedList=c,t.sinkListItem=function(e){return function(t,n){var o=t.selection,a=o.$from,s=o.$to,l=a.blockRange(s,(function(t){return t.childCount>0&&t.firstChild.type==e}));if(!l)return!1;var c=l.startIndex;if(0==c)return!1;var A=l.parent,u=A.child(c-1);if(u.type!=e)return!1;if(n){var d=u.lastChild&&u.lastChild.type==A.type,f=i.Fragment.from(d?e.create():null),p=new i.Slice(i.Fragment.from(e.create(null,i.Fragment.from(A.type.create(null,f)))),d?3:1,0),h=l.start,g=l.end;n(t.tr.step(new r.ReplaceAroundStep(h-(d?3:1),g,h,g,p,1,!0)).scrollIntoView())}return!0}},t.splitListItem=function(e,t){return function(n,a){var s=n.selection,l=s.$from,c=s.$to,A=s.node;if(A&&A.isBlock||l.depth<2||!l.sameParent(c))return!1;var u=l.node(-1);if(u.type!=e)return!1;if(0==l.parent.content.size&&l.node(-1).childCount==l.indexAfter(-1)){if(3==l.depth||l.node(-3).type!=e||l.index(-2)!=l.node(-2).childCount-1)return!1;if(a){for(var d=i.Fragment.empty,f=l.index(-1)?1:l.index(-2)?2:3,p=l.depth-f;p>=l.depth-3;p--)d=i.Fragment.from(l.node(p).copy(d));var h=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3;d=d.append(i.Fragment.from(e.createAndFill()));var g=l.before(l.depth-(f-1)),m=n.tr.replace(g,l.after(-h),new i.Slice(d,4-f,0)),v=-1;m.doc.nodesBetween(g,m.doc.content.size,(function(e,t){if(v>-1)return!1;e.isTextblock&&0==e.content.size&&(v=t+1)})),v>-1&&m.setSelection(o.Selection.near(m.doc.resolve(v))),a(m.scrollIntoView())}return!0}var y=c.pos==l.end()?u.contentMatchAt(0).defaultType:null,b=n.tr.delete(l.pos,c.pos),w=y?[t?{type:e,attrs:t}:null,{type:y}]:void 0;return!!r.canSplit(b.doc,l.pos,2,w)&&(a&&a(b.split(l.pos,2,w).scrollIntoView()),!0)}},t.wrapInList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,o){var a=n.selection,s=a.$from,l=a.$to,c=s.blockRange(l),A=!1,u=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(e)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;var d=n.doc.resolve(c.start-2);u=new i.NodeRange(d,d,c.depth),c.endIndex<c.parent.childCount&&(c=new i.NodeRange(s,n.doc.resolve(l.end(c.depth)),c.depth)),A=!0}var f=r.findWrapping(u,e,t,c);return!!f&&(o&&o(function(e,t,n,o,a){for(var s=i.Fragment.empty,l=n.length-1;l>=0;l--)s=i.Fragment.from(n[l].type.create(n[l].attrs,s));e.step(new r.ReplaceAroundStep(t.start-(o?2:0),t.end,t.start,t.end,new i.Slice(s,0,0),n.length,!0));for(var c=0,A=0;A<n.length;A++)n[A].type==a&&(c=A+1);for(var u=n.length-c,d=t.start+n.length-(o?2:0),f=t.parent,p=t.startIndex,h=t.endIndex,g=!0;p<h;p++,g=!1)!g&&r.canSplit(e.doc,d,u)&&(e.split(d,u),d+=2*u),d+=f.child(p).nodeSize;return e}(n.tr,c,f,A,e).scrollIntoView()),!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=/^\s*>\s$/,o=r.Node.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[r.wrappingInputRule({find:i,type:this.type})]}});t.Blockquote=o,t.default=o,t.inputRegex=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,o=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,a=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,s=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,l=r.Mark.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[r.markInputRule({find:i,type:this.type}),r.markInputRule({find:a,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:o,type:this.type}),r.markPasteRule({find:s,type:this.type})]}});t.Bold=l,t.default=l,t.starInputRegex=i,t.starPasteRegex=o,t.underscoreInputRegex=a,t.underscorePasteRegex=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),o=r.Mark.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=r.getMarkAttributes(e,this.type);return!!Object.entries(n).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),a=/^\s*([-+*])\s$/,s=r.Node.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(i.name,this.editor.getAttributes(o.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=r.wrappingInputRule({find:a,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=r.wrappingInputRule({find:a,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(o.name),editor:this.editor})),[e]}});t.BulletList=s,t.default=s,t.inputRegex=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,o=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,a=r.Mark.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[r.markInputRule({find:i,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:o,type:this.type})]}});t.Code=a,t.default=a,t.inputRegex=i,t.pasteRegex=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(629);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),o=n(121);var a=function(){function e(t,n){var r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(r=n.width)&&void 0!==r?r:1,this.color=!1===n.color?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var n=function(t){i[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}var t,n,i;return t=e,(n=[{key:"destroy",value:function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))}},{key:"update",value:function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}},{key:"setCursor",value:function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}},{key:"updateOverlay",value:function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent;if(n){var r=t.nodeBefore,i=t.nodeAfter;if(r||i){var o=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0));if(o){var a=o.getBoundingClientRect(),s=r?a.bottom:a.top;r&&i&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:a.left,right:a.right,top:s-this.width/2,bottom:s+this.width/2}}}}if(!e){var l=this.editorView.coordsAtPos(this.cursorPos);e={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}var c,A,u=this.editorView.dom.offsetParent;if(this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!u||u==document.body&&"static"==getComputedStyle(u).position)c=-pageXOffset,A=-pageYOffset;else{var d=u.getBoundingClientRect();c=d.left-u.scrollLeft,A=d.top-u.scrollTop}this.element.style.left=e.left-c+"px",this.element.style.top=e.top-A+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}},{key:"scheduleRemoval",value:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)}},{key:"dragover",value:function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t,e):r;if(t&&!i){var a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){var s=o.dropPoint(this.editorView.state.doc,a,this.editorView.dragging.slice);null!=s&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}}},{key:"dragend",value:function(){this.scheduleRemoval(20)}},{key:"drop",value:function(){this.scheduleRemoval(20)}},{key:"dragleave",value:function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.dropCursor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.Plugin({view:function(t){return new a(t,e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(631);const o=r.Extension.create({name:"gapCursor",addProseMirrorPlugins:()=>[i.gapCursor()],extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:null!==(t=r.callOrReturn(r.getExtensionField(e,"allowGapCursor",n)))&&void 0!==t?t:null}}});t.Gapcursor=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(632);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0});var A=n(303),u=n(39),d=n(89),f=n(222),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(n,e);var t=l(n);function n(e){return i(this,n),t.call(this,e,e)}return a(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));return n.valid(r)?new n(r):u.Selection.near(r)}},{key:"content",value:function(){return d.Slice.empty}},{key:"eq",value:function(e){return e instanceof n&&e.head==this.head}},{key:"toJSON",value:function(){return{type:"gapcursor",pos:this.head}}},{key:"getBookmark",value:function(){return new h(this.anchor)}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new n(e.resolve(t.pos))}},{key:"valid",value:function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t),r=e.node(t);if(0!=n)for(var i=r.child(n-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var i=r.child(n);;i=i.firstChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}},{key:"findGapCursorFrom",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e:for(;;){if(!r&&n.valid(e))return e;for(var i=e.pos,o=null,a=e.depth;;a--){var s=e.node(a);if(t>0?e.indexAfter(a)<s.childCount:e.index(a)>0){o=s.child(t>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;i+=t;var l=e.doc.resolve(i);if(n.valid(l))return l}for(;;){var c=t>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!u.NodeSelection.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=c,i+=t;var A=e.doc.resolve(i);if(n.valid(A))return A}return null}}}]),n}(u.Selection);p.prototype.visible=!1,p.findFrom=p.findGapCursorFrom,u.Selection.jsonID("gapcursor",p);var h=function(){function e(t){i(this,e),this.pos=t}return a(e,[{key:"map",value:function(t){return new e(t.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return p.valid(t)?new p(t):u.Selection.near(t)}}]),e}();var g=A.keydownHandler({ArrowLeft:m("horiz",-1),ArrowRight:m("horiz",1),ArrowUp:m("vert",-1),ArrowDown:m("vert",1)});function m(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){var o=e.selection,a=t>0?o.$to:o.$from,s=o.empty;if(o instanceof u.TextSelection){if(!i.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}var l=p.findGapCursorFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new p(l))),!0)}}function v(e,t,n){if(!e||!e.editable)return!1;var r=e.state.doc.resolve(t);if(!p.valid(r))return!1;var i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&u.NodeSelection.isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new p(r))),!0)}function y(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof p))return!1;var n=e.state.selection.$from,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;for(var i=d.Fragment.empty,o=r.length-1;o>=0;o--)i=d.Fragment.from(r[o].createAndFill(null,i));var a=e.state.tr.replace(n.pos,n.pos,new d.Slice(i,0,0));return a.setSelection(u.TextSelection.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function b(e){if(!(e.selection instanceof p))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",f.DecorationSet.create(e.doc,[f.Decoration.widget(e.selection.head,t,{key:"gapcursor"})])}t.GapCursor=p,t.gapCursor=function(){return new u.Plugin({props:{decorations:b,createSelectionBetween:function(e,t,n){return t.pos==n.pos&&p.valid(n)?new p(n):null},handleClick:v,handleKeyDown:g,handleDOMEvents:{beforeinput:y}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",r.mergeAttributes(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:i}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,s=i||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&s&&o){const t=s.filter((e=>a.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});t.HardBreak=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(635);const o=r.Extension.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>i.undo(e,t),redo:()=>({state:e,dispatch:t})=>i.redo(e,t)}),addProseMirrorPlugins(){return[i.history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}});t.History=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(636);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(637),l=n(121),c=n(39);var A,u=(A=s)&&"object"===a(A)&&"default"in A?A:{default:A},d=function(){function e(t,n){r(this,e),this.items=t,this.eventCount=n}return o(e,[{key:"popEvent",value:function(t,n){var r=this;if(0==this.eventCount)return null;for(var i,o,a=this.items.length;;a--){if(this.items.get(a-1).selection){--a;break}}n&&(i=this.remapping(a,this.items.length),o=i.maps.length);var s,l,c=t.tr,A=[],u=[];return this.items.forEach((function(t,n){if(!t.step)return i||(i=r.remapping(a,n+1),o=i.maps.length),o--,void u.push(t);if(i){u.push(new f(t.map));var d,p=t.step.map(i.slice(o));p&&c.maybeStep(p).doc&&(d=c.mapping.maps[c.mapping.maps.length-1],A.push(new f(d,void 0,void 0,A.length+u.length))),o--,d&&i.appendMap(d,o)}else c.maybeStep(t.step);return t.selection?(s=i?t.selection.map(i.slice(o)):t.selection,l=new e(r.items.slice(0,a).append(u.reverse().concat(A)),r.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:c,selection:s}}},{key:"addTransform",value:function(t,n,r,i){for(var o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null,c=0;c<t.steps.length;c++){var A,u=t.steps[c].invert(t.docs[c]),d=new f(t.mapping.maps[c],u,n);(A=l&&l.merge(d))&&(d=A,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),n&&(a++,n=void 0),i||(l=d)}var p,g,m,v=a-r.depth;return v>h&&(g=v,(p=s).forEach((function(e,t){if(e.selection&&0==g--)return m=t,!1})),s=p.slice(m),a-=v),new e(s.append(o),a)}},{key:"remapping",value:function(e,t){var n=new l.Mapping;return this.items.forEach((function(t,r){var i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}},{key:"addMaps",value:function(t){return 0==this.eventCount?this:new e(this.items.append(t.map((function(e){return new f(e)}))),this.eventCount)}},{key:"rebased",value:function(t,n){if(!this.eventCount)return this;var r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),i);var l=n;this.items.forEach((function(e){var n=o.getMirror(--l);if(null!=n){a=Math.min(a,n);var i=o.maps[n];if(e.step){var c=t.steps[n].invert(t.docs[n]),A=e.selection&&e.selection.map(o.slice(l+1,n));A&&s++,r.push(new f(i,c,A))}else r.push(new f(i))}}),i);for(var c=[],A=n;A<a;A++)c.push(new f(o.maps[A]));var u=new e(this.items.slice(0,i).append(c).append(r),s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-r.length)),u}},{key:"emptyItemCount",value:function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e}},{key:"compress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((function(e,a){if(a>=t)i.push(e),e.selection&&o++;else if(e.step){var s=e.step.map(n.slice(r)),l=s&&s.getMap();if(r--,l&&n.appendMap(l,r),s){var c=e.selection&&e.selection.map(n.slice(r));c&&o++;var A,u=new f(l.invert(),s,c),d=i.length-1;(A=i.length&&i[d].merge(u))?i[d]=A:i.push(u)}}else e.map&&r--}),this.items.length,0),new e(u.default.from(i.reverse()),o)}}]),e}();d.empty=new d(u.default.empty,0);var f=function(){function e(t,n,i,o){r(this,e),this.map=t,this.step=n,this.selection=i,this.mirrorOffset=o}return o(e,[{key:"merge",value:function(t){if(this.step&&t.step&&!t.selection){var n=t.step.merge(this.step);if(n)return new e(n.getMap().invert(),n,this.selection)}}}]),e}(),p=o((function e(t,n,i,o,a){r(this,e),this.done=t,this.undone=n,this.prevRanges=i,this.prevTime=o,this.prevComposition=a})),h=20;function g(e){var t=[];return e.forEach((function(e,n,r,i){return t.push(r,i)})),t}function m(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function v(e,t,n,r){var i=w(t),o=B.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,i);if(a){var s=a.selection.resolve(a.transform.doc),l=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),o,i),c=new p(r?l:a.remaining,r?a.remaining:l,null,0,-1);n(a.transform.setSelection(s).setMeta(B,{redo:r,historyState:c}).scrollIntoView())}}var y=!1,b=null;function w(e){var t=e.plugins;if(b!=t){y=!1,b=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){y=!0;break}}return y}var B=new c.PluginKey("history"),x=new c.PluginKey("closeHistory");var C=function(e,t){var n=B.getState(e);return!(!n||0==n.done.eventCount)&&(t&&v(n,e,t,!1),!0)},S=function(e,t){var n=B.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&v(n,e,t,!0),!0)};t.closeHistory=function(e){return e.setMeta(x,!0)},t.history=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new c.Plugin({key:B,state:{init:function(){return new p(d.empty,d.empty,null,0,-1)},apply:function(t,n,r){return function(e,t,n,r){var i,o=n.getMeta(B);if(o)return o.historyState;n.getMeta(x)&&(e=new p(e.done,e.undone,null,0,-1));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(B))return a.getMeta(B).redo?new p(e.done.addTransform(n,void 0,r,w(t)),e.undone,g(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new p(e.done,e.undone.addTransform(n,void 0,r,w(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new p(e.done.rebased(n,i),e.undone.rebased(n,i),m(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new p(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),m(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);var s=n.getMeta("composition"),l=0==e.prevTime||!a&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}(n,e.prevRanges)),c=a?m(e.prevRanges,n.mapping):g(n.mapping.maps[n.steps.length-1]);return new p(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,w(t)),d.empty,c,n.time,null==s?e.prevComposition:s)}(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(e,t){var n=t.inputType,r="historyUndo"==n?C:"historyRedo"==n?S:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})},t.redo=S,t.redoDepth=function(e){var t=B.getState(e);return t?t.undone.eventCount:0},t.undo=C,t.undoDepth=function(e){var t=B.getState(e);return t?t.done.eventCount:0}},function(e,t,n){"use strict";var r=200,i=function(){};i.prototype.append=function(e){return e.length?(e=i.from(e),!this.length&&e||e.length<r&&this.leafAppend(e)||this.length<r&&e.leafPrepend(this)||this.appendInner(e)):this},i.prototype.prepend=function(e){return e.length?i.from(e).append(this):this},i.prototype.appendInner=function(e){return new a(this,e)},i.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?i.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},i.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},i.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},i.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},i.from=function(e){return e instanceof i?e:e&&e.length?new o(e):i.empty};var o=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=r)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=r)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(i);i.empty=new o([]);var a=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(i);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(120);const o=r.Node.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",r.mergeAttributes(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{$to:n}=t.selection,r=e();return 0===n.parentOffset?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command((({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,r=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(i.TextSelection.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(i.NodeSelection.create(e.doc,t.pos)):e.setSelection(i.TextSelection.create(e.doc,t.pos));else{const o=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();o&&(e.insert(r,o),e.setSelection(i.TextSelection.create(e.doc,r+1)))}e.scrollIntoView()}return!0})).run()}}},addInputRules(){return[r.nodeInputRule({find:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type})]}});t.HorizontalRule=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,o=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,a=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,s=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,l=r.Mark.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[r.markInputRule({find:i,type:this.type}),r.markInputRule({find:a,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:o,type:this.type}),r.markPasteRule({find:s,type:this.type})]}});t.Italic=l,t.default=l,t.starInputRegex=i,t.starPasteRegex=o,t.underscoreInputRegex=a,t.underscorePasteRegex=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=r.Node.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),o=r.Mark.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=r.getMarkAttributes(e,this.type);return!!Object.entries(n).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),a=/^(\d+)\.\s$/,s=r.Node.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",r.mergeAttributes(this.options.HTMLAttributes,n),0]:["ol",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(i.name,this.editor.getAttributes(o.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=r.wrappingInputRule({find:a,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=r.wrappingInputRule({find:a,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(o.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}});t.OrderedList=s,t.default=s,t.inputRegex=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const i=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,o=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,a=r.Mark.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){const e={};return r.isMacOS()?e["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():e["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),e},addInputRules(){return[r.markInputRule({find:i,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:o,type:this.type})]}});t.Strike=a,t.default=a,t.inputRegex=i,t.pasteRegex=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>{for(const n in t)e[n]=t[n];return e},i="numeric",o="ascii",a="alpha",s="asciinumeric",l="alphanumeric",c="domain",A="emoji",u="scheme",d="slashscheme",f="whitespace";function p(e,t){return e in t||(t[e]=[]),t[e]}function h(e,t,n){t[i]&&(t[s]=!0,t[l]=!0),t[o]&&(t[s]=!0,t[a]=!0),t[s]&&(t[l]=!0),t[a]&&(t[l]=!0),t[l]&&(t[c]=!0),t[A]&&(t[c]=!0);for(const r in t){const t=p(r,n);t.indexOf(e)<0&&t.push(e)}}function g(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}g.groups={},g.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let n=0;n<t.jr.length;n++){const r=t.jr[n][0],i=t.jr[n][1];if(i&&r.test(e))return i}return t.jd},has(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){let i;return r=r||g.groups,t&&t.j?i=t:(i=new g(t),n&&r&&h(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let t=0;t<o-1;t++)i=i.tt(e[t]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,i){i=i||g.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const a=t;let s,l=o.go(e);if(l?(s=new g,r(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new g,a){if(i)if(s.t&&"string"==typeof s.t){const e=r(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(s.t,i),n);h(a,e,i)}else n&&h(a,n,i);s.t=a}return o.j[e]=s,s}};const m=(e,t,n,r,i)=>e.ta(t,n,r,i),v=(e,t,n,r,i)=>e.tr(t,n,r,i),y=(e,t,n,r,i)=>e.ts(t,n,r,i),b=(e,t,n,r,i)=>e.tt(t,n,r,i),w="WORD",B="UWORD",x="LOCALHOST",C="TLD",S="UTLD",k="SCHEME",E="SLASH_SCHEME",I="NUM",O="NL",F="OPENBRACE",D="CLOSEBRACE",_="OPENBRACKET",T="CLOSEBRACKET",U="OPENPAREN",M="CLOSEPAREN",L="OPENANGLEBRACKET",Q="CLOSEANGLEBRACKET",R="FULLWIDTHLEFTPAREN",P="FULLWIDTHRIGHTPAREN",H="LEFTCORNERBRACKET",N="RIGHTCORNERBRACKET",j="LEFTWHITECORNERBRACKET",z="RIGHTWHITECORNERBRACKET",K="FULLWIDTHLESSTHAN",$="FULLWIDTHGREATERTHAN",W="AMPERSAND",V="APOSTROPHE",G="ASTERISK",q="AT",Y="BACKSLASH",J="BACKTICK",X="CARET",Z="COLON",ee="COMMA",te="DOLLAR",ne="DOT",re="EQUALS",ie="EXCLAMATION",oe="HYPHEN",ae="PERCENT",se="PIPE",le="PLUS",ce="POUND",Ae="QUERY",ue="QUOTE",de="SEMI",fe="SLASH",pe="TILDE",he="UNDERSCORE",ge="EMOJI",me="SYM";var ve=Object.freeze({__proto__:null,WORD:w,UWORD:B,LOCALHOST:x,TLD:C,UTLD:S,SCHEME:k,SLASH_SCHEME:E,NUM:I,WS:"WS",NL:O,OPENBRACE:F,CLOSEBRACE:D,OPENBRACKET:_,CLOSEBRACKET:T,OPENPAREN:U,CLOSEPAREN:M,OPENANGLEBRACKET:L,CLOSEANGLEBRACKET:Q,FULLWIDTHLEFTPAREN:R,FULLWIDTHRIGHTPAREN:P,LEFTCORNERBRACKET:H,RIGHTCORNERBRACKET:N,LEFTWHITECORNERBRACKET:j,RIGHTWHITECORNERBRACKET:z,FULLWIDTHLESSTHAN:K,FULLWIDTHGREATERTHAN:$,AMPERSAND:W,APOSTROPHE:V,ASTERISK:G,AT:q,BACKSLASH:Y,BACKTICK:J,CARET:X,COLON:Z,COMMA:ee,DOLLAR:te,DOT:ne,EQUALS:re,EXCLAMATION:ie,HYPHEN:oe,PERCENT:ae,PIPE:se,PLUS:le,POUND:ce,QUERY:Ae,QUOTE:ue,SEMI:de,SLASH:fe,TILDE:pe,UNDERSCORE:he,EMOJI:ge,SYM:me});const ye=/[a-z]/,be=/\p{L}/u,we=/\p{Emoji}/u,Be=/\d/,xe=/\s/;var Ce=Object.freeze({__proto__:null,ASCII_LETTER:ye,LETTER:be,EMOJI:we,EMOJI_VARIATION:/\ufe0f/,DIGIT:Be,SPACE:xe});let Se=null,ke=null;function Ee(e){const t=[],n=e.length;let r=0;for(;r<n;){let i,o=e.charCodeAt(r),a=o<55296||o>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function Ie(e,t,n,r,i){let o;const a=t.length;for(let n=0;n<a-1;n++){const a=t[n];e.j[a]?o=e.j[a]:(o=new g(r),o.jr=i.slice(),e.j[a]=o),e=o}return o=new g(n),o.jr=i.slice(),e.j[t[a-1]]=o,o}function Oe(e){const t=[],n=[];let r=0;for(;r<e.length;){let i=0;for(;"0123456789".indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+i),10);t>0;t--)n.pop();r+=i}else n.push(e[r]),r++}return t}const Fe={defaultProtocol:"http",events:null,format:_e,formatHref:_e,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function De(e,t){void 0===t&&(t=null);let n=r({},Fe);e&&(n=r(n,e instanceof De?e.o:e));const i=n.ignoreTags,o=[];for(let e=0;e<i.length;e++)o.push(i[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function _e(e){return e}De.prototype={o:Fe,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let i=this.o[e];return i?("object"==typeof i?(i=n.t in i?i[n.t]:Fe[e],"function"==typeof i&&r&&(i=i(t,n))):"function"==typeof i&&r&&(i=i(t,n.t,n)),i):i},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};var Te=Object.freeze({__proto__:null,defaults:Fe,Options:De,assign:r});function Ue(e,t){this.t="token",this.v=e,this.tk=t}function Me(e,t){class n extends Ue{constructor(t,n){super(t,n),this.t=e}}for(const e in t)n.prototype[e]=t[e];return n.t=e,n}Ue.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return void 0===e&&(e=Fe.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),i=e.get("formatHref",n,this),o=e.get("tagName",n,t),a=this.toFormattedString(e),s={},l=e.get("className",n,t),c=e.get("target",n,t),A=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=i,l&&(s.class=l),c&&(s.target=c),A&&(s.rel=A),u&&r(s,u),{tagName:o,attributes:s,content:a,eventListeners:d}}};const Le=Me("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Qe=Me("text"),Re=Me("nl"),Pe=Me("url",{isLink:!0,toHref(e){return void 0===e&&(e=Fe.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==x&&e[1].t===Z}});var He=Object.freeze({__proto__:null,MultiToken:Ue,Base:Ue,createTokenClass:Me,Email:Le,Text:Qe,Nl:Re,Url:Pe});const Ne=e=>new g(e);function je(e,t,n){const r=n[0].s,i=n[n.length-1].e;return new e(t.slice(r,i),n)}const ze="undefined"!=typeof console&&console&&console.warn||(()=>{}),Ke="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",$e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function We(){$e.scanner=function(e){void 0===e&&(e=[]);const t={};g.groups=t;const n=new g;null==Se&&(Se=Oe("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==ke&&(ke=Oe("\u03b5\u03bb1\u03c52\u0431\u04331\u0435\u043b3\u0434\u0435\u0442\u04384\u0435\u044e2\u043a\u0430\u0442\u043e\u043b\u0438\u043a6\u043e\u043c3\u043c\u043a\u04342\u043e\u043d1\u0441\u043a\u0432\u04306\u043e\u043d\u043b\u0430\u0439\u043d5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043a\u04403\u049b\u0430\u04373\u0570\u0561\u05753\u05d9\u05e9\u05e8\u05d0\u05dc5\u05e7\u05d5\u05dd3\u0627\u0628\u0648\u0638\u0628\u064a5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062f\u06464\u0628\u062d\u0631\u064a\u06465\u062c\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062f\u064a\u06296\u0639\u0644\u064a\u0627\u06465\u0645\u063a\u0631\u06285\u0645\u0627\u0631\u0627\u062a5\u06cc\u0631\u0627\u06465\u0628\u0627\u0631\u062a2\u0632\u0627\u06314\u064a\u062a\u06433\u06be\u0627\u0631\u062a5\u062a\u0648\u0646\u06334\u0633\u0648\u062f\u0627\u06463\u0631\u064a\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064a\u06466\u0642\u0637\u06313\u0643\u0627\u062b\u0648\u0644\u064a\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064a\u0633\u064a\u06275\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067e\u0627\u06a9\u0633\u062a\u0627\u06467\u0680\u0627\u0631\u062a4\u0915\u0949\u092e3\u0928\u0947\u091f3\u092d\u093e\u0930\u09240\u092e\u094d3\u094b\u09245\u0938\u0902\u0917\u0920\u09285\u09ac\u09be\u0982\u09b2\u09be5\u09ad\u09be\u09b0\u09a42\u09f0\u09a44\u0a2d\u0a3e\u0a30\u0a244\u0aad\u0abe\u0ab0\u0aa44\u0b2d\u0b3e\u0b30\u0b244\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe6\u0bb2\u0b99\u0bcd\u0b95\u0bc86\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd11\u0c2d\u0c3e\u0c30\u0c24\u0c4d5\u0cad\u0cbe\u0cb0\u0ca44\u0d2d\u0d3e\u0d30\u0d24\u0d025\u0dbd\u0d82\u0d9a\u0dcf4\u0e04\u0e2d\u0e213\u0e44\u0e17\u0e223\u0ea5\u0eb2\u0ea73\u10d2\u10d42\u307f\u3093\u306a3\u30a2\u30de\u30be\u30f34\u30af\u30e9\u30a6\u30c94\u30b0\u30fc\u30b0\u30eb4\u30b3\u30e02\u30b9\u30c8\u30a23\u30bb\u30fc\u30eb3\u30d5\u30a1\u30c3\u30b7\u30e7\u30f36\u30dd\u30a4\u30f3\u30c84\u4e16\u754c2\u4e2d\u4fe11\u56fd1\u570b1\u6587\u7f513\u4e9a\u9a6c\u900a3\u4f01\u4e1a2\u4f5b\u5c712\u4fe1\u606f2\u5065\u5eb72\u516b\u53662\u516c\u53f81\u76ca2\u53f0\u6e7e1\u70632\u5546\u57ce1\u5e971\u68072\u5609\u91cc0\u5927\u9152\u5e975\u5728\u7ebf2\u5927\u62ff2\u5929\u4e3b\u65593\u5a31\u4e502\u5bb6\u96fb2\u5e7f\u4e1c2\u5fae\u535a2\u6148\u55842\u6211\u7231\u4f603\u624b\u673a2\u62db\u80582\u653f\u52a11\u5e9c2\u65b0\u52a0\u57612\u95fb2\u65f6\u5c1a2\u66f8\u7c4d2\u673a\u67842\u6de1\u9a6c\u95213\u6e38\u620f2\u6fb3\u95802\u70b9\u770b2\u79fb\u52a82\u7ec4\u7ec7\u673a\u67844\u7f51\u57401\u5e971\u7ad91\u7edc2\u8054\u901a2\u8c37\u6b4c2\u8d2d\u72692\u901a\u8ca92\u96c6\u56e22\u96fb\u8a0a\u76c8\u79d14\u98de\u5229\u6d663\u98df\u54c12\u9910\u53852\u9999\u683c\u91cc\u62c93\u6e2f2\ub2f7\ub1371\ucef42\uc0bc\uc1312\ud55c\uad6d2")),b(n,"'",V),b(n,"{",F),b(n,"}",D),b(n,"[",_),b(n,"]",T),b(n,"(",U),b(n,")",M),b(n,"<",L),b(n,">",Q),b(n,"\uff08",R),b(n,"\uff09",P),b(n,"\u300c",H),b(n,"\u300d",N),b(n,"\u300e",j),b(n,"\u300f",z),b(n,"\uff1c",K),b(n,"\uff1e",$),b(n,"&",W),b(n,"*",G),b(n,"@",q),b(n,"`",J),b(n,"^",X),b(n,":",Z),b(n,",",ee),b(n,"$",te),b(n,".",ne),b(n,"=",re),b(n,"!",ie),b(n,"-",oe),b(n,"%",ae),b(n,"|",se),b(n,"+",le),b(n,"#",ce),b(n,"?",Ae),b(n,'"',ue),b(n,"/",fe),b(n,";",de),b(n,"~",pe),b(n,"_",he),b(n,"\\",Y);const l=v(n,Be,I,{[i]:!0});v(l,Be,l);const p=v(n,ye,w,{[o]:!0});v(p,ye,p);const m=v(n,be,B,{[a]:!0});v(m,ye),v(m,be,m);const Ce=v(n,xe,"WS",{[f]:!0});b(n,"\n",O,{[f]:!0}),b(Ce,"\n"),v(Ce,xe,Ce);const Ee=v(n,we,ge,{[A]:!0});v(Ee,we,Ee),b(Ee,"\ufe0f",Ee);const Fe=b(Ee,"\u200d");v(Fe,we,Ee);const De=[[ye,p]],_e=[[ye,null],[be,m]];for(let e=0;e<Se.length;e++)Ie(n,Se[e],C,w,De);for(let e=0;e<ke.length;e++)Ie(n,ke[e],S,B,_e);h(C,{tld:!0,ascii:!0},t),h(S,{utld:!0,alpha:!0},t),Ie(n,"file",k,w,De),Ie(n,"mailto",k,w,De),Ie(n,"http",E,w,De),Ie(n,"https",E,w,De),Ie(n,"ftp",E,w,De),Ie(n,"ftps",E,w,De),h(k,{scheme:!0,ascii:!0},t),h(E,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let t=0;t<e.length;t++){const r=e[t][0],a=e[t][1]?{[u]:!0}:{[d]:!0};r.indexOf("-")>=0?a[c]=!0:ye.test(r)?Be.test(r)?a[s]=!0:a[o]=!0:a[i]=!0,y(n,r,r,a)}return y(n,"localhost",x,{ascii:!0}),n.jd=new g(me),{start:n,tokens:r({groups:t},ve)}}($e.customSchemes);for(let e=0;e<$e.tokenQueue.length;e++)$e.tokenQueue[e][1]({scanner:$e.scanner});$e.parser=function(e){let{groups:t}=e;const n=t.domain.concat([W,G,q,Y,J,X,te,re,oe,I,ae,se,le,ce,fe,me,pe,he]),r=[V,Z,ee,ne,ie,Ae,ue,de,L,Q,F,D,T,_,U,M,R,P,H,N,j,z,K,$],i=[W,V,G,Y,J,X,te,re,oe,F,D,ae,se,le,ce,Ae,fe,me,pe,he],o=Ne(),a=b(o,pe);m(a,i,a),m(a,t.domain,a);const s=Ne(),l=Ne(),c=Ne();m(o,t.domain,s),m(o,t.scheme,l),m(o,t.slashscheme,c),m(s,i,a),m(s,t.domain,s);const A=b(s,q);b(a,q,A),b(l,q,A),b(c,q,A);const u=b(a,ne);m(u,i,a),m(u,t.domain,a);const d=Ne();m(A,t.domain,d),m(d,t.domain,d);const f=b(d,ne);m(f,t.domain,d);const p=Ne(Le);m(f,t.tld,p),m(f,t.utld,p),b(A,x,p);const h=b(d,oe);m(h,t.domain,d),m(p,t.domain,d),b(p,ne,f),b(p,oe,h);const g=b(p,Z);m(g,t.numeric,Le);const v=b(s,oe),y=b(s,ne);m(v,t.domain,s),m(y,i,a),m(y,t.domain,s);const w=Ne(Pe);m(y,t.tld,w),m(y,t.utld,w),m(w,t.domain,s),m(w,i,a),b(w,ne,y),b(w,oe,v),b(w,q,A);const B=b(w,Z),C=Ne(Pe);m(B,t.numeric,C);const S=Ne(Pe),k=Ne();m(S,n,S),m(S,r,k),m(k,n,S),m(k,r,k),b(w,fe,S),b(C,fe,S);const E=b(l,Z),ge=b(c,Z),ye=b(ge,fe),be=b(ye,fe);m(l,t.domain,s),b(l,ne,y),b(l,oe,v),m(c,t.domain,s),b(c,ne,y),b(c,oe,v),m(E,t.domain,S),b(E,fe,S),m(be,t.domain,S),m(be,n,S),b(be,fe,S);const we=[[F,D],[_,T],[U,M],[L,Q],[R,P],[H,N],[j,z],[K,$]];for(let e=0;e<we.length;e++){const[t,i]=we[e],o=b(S,t);b(k,t,o),b(o,i,S);const a=Ne(Pe);m(o,n,a);const s=Ne();m(o,r),m(a,n,a),m(a,r,s),m(s,n,a),m(s,r,s),b(a,i,S),b(s,i,S)}return b(o,x,w),b(o,O,Re),{start:o,tokens:ve}}($e.scanner.tokens);for(let e=0;e<$e.pluginQueue.length;e++)$e.pluginQueue[e][1]({scanner:$e.scanner,parser:$e.parser});$e.initialized=!0}function Ve(e){return $e.initialized||We(),function(e,t,n){let r=n.length,i=0,o=[],a=[];for(;i<r;){let s=e,l=null,c=null,A=0,u=null,d=-1;for(;i<r&&!(l=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||s.go(n[i].t));)l=null,s=c,s.accepts()?(d=0,u=s):d>=0&&d++,i++,A++;if(d<0)i-=A,i<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(je(Qe,t,a)),a=[]),i-=d,A-=d;const e=u.t,r=n.slice(i-A,i);o.push(je(e,t,r))}}return a.length>0&&o.push(je(Qe,t,a)),o}($e.parser.start,e,function(e,t){const n=Ee(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),r=n.length,i=[];let o=0,a=0;for(;a<r;){let s=e,l=null,c=0,A=null,u=-1,d=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(u=0,d=0,A=s):u>=0&&(u+=n[a].length,d++),c+=n[a].length,o+=n[a].length,a++;o-=u,a-=d,c-=u,i.push({t:A.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}($e.scanner.start,e))}t.MultiToken=Ue,t.Options=De,t.State=g,t.createTokenClass=Me,t.find=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new De(n),i=Ve(e),o=[];for(let e=0;e<i.length;e++){const n=i[e];!n.isLink||t&&n.t!==t||!r.check(n)||o.push(n.toFormattedObject(r))}return o},t.init=We,t.multi=He,t.options=Te,t.regexp=Ce,t.registerCustomProtocol=function(e,t){if(void 0===t&&(t=!1),$e.initialized&&ze(`linkifyjs: already initialized - will not register custom scheme "${e}" ${Ke}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');$e.customSchemes.push([e,t])},t.registerPlugin=function(e,t){if("function"!=typeof t)throw new Error(`linkifyjs: Invalid plugin ${t} (expects function)`);for(let n=0;n<$e.pluginQueue.length;n++)if(e===$e.pluginQueue[n][0])return ze(`linkifyjs: plugin "${e}" already registered - will be overwritten`),void($e.pluginQueue[n]=[e,t]);$e.pluginQueue.push([e,t]),$e.initialized&&ze(`linkifyjs: already initialized - will not register plugin "${e}" ${Ke}`)},t.registerTokenPlugin=function(e,t){if("function"!=typeof t)throw new Error(`linkifyjs: Invalid token plugin ${t} (expects function)`);for(let n=0;n<$e.tokenQueue.length;n++)if(e===$e.tokenQueue[n][0])return ze(`linkifyjs: token plugin "${e}" already registered - will be overwritten`),void($e.tokenQueue[n]=[e,t]);$e.tokenQueue.push([e,t]),$e.initialized&&ze(`linkifyjs: already initialized - will not register token plugin "${e}" ${Ke}`)},t.reset=function(){g.groups={},$e.scanner=null,$e.parser=null,$e.tokenQueue=[],$e.pluginQueue=[],$e.customSchemes=[],$e.initialized=!1},t.stringToArray=Ee,t.test=function(e,t){void 0===t&&(t=null);const n=Ve(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)},t.tokenize=Ve},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(644);r=i,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";var r,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(l,{CellBookmark:()=>M,CellSelection:()=>U,ResizeState:()=>pe,TableMap:()=>h,TableView:()=>Ae,__clipCells:()=>V,__insertCells:()=>Y,__pastedCells:()=>$,addColSpan:()=>_,addColumn:()=>Be,addColumnAfter:()=>Ce,addColumnBefore:()=>xe,addRow:()=>Ie,addRowAfter:()=>Fe,addRowBefore:()=>Oe,cellAround:()=>B,colCount:()=>O,columnIsHeader:()=>T,columnResizing:()=>fe,columnResizingPluginKey:()=>de,deleteColumn:()=>ke,deleteRow:()=>_e,deleteTable:()=>Ke,findCell:()=>I,fixTables:()=>P,fixTablesKey:()=>Q,goToNextCell:()=>ze,handlePaste:()=>re,inSameTable:()=>E,isInTable:()=>x,mergeCells:()=>Ue,moveCellForward:()=>k,nextCell:()=>F,pointsAtCell:()=>S,removeColSpan:()=>D,removeColumn:()=>Se,removeRow:()=>De,rowIsHeader:()=>Ee,selectedRect:()=>we,selectionCell:()=>C,setCellAttr:()=>Qe,splitCell:()=>Me,splitCellWithType:()=>Le,tableEditing:()=>$e,tableEditingKey:()=>w,tableNodeTypes:()=>b,tableNodes:()=>y,toggleHeader:()=>Pe,toggleHeaderCell:()=>je,toggleHeaderColumn:()=>Ne,toggleHeaderRow:()=>He,updateColumnsOnResize:()=>ue}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))s.call(e,l)||l===n||i(e,l,{get:()=>t[l],enumerable:!(r=o(t,l))||r.enumerable});return e})(i({},"__esModule",{value:!0}),r));var c,A,u=n(39),d=n(89),f=n(39),p=n(222);if("undefined"!=typeof WeakMap){let e=new WeakMap;c=t=>e.get(t),A=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;c=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},A=(r,i)=>(n==t&&(n=0),e[n++]=r,e[n++]=i)}var h=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,a=i+1;for(let e=1;o<this.width&&this.map[t+e]==n;e++)o++;for(let e=1;a<this.height&&this.map[t+this.width*e]==n;e++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(e);return"horiz"==t?(n<0?0==r:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?0==o:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,i==e.left&&i&&this.map[o-1]==a||r==e.top&&r&&this.map[o-this.width]==a||t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<i;)n++;return n==r?o-1:this.map[n]}i=o}}static get(e){return c(e)||A(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const i=n.child(e);t+i.attrs.rowspan>r&&(o+=i.attrs.colspan)}}for(let e=0;e<i.childCount;e++){const t=i.child(e);o+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}(e),n=e.childCount,r=[];let i=0,o=null;const a=[];for(let e=0,i=t*n;e<i;e++)r[e]=0;for(let s=0,l=0;s<n;s++){const c=e.child(s);l++;for(let e=0;;e++){for(;i<r.length&&0!=r[i];)i++;if(e==c.childCount)break;const A=c.child(e),{colspan:u,rowspan:d,colwidth:f}=A.attrs;for(let e=0;e<d;e++){if(e+s>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:l,n:d-e});break}const c=i+e*t;for(let e=0;e<u;e++){0==r[c+e]?r[c+e]=l:(o||(o=[])).push({type:"collision",row:s,pos:l,n:u-e});const n=f&&f[e];if(n){const r=(c+e)%t*2,i=a[r];null==i||i!=n&&1==a[r+1]?(a[r]=n,a[r+1]=1):i==n&&a[r+1]++}}}i+=u,l+=A.nodeSize}const A=(s+1)*t;let u=0;for(;i<A;)0==r[i++]&&u++;u&&(o||(o=[])).push({type:"missing",row:s,n:u}),l++}const s=new h(t,n,r,o);let l=!1;for(let e=0;!l&&e<a.length;e+=2)null!=a[e]&&a[e+1]<n&&(l=!0);l&&function(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let n=0;n<l.colspan;n++){const r=t[2*((i+n)%e.width)];null==r||l.colwidth&&l.colwidth[n]==r||((s||(s=g(l)))[n]=r)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}(s,a,e);return s}(e))}};function g(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function m(e,t){if("string"==typeof e)return{};const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((e=>Number(e))):null,i=Number(e.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const n in t){const r=t[n].getFromDOM,i=r&&r(e);null!=i&&(o[n]=i)}return o}function v(e,t){const n={};1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const i=t[r].setDOMAttr;i&&i(e.attrs[r],n)}return n}function y(e){const t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const e in t)n[e]={default:t[e].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:()=>["table",["tbody",0]]},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:e=>m(e,t)}],toDOM:e=>["td",v(e,t),0]},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:e=>m(e,t)}],toDOM:e=>["th",v(e,t),0]}}}function b(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var w=new(n(39).PluginKey)("selectingCells");function B(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function x(e){const t=e.selection.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function C(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=B(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function S(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function k(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function E(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function I(e){return h.get(e.node(-1)).findCell(e.pos-e.start(-1))}function O(e){return h.get(e.node(-1)).colCount(e.pos-e.start(-1))}function F(e,t,n){const r=e.node(-1),i=h.get(r),o=e.start(-1),a=i.nextCell(e.pos-o,t,n);return null==a?null:e.node(0).resolve(o+a)}function D(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((e=>e>0))||(r.colwidth=null)),r}function _(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let e=0;e<n;e++)r.colwidth.splice(t,0,0)}return r}function T(e,t,n){const r=b(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var U=class e extends f.Selection{constructor(e,t=e){const n=e.node(-1),r=h.get(n),i=e.start(-1),o=r.rectBetween(e.pos-i,t.pos-i),a=e.node(0),s=r.cellsInRect(o).filter((e=>e!=t.pos-i));s.unshift(t.pos-i);const l=s.map((e=>{const t=n.nodeAt(e);if(!t)throw RangeError(`No cell with offset ${e} found`);const r=i+e+1;return new f.SelectionRange(a.resolve(r),a.resolve(r+t.content.size))}));super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(S(r)&&S(i)&&E(r,i)){const t=this.$anchorCell.node(-1)!=r.node(-1);return t&&this.isRowSelection()?e.rowSelection(r,i):t&&this.isColSelection()?e.colSelection(r,i):new e(r,i)}return f.TextSelection.between(r,i)}content(){const e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[];for(let n=r.top;n<r.bottom;n++){const a=[];for(let o=n*t.width+r.left,s=r.left;s<r.right;s++,o++){const n=t.map[o];if(i[n])continue;i[n]=!0;const s=t.findCell(n);let l=e.nodeAt(n);if(!l)throw RangeError(`No cell with offset ${n} found`);const c=r.left-s.left,A=s.right-r.right;if(c>0||A>0){let e=l.attrs;if(c>0&&(e=D(e,0,c)),A>0&&(e=D(e,e.colspan-A,A)),s.left<r.left){if(l=l.type.createAndFill(e),!l)throw RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(s.top<r.top||s.bottom>r.bottom){const e={...l.attrs,rowspan:Math.min(s.bottom,r.bottom)-Math.max(s.top,r.top)};l=s.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}a.push(l)}o.push(e.child(n).copy(d.Fragment.from(a)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new d.Slice(d.Fragment.from(a),1,1)}replace(e,t=d.Slice.empty){const n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){const{$from:o,$to:a}=r[i],s=e.mapping.slice(n);e.replace(s.map(o.pos),s.map(a.pos),i?d.Slice.empty:t)}const i=f.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,t){this.replace(e,new d.Slice(d.Fragment.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=h.get(t),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<i.length;n++)e(t.nodeAt(i[n]),r+i[n])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=h.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),i=t.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const o=r+this.$anchorCell.nodeAfter.attrs.colspan,a=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=h.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(t=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new e(t.resolve(n),t.resolve(r))}getBookmark(){return new M(this.$anchorCell.pos,this.$headCell.pos)}};U.prototype.visible=!1,f.Selection.jsonID("cell",U);var M=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&E(t,n)?new U(t,n):f.Selection.near(n,1)}};function L(e){if(!(e.selection instanceof U))return null;const t=[];return e.selection.forEachCell(((e,n)=>{t.push(p.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))})),p.DecorationSet.create(e.doc,t)}var Q=new(n(39).PluginKey)("fix-tables");function R(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){const o=t.child(a);for(let t=s,r=Math.min(i,a+3);t<r;t++)if(e.child(t)==o){s=t+1,n+=o.nodeSize;continue e}r(o,n),s<i&&e.child(s).sameMarkup(o)?R(e.child(s),o,n+1,r):o.nodesBetween(0,o.content.size,r,n+1),n+=o.nodeSize}}function P(e,t){let n;const r=(t,r)=>{"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){const i=h.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let e=0;e<i.height;e++)o.push(0);for(let e=0;e<i.problems.length;e++){const a=i.problems[e];if("collision"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;const i=e.attrs;for(let e=0;e<i.rowspan;e++)o[a.row+e]+=a.n;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,D(i,i.colspan-a.n,a.n))}else if("missing"==a.type)o[a.row]+=a.n;else if("overlong_rowspan"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,{...e.attrs,rowspan:e.attrs.rowspan-a.n})}else if("colwidth mismatch"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,{...e.attrs,colwidth:a.colwidth})}}let a,s;for(let e=0;e<o.length;e++)o[e]&&(null==a&&(a=e),s=e);for(let l=0,c=n+1;l<i.height;l++){const n=t.child(l),i=c+n.nodeSize,A=o[l];if(A>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const o=[];for(let n=0;n<A;n++){const n=b(e.schema)[t].createAndFill();n&&o.push(n)}const u=0!=l&&a!=l-1||s!=l?i-1:c+1;r.insert(r.mapping.map(u),o)}c=i}return r.setMeta(Q,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&R(t.doc,e.doc,0,r):e.doc.descendants(r),n}var H=n(89),N=n(39),j=n(303),z=n(89),K=n(121);function $(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;1==t.childCount&&(n>0&&r>0||"table"==t.child(0).type.spec.tableRole);)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if("row"==o)for(let e=0;e<t.childCount;e++){let i=t.child(e).content;const o=e?0:Math.max(0,n-1),l=e<t.childCount-1?0:Math.max(0,r-1);(o||l)&&(i=W(b(a).row,new z.Slice(i,o,l)).content),s.push(i)}else{if("cell"!=o&&"header_cell"!=o)return null;s.push(n||r?W(b(a).row,new z.Slice(t,n,r)).content:t)}return function(e,t){const n=[];for(let e=0;e<t.length;e++){const r=t[e];for(let t=r.childCount-1;t>=0;t--){const{rowspan:i,colspan:o}=r.child(t).attrs;for(let t=e;t<e+i;t++)n[t]=(n[t]||0)+o}}let r=0;for(let e=0;e<n.length;e++)r=Math.max(r,n[e]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(z.Fragment.empty),n[i]<r){const o=b(e).cell.createAndFill(),a=[];for(let e=n[i];e<r;e++)a.push(o);t[i]=t[i].append(z.Fragment.from(a))}return{height:t.length,width:r,rows:t}}(a,s)}function W(e,t){const n=e.createAndFill();return new K.Transform(n).replace(0,n.content.size,t).doc}function V({width:e,height:t,rows:n},r,i){if(e!=r){const t=[],i=[];for(let e=0;e<n.length;e++){const o=n[e],a=[];for(let n=t[e]||0,i=0;n<r;i++){let s=o.child(i%o.childCount);n+s.attrs.colspan>r&&(s=s.type.createChecked(D(s.attrs,s.attrs.colspan,n+s.attrs.colspan-r),s.content)),a.push(s),n+=s.attrs.colspan;for(let n=1;n<s.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+s.attrs.colspan}i.push(z.Fragment.from(a))}n=i,e=r}if(t!=i){const e=[];for(let r=0,o=0;r<i;r++,o++){const a=[],s=n[o%t];for(let e=0;e<s.childCount;e++){let t=s.child(e);r+t.attrs.rowspan>i&&(t=t.type.create({...t.attrs,rowspan:Math.max(1,i-t.attrs.rowspan)},t.content)),a.push(t)}e.push(z.Fragment.from(a))}n=e,t=i}return{width:e,height:t,rows:n}}function G(e,t,n,r,i,o,a,s){if(0==a||a==t.height)return!1;let l=!1;for(let c=i;c<o;c++){const i=a*t.width+c,o=t.map[i];if(t.map[i-t.width]==o){l=!0;const i=n.nodeAt(o),{top:A,left:u}=t.findCell(o);e.setNodeMarkup(e.mapping.slice(s).map(o+r),null,{...i.attrs,rowspan:a-A}),e.insert(e.mapping.slice(s).map(t.positionAt(a,u,n)),i.type.createAndFill({...i.attrs,rowspan:A+i.attrs.rowspan-a})),c+=i.attrs.colspan-1}}return l}function q(e,t,n,r,i,o,a,s){if(0==a||a==t.width)return!1;let l=!1;for(let c=i;c<o;c++){const i=c*t.width+a,o=t.map[i];if(t.map[i-1]==o){l=!0;const i=n.nodeAt(o),A=t.colCount(o),u=e.mapping.slice(s).map(o+r);e.setNodeMarkup(u,null,D(i.attrs,a-A,i.attrs.colspan-(a-A))),e.insert(u+i.nodeSize,i.type.createAndFill(D(i.attrs,0,a-A))),c+=i.attrs.rowspan-1}}return l}function Y(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let a=h.get(o);const{top:s,left:l}=r,c=l+i.width,A=s+i.height,u=e.tr;let d=0;function f(){if(o=n?u.doc.nodeAt(n-1):u.doc,!o)throw new Error("No table found");a=h.get(o),d=u.mapping.maps.length}(function(e,t,n,r,i,o,a){const s=b(e.doc.type.schema);let l,c;if(i>t.width)for(let o=0,A=0;o<t.height;o++){const u=n.child(o);A+=u.nodeSize;const d=[];let f;f=null==u.lastChild||u.lastChild.type==s.cell?l||(l=s.cell.createAndFill()):c||(c=s.header_cell.createAndFill());for(let e=t.width;e<i;e++)d.push(f);e.insert(e.mapping.slice(a).map(A-1+r),d)}if(o>t.height){const A=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,i);e++){const i=!(e>=t.width)&&n.nodeAt(t.map[r+e]).type==s.header_cell;A.push(i?c||(c=s.header_cell.createAndFill()):l||(l=s.cell.createAndFill()))}const u=s.row.create(null,z.Fragment.from(A)),d=[];for(let e=t.height;e<o;e++)d.push(u);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),d)}return!(!l&&!c)})(u,a,o,n,c,A,d)&&f(),G(u,a,o,n,l,c,s,d)&&f(),G(u,a,o,n,l,c,A,d)&&f(),q(u,a,o,n,s,A,l,d)&&f(),q(u,a,o,n,s,A,c,d)&&f();for(let e=s;e<A;e++){const t=a.positionAt(e,l,o),r=a.positionAt(e,c,o);u.replace(u.mapping.slice(d).map(t+n),u.mapping.slice(d).map(r+n),new z.Slice(i.rows[e-s],0,0))}f(),u.setSelection(new U(u.doc.resolve(n+a.positionAt(s,l,o)),u.doc.resolve(n+a.positionAt(A-1,c-1,o)))),t(u)}var J=(0,j.keydownHandler)({ArrowLeft:Z("horiz",-1),ArrowRight:Z("horiz",1),ArrowUp:Z("vert",-1),ArrowDown:Z("vert",1),"Shift-ArrowLeft":ee("horiz",-1),"Shift-ArrowRight":ee("horiz",1),"Shift-ArrowUp":ee("vert",-1),"Shift-ArrowDown":ee("vert",1),Backspace:te,"Mod-Backspace":te,Delete:te,"Mod-Delete":te});function X(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Z(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof U)return X(n,r,N.Selection.near(o.$headCell,t));if("horiz"!=e&&!o.empty)return!1;const a=oe(i,e,t);if(null==a)return!1;if("horiz"==e)return X(n,r,N.Selection.near(n.doc.resolve(o.head+t),t));{const i=n.doc.resolve(a),o=F(i,e,t);let s;return s=o?N.Selection.near(o,1):t<0?N.Selection.near(n.doc.resolve(i.before(-1)),-1):N.Selection.near(n.doc.resolve(i.after(-1)),1),X(n,r,s)}}}function ee(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let a;if(o instanceof U)a=o;else{const r=oe(i,e,t);if(null==r)return!1;a=new U(n.doc.resolve(r))}const s=F(a.$headCell,e,t);return!!s&&X(n,r,new U(a.$anchorCell,s))}}function te(e,t){const n=e.selection;if(!(n instanceof U))return!1;if(t){const r=e.tr,i=b(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(i)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new H.Slice(i,0,0))})),r.docChanged&&t(r)}return!0}function ne(e,t){const n=B(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new U(n))),!0)}function re(e,t,n){if(!x(e.state))return!1;let r=$(n);const i=e.state.selection;if(i instanceof U){r||(r={width:1,height:1,rows:[H.Fragment.from(W(b(e.state.schema).cell,n))]});const t=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=h.get(t).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=V(r,a.right-a.left,a.bottom-a.top),Y(e.state,e.dispatch,o,a,r),!0}if(r){const t=C(e.state),n=t.start(-1);return Y(e.state,e.dispatch,n,h.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}function ie(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=ae(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof U)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(i=B(e.state.selection.$anchor))&&(null==(n=se(e,t))?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(t,n){let r=se(e,n);const i=null==w.getState(e.state);if(!r||!E(t,r)){if(!i)return;r=t}const o=new U(t,r);if(i||!e.state.selection.eq(o)){const n=e.state.tr.setSelection(o);i&&n.setMeta(w,t.pos),e.dispatch(n)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),null!=w.getState(e.state)&&e.dispatch(e.state.tr.setMeta(w,-1))}function s(n){const i=n,s=w.getState(e.state);let l;if(null!=s)l=e.state.doc.resolve(s);else if(ae(e,i.target)!=r&&(l=se(e,t),!l))return a();l&&o(l,i)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function oe(e,t,n){if(!(e.state.selection instanceof N.TextSelection))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){const o=r.before(i),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?o:null}}return null}function ae(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t;return null}function se(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?B(e.state.doc.resolve(n.pos)):null}var le=n(39),ce=n(222),Ae=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ue(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,ue(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}};function ue(e,t,n,r,i,o){var a;let s=0,l=!0,c=t.firstChild;const A=e.firstChild;if(A){for(let e=0,n=0;e<A.childCount;e++){const{colspan:a,colwidth:u}=A.child(e).attrs;for(let e=0;e<a;e++,n++){const a=i==n?o:u&&u[e],A=a?a+"px":"";s+=a||r,a||(l=!1),c?(c.style.width!=A&&(c.style.width=A),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=A}}for(;c;){const e=c.nextSibling;null==(a=c.parentNode)||a.removeChild(c),c=e}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var de=new le.PluginKey("tableColumnResizing");function fe({handleWidth:e=5,cellMinWidth:t=25,View:n=Ae,lastColumnResizable:r=!0}={}){const i=new le.Plugin({key:de,state:{init:(e,r)=>(i.spec.props.nodeViews[b(r.schema).table.name]=(e,r)=>new n(e,t,r),new pe(-1,!1)),apply:(e,t)=>t.apply(e)},props:{attributes:e=>{const t=de.getState(e);return t&&t.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(t,n)=>{!function(e,t,n,r,i){const o=de.getState(e.state);if(!o)return;if(!o.dragging){const r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target);let a=-1;if(r){const{left:i,right:o}=r.getBoundingClientRect();t.clientX-i<=n?a=he(e,t,"left",n):o-t.clientX<=n&&(a=he(e,t,"right",n))}if(a!=o.activeHandle){if(!i&&-1!==a){const t=e.state.doc.resolve(a),n=t.node(-1),r=h.get(n),i=t.start(-1);if(r.colCount(t.pos-i)+t.nodeAfter.attrs.colspan-1==r.width-1)return}me(e,a)}}}(t,n,e,0,r)},mouseleave:e=>{!function(e){const t=de.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&me(e,-1)}(e)},mousedown:(e,n)=>{!function(e,t,n){var r;const i=null!=(r=e.dom.ownerDocument.defaultView)?r:window,o=de.getState(e.state);if(!o||-1==o.activeHandle||o.dragging)return!1;const a=e.state.doc.nodeAt(o.activeHandle),s=function(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let a=o.node.childNodes[o.offset].offsetWidth,s=n;if(r)for(let e=0;e<n;e++)r[e]&&(a-=r[e],s--);return a/s}(e,o.activeHandle,a.attrs);function l(t){i.removeEventListener("mouseup",l),i.removeEventListener("mousemove",c);const r=de.getState(e.state);(null==r?void 0:r.dragging)&&(!function(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=h.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let e=0;e<o.height;e++){const t=e*o.width+s;if(e&&o.map[t]==o.map[t-o.width])continue;const r=o.map[t],c=i.nodeAt(r).attrs,A=1==c.colspan?0:s-o.colCount(r);if(c.colwidth&&c.colwidth[A]==n)continue;const u=c.colwidth?c.colwidth.slice():ve(c.colspan);u[A]=n,l.setNodeMarkup(a+r,null,{...c,colwidth:u})}l.docChanged&&e.dispatch(l)}(e,r.activeHandle,ge(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(de,{setDragging:null})))}function c(t){if(!t.which)return l(t);const r=de.getState(e.state);if(r&&r.dragging){const i=ge(r.dragging,t,n);!function(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),a=i.start(-1),s=h.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&"TABLE"!=l.nodeName;)l=l.parentNode;if(!l)return;ue(o,l.firstChild,l,r,s,n)}(e,r.activeHandle,i,n)}}e.dispatch(e.state.tr.setMeta(de,{setDragging:{startX:t.clientX,startWidth:s}})),i.addEventListener("mouseup",l),i.addEventListener("mousemove",c),t.preventDefault()}(e,n,t)}},decorations:e=>{const t=de.getState(e);if(t&&t.activeHandle>-1)return function(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return ce.DecorationSet.empty;const o=h.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan;for(let e=0;e<o.height;e++){const t=s+e*o.width-1;if(!(s!=o.width&&o.map[t]==o.map[t+1]||0!=e&&o.map[t]==o.map[t-o.width])){const e=o.map[t],r=a+e+i.nodeAt(e).nodeSize-1,s=document.createElement("div");s.className="column-resize-handle",n.push(ce.Decoration.widget(r,s))}}return ce.DecorationSet.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}});return i}var pe=class e{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(t){const n=this,r=t.getMeta(de);if(r&&null!=r.setHandle)return new e(r.setHandle,!1);if(r&&void 0!==r.setDragging)return new e(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let r=t.mapping.map(n.activeHandle,-1);return S(t.doc.resolve(r))||(r=-1),new e(r,n.dragging)}return n}};function he(e,t,n,r){const i="right"==n?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;const{pos:a}=o,s=B(e.state.doc.resolve(a));if(!s)return-1;if("right"==n)return s.pos;const l=h.get(s.node(-1)),c=s.start(-1),A=l.map.indexOf(s.pos-c);return A%l.width==0?-1:c+l.map[A-1]}function ge(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function me(e,t){e.dispatch(e.state.tr.setMeta(de,{setHandle:t}))}function ve(e){return Array(e).fill(0)}var ye=n(89),be=n(39);function we(e){const t=e.selection,n=C(e),r=n.node(-1),i=n.start(-1),o=h.get(r);return{...t instanceof U?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function Be(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;T(t,r,i+o)&&(o=0==i||i==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){const o=t.map[s],l=r.nodeAt(o);e.setNodeMarkup(e.mapping.map(n+o),null,_(l.attrs,i-t.colCount(o))),a+=l.attrs.rowspan-1}else{const l=null==o?b(r.type.schema).cell:r.nodeAt(t.map[s+o]).type,c=t.positionAt(a,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function xe(e,t){if(!x(e))return!1;if(t){const n=we(e);t(Be(e.tr,n,n.left))}return!0}function Ce(e,t){if(!x(e))return!1;if(t){const n=we(e);t(Be(e.tr,n,n.right))}return!0}function Se(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+i,l=t.map[s],c=n.nodeAt(l),A=c.attrs;if(i>0&&t.map[s-1]==l||i<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,D(A,i-t.colCount(l)));else{const t=e.mapping.slice(o).map(r+l);e.delete(t,t+c.nodeSize)}a+=A.rowspan}}function ke(e,t){if(!x(e))return!1;if(t){const n=we(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;Se(r,n,e),e!=n.left;e--){const e=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=h.get(e)}t(r)}return!0}function Ee(e,t,n){var r;const i=b(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if((null==(r=t.nodeAt(e.map[o+n*e.width]))?void 0:r.type)!=i)return!1;return!0}function Ie(e,{map:t,tableStart:n,table:r},i){var o;let a=n;for(let e=0;e<i;e++)a+=r.child(e).nodeSize;const s=[];let l=i>0?-1:0;Ee(t,r,i+l)&&(l=0==i||i==t.height?null:0);for(let a=0,c=t.width*i;a<t.width;a++,c++)if(i>0&&i<t.height&&t.map[c]==t.map[c-t.width]){const i=t.map[c],o=r.nodeAt(i).attrs;e.setNodeMarkup(n+i,null,{...o,rowspan:o.rowspan+1}),a+=o.colspan-1}else{const e=null==l?b(r.type.schema).cell:null==(o=r.nodeAt(t.map[c+l*t.width]))?void 0:o.type,n=null==e?void 0:e.createAndFill();n&&s.push(n)}return e.insert(a,b(r.type.schema).row.create(null,s)),e}function Oe(e,t){if(!x(e))return!1;if(t){const n=we(e);t(Ie(e.tr,n,n.top))}return!0}function Fe(e,t){if(!x(e))return!1;if(t){const n=we(e);t(Ie(e.tr,n,n.bottom))}return!0}function De(e,{map:t,table:n,tableStart:r},i){let o=0;for(let e=0;e<i;e++)o+=n.child(e).nodeSize;const a=o+n.child(i).nodeSize,s=e.mapping.maps.length;e.delete(o+r,a+r);const l=new Set;for(let o=0,a=i*t.width;o<t.width;o++,a++){const c=t.map[a];if(!l.has(c))if(l.add(c),i>0&&c==t.map[a-t.width]){const t=n.nodeAt(c).attrs;e.setNodeMarkup(e.mapping.slice(s).map(c+r),null,{...t,rowspan:t.rowspan-1}),o+=t.colspan-1}else if(i<t.height&&c==t.map[a+t.width]){const a=n.nodeAt(c),l=a.attrs,A=a.type.create({...l,rowspan:a.attrs.rowspan-1},a.content),u=t.positionAt(i+1,o,n);e.insert(e.mapping.slice(s).map(r+u),A),o+=l.colspan-1}}}function _e(e,t){if(!x(e))return!1;if(t){const n=we(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;De(r,n,e),e!=n.top;e--){const e=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=h.get(n.table)}t(r)}return!0}function Te(e){const t=e.content;return 1==t.childCount&&t.child(0).isTextblock&&0==t.child(0).childCount}function Ue(e,t){const n=e.selection;if(!(n instanceof U)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=we(e),{map:i}=r;if(function({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,a=(r.bottom-1)*e+r.left,s=i+(r.right-r.left-1);for(let t=r.top;t<r.bottom;t++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[s]==n[s+1])return!0;o+=e,s+=e}for(let o=r.left;o<r.right;o++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}(i,r))return!1;if(t){const n=e.tr,o={};let a,s,l=ye.Fragment.empty;for(let e=r.top;e<r.bottom;e++)for(let t=r.left;t<r.right;t++){const c=i.map[e*i.width+t],A=r.table.nodeAt(c);if(!o[c]&&A)if(o[c]=!0,null==a)a=c,s=A;else{Te(A)||(l=l.append(A.content));const e=n.mapping.map(c+r.tableStart);n.delete(e,e+A.nodeSize)}}if(null==a||null==s)return!0;if(n.setNodeMarkup(a+r.tableStart,null,{..._(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const e=a+1+s.content.size,t=Te(s)?a+1:e;n.replaceWith(t+r.tableStart,e+r.tableStart,l)}n.setSelection(new U(n.doc.resolve(a+r.tableStart))),t(n)}return!0}function Me(e,t){const n=b(e.schema);return Le((({node:e})=>n[e.type.spec.tableRole]))(e,t)}function Le(e){return(t,n)=>{var r;const i=t.selection;let o,a;if(i instanceof U){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=function(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from),!o)return!1;a=null==(r=B(i.$from))?void 0:r.pos}if(null==o||null==a)return!1;if(1==o.attrs.colspan&&1==o.attrs.rowspan)return!1;if(n){let r=o.attrs;const s=[],l=r.colwidth;r.rowspan>1&&(r={...r,rowspan:1}),r.colspan>1&&(r={...r,colspan:1});const c=we(t),A=t.tr;for(let e=0;e<c.right-c.left;e++)s.push(l?{...r,colwidth:l&&l[e]?[l[e]]:null}:r);let u;for(let t=c.top;t<c.bottom;t++){let n=c.map.positionAt(t,c.left,c.table);t==c.top&&(n+=o.nodeSize);for(let r=c.left,i=0;r<c.right;r++,i++)r==c.left&&t==c.top||A.insert(u=A.mapping.map(n+c.tableStart,1),e({node:o,row:t,col:r}).createAndFill(s[i]))}A.setNodeMarkup(a,e({node:o,row:c.top,col:c.left}),s[0]),i instanceof U&&A.setSelection(new U(A.doc.resolve(i.$anchorCell.pos),u?A.doc.resolve(u):void 0)),n(A)}return!0}}function Qe(e,t){return function(n,r){if(!x(n))return!1;const i=C(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const o=n.tr;n.selection instanceof U?n.selection.forEachCell(((n,r)=>{n.attrs[e]!==t&&o.setNodeMarkup(r,null,{...n.attrs,[e]:t})})):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(o)}return!0}}function Re(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<r.length;e++){const i=t.table.nodeAt(r[e]);if(i&&i.type!==n.header_cell)return!1}return!0}function Pe(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!x(t))return!1;if(n){const r=b(t.schema),i=we(t),o=t.tr,a=i.map.cellsInRect("column"==e?{left:i.left,top:0,right:i.right,bottom:i.map.height}:"row"==e?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map((e=>i.table.nodeAt(e)));for(let e=0;e<a.length;e++)s[e].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[e],r.cell,s[e].attrs);if(0==o.steps.length)for(let e=0;e<a.length;e++)o.setNodeMarkup(i.tableStart+a[e],r.header_cell,s[e].attrs);n(o)}return!0}}(e):function(t,n){if(!x(t))return!1;if(n){const r=b(t.schema),i=we(t),o=t.tr,a=Re("row",i,r),s=Re("column",i,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:i.map.height}:"row"==e?{left:l,top:0,right:i.map.width,bottom:1}:i,A="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;i.map.cellsInRect(c).forEach((e=>{const t=e+i.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,A,n.attrs)})),n(o)}return!0}}var He=Pe("row",{useDeprecatedLogic:!0}),Ne=Pe("column",{useDeprecatedLogic:!0}),je=Pe("cell",{useDeprecatedLogic:!0});function ze(e){return function(t,n){if(!x(t))return!1;const r=function(e,t){if(t<0){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){const r=e.node(-1).child(t),i=r.lastChild;if(i)return n-1-i.nodeSize;n-=r.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),r=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return r+1;r+=e.nodeSize}}return null}(C(t),e);if(null==r)return!1;if(n){const e=t.doc.resolve(r);n(t.tr.setSelection(be.TextSelection.between(e,k(e))).scrollIntoView())}return!0}}function Ke(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}function $e({allowTableNodeSelection:e=!1}={}){return new u.Plugin({key:w,state:{init:()=>null,apply(e,t){const n=e.getMeta(w);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;const{deleted:r,pos:i}=e.mapping.mapResult(t);return r?null:i}},props:{decorations:L,handleDOMEvents:{mousedown:ie},createSelectionBetween:e=>null!=w.getState(e.state)?e.state.selection:null,handleTripleClick:ne,handleKeyDown:J,handlePaste:re},appendTransaction:(t,n,r)=>function(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,a;if(r instanceof f.NodeSelection&&(a=r.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)o=U.create(i,r.from);else if("row"==a){const e=i.resolve(r.from+1);o=U.rowSelection(e,e)}else if(!n){const e=h.get(r.node),t=r.from+1,n=t+e.map[e.width*e.height-1];o=U.create(i,t+1,n)}}else r instanceof f.TextSelection&&function({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let e=t.depth;e>=0&&!(t.before(e+1)>t.start(e));e--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}(r)?o=f.TextSelection.create(i,r.from):r instanceof f.TextSelection&&function({$from:e,$to:t}){let n,r;for(let t=e.depth;t>0;t--){const r=e.node(t);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){n=r;break}}for(let e=t.depth;e>0;e--){const n=t.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){r=n;break}}return n!==r&&0===t.parentOffset}(r)&&(o=f.TextSelection.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}(r,P(r,n),e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(120);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(n(482));class s{constructor({editor:e,element:t,view:n,tippyOptions:i={},updateDelay:o=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:i})=>{const{doc:o,selection:a}=t,{empty:s}=a,l=!o.textBetween(n,i).length&&r.isTextSelection(t.selection),c=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!c||s||l||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout((()=>{this.updateHandler(e,n,r,t)}),this.updateDelay))},this.updateHandler=(e,t,n,i)=>{var o,a,s;const{state:l,composing:c}=e,{selection:A}=l;if(c||!t&&!n)return;this.createTooltip();const{ranges:u}=A,d=Math.min(...u.map((e=>e.$from.pos))),f=Math.max(...u.map((e=>e.$to.pos)));(null===(o=this.shouldShow)||void 0===o?void 0:o.call(this,{editor:this.editor,view:e,state:l,oldState:i,from:d,to:f}))?(null===(a=this.tippy)||void 0===a||a.setProps({getReferenceClientRect:(null===(s=this.tippyOptions)||void 0===s?void 0:s.getReferenceClientRect)||(()=>{if(r.isNodeSelection(l.selection)){let t=e.nodeDOM(d);const n=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");if(n&&(t=n.firstChild),t)return t.getBoundingClientRect()}return r.posToDOMRect(e,d,f)})}),this.show()):this.hide()},this.editor=e,this.element=t,this.view=n,this.updateDelay=o,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=a.default(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:n}=e,r=n.selection.$from.pos!==n.selection.$to.pos;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);const i=!(null==t?void 0:t.selection.eq(e.state.selection)),o=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,i,o,t)}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const l=e=>new i.Plugin({key:"string"==typeof e.pluginKey?new i.PluginKey(e.pluginKey):e.pluginKey,view:t=>new s({view:t,...e})}),c=r.Extension.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[l({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});t.BubbleMenu=c,t.BubbleMenuPlugin=l,t.BubbleMenuView=s,t.default=c},function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){return e instanceof r(e).Element||e instanceof Element}function o(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}Object.defineProperty(t,"__esModule",{value:!0});var s=Math.max,l=Math.min,c=Math.round;function A(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function u(){return!/^((?!chrome|android).)*safari/i.test(A())}function d(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),s=1,l=1;t&&o(e)&&(s=e.offsetWidth>0&&c(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&c(a.height)/e.offsetHeight||1);var A=(i(e)?r(e):window).visualViewport,d=!u()&&n,f=(a.left+(d&&A?A.offsetLeft:0))/s,p=(a.top+(d&&A?A.offsetTop:0))/l,h=a.width/s,g=a.height/l;return{width:h,height:g,top:p,right:f+h,bottom:p+g,left:f,x:f,y:p}}function f(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function h(e){return((i(e)?e.ownerDocument:e.document)||window.document).documentElement}function g(e){return d(h(e)).left+f(e).scrollLeft}function m(e){return r(e).getComputedStyle(e)}function v(e){var t=m(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function y(e,t,n){void 0===n&&(n=!1);var i,a,s=o(t),l=o(t)&&function(e){var t=e.getBoundingClientRect(),n=c(t.width)/e.offsetWidth||1,r=c(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),A=h(t),u=d(e,l,n),m={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(s||!s&&!n)&&(("body"!==p(t)||v(A))&&(m=(i=t)!==r(i)&&o(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:f(i)),o(t)?((y=d(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):A&&(y.x=g(A))),{x:u.left+m.scrollLeft-y.x,y:u.top+m.scrollTop-y.y,width:u.width,height:u.height}}function b(e){var t=d(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function w(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||h(e)}function B(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:o(e)&&v(e)?e:B(w(e))}function x(e,t){var n;void 0===t&&(t=[]);var i=B(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=r(i),s=o?[a].concat(a.visualViewport||[],v(i)?i:[]):i,l=t.concat(s);return o?l:l.concat(x(w(s)))}function C(e){return["table","td","th"].indexOf(p(e))>=0}function S(e){return o(e)&&"fixed"!==m(e).position?e.offsetParent:null}function k(e){for(var t=r(e),n=S(e);n&&C(n)&&"static"===m(n).position;)n=S(n);return n&&("html"===p(n)||"body"===p(n)&&"static"===m(n).position)?t:n||function(e){var t=/firefox/i.test(A());if(/Trident/i.test(A())&&o(e)&&"fixed"===m(e).position)return null;var n=w(e);for(a(n)&&(n=n.host);o(n)&&["html","body"].indexOf(p(n))<0;){var r=m(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var E="top",I="bottom",O="right",F="left",D="auto",_=[E,I,O,F],T="start",U="end",M="viewport",L="popper",Q=_.reduce((function(e,t){return e.concat([t+"-"+T,t+"-"+U])}),[]),R=[].concat(_,[D]).reduce((function(e,t){return e.concat([t,t+"-"+T,t+"-"+U])}),[]),P=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function N(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function j(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function z(e,t,n){return t===M?j(function(e,t){var n=r(e),i=h(e),o=n.visualViewport,a=i.clientWidth,s=i.clientHeight,l=0,c=0;if(o){a=o.width,s=o.height;var A=u();(A||!A&&"fixed"===t)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:a,height:s,x:l+g(e),y:c}}(e,n)):i(t)?function(e,t){var n=d(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):j(function(e){var t,n=h(e),r=f(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=s(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+g(e),c=-r.scrollTop;return"rtl"===m(i||n).direction&&(l+=s(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:l,y:c}}(h(e)))}function K(e,t,n,r){var a="clippingParents"===t?function(e){var t=x(w(e)),n=["absolute","fixed"].indexOf(m(e).position)>=0&&o(e)?k(e):e;return i(n)?t.filter((function(e){return i(e)&&N(e,n)&&"body"!==p(e)})):[]}(e):[].concat(t),c=[].concat(a,[n]),A=c[0],u=c.reduce((function(t,n){var i=z(e,n,r);return t.top=s(i.top,t.top),t.right=l(i.right,t.right),t.bottom=l(i.bottom,t.bottom),t.left=s(i.left,t.left),t}),z(e,A,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function $(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function V(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function G(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?$(i):null,a=i?W(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case E:t={x:s,y:n.y-r.height};break;case I:t={x:s,y:n.y+n.height};break;case O:t={x:n.x+n.width,y:l};break;case F:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?V(o):null;if(null!=c){var A="y"===c?"height":"width";switch(a){case T:t[c]=t[c]-(n[A]/2-r[A]/2);break;case U:t[c]=t[c]+(n[A]/2-r[A]/2)}}return t}function q(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Y(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function J(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,a=n.strategy,s=void 0===a?e.strategy:a,l=n.boundary,c=void 0===l?"clippingParents":l,A=n.rootBoundary,u=void 0===A?M:A,f=n.elementContext,p=void 0===f?L:f,g=n.altBoundary,m=void 0!==g&&g,v=n.padding,y=void 0===v?0:v,b=q("number"!=typeof y?y:Y(y,_)),w=p===L?"reference":L,B=e.rects.popper,x=e.elements[m?w:p],C=K(i(x)?x:x.contextElement||h(e.elements.popper),c,u,s),S=d(e.elements.reference),k=G({reference:S,element:B,strategy:"absolute",placement:o}),F=j(Object.assign({},B,k)),D=p===L?F:S,T={top:C.top-D.top+b.top,bottom:D.bottom-C.bottom+b.bottom,left:C.left-D.left+b.left,right:D.right-C.right+b.right},U=e.modifiersData.offset;if(p===L&&U){var Q=U[o];Object.keys(T).forEach((function(e){var t=[O,I].indexOf(e)>=0?1:-1,n=[E,I].indexOf(e)>=0?"y":"x";T[e]+=Q[n]*t}))}return T}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,a=void 0===o?X:o;return function(e,t,n){void 0===n&&(n=a);var o,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],A=!1,u={state:l,setOptions:function(n){var o="function"==typeof n?n(l.options):n;d(),l.options=Object.assign({},a,l.options,o),l.scrollParents={reference:i(e)?x(e):e.contextElement?x(e.contextElement):[],popper:x(t)};var s,A,f=function(e){var t=H(e);return P.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(r,l.options.modifiers),A=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(A).map((function(e){return A[e]}))));return l.orderedModifiers=f.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:l,name:t,instance:u,options:r}),a=function(){};c.push(o||a)}})),u.update()},forceUpdate:function(){if(!A){var e=l.elements,t=e.reference,n=e.popper;if(Z(t,n)){l.rects={reference:y(t,k(n),"fixed"===l.options.strategy),popper:b(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var i=l.orderedModifiers[r],o=i.fn,a=i.options,s=void 0===a?{}:a,c=i.name;"function"==typeof o&&(l=o({state:l,options:s,name:c,instance:u})||l)}else l.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){d(),A=!0}};if(!Z(e,t))return u;function d(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!A&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var te={passive:!0};var ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,a=void 0===o||o,s=i.resize,l=void 0===s||s,c=r(t.elements.popper),A=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&A.forEach((function(e){e.addEventListener("scroll",n.update,te)})),l&&c.addEventListener("resize",n.update,te),function(){a&&A.forEach((function(e){e.removeEventListener("scroll",n.update,te)})),l&&c.removeEventListener("resize",n.update,te)}},data:{}};var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=G({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oe(e){var t,n=e.popper,i=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,l=e.position,A=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=s.x,g=void 0===p?0:p,v=s.y,y=void 0===v?0:v,b="function"==typeof d?d({x:g,y:y}):{x:g,y:y};g=b.x,y=b.y;var w=s.hasOwnProperty("x"),B=s.hasOwnProperty("y"),x=F,C=E,S=window;if(u){var D=k(n),_="clientHeight",T="clientWidth";if(D===r(n)&&"static"!==m(D=h(n)).position&&"absolute"===l&&(_="scrollHeight",T="scrollWidth"),o===E||(o===F||o===O)&&a===U)C=I,y-=(f&&D===S&&S.visualViewport?S.visualViewport.height:D[_])-i.height,y*=A?1:-1;if(o===F||(o===E||o===I)&&a===U)x=O,g-=(f&&D===S&&S.visualViewport?S.visualViewport.width:D[T])-i.width,g*=A?1:-1}var M,L=Object.assign({position:l},u&&ie),Q=!0===d?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:c(n*i)/i||0,y:c(r*i)/i||0}}({x:g,y:y},r(n)):{x:g,y:y};return g=Q.x,y=Q.y,A?Object.assign({},L,((M={})[C]=B?"0":"",M[x]=w?"0":"",M.transform=(S.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",M)):Object.assign({},L,((t={})[C]=B?y+"px":"",t[x]=w?g+"px":"",t.transform="",t))}var ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:$(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,oe(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,oe(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];o(i)&&p(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});o(r)&&p(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=R.reduce((function(e,n){return e[n]=function(e,t,n){var r=$(e),i=[F,E].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[F,O].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},ce={left:"right",right:"left",bottom:"top",top:"bottom"};function Ae(e){return e.replace(/left|right|bottom|top/g,(function(e){return ce[e]}))}var ue={start:"end",end:"start"};function de(e){return e.replace(/start|end/g,(function(e){return ue[e]}))}function fe(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?R:l,A=W(r),u=A?s?Q:Q.filter((function(e){return W(e)===A})):_,d=u.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=u);var f=d.reduce((function(t,n){return t[n]=J(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[$(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,A=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,h=n.allowedAutoPlacements,g=t.options.placement,m=$(g),v=l||(m===g||!p?[Ae(g)]:function(e){if($(e)===D)return[];var t=Ae(e);return[de(e),t,de(t)]}(g)),y=[g].concat(v).reduce((function(e,n){return e.concat($(n)===D?fe(t,{placement:n,boundary:A,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:h}):n)}),[]),b=t.rects.reference,w=t.rects.popper,B=new Map,x=!0,C=y[0],S=0;S<y.length;S++){var k=y[S],_=$(k),U=W(k)===T,M=[E,I].indexOf(_)>=0,L=M?"width":"height",Q=J(t,{placement:k,boundary:A,rootBoundary:u,altBoundary:d,padding:c}),R=M?U?O:F:U?I:E;b[L]>w[L]&&(R=Ae(R));var P=Ae(R),H=[];if(o&&H.push(Q[_]<=0),s&&H.push(Q[R]<=0,Q[P]<=0),H.every((function(e){return e}))){C=k,x=!1;break}B.set(k,H)}if(x)for(var N=function(e){var t=y.find((function(t){var n=B.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},j=p?3:1;j>0;j--){if("break"===N(j))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function he(e,t,n){return s(e,l(t,n))}var ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,c=void 0!==a&&a,A=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,h=void 0===p||p,g=n.tetherOffset,m=void 0===g?0:g,v=J(t,{boundary:A,rootBoundary:u,padding:f,altBoundary:d}),y=$(t.placement),w=W(t.placement),B=!w,x=V(y),C="x"===x?"y":"x",S=t.modifiersData.popperOffsets,D=t.rects.reference,_=t.rects.popper,U="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,M="number"==typeof U?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(S){if(o){var R,P="y"===x?E:F,H="y"===x?I:O,N="y"===x?"height":"width",j=S[x],z=j+v[P],K=j-v[H],G=h?-_[N]/2:0,q=w===T?D[N]:_[N],Y=w===T?-_[N]:-D[N],X=t.elements.arrow,Z=h&&X?b(X):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[P],ne=ee[H],re=he(0,D[N],Z[N]),ie=B?D[N]/2-G-re-te-M.mainAxis:q-re-te-M.mainAxis,oe=B?-D[N]/2+G+re+ne+M.mainAxis:Y+re+ne+M.mainAxis,ae=t.elements.arrow&&k(t.elements.arrow),se=ae?"y"===x?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(R=null==L?void 0:L[x])?R:0,ce=j+oe-le,Ae=he(h?l(z,j+ie-le-se):z,j,h?s(K,ce):K);S[x]=Ae,Q[x]=Ae-j}if(c){var ue,de="x"===x?E:F,fe="x"===x?I:O,pe=S[C],ge="y"===C?"height":"width",me=pe+v[de],ve=pe-v[fe],ye=-1!==[E,F].indexOf(y),be=null!=(ue=null==L?void 0:L[C])?ue:0,we=ye?me:pe-D[ge]-_[ge]-be+M.altAxis,Be=ye?pe+D[ge]+_[ge]-be-M.altAxis:ve,xe=h&&ye?function(e,t,n){var r=he(e,t,n);return r>n?n:r}(we,pe,Be):he(h?we:me,pe,h?Be:ve);S[C]=xe,Q[C]=xe-pe}t.modifiersData[r]=Q}},requiresIfExists:["offset"]};var me={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=$(n.placement),l=V(s),c=[F,O].indexOf(s)>=0?"height":"width";if(o&&a){var A=function(e,t){return q("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Y(e,_))}(i.padding,n),u=b(o),d="y"===l?E:F,f="y"===l?I:O,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],h=a[l]-n.rects.reference[l],g=k(o),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=p/2-h/2,y=A[d],w=m-u[c]-A[f],B=m/2-u[c]/2+v,x=he(y,B,w),C=l;n.modifiersData[r]=((t={})[C]=x,t.centerOffset=x-B,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&N(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ve(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ye(e){return[E,O,I,F].some((function(t){return e[t]>=0}))}var be={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=J(t,{elementContext:"reference"}),s=J(t,{altBoundary:!0}),l=ve(a,r),c=ve(s,i,o),A=ye(l),u=ye(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:A,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":A,"data-popper-escaped":u})}},we=ee({defaultModifiers:[ne,re,ae,se]}),Be=[ne,re,ae,se,le,pe,ge,me,be],xe=ee({defaultModifiers:Be});t.applyStyles=se,t.arrow=me,t.computeStyles=ae,t.createPopper=xe,t.createPopperLite=we,t.defaultModifiers=Be,t.detectOverflow=J,t.eventListeners=ne,t.flip=pe,t.hide=be,t.offset=le,t.popperGenerator=ee,t.popperOffsets=re,t.preventOverflow=ge},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(120);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(n(482));class s{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:r,empty:i}=n,o=1===r.depth,a=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent;return!!(e.hasFocus()&&i&&o&&a&&this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.editor=e,this.element=t,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=a.default(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var n,i,o;const{state:a}=e,{doc:s,selection:l}=a,{from:c,to:A}=l;if(t&&t.doc.eq(s)&&t.selection.eq(l))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:a,oldState:t}))?(null===(i=this.tippy)||void 0===i||i.setProps({getReferenceClientRect:(null===(o=this.tippyOptions)||void 0===o?void 0:o.getReferenceClientRect)||(()=>r.posToDOMRect(e,c,A))}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const l=e=>new i.Plugin({key:"string"==typeof e.pluginKey?new i.PluginKey(e.pluginKey):e.pluginKey,view:t=>new s({view:t,...e})}),c=r.Extension.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[l({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});t.FloatingMenu=c,t.FloatingMenuPlugin=l,t.FloatingMenuView=s,t.default=c},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(651));function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function A(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(o(1));return n(A)(e,t)}if("function"!=typeof e)throw new Error(o(2));var i=e,s=t,u=[],d=u,f=!1;function p(){d===u&&(d=u.slice())}function h(){if(f)throw new Error(o(3));return s}function g(e){if("function"!=typeof e)throw new Error(o(4));if(f)throw new Error(o(5));var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error(o(6));t=!1,p();var n=d.indexOf(e);d.splice(n,1),u=null}}}function m(e){if(!c(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(f)throw new Error(o(9));try{f=!0,s=i(s,e)}finally{f=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return m({type:l.INIT}),(r={dispatch:m,subscribe:g,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error(o(10));i=e,m({type:l.REPLACE})}})[a]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e},r}var u=A;function d(e,t){return function(){return t(e.apply(this,arguments))}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=l,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(o(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(a)}));return r=f.apply(void 0,s)(n.dispatch),i.default(i.default({},n),{},{dispatch:r})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw new Error(o(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=d(i,t))}return n},t.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(o(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},l=0;l<s.length;l++){var c=s[l],A=n[c],u=e[c],d=A(u,t);if(void 0===d){t&&t.type;throw new Error(o(14))}i[c]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}},t.compose=f,t.createStore=A,t.legacy_createStore=u},function(e,t,n){var r=n(652);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0;var r={batch:!0},i=n(654);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||(t[e]=i[e]))}));var o=n(672);t.batch=o.unstable_batchedUpdates,(0,n(484).setBatch)(o.unstable_batchedUpdates)},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0;var i=r(n(655));t.Provider=i.default;var o=r(n(485));t.connectAdvanced=o.default;var a=n(135);t.ReactReduxContext=a.ReactReduxContext;var s=r(n(662));t.connect=s.default;var l=n(670);t.useDispatch=l.useDispatch,t.createDispatchHook=l.createDispatchHook;var c=n(671);t.useSelector=c.useSelector,t.createSelectorHook=c.createSelectorHook;var A=n(490);t.useStore=A.useStore,t.createStoreHook=A.createStoreHook;var u=r(n(486));t.shallowEqual=u.default},function(e,t,n){"use strict";var r=n(90).default,i=n(483).default;t.__esModule=!0,t.default=void 0;var o=i(n(0)),a=(r(n(14)),n(135)),s=n(304),l=n(305);var c=function(e){var t=e.store,n=e.context,r=e.children,i=(0,o.useMemo)((function(){var e=(0,s.createSubscription)(t);return{store:t,subscription:e}}),[t]),c=(0,o.useMemo)((function(){return t.getState()}),[t]);(0,l.useIsomorphicLayoutEffect)((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,c]);var A=n||a.ReactReduxContext;return o.default.createElement(A.Provider,{value:i},r)};t.default=c},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(658),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,A=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=A(n);u&&(a=a.concat(u(n)));for(var s=l(t),h=l(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||h&&h[m]||s&&s[m])){var v=d(n,m);try{c(t,m,v)}catch(e){}}}}return t}},function(e,t,n){"use strict";e.exports=n(659)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,A=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case A:case f:case c:return e;default:return t}}case m:case g:case o:return t}}}function w(e){return b(e)===d}t.typeOf=b,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=A,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===c||e.$$typeof===A||e.$$typeof===f||e.$$typeof===v||e.$$typeof===y)},t.isAsyncMode=function(e){return w(e)||b(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===A},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===l},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===p}},function(e,t,n){"use strict";e.exports=n(661)},function(e,t,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,l=60109,c=60110,A=60112,u=60113,d=60120,f=60115,p=60116,h=60121,g=60122,m=60117,v=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),i=b("react.portal"),o=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),l=b("react.provider"),c=b("react.context"),A=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),f=b("react.memo"),p=b("react.lazy"),h=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case c:case A:case p:case f:case l:return e;default:return t}}case i:return t}}}var B=l,x=r,C=A,S=o,k=p,E=f,I=i,O=s,F=a,D=u;t.ContextConsumer=c,t.ContextProvider=B,t.Element=x,t.ForwardRef=C,t.Fragment=S,t.Lazy=k,t.Memo=E,t.Portal=I,t.Profiler=O,t.StrictMode=F,t.Suspense=D,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===A},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===f},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===u},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===s||e===v||e===a||e===u||e===d||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===A||e.$$typeof===m||e.$$typeof===h||e[0]===g)},t.typeOf=w},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.createConnect=h,t.default=void 0;var i=r(n(306)),o=r(n(307)),a=r(n(485)),s=r(n(486)),l=r(n(663)),c=r(n(666)),A=r(n(667)),u=r(n(668)),d=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function f(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function p(e,t){return e===t}function h(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?a.default:n,h=t.mapStateToPropsFactories,g=void 0===h?c.default:h,m=t.mapDispatchToPropsFactories,v=void 0===m?l.default:m,y=t.mergePropsFactories,b=void 0===y?A.default:y,w=t.selectorFactory,B=void 0===w?u.default:w;return function(e,t,n,a){void 0===a&&(a={});var l=a,c=l.pure,A=void 0===c||c,u=l.areStatesEqual,h=void 0===u?p:u,m=l.areOwnPropsEqual,y=void 0===m?s.default:m,w=l.areStatePropsEqual,x=void 0===w?s.default:w,C=l.areMergedPropsEqual,S=void 0===C?s.default:C,k=(0,o.default)(l,d),E=f(e,g,"mapStateToProps"),I=f(t,v,"mapDispatchToProps"),O=f(n,b,"mergeProps");return r(B,(0,i.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:I,initMergeProps:O,pure:A,areStatesEqual:h,areOwnPropsEqual:y,areStatePropsEqual:x,areMergedPropsEqual:S},k))}}var g=h();t.default=g},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=void 0,t.whenMapDispatchToPropsIsFunction=a,t.whenMapDispatchToPropsIsMissing=s,t.whenMapDispatchToPropsIsObject=l;var i=r(n(664)),o=n(487);function a(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function s(e){return e?void 0:(0,o.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function l(e){return e&&"object"==typeof e?(0,o.wrapMapToPropsConstant)((function(t){return(0,i.default)(e,t)})):void 0}var c=[a,s,l];t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.whenMapStateToPropsIsFunction=i,t.whenMapStateToPropsIsMissing=o;var r=n(487);function i(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(){return{}}))}var a=[i,o];t.default=a},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=void 0,t.defaultMergeProps=o,t.whenMergePropsIsFunction=s,t.whenMergePropsIsOmitted=l,t.wrapMergePropsFunc=a;var i=r(n(306));r(n(488));function o(e,t,n){return(0,i.default)({},n,e,t)}function a(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}function s(e){return"function"==typeof e?a(e):void 0}function l(e){return e?void 0:function(){return o}}var c=[s,l];t.default=c},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,l=t.initMergeProps,c=(0,i.default)(t,o),A=n(e,c),u=r(e,c),d=l(e,c);0;return(c.pure?s:a)(A,u,d,e,c)},t.impureFinalPropsSelectorFactory=a,t.pureFinalPropsSelectorFactory=s;var i=r(n(307)),o=(r(n(669)),["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);function a(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function s(e,t,n,r,i){var o,a,s,l,c,A=i.areStatesEqual,u=i.areOwnPropsEqual,d=i.areStatePropsEqual,f=!1;function p(i,f){var p,h,g=!u(f,a),m=!A(i,o,f,a);return o=i,a=f,g&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):m?(p=e(o,a),h=!d(p,s),s=p,h&&(c=n(s,l,a)),c):c}return function(i,A){return f?p(i,A):(s=e(o=i,a=A),l=t(r,a),c=n(s,l,a),f=!0,c)}}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=function(e,t,n,r){o(e,"mapStateToProps",r),o(t,"mapDispatchToProps",r),o(n,"mergeProps",r)};var i=r(n(489));function o(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,i.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},function(e,t,n){"use strict";t.__esModule=!0,t.createDispatchHook=o,t.useDispatch=void 0;var r=n(135),i=n(490);function o(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?i.useStore:(0,i.createStoreHook)(e);return function(){return t().dispatch}}var a=o();t.useDispatch=a},function(e,t,n){"use strict";t.__esModule=!0,t.createSelectorHook=c,t.useSelector=void 0;var r=n(0),i=n(491),o=n(304),a=n(305),s=n(135),l=function(e,t){return e===t};function c(e){void 0===e&&(e=s.ReactReduxContext);var t=e===s.ReactReduxContext?i.useReduxContext:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=l);var i=t(),s=function(e,t,n,i){var s,l=(0,r.useReducer)((function(e){return e+1}),0)[1],c=(0,r.useMemo)((function(){return(0,o.createSubscription)(n,i)}),[n,i]),A=(0,r.useRef)(),u=(0,r.useRef)(),d=(0,r.useRef)(),f=(0,r.useRef)(),p=n.getState();try{if(e!==u.current||p!==d.current||A.current){var h=e(p);s=void 0!==f.current&&t(h,f.current)?f.current:h}else s=f.current}catch(e){throw A.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+A.current.stack+"\n\n"),e}return(0,a.useIsomorphicLayoutEffect)((function(){u.current=e,d.current=p,f.current=s,A.current=void 0})),(0,a.useIsomorphicLayoutEffect)((function(){function e(){try{var e=n.getState();if(e===d.current)return;var r=u.current(e);if(t(r,f.current))return;f.current=r,d.current=e}catch(e){A.current=e}l()}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[n,c]),s}(e,n,i.store,i.subscription);return(0,r.useDebugValue)(s),s}}var A=c();t.useSelector=A},function(e,t,n){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var r=n(28);t.unstable_batchedUpdates=r.unstable_batchedUpdates},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function i(e,t){var n=r.useState((function(){return{inputs:t,result:e()}}))[0],i=r.useRef(!0),o=r.useRef(n),a=i.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return r.useEffect((function(){i.current=!1,o.current=a}),[a]),a.result}function o(e,t){return i((function(){return e}),t)}var a=i,s=o;t.useCallback=s,t.useCallbackOne=o,t.useMemo=a,t.useMemoOne=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(675))&&"object"==typeof r&&"default"in r?r.default:r,o=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},a=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},s=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},l={top:0,right:0,bottom:0,left:0},c=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?l:n,i=e.border,c=void 0===i?l:i,A=e.padding,u=void 0===A?l:A,d=o(a(t,r)),f=o(s(t,c)),p=o(s(f,u));return{marginBox:d,borderBox:o(t),paddingBox:f,contentBox:p,margin:r,border:c,padding:u}},A=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&i(!1),n},u=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return c({borderBox:l,border:o,margin:a,padding:s})},d=function(e,t){var n={top:A(t.marginTop),right:A(t.marginRight),bottom:A(t.marginBottom),left:A(t.marginLeft)},r={top:A(t.paddingTop),right:A(t.paddingRight),bottom:A(t.paddingBottom),left:A(t.paddingLeft)},i={top:A(t.borderTopWidth),right:A(t.borderRightWidth),bottom:A(t.borderBottomWidth),left:A(t.borderLeftWidth)};return c({borderBox:e,margin:n,padding:r,border:i})};t.calculateBox=d,t.createBox=c,t.expand=a,t.getBox=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return d(t,n)},t.getRect=o,t.offset=u,t.shrink=s,t.withScroll=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),u(e,t)}},function(e,t,n){"use strict";var r="Invariant failed";e.exports=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],o=t[n],!(i===o||r(i)&&r(o)))return!1;var i,o;return!0}e.exports=function(e,t){var n;void 0===t&&(t=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}}},function(e,t,n){"use strict";e.exports=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}},,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(330),i=n(331);e.exports=function(e,t){return e===t||r(e,t,i(t))}},,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(2),i=n(29);function o(t,n,o){var a;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=(null===(a=e.env.REACT_APP_FIREBASE_PROJECT_ID)||void 0===a?void 0:a.includes("staging"))||!1?i.b.staging:i.b.production,s="https://www.youtube.com/watch?v="+t,l=yield fetch(r+"/youtube-transcripts",{method:"POST",body:JSON.stringify({originalUrl:s,getRawTranscript:null!=o&&o,language:null!=n?n:"en"}),headers:{"Content-Type":"application/json"}});let c=null;return c=o?yield l.json():yield l.text(),c}))}function a(t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=(null===(n=e.env.REACT_APP_FIREBASE_PROJECT_ID)||void 0===n?void 0:n.includes("staging"))||!1?i.b.staging:i.b.production,o="https://www.youtube.com/watch?v="+t,a=yield fetch(r+"/youtube-transcripts-languages",{method:"POST",body:JSON.stringify({url:o}),headers:{"Content-Type":"application/json"}});let s=null;return s=yield a.json(),s}))}}).call(this,n(131))},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(2),i=n(3),o=n.n(i),a=n(342);const s=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var e;return null!==(e=(yield o.a.storage.local.get(a.a))[a.a])&&void 0!==e?e:[]})),l=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const t=yield s();for(const{expression:n}of t)if(e.match(n))return!0;return!1})),c=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const t=yield s();e=e.replace(/\s+/g,"").replace(".","\\.");t.reduce(((t,n)=>t||n.expression===e),!1)||(yield o.a.storage.local.set({[a.a]:[...t,{expression:e,dateAdded:Date.now()}]}))}))},,,,,,,,,,,function(e,t,n){"use strict";var r="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",i="(?:(?:[0-9a-fA-F:]){1,4}(?:(?::(?:[0-9a-fA-F]){1,4}|:)){2,7})+",o=e.exports=function(e){return(e=e||{}).exact?new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"):new RegExp("(?:"+r+")|(?:"+i+")","g")};o.v4=function(e){return(e=e||{}).exact?new RegExp("^"+r+"$"):new RegExp(r,"g")},o.v6=function(e){return(e=e||{}).exact?new RegExp("^"+i+"$"):new RegExp(i,"g")}},function(e,t){e.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","etisalat","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","sport","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","\u0915\u0949\u092e","\u30bb\u30fc\u30eb","\u4f5b\u5c71","\u0cad\u0cbe\u0cb0\u0ca4","\u6148\u5584","\u96c6\u56e2","\u5728\u7ebf","\ud55c\uad6d","\u0b2d\u0b3e\u0b30\u0b24","\u5927\u4f17\u6c7d\u8f66","\u70b9\u770b","\u0e04\u0e2d\u0e21","\u09ad\u09be\u09f0\u09a4","\u09ad\u09be\u09b0\u09a4","\u516b\u5366","\u0645\u0648\u0642\u0639","\u09ac\u09be\u0982\u09b2\u09be","\u516c\u76ca","\u516c\u53f8","\u9999\u683c\u91cc\u62c9","\u7f51\u7ad9","\u79fb\u52a8","\u6211\u7231\u4f60","\u043c\u043e\u0441\u043a\u0432\u0430","\u049b\u0430\u0437","\u043a\u0430\u0442\u043e\u043b\u0438\u043a","\u043e\u043d\u043b\u0430\u0439\u043d","\u0441\u0430\u0439\u0442","\u8054\u901a","\u0441\u0440\u0431","\u0431\u0433","\u0431\u0435\u043b","\u05e7\u05d5\u05dd","\u65f6\u5c1a","\u5fae\u535a","\u6de1\u9a6c\u9521","\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3","\u043e\u0440\u0433","\u0928\u0947\u091f","\u30b9\u30c8\u30a2","\uc0bc\uc131","\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd","\u5546\u6807","\u5546\u5e97","\u5546\u57ce","\u0434\u0435\u0442\u0438","\u043c\u043a\u0434","\u0435\u044e","\u30dd\u30a4\u30f3\u30c8","\u65b0\u95fb","\u5de5\u884c","\u5bb6\u96fb","\u0643\u0648\u0645","\u4e2d\u6587\u7f51","\u4e2d\u4fe1","\u4e2d\u56fd","\u4e2d\u570b","\u5a31\u4e50","\u8c37\u6b4c","\u0c2d\u0c3e\u0c30\u0c24\u0c4d","\u0dbd\u0d82\u0d9a\u0dcf","\u96fb\u8a0a\u76c8\u79d1","\u8d2d\u7269","\u30af\u30e9\u30a6\u30c9","\u0aad\u0abe\u0ab0\u0aa4","\u901a\u8ca9","\u092d\u093e\u0930\u0924\u092e\u094d","\u092d\u093e\u0930\u0924","\u092d\u093e\u0930\u094b\u0924","\u7f51\u5e97","\u0938\u0902\u0917\u0920\u0928","\u9910\u5385","\u7f51\u7edc","\u043a\u043e\u043c","\u0443\u043a\u0440","\u9999\u6e2f","\u8bfa\u57fa\u4e9a","\u98df\u54c1","\u98de\u5229\u6d66","\u53f0\u6e7e","\u53f0\u7063","\u624b\u8868","\u624b\u673a","\u043c\u043e\u043d","\u0627\u0644\u062c\u0632\u0627\u0626\u0631","\u0639\u0645\u0627\u0646","\u0627\u0631\u0627\u0645\u0643\u0648","\u0627\u06cc\u0631\u0627\u0646","\u0627\u0644\u0639\u0644\u064a\u0627\u0646","\u0627\u062a\u0635\u0627\u0644\u0627\u062a","\u0627\u0645\u0627\u0631\u0627\u062a","\u0628\u0627\u0632\u0627\u0631","\u067e\u0627\u06a9\u0633\u062a\u0627\u0646","\u0627\u0644\u0627\u0631\u062f\u0646","\u0645\u0648\u0628\u0627\u064a\u0644\u064a","\u0628\u0627\u0631\u062a","\u0628\u06be\u0627\u0631\u062a","\u0627\u0644\u0645\u063a\u0631\u0628","\u0627\u0628\u0648\u0638\u0628\u064a","\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629","\u0680\u0627\u0631\u062a","\u0643\u0627\u062b\u0648\u0644\u064a\u0643","\u0633\u0648\u062f\u0627\u0646","\u0647\u0645\u0631\u0627\u0647","\u0639\u0631\u0627\u0642","\u0645\u0644\u064a\u0633\u064a\u0627","\u6fb3\u9580","\ub2f7\ucef4","\u653f\u5e9c","\u0634\u0628\u0643\u0629","\u0628\u064a\u062a\u0643","\u0639\u0631\u0628","\u10d2\u10d4","\u673a\u6784","\u7ec4\u7ec7\u673a\u6784","\u5065\u5eb7","\u0e44\u0e17\u0e22","\u0633\u0648\u0631\u064a\u0629","\u62db\u8058","\u0440\u0443\u0441","\u0440\u0444","\u73e0\u5b9d","\u062a\u0648\u0646\u0633","\u5927\u62ff","\u307f\u3093\u306a","\u30b0\u30fc\u30b0\u30eb","\u03b5\u03bb","\u4e16\u754c","\u66f8\u7c4d","\u0d2d\u0d3e\u0d30\u0d24\u0d02","\u0a2d\u0a3e\u0a30\u0a24","\u7f51\u5740","\ub2f7\ub137","\u30b3\u30e0","\u5929\u4e3b\u6559","\u6e38\u620f","verm\xf6gensberater","verm\xf6gensberatung","\u4f01\u4e1a","\u4fe1\u606f","\u5609\u91cc\u5927\u9152\u5e97","\u5609\u91cc","\u0645\u0635\u0631","\u0642\u0637\u0631","\u5e7f\u4e1c","\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8","\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe","\u0570\u0561\u0575","\u65b0\u52a0\u5761","\u0641\u0644\u0633\u0637\u064a\u0646","\u653f\u52a1","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(696),o=n.n(i),a=n(53);class s{constructor(e){this.options=e,this.events=new a.EventEmitter,this._logicUnits={},this._logicUnitData={},this.eventLoggers={}}setAttribute(e,t,n){const{attributes:r}=this._ensureLogicUnitData(e);r[t]=n,this.events.emit("attribute.changed",{name:e,key:t,value:n})}getAttribute(e,t){var n,r;return null===(r=null===(n=this._logicUnitData[e])||void 0===n?void 0:n.attributes)||void 0===r?void 0:r[t]}isRegistered(e){return!!this._logicUnits[e]}registerLogic(e,t){this._logicUnits[e]=t,this.events.emit("registered",Object.assign({name:e},t)),this.options&&this.options.logEvents&&(console.log(`LOGIC/registered/${e}`),this.eventLoggers[e]={eventIncoming:t=>{console.log(`LOGIC/incoming/${e}/${t.event.type}`,t)},eventProcessed:t=>{console.log(`LOGIC/processed/${e}/${t.event.type}`,t)}})}emitSignal(e,t){const{emittedSignals:n}=this._ensureLogicUnitData(e);n.push(t),this.events.emit("signal",{name:e,signal:t})}_ensureLogicUnitData(e){var t;return this._logicUnitData[e]=null!==(t=this._logicUnitData[e])&&void 0!==t?t:{attributes:{},emittedSignals:[]}}waitForElement(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.isRegistered(e)||(yield new Promise((t=>{const n=r=>{r.name===e&&(this.events.off("registered",n),t())};this.events.on("registered",n)})))}))}waitForAttribute(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.waitForElement(e),this.getAttribute(e,t)||(yield new Promise((n=>{const r=i=>{i.name===e&&i.key===t&&(this.events.off("attribute.changed",r),n())};this.events.on("attribute.changed",r)})))}))}waitForSignal(e,t){var n,i;return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.waitForElement(e);for(const r of null!==(i=null===(n=this._logicUnitData[e])||void 0===n?void 0:n.emittedSignals)&&void 0!==i?i:[])if(o()(r,t))return;yield new Promise((n=>{const r=i=>{i.name===e&&o()(i.signal,t)&&(this.events.off("signal",r),n())};this.events.on("signal",r)}))}))}processEvent(e,t,n){return this._logicUnits[e].eventProcessor(t,n)}unregisterLogic(e){this.options&&this.options.logEvents&&console.log(`LOGIC/unregistered/${e}`),delete this._logicUnits[e]}}class l{constructor(){this.events=new a.EventEmitter}}var c=n(54);class A{constructor(){this.events=new a.EventEmitter,this.rootSize={width:1920,height:1080}}processRootResize(){}}function u(){return{device:new A,overlay:new l,logicRegistry:new s,clipboard:{copy:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(c.a)(e)}))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(281);var i={title:{rules:[["title",e=>e.text],['meta[property="og:title"]',e=>e.getAttribute("content")]]},canonicalUrl:Object.assign(Object.assign({},r.metadataRuleSets.url),{defaultValue:void 0,rules:[['link[rel="canonical"]',e=>e.getAttribute("href")],['meta[property="og:url"]',e=>e.getAttribute("content")]]}),publishedTime:{rules:[['meta[property="article:published_time"]',e=>e.getAttribute("content")]]},image:r.metadataRuleSets.image,provider:r.metadataRuleSets.provider,keywords:r.metadataRuleSets.keywords,description:r.metadataRuleSets.description};const o=(e,t)=>{var n;const o=Object.assign(Object.assign({},Object(r.getMetadata)(e,t,i)),{authors:[]}),a=e=>"string"==typeof e?o.authors.push(e):o.authors.push(e.name),s=Array.from(e.querySelectorAll("script[type='application/ld+json']")).map((e=>e.innerHTML)).filter((e=>e.includes("https://schema.org")||e.includes("http://schema.org"))).map((e=>{try{return JSON.parse(e)}catch(e){return null}})).filter((e=>null!=e));for(const e of s)e.author&&(Array.isArray(e.author)?e.author.forEach(a):a(e.author));return{url:t,type:"html",body:e.body.innerHTML,lang:null!==(n=e.documentElement.lang)&&void 0!==n?n:"en",metadata:o}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){try{var e="undefined"==typeof document?{}:document;return(0,i.default)(e,4294967295,null,!1).referenceNode===e?i.default:r.default}catch(e){return o.default}};var r=a(n(1117)),i=a(n(916)),o=a(n(865));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?4294967295:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new r(e,t,n)};var r=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this.whatToShow=n,this.filter=r,this.referenceNode=t,this.pointerBeforeReferenceNode=!0,this._filter=function(e){return!r||1===r(e)},this._show=function(e){return n>>e.nodeType-1&!0}}return e.prototype.nextNode=function(){var e=this.pointerBeforeReferenceNode;this.pointerBeforeReferenceNode=!1;var t=this.referenceNode;if(e&&this._show(t)&&this._filter(t))return t;do{if(t.firstChild)t=t.firstChild;else{do{if(t===this.root)return null;if(t.nextSibling)break;t=t.parentNode}while(t);t=t.nextSibling}}while(!this._show(t)||!this._filter(t));return this.referenceNode=t,this.pointerBeforeReferenceNode=!1,t},e.prototype.previousNode=function(){var e=this.pointerBeforeReferenceNode;this.pointerBeforeReferenceNode=!0;var t=this.referenceNode;if(!e&&this._show(t)&&this._filter(t))return t;do{if(t===this.root)return null;if(t.previousSibling)for(t=t.previousSibling;t.lastChild;)t=t.lastChild;else t=t.parentNode}while(!this._show(t)||!this._filter(t));return this.referenceNode=t,this.pointerBeforeReferenceNode=!0,t},e.prototype.toString=function(){return"[object NodeIterator]"},e}()},,,,,,,,,,,,,function(e,t,n){e.exports=n(1111)},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){if(void 0!==t.URL)e.exports={makeUrlAbsolute:(e,t)=>new URL(t,e).href,parseUrl:e=>new URL(e).host};else{const t=n(207);e.exports={makeUrlAbsolute:(e,n)=>null===t.parse(n).host?t.resolve(e,n):n,parseUrl:e=>t.parse(e).hostname}}}).call(this,n(61))},,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?4294967295:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=e.ownerDocument;return r.createNodeIterator.call(r,e,t,n)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e="undefined"==typeof document?{}:document,t=(0,i.default)();t!==r.default&&(e.createNodeIterator=t);return t};var r=o(n(916)),i=o(n(864));function o(e){return e&&e.__esModule?e:{default:e}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(1126)},function(e,t,n){"use strict";function r(e){return e.split("").reverse().join("")}function i(e){return(e|-e)>>31&1}function o(e,t,n,r){var o=e.P[n],a=e.M[n],s=r>>>31,l=t[n]|s,c=l|a,A=(l&o)+o^o|l,u=a|~(A|o),d=o&A,f=i(u&e.lastRowMask[n])-i(d&e.lastRowMask[n]);return u<<=1,d<<=1,o=(d|=s)|~(c|(u|=i(r)-s)),a=u&c,e.P[n]=o,e.M[n]=a,f}function a(e,t,n){if(0===t.length)return[];n=Math.min(n,t.length);var r=[],i=32,a=Math.ceil(t.length/i)-1,s={P:new Uint32Array(a+1),M:new Uint32Array(a+1),lastRowMask:new Uint32Array(a+1)};s.lastRowMask.fill(1<<31),s.lastRowMask[a]=1<<(t.length-1)%i;for(var l=new Uint32Array(a+1),c=new Map,A=[],u=0;u<256;u++)A.push(l);for(var d=0;d<t.length;d+=1){var f=t.charCodeAt(d);if(!c.has(f)){var p=new Uint32Array(a+1);c.set(f,p),f<A.length&&(A[f]=p);for(var h=0;h<=a;h+=1){p[h]=0;for(var g=0;g<i;g+=1){var m=h*i+g;if(!(m>=t.length))t.charCodeAt(m)===f&&(p[h]|=1<<g)}}}}var v=Math.max(0,Math.ceil(n/i)-1),y=new Uint32Array(a+1);for(h=0;h<=v;h+=1)y[h]=(h+1)*i;y[a]=t.length;for(h=0;h<=v;h+=1)s.P[h]=-1,s.M[h]=0;for(var b=0;b<e.length;b+=1){var w=e.charCodeAt(b);p=void 0;w<A.length?p=A[w]:void 0===(p=c.get(w))&&(p=l);var B=0;for(h=0;h<=v;h+=1)B=o(s,p,h,B),y[h]+=B;if(y[v]-B<=n&&v<a&&(1&p[v+1]||B<0)){v+=1,s.P[v]=-1,s.M[v]=0;var x=v===a?t.length%i:i;y[v]=y[v-1]+x-B+o(s,p,v,B)}else for(;v>0&&y[v]>=n+i;)v-=1;v===a&&y[v]<=n&&(y[v]<n&&r.splice(0,r.length),r.push({start:-1,end:b+1,errors:y[v]}),n=y[v])}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return function(e,t,n){var i=r(t);return n.map((function(n){var o=Math.max(0,n.end-t.length-n.errors);return{start:a(r(e.slice(o,n.end)),i,n.errors).reduce((function(e,t){return n.end-t.end<e?n.end-t.end:e}),n.end),end:n.end,errors:n.errors}}))}(e,t,a(e,t,n))}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return gt}));var r=n(2),i=n(53);const o="__memex-ext-installed-detection-element";const a="memex:open-link",s="memex:request-handled",l={google:!0,duckduckgo:!0,brave:!0,bing:!0},c=["&tbm=shop"];var A=n(6),u=n(165),d=n(197),f=n.n(d),p=n(110),h=n(508),g=n(76),m=n(100);function v(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=yield Object(p.a)(),{shortcutsEnabled:n}=t,i=Object(r.__rest)(t,["shortcutsEnabled"]);if(n){const t=function(e){var{inPageUI:t}=e,n=Object(r.__rest)(e,["inPageUI"]);return{addComment:()=>t.showRibbon({action:"comment"}),addTag:()=>t.showRibbon({action:"tag"}),sharePage:()=>t.showSidebar({action:"cite_page"}),createSharedAnnotationAndAddToCollection:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){Object(h.d)()?yield n.createAnnotation(Object(g.a)(window.getSelection()),!0,!0,!0,null):yield t.showRibbon({action:"list"})})),createBookmark:()=>t.showRibbon({action:"bookmark"}),openDashboard:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return t.loadOnDemandInPageUI({component:"dashboard"})})),openDashboardInNewTab:()=>Object(A.k)().openDashboard(),toggleSidebar:()=>t.toggleSidebar(),askAI:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){t.showSidebar({action:"show_page_summary",highlightedText:window.getSelection().toString(),prompt:null,instaExecutePrompt:!1}),t.hideTooltip()})),instaSummarize:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){t.showSidebar({action:"show_page_summary",highlightedText:window.getSelection().toString(),prompt:null,instaExecutePrompt:!0}),t.hideTooltip()})),toggleHighlights:()=>t.toggleHighlights(),createSharedAnnotation:()=>n.createAnnotation(Object(g.a)(window.getSelection()),!0,!0,!1,null),createSharedHighlight:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){n.createHighlight(Object(g.a)(window.getSelection()),!0)})),createHighlight:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield n.createHighlight(Object(g.a)(window.getSelection()),null),t.hideTooltip()})),createAnnotation:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=t.componentsShown.tooltip;if(e||(yield t.toggleTooltip()),Object(h.d)()){let n=!1;for(;!n;){try{n=t.events.emit("tooltipAction",{annotationCacheId:null,selection:Object(g.a)(window.getSelection()),openForSpaces:!1},(e=>{n=e}))}catch(e){}e||(yield Object(m.a)(200))}}})),addToCollection:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(Object(h.d)()){const e=t.componentsShown.tooltip;e||(yield t.toggleTooltip());let n=!1;for(;!n;){try{n=t.events.emit("tooltipAction",{annotationCacheId:null,selection:Object(g.a)(window.getSelection()),openForSpaces:!0},(e=>{n=e}))}catch(e){}e||(yield Object(m.a)(200))}}else yield t.showRibbon({action:"list"})})),copyCurrentLink:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return Object(h.d)()?(yield n.createHighlight(Object(g.a)(window.getSelection()),null,!0,null,void 0,!0),void t.hideTooltip()):(t.hideTooltip(),t.showSidebar({action:"share_page_link"}))}))}}(e),n=Object.entries(i);for(const[e,r]of n)if(r.enabled&&f.a.bind(r.shortcut,b(t[e])),null!=r.altName&&!r.shortcut.includes("shift")){const e=t[r.altName];null!=e&&f.a.bind("shift+"+r.shortcut,b(e))}}}))}const y=()=>f.a.reset();function b(e){return function(t){return t.preventDefault(),t.stopPropagation(),e().catch((e=>{if(!(e instanceof A.a))throw e;y()}))}}var w=n(123),B=n(280),x=n(91);class C{constructor(e){this.options=e,this.events=new i.EventEmitter,this.componentsShown={ribbon:!1,sidebar:!1,tooltip:!1,highlights:!1,in_page_ui_injections:!1},this.componentsSetUp={ribbon:!1,sidebar:!1,tooltip:!1,highlights:!1,in_page_ui_injections:!1},this.ribbonEnabled=null,this.selectedList=null,this.activeSidebarTab=null,this.cacheLoadPromise=Object(u.a)(),this._pendingEvents={},this.handlePageAddedToSharedList=({pageUrl:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){e===(yield this.options.getNormalizedPageUrl())&&this._emitAction({type:"sidebarAction",action:"set_sharing_access",annotationSharingAccess:"sharing-allowed"})})),this._handleNewListener=(e,t)=>{"ribbonAction"!==e&&"sidebarAction"!==e||this._pendingEvents[e]&&(this._pendingEvents[e].emittedWhen>Date.now()-5e3&&t(this._pendingEvents[e]),delete this._pendingEvents[e])},this.loadOnDemandInPageUI=({component:e,options:t})=>{this.events.emit("injectOnDemandInPageUI",{component:e,options:t})},this.events.on("newListener",this._handleNewListener),this.contentSharingEvents=Object(A.c)("contentSharing"),this.contentSharingEvents.on("pageAddedToSharedList",this.handlePageAddedToSharedList),this.summarisePageEvents=Object(A.c)("pageSummary"),this.summarisePageEvents.on("setActiveSidebarTab",(({activeTab:e})=>{this.activeSidebarTab=e}))}testIfSidebarSetup(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return!0}))}showSidebar(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=()=>{(null==e?void 0:e.action)&&this._emitAction(Object.assign({type:"sidebarAction"},e))};this.componentsShown.sidebar||(yield this._setState("sidebar",!0),this.componentsShown.ribbon||(yield this.showRibbon())),t()}))}_emitAction(e){("sidebarAction"===e.type?this.events.emit("sidebarAction",e):"ribbonAction"===e.type?this.events.emit("ribbonAction",e):this.events.emit("tooltipAction",e,(()=>{})))||(this._pendingEvents[e.type]=Object.assign(Object.assign({},e),{emittedWhen:Date.now()}))}hideSidebar(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._setState("sidebar",!1)}))}toggleSidebar(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.componentsShown.sidebar?yield this.hideSidebar():yield this.showSidebar({action:"comment"})}))}loadComponent(e,t={}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.options.loadComponent(e),this._maybeEmitShouldSetUp(e,t)}))}showRibbon(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.ribbonEnabled=yield B.a();const t=()=>{(null==e?void 0:e.action)&&this._emitAction({type:"ribbonAction",action:e.action})};this.componentsShown.ribbon||("bookmarksNudge"===(null==e?void 0:e.action)?yield this._setState("ribbon",!1):yield this._setState("ribbon",!0)),t()}))}hideRibbon(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.ribbonEnabled=yield B.a(),yield this._setState("ribbon",!1),this.ribbonEnabled||(yield this._removeComponent("ribbon"))}))}removeRibbon(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.componentsSetUp.sidebar&&(yield this._removeComponent("sidebar")),yield this._removeComponent("ribbon")}))}reloadRibbon(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.reloadComponent("ribbon"),yield this.reloadComponent("sidebar")}))}toggleRibbon(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.componentsShown.ribbon?yield this.hideRibbon():yield this.showRibbon()}))}updateRibbon(){this.events.emit("ribbonUpdate")}showTooltip(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.componentsSetUp.tooltip&&(yield this.options.loadComponent("tooltip"));yield this._setState("tooltip",!0),(()=>{e&&this._emitAction(Object.assign({type:"tooltipAction"},e))})()}))}hideTooltip(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._setState("tooltip",!1)}))}removeTooltip(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._removeComponent("tooltip")}))}toggleTooltip(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.componentsSetUp.tooltip?yield this.removeTooltip():yield this.showTooltip()}))}hideHighlights(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._setState("highlights",!1)}))}showHighlights(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._setState("highlights",!0)}))}toggleHighlights(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.componentsShown.highlights?yield this.hideHighlights():yield this.showHighlights()}))}_setState(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.componentsShown[e]===t&&"tooltip"!==e||(t&&(yield this.loadComponent(e,{showSidebarOnLoad:"sidebar"===e})),this.componentsShown[e]=t,this.events.emit("stateChanged",{newState:this.componentsShown,changes:{[e]:this.componentsShown[e]}}))}))}_removeComponent(e){this.options.unloadComponent(e),this.componentsShown[e]=!1,this.componentsSetUp[e]=!1,this.events.emit("componentShouldDestroy",{component:e})}reloadComponent(e,t={}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.options.loadComponent(e),this.events.emit("componentShouldSetUp",{component:e,options:t})}))}_maybeEmitShouldSetUp(e,t={}){this.componentsSetUp[e]||(this.events.emit("componentShouldSetUp",{component:e,options:t}),this.componentsSetUp[e]=!0)}}var S=n(209),k=n(52);const E=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){e.inPageUI.events.on("componentShouldDestroy",(t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){"highlights"===t.component&&O(e)})))),e.inPageUI.events.on("stateChanged",(t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){"highlights"in t.changes&&(t.newState.highlights?yield I(e):O(e))}))))})),I=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){yield e.highlightRenderer.renderHighlights(e.annotationsCache.getAnnotationsArray().map((e=>({id:e.unifiedId,selector:e.selector,color:e.color}))),(({annotationId:t,openInEdit:n})=>{if(n||e.inPageUI.componentsShown.sidebar)return e.inPageUI.showSidebar({action:n?"edit_annotation":"show_annotation",annotationCacheId:t.toString()});e.inPageUI.showTooltip({annotationCacheId:t.toString()})}),{removeExisting:!1})})),O=e=>{e.highlightRenderer.resetHighlightsStyles()};var F=n(54),D=n(130),_=n(47),T=n(71);const U=e=>{const t=document.getElementById("errorWrapper");if(!t)return;const n=new MutationObserver((t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){for(const r of t)"attributes"===r.type&&"hidden"===r.attributeName&&(yield e.onLoadError(),n.disconnect())}))));n.observe(t,{attributeFilter:["hidden"]})};var M=n(45),L=n(707),Q=n(42),R=n(73),P=n(103),H=n(104),N=n(68),j=n(3),z=n.n(j),K=n(49),$=n(513),W=n(211),V=n(75),G=n(19),q=n(878),Y=n(1046),J=n(1047),X=n.n(J);function Z(e,t,n){let r=0,i=[];for(;-1!==r;)r=e.indexOf(t,r),-1!==r&&(i.push({start:r,end:r+t.length,errors:0}),r+=1);return i.length>0?i:X()(e,t,n)}function ee(e,t){if(0===t.length)return 0;return 1-Z(e,t,t.length)[0].errors/t.length}function te(e){switch(e.nodeType){case Node.ELEMENT_NODE:case Node.TEXT_NODE:return e.textContent.length;default:return 0}}function ne(e){let t=e.previousSibling,n=0;for(;t;)n+=te(t),t=t.previousSibling;return n}function re(e,...t){let n=t.shift();const r=e.ownerDocument.createNodeIterator(e,NodeFilter.SHOW_TEXT),i=[];let o,a=r.nextNode(),s=0;for(;void 0!==n&&a;)o=a,s+o.data.length>n?(i.push({node:o,offset:n-s}),n=t.shift()):(a=r.nextNode(),s+=o.data.length);for(;void 0!==n&&o&&s===n;)i.push({node:o,offset:o.data.length}),n=t.shift();if(void 0!==n)throw new RangeError("Offset exceeds text length");return i}class ie{constructor(e,t){if(t<0)throw new Error("Offset is invalid");this.element=e,this.offset=t}relativeTo(e){if(!e.contains(this.element))throw new Error("Parent is not an ancestor of current element");let t=this.element,n=this.offset;for(;t!==e;)n+=ne(t),t=t.parentElement;return new ie(t,n)}resolve(e={}){try{return re(this.element,this.offset)[0]}catch(t){if(0===this.offset&&void 0!==e.direction){const n=document.createTreeWalker(this.element.getRootNode(),NodeFilter.SHOW_TEXT);n.currentNode=this.element;const r=1===e.direction,i=r?n.nextNode():n.previousNode();if(!i)throw t;return{node:i,offset:r?0:i.data.length}}throw t}}static fromCharOffset(e,t){switch(e.nodeType){case Node.TEXT_NODE:return ie.fromPoint(e,t);case Node.ELEMENT_NODE:return new ie(e,t);default:throw new Error("Node is not an element or text node")}}static fromPoint(e,t){switch(e.nodeType){case Node.TEXT_NODE:{if(t<0||t>e.data.length)throw new Error("Text node offset is out of range");if(!e.parentElement)throw new Error("Text node has no parent");const n=ne(e)+t;return new ie(e.parentElement,n)}case Node.ELEMENT_NODE:{if(t<0||t>e.childNodes.length)throw new Error("Child node offset is out of range");let n=0;for(let r=0;r<t;r++)n+=te(e.childNodes[r]);return new ie(e,n)}default:throw new Error("Point is not in an element or text node")}}}class oe{constructor(e,t){this.start=e,this.end=t}relativeTo(e){return new oe(this.start.relativeTo(e),this.end.relativeTo(e))}toRange(){let e,t;this.start.element===this.end.element&&this.start.offset<=this.end.offset?[e,t]=re(this.start.element,this.start.offset,this.end.offset):(e=this.start.resolve({direction:1}),t=this.end.resolve({direction:2}));const n=new Range;return n.setStart(e.node,e.offset),n.setEnd(t.node,t.offset),n}static fromRange(e){const t=ie.fromPoint(e.startContainer,e.startOffset),n=ie.fromPoint(e.endContainer,e.endOffset);return new oe(t,n)}static fromOffsets(e,t,n){return new oe(new ie(e,t),new ie(e,n))}}function ae(e){const t=function(e){const t=e.nodeName.toLowerCase();let n=t;return"#text"===t&&(n="text()"),n}(e),n=function(e){let t=0,n=e;for(;n;)n.nodeName===e.nodeName&&(t+=1),n=n.previousSibling;return t}(e);return`${t}[${n}]`}function se(e,t){let n="",r=e;for(;r!==t;){if(!r)throw new Error("Node is not a descendant of root");n=ae(r)+"/"+n,r=r.parentNode}return n="/"+n,n=n.replace(/\/$/,""),n}function le(e,t,n){t=t.toUpperCase();let r=-1;for(let i=0;i<e.children.length;i++){const o=e.children[i];if(o.nodeName.toUpperCase()===t&&(++r,r===n))return o}return null}function ce(e,t=document.body){try{return function(e,t){if(null===e.match(/^(\/[A-Za-z0-9-]+(\[[0-9]+\])?)+$/))throw new Error("Expression is not a simple XPath");const n=e.split("/");let r=t;n.shift();for(let e of n){let t,n;const i=e.indexOf("[");if(-1!==i){t=e.slice(0,i);const r=e.slice(i+1,e.indexOf("]"));if(n=parseInt(r)-1,n<0)return null}else t=e,n=0;const o=le(r,t,n);if(!o)return null;r=o}return r}(e,t)}catch(n){return document.evaluate("."+e,t,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}}class Ae{constructor(e,t){this.root=e,this.range=t}static fromRange(e,t){return new Ae(e,t)}static fromSelector(e,t){const n=ce(t.startContainer,e);if(!n)throw new Error("Failed to resolve startContainer XPath");const r=ce(t.endContainer,e);if(!r)throw new Error("Failed to resolve endContainer XPath");const i=ie.fromCharOffset(n,t.startOffset),o=ie.fromCharOffset(r,t.endOffset),a=new oe(i,o).toRange();return new Ae(e,a)}toRange(){return this.range}toSelector(){const e=oe.fromRange(this.range).toRange(),t=oe.fromRange(e),n=se(t.start.element,this.root),r=se(t.end.element,this.root);return{type:"RangeSelector",startContainer:n,startOffset:t.start.offset,endContainer:r,endOffset:t.end.offset}}}class ue{constructor(e,t,n){this.root=e,this.start=t,this.end=n}static fromRange(e,t){const n=oe.fromRange(t).relativeTo(e);return new ue(e,n.start.offset,n.end.offset)}static fromSelector(e,t){return new ue(e,t.start,t.end)}toSelector(){return{type:"TextPositionSelector",start:this.start,end:this.end}}toRange(){return oe.fromOffsets(this.root,this.start,this.end).toRange()}}class de{constructor(e,t,n={}){this.root=e,this.exact=t,this.context=n}static fromRange(e,t){const n=e.textContent,r=oe.fromRange(t).relativeTo(e),i=r.start.offset,o=r.end.offset;return new de(e,n.slice(i,o),{prefix:n.slice(Math.max(0,i-32),i),suffix:n.slice(o,Math.min(n.length,o+32))})}static fromSelector(e,t){const{prefix:n,suffix:r}=t;return new de(e,t.exact,{prefix:n,suffix:r})}toSelector(){return{type:"TextQuoteSelector",exact:this.exact,prefix:this.context.prefix,suffix:this.context.suffix}}toRange(e={}){return this.toPositionAnchor(e).toRange()}toPositionAnchor(e={}){const t=function(e,t,n={}){if(0===t.length)return null;const r=Math.min(256,t.length/2),i=Z(e,t,r);if(0===i.length)return null;const o=r=>{const i=1-r.errors/t.length,o=n.prefix?ee(e.slice(r.start-n.prefix.length,r.start),n.prefix):1,a=n.suffix?ee(e.slice(r.end,r.end+n.suffix.length),n.suffix):1;let s=1;return"number"==typeof n.hint&&(s=1-Math.abs(r.start-n.hint)/e.length),(50*i+20*o+20*a+2*s)/92},a=i.map((e=>({start:e.start,end:e.end,score:o(e)})));return a.sort(((e,t)=>t.score-e.score)),a[0]}(this.root.textContent,this.exact,Object.assign(Object.assign({},this.context),{hint:e.hint}));if(t)return new ue(this.root,t.start,t.end);throw new Error("Quote not found")}}function fe(e,t={}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.toRange(t)}))}let pe={},he={};function ge(e){var t;const n="closest"in e?e:e.parentElement;return null!==(t=null==n?void 0:n.closest(".textLayer"))&&void 0!==t?t:null}function me(){return PDFViewerApplication.pdfViewer}function ve(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let n=t.getPageView(e);return n&&n.pdfPage||(n=yield new Promise((n=>{const r=()=>{t.eventBus?t.eventBus.off("pagesloaded",r):document.removeEventListener("pagesloaded",r),n(t.getPageView(e))};t.eventBus?t.eventBus.on("pagesloaded",r):document.addEventListener("pagesloaded",r)}))),n}))}function ye(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(pe[e])return pe[e];return pe[e]=(e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield ve(e,t),r=yield n.pdfPage.getTextContent({normalizeWhitespace:!0});return r.items.filter((e=>/\S/.test(e.str))).map((e=>e.str)).join("")})))(e),pe[e]}))}function be(e,t){let n=-1;const r=i=>(++n,n===e?Promise.resolve(i):ye(n,t).then((e=>r(i+e.length))));return r(0)}function we(e,t=me){const n=t();let r=0,i=0;const o=t=>{const a=n.pagesCount-1;return i+t.length>e||r===a?(e=i,Promise.resolve({index:r,offset:e,textContent:t})):(++r,i+=t.length,ye(r,n).then(o))};return ye(0,n).then(o)}function Be(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=yield ve(e,i);if(3===r.renderingState&&r.textLayer&&r.textLayer.renderingDone){const e=r.textLayer.textLayerDiv,i=new ie(e,t),o=new ie(e,n);return new oe(i,o).toRange()}let o=r.div.querySelector(".annotator-placeholder");o||(o=document.createElement("span"),o.classList.add("annotator-placeholder"),r.div.appendChild(o));const a=document.createRange();return a.setStartBefore(o),a.setEndAfter(o),a}))}function xe(e,t,n,r){if(0===e.length)return Promise.reject(new Error("Quote not found"));const[i,...o]=e,a=ye(i,r),s=be(i,r);return Promise.all([a,s]).then((([e,r])=>{const i=document.createElement("div");i.textContent=e;const o=de.fromSelector(i,t);if(n){let t=n.start-r;return t=Math.max(0,t),t=Math.min(t,e.length),o.toPositionAnchor({hint:t})}return o.toPositionAnchor()})).then((e=>(n&&(he[t.exact]||(he[t.exact]={}),he[t.exact][n.start]={pageIndex:i,anchor:e}),Be(i,e.start,e.end,r)))).catch((()=>xe(o,t,n,r)))}function Ce(e,t){const n=t.pagesCount,r=Array(n).fill(0).map(((e,t)=>t));if(!e)return Promise.resolve(r);return we(e,(()=>t)).then((({index:e})=>function(e){const t=r.slice(0,e),n=r.slice(e),i=[];for(;t.length>0||n.length>0;)n.length&&i.push(n.shift()),t.length&&i.push(t.pop());return i}(e)))}function Se(e,t,n=me){const r=n(),i=t.find((e=>"TextPositionSelector"===e.type)),o=t.find((e=>"TextQuoteSelector"===e.type));let a=Promise.reject("unable to anchor");return i&&(a=a.catch((()=>we(i.start,n).then((({index:e,offset:t,textContent:n})=>{const a=i.start-t,s=i.end-t,l=s-a;return(e=>{if(o&&o.exact!==e.toString())throw new Error("quote mismatch")})(n.substr(a,l)),Be(e,a,s,r)}))))),o&&(a=a.catch((()=>{var e;if(i&&he[o.exact]&&he[o.exact][i.start]){const{pageIndex:e,anchor:t}=he[o.exact][i.start];return Be(e,t.start,t.end,r)}return Ce(null!==(e=null==i?void 0:i.start)&&void 0!==e?e:0,r).then((e=>xe(e,o,i,r)))}))),a}function ke({_document:e=document,_window:t=window,selection:n,isPdf:i}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null===n||n.isCollapsed)return null;try{const o=n.getRangeAt(0),a=e.body,s=i?yield function(e,t,n=me){return Object(r.__awaiter)(this,void 0,void 0,(function*(){try{t=oe.fromRange(t).toRange()}catch(e){throw new Error("Selection does not contain text")}const r=n(),i=ge(t.startContainer),o=ge(t.endContainer);if(!i||!o)throw new Error("Selection is outside page text");if(i!==o)throw new Error("Selecting across page breaks is not supported");const a=ie.fromPoint(t.startContainer,t.startOffset).relativeTo(i),s=ie.fromPoint(t.endContainer,t.endOffset).relativeTo(o),l=function(e){let t=0;for(;e.previousSibling;)++t,e=e.previousSibling;return t}(i.parentNode),c=yield be(l,r);return[{type:"TextPositionSelector",start:c+a.offset,end:c+s.offset},de.fromRange(e,t).toSelector()]}))}(a,o,(()=>{var e;return null===(e=t.PDFViewerApplication)||void 0===e?void 0:e.pdfViewer})):function(e,t){const n=[Ae,ue,de],r=[];for(const i of n)try{const n=i.fromRange(e,t);r.push(n.toSelector())}catch(e){continue}return r}(a,o);return{strategy:"hyp-anchoring",content:s}}catch(e){return null}}))}function Ee({_document:e=document,_window:t=window,descriptor:n,isPdf:i}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=e.body;if("dom-anchor-text-quote"===n.strategy)return q.toRange(r,n.content);if("hyp-anchoring"===n.strategy)return i?Se(0,n.content,(()=>{var e;return null===(e=t.PDFViewerApplication)||void 0===e?void 0:e.pdfViewer})):function(e,t,n={}){let r=null,i=null,o=null;for(let e of t)switch(e.type){case"TextPositionSelector":r=e,n.hint=r.start;break;case"TextQuoteSelector":i=e;break;case"RangeSelector":o=e}const a=e=>{if((null==i?void 0:i.exact)&&e.toString()!==i.exact)throw new Error("quote mismatch");return e};let s=Promise.reject("unable to anchor");return o&&(s=s.catch((()=>fe(Ae.fromSelector(e,o),n).then(a)))),r&&(s=s.catch((()=>fe(ue.fromSelector(e,r),n).then(a)))),i&&(s=s.catch((()=>fe(de.fromSelector(e,i),n)))),s}(r,n.content);const o=q.toRange(r,n.content.textQuote);if(!o)return null;if(!function(t,n){for(;t!==e.body;){if(n(t))return!0;t=t.parentNode}return!1}(o.commonAncestorContainer,(e=>e.tagName&&"script"===e.tagName.toLowerCase())))return o;const a=Y.toRange(r,n.content);return a&&a.toString()===n.content.string?a:null}))}var Ie=n(129),Oe=n(46),Fe=n(57),De=n(70),_e=n.n(De);const Te=(e,t,n)=>("string"==typeof e&&e.startsWith("rgb")&&(e=Object(Oe.a)(e)),{display:"inline",backgroundColor:t?_e()(Object(Oe.b)(e).toString()).darken(30).toRgbString():Object(Oe.b)(e),color:t?"transparent":n?"3366cc":"black"}),Ue=(e,t,n)=>("string"==typeof e&&e.startsWith("rgb")&&(e=Object(Oe.a)(e)),{display:"inline",backgroundColor:t?_e()(e).darken(25).toRgbString():Object(Oe.b)(e),borderBottom:t?`2px solid ${_e()(e).darken(50).toRgbString()}`:`2px solid ${_e()(e).darken(20).toRgbString()}`,color:t?"transparent":n?"3366cc":"black"}),Me=(e,t,n)=>("string"==typeof e&&e.startsWith("rgb")&&(e=Object(Oe.a)(e)),{display:"inline",backgroundColor:t?_e()(e).darken(40).toRgbString():_e()(e).darken(10).toRgbString(),color:t?"transparent":n?"3366cc":"black"}),Le=(e,t)=>({outline:t?`${_e()(e).darken(25).toRgbString()} solid 3px`:`${Object(Oe.b)(e)} solid 3px`}),Qe=(e,t)=>({outline:t?`${_e()(e).darken(50).toRgbString()} solid 3px`:`${_e()(e).darken(20).toRgbString()} solid 3px`});class Re{constructor(e){this.el=e}addStyles(e){for(const[t,n]of Object.entries(e))"string"==typeof n&&(this.el.style[t]=n)}removeStyles(e){for(const t of Object.keys(e))"string"==typeof e[t]&&(this.el.style[t]=null)}replaceStyles(e,t){this.removeStyles(e),this.addStyles(t)}containsStyles(e){for(const[t,n]of Object.entries(e))if(this.el.style[t]!==n)return!1;return!0}setStylesVar(e,t){this.el.style.setProperty(e,t)}}function Pe(e,t){var n,r;try{const i=null!==(r=null===(n=t.nodeValue)||void 0===n?void 0:n.length)&&void 0!==r?r:t.childNodes.length;return e.comparePoint(t,0)<=0&&e.comparePoint(t,i)>=0}catch(e){return!1}}function He(e,t,n,r){const i=function(e){if(e.collapsed)return[];let t=e.commonAncestorContainer;if(t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentElement),!t)return[];const n=[],r=t.ownerDocument.createNodeIterator(t,NodeFilter.SHOW_TEXT);let i;for(;i=r.nextNode();){if(!Pe(e,i))continue;let t=i;t===e.startContainer&&e.startOffset>0?t.splitText(e.startOffset):(t===e.endContainer&&e.endOffset<t.data.length&&t.splitText(e.endOffset),n.push(t))}return n}(e);i.length>0&&i[0].parentNode.closest(".annotator-placeholder");let o=[],a=null,s=null;i.forEach((e=>{a&&a.nextSibling===e?s.push(e):(s=[e],o.push(s)),a=e}));const l=/^\s*$/;o=o.filter((e=>e.some((e=>!l.test(e.nodeValue)))));const c=[];return o.forEach((e=>{if(e[0].parentNode.getAttribute("data-annotation")!==r){const r=document.createElement("span");r.classList.add(Fe.a);const i=new Re(r);r.className=Fe.a,r.setAttribute("highlightColor",t.id),r.setAttribute("style",`background-color:${Object(Oe.b)(t.color)};`);const o="A"===e[0].parentNode.nodeName;e[0].parentNode.replaceChild(r,e[0]),e.forEach((e=>r.appendChild(e))),i.addStyles(Object.assign({cursor:"pointer"},Te(t.color,n,o))),c.push(r)}else c.push(e[0].parentNode)})),c}var Ne=n(72),je=n(291),ze=n.n(je);class Ke extends Error{}Ke.isRetryTimeoutError=!0;var $e=n(326);var We=n(64);const Ve=({id:e})=>`memex-highlight-${e}`;class Ge{constructor(e){var t,n,i,o;this.deps=e,this.highlightColor=Ie.a,this.activeHighlight=null,this.firstRender=!0,this.watchProcessStarted=!1,this.idsToCheckForRerender=[],this.annotationsToNotRerender=[],this.highlightsOnPage=[],this.highlightColorSettings=null,this.changePDFReaderStyles=e=>{const t=this.deps.getDocument().querySelector("#toolbarViewer"),n=this.deps.getDocument().querySelector("#outlineView");t.style.background="#313239",t.style.height="40px",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="space-between";this.deps.getDocument().querySelector("#viewerContainer").style.marginTop="15px";this.deps.getDocument().querySelector("#sidebarContainer").style.marginTop="10px",n.remove(),t.querySelector("#openFile").remove(),t.querySelector("#viewBookmark").remove();const r=this.deps.icons("rectangleDraw"),i=document.createElement("img");i.src=r,i.style.width="20px",i.style.height="20px";const o=t.querySelector("#toolbarViewerRight");o.style.display="flex",o.style.alignItems="center",o.style.gap="10px";const a=document.createElement("button");a.textContent="Draw rectangle",a.classList.add("toolbarButton"),a.style.width="fit-content",a.style.whiteSpace="nowrap",a.style.display="flex",a.style.alignItems="center",a.style.gap="5px",a.onclick=()=>{this.deps.createHighlight(null,null,null,!0)},a.prepend(i),o.prepend(a)},this.handleOutsideHighlightClick=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(e.target===this.document.getElementById("memex-sidebar-container"))return;const t=this.document.querySelectorAll(`.${Fe.a}`);for(const n of Array.from(t))if(e.target===n)return;null!=this.activeHighlight&&this.removeSelectedHighlights()})),this.saveAndRenderHighlight=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n;const r=e.getSelection,i=yield e.getFullPageUrl();let o;this.pdfViewer=null===(t=this.window.PDFViewerApplication)||void 0===t?void 0:t.pdfViewer;const[a,s]=Object(Ne.c)();if(null!=a&&(o=`<a class="youtubeTimestamp" href="${a}">${s}</a>`),(!r||r.isCollapsed)&&null==o&&null==e.screenshotAnchor)return null;let l=e.anchor;if(!l&&(null!=e.screenshotAnchor||r&&r.anchorNode)){const t=null!==(n=null==r?void 0:r.anchorNode.childNodes)&&void 0!==n?n:void 0,o=t?t[(null==t?void 0:t.length)-1]:null;if(o&&o.classList&&o.classList.contains("ytp-popup")||0===(null==r?void 0:r.toString().length)&&i.includes("youtube.com/watch"))l=void 0;else if(null!=e.screenshotAnchor)l=e.screenshotAnchor;else{l={quote:Object(g.c)(r),descriptor:yield ke({_document:this.document,_window:this.window,isPdf:null!=this.pdfViewer,selection:r})}}}const c=new Date;let A;if(this.deps.getHighlightColorSettings&&(this.highlightColorSettings=yield this.deps.getHighlightColorSettings()),this.highlightColorSettings||(this.highlightColorSettings=We.a),null!=e.screenshotAnchor){const t=yield e.imageSupport.generateImageId();A=`<div><img src="${e.screenshotImage.toDataURL("image/jpeg")}" remoteid="${t}"/></div>`}else A=l?l.quote:void 0;const u=!(!l||!l.quote)&&l.quote.length;let d;u?d=l:e.screenshotAnchor?d=e.screenshotAnchor:o&&(d=o);let f=null;e.highlightColor&&(f=e.highlightColor);const{annotationId:p,createPromise:h}=yield this.deps.scheduleAnnotationCreation({fullPageUrl:i,body:u||null!=e.screenshotAnchor?A:void 0,comment:u||null!=e.screenshotAnchor?"":o||void 0,selector:d,shouldShare:e.shouldShare,shouldCopyShareLink:e.shouldCopyShareLink,creator:e.currentUser,createdWhen:c.getTime(),updatedWhen:c.getTime(),color:f},e.openInEditMode),m=e=>{var t,n;this.removeAnnotationHighlight({id:p}),null===(n=(t=this.deps).rollbackAnnotationCreation)||void 0===n||n.call(t,p)};try{window.getSelection().empty(),yield this.renderHighlight({id:p,selector:d,color:f},e.onClick,{isPdf:null!=this.pdfViewer}),yield this.createUndoHistoryEntry(window.location.href,"annotation",p),h.catch(m);const t={id:p,selector:d};return this.highlightsOnPage.push(t),{annotationId:p,createPromise:h}}catch(e){throw m(),e}})),this.createUndoHistoryEntry=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!this.deps.getUndoHistory||!this.deps.setUndoHistory)return;const r=yield this.deps.getUndoHistory();r.unshift({url:e,type:t,id:n}),yield this.deps.setUndoHistory(r)})),this.renderHighlight=(e,t,{isPdf:n}=this.pdfViewer)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var i,o,a,s,l,c,A,u;let d=!1;const f=null!==(o=null===(i=this.highlightColorSettings)||void 0===i?void 0:i.find((t=>t.id===(null==e?void 0:e.color))))&&void 0!==o?o:this.highlightColorSettings[0];if(e&&(null===(a=e.selector)||void 0===a?void 0:a.dimensions))try{const n=function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=t.getElementById("viewer").querySelector(`.page[data-page-number='${e.pageNumber}']`).getElementsByClassName("canvasWrapper")[0],o=n.currentScale,a=document.createElement("div");a.style.position="absolute",a.style.left=e.position[0]*o+"px",a.style.top=e.position[1]*o+"px",a.style.width=e.dimensions[0]*o+"px",a.style.height=e.dimensions[1]*o+"px",a.style.background="rgba(1.0, 0, 0, 0.05)",a.style.borderRadius="6px",a.style.outlineWidth="3px",a.style.outlineColor=_e()(i).darken(10).toHexString()+"90",a.style.outlineStyle="solid",a.addEventListener("click",(()=>{e.onClickAction})),a.classList.add(Fe.a),a.classList.add("rectangle-highlight"),null==e.annotationId?a.id="tmpScreenshotAnchor":(a.setAttribute("data-annotation",e.annotationId.toString()),a.setAttribute("highlightColor",Object(Oe.b)(i)));const s=document.getElementById("tmpScreenshotSelectionRectangle");return s?(s.replaceWith(a),!0):!!r&&(r.appendChild(a),!0)}))}({pageNumber:e.selector.pageNumber,position:e.selector.position,dimensions:e.selector.dimensions,annotationId:e.id,onClickAction:t},this.deps.getDocument(),this.pdfViewer,f);return this.attachMouseEventListenersToNewHighlights(e,t),n}catch(e){return!1}if(!(null===(l=null===(s=null==e?void 0:e.selector)||void 0===s?void 0:s.descriptor)||void 0===l?void 0:l.content))return!1;try{const i=e.selector.descriptor,o=He(yield function(e,t,n){const i=Date.now();return new Promise(((o,a)=>{const s=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let n;try{n=yield e()}catch(e){return a(e),!0}const r=t(n);return r&&o(n),r})),l=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!(yield s()))return Date.now()-i>=n.timeoutMiliseconds?a(new Ke):void ze()(l,n.intervalMiliseconds)}));l()}))}((()=>Ee({isPdf:n,descriptor:i,_window:this.window,_document:this.document})),(e=>null!==e),{intervalMiliseconds:1e3,timeoutMiliseconds:5e3}),f,!!this.pdfViewer,e.id);for(let t of o)null==e.id?t.id="tmpAnnotationAnchor":t.classList.add(Ve(e));o.length&&this.attachMouseEventListenersToNewHighlights(e,t),o&&o.length>0&&(d=!0),(null===(c=this.activeHighlight)||void 0===c?void 0:c.id)===e.id&&this.selectHighlight(e)}catch(e){null===(u=(A=this.deps).captureException)||void 0===u||u.call(A,e),console.error(e)}finally{return d}})),this.renderHighlights=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var i;const o=this.document.querySelectorAll(`.${Fe.a}`);(null==n?void 0:n.removeExisting)&&o.forEach((t=>{const n=t.getAttribute("data-annotation");e.some((e=>e.id===n))||this._removeHighlight(t)})),!this.highlightColorSettings&&this.deps.getHighlightColorSettings&&(this.highlightColorSettings=yield this.deps.getHighlightColorSettings()),this.highlightColorSettings||(this.highlightColorSettings=We.a),o.forEach((t=>{const n=t.getAttribute("data-annotation");e.some((e=>e.id===n))||(e=e.filter((e=>e.id!==n)))}));const a=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return(!e||0!==(null==e?void 0:e.length))&&(this.highlightsOnPage=e,!0)}));let s=0;for(;!(yield a())&&s<50;)yield new Promise((e=>setTimeout(e,s>20?200:50))),s++;e&&0===(null==e?void 0:e.length)&&(this.highlightsOnPage=[],this.watchForRerenders(null,t));const l=null===(i=this.window.PDFViewerApplication)||void 0===i?void 0:i.pdfViewer;if(!l&&this.window.location.href.includes(".pdf"))return;l&&l.eventBus.on("pagerendered",(e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,500)));const e=this.highlightsOnPage;if(e&&e.length>0)for(const n of e){(yield this.renderHighlight({id:n.id,selector:n.selector,color:n.color.id},t))&&(this.idsToCheckForRerender=this.idsToCheckForRerender.filter((e=>e!==n.id)))}}))));const c=(["notion.so","notion.site"].some((e=>this.window.location.href.includes(e)))||l)&&this.firstRender;if(e&&!e.length)return;this.firstRender&&(yield new Promise((e=>setTimeout(e,1e3))));let A,u=[],d=[],f=[];if(l){const t=l.currentPageNumber;for(let n=t-4;n<=t+4;n++){const t=this.document.querySelector(`.page[data-page-number="${n}"]`);if(t){const n=t.getElementsByClassName("canvasWrapper")[0],r=t.getElementsByClassName("textLayer")[0];if(this.highlightsToRender=e,n&&(A=null==n?void 0:n.querySelectorAll(".hypothesis-highlight"),A))for(const e of Array.from(A)){let t=e;if("tmpScreenshotAnchor"===t.id)f.push(t);else{let e=t.getAttribute("data-annotation");e&&!d.includes(e)&&d.push(e)}}if(r&&r.children.length>0)for(const e of Array.from(r.children)){let t=e;for(const e of Array.from(t.children))if(e.classList.contains(Fe.a))if("tmpScreenshotAnchor"===e.id)f.push(e);else{let t=e.getAttribute("data-annotation");t&&!d.includes(t)&&d.push(t)}}}u=d}}setTimeout((()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const i=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==l)return!1;this.pdfViewer=l;const e=l.currentPageNumber,t=l._pages[e-1];return null!=t&&(t&&3===t.renderingState)}));if(this.pdfViewer){let e=0;const t=100;for(;!(yield i())&&this.firstRender&&e<t;)e++,yield new Promise((e=>setTimeout(e,50)))}this.firstRender=!1;let o=e.filter((e=>!u.includes(e.id.toString())&&null!=e.selector));l&&(yield new Promise((e=>setTimeout(e,3e3)))),yield Promise.all(o.map((e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let r=yield this.renderHighlight({id:e.id,selector:e.selector,color:e.color},t,Object.assign({isPdf:null!=l},n));if(r){if(f.length>0)for(let e of f)if("tmpScreenshotAnchor"===e.id||"tmpAnnotationAnchor"===e.id){e.parentNode.removeChild(e);const t=f.indexOf(e);t>-1&&f.splice(t,1)}}else this.idsToCheckForRerender.push(e.id);if(!l){let i=0;for(;!r&&i<10;)i++,r=yield this.renderHighlight({id:e.id,selector:e.selector,color:e.color},t,Object.assign({isPdf:null!=l},n)),yield Object($e.a)(500);for(;!r&&i>=10&&i<=100;)i++,r=yield this.renderHighlight({id:e.id,selector:e.selector,color:e.color},t,Object.assign({isPdf:null!=l},n)),yield Object($e.a)(2e3)}}))))),c&&(yield Object($e.a)(3e3))}))),0),this.highlightsToRender=[],this.annotationsToNotRerender=[],e.length>0&&l&&!(null==n?void 0:n.dontWatchForRerenders)&&this.watchForRerenders(e,t)})),this.watchForRerenders=(e,t)=>{var n;const i=null===(n=this.window.PDFViewerApplication)||void 0===n?void 0:n.pdfViewer;i&&(this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(((e,t)=>{for(let t of e)t.removedNodes.length>0&&t.removedNodes.forEach((e=>{if(e.constructor.name===document.createElement("div").constructor.name){let t=e;"textLayer"!==t.className&&"canvasWrapper"!==t.className||("textLayer"===t.className&&Array.from(t.children).forEach((e=>{let t=e;t.children.length>0&&Array.from(t.children).forEach((e=>{let t=e;if(t.classList.contains(Fe.a)){const e=t.getAttribute("data-annotation");e&&!this.idsToCheckForRerender.includes(e)&&this.idsToCheckForRerender.push(e)}}))})),"canvasWrapper"===t.className&&Array.from(t.children).forEach((e=>{if((e instanceof HTMLDivElement||e instanceof HTMLElement)&&e.classList.contains(Fe.a)){const t=e.getAttribute("data-annotation");t&&!this.idsToCheckForRerender.includes(t)&&this.idsToCheckForRerender.push(t)}})))}}))})),i&&i.eventBus.on("pagechanging",(e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,50)));const e=this.highlightsOnPage.filter((e=>this.idsToCheckForRerender.includes(e.id)));if(e&&e.length>0)for(const n of e){(yield this.renderHighlight({id:n.id,selector:n.selector,color:n.color.id},t))&&(this.idsToCheckForRerender=this.idsToCheckForRerender.filter((e=>e!==n.id)))}})))),i&&i.eventBus.on("textlayerrendered",(e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,50)));const e=this.highlightsOnPage.filter((e=>this.idsToCheckForRerender.includes(e.id)));if(e&&e.length>0)for(const n of e){(yield this.renderHighlight({id:n.id,selector:n.selector,color:n.color.id},t))&&(this.idsToCheckForRerender=this.idsToCheckForRerender.filter((e=>e!==n.id)))}})))),i&&i.eventBus.on("scalechanging",(e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,1e3)));this.document.querySelectorAll(`.${Fe.a}`).forEach((e=>this._removeHighlight(e)));const e=this.highlightsOnPage;if(e&&e.length>0)for(const n of e){let e,r=yield this.renderHighlight({id:n.id,selector:n.selector,color:n.color.id},t);for(;!r&&e<100;)console.error(`Failed to re-render highlight, trying again: ${n.id}`),r=yield this.renderHighlight({id:n.id,selector:n.selector,color:n.color.id},t),e++,yield new Promise((e=>setTimeout(e,200)))}})))),this.observer.observe(i.viewer,{attributes:!0,childList:!0,subtree:!0}))},this.scrollToHighlight=({id:e,selector:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;const r=this.window.PDFViewerApplication,i=null==r?void 0:r.pdfViewer;if(i)if(null!=(null===(n=null==t?void 0:t.descriptor)||void 0===n?void 0:n.content)){const e=null==t?void 0:t.descriptor.content.find((e=>"TextPositionSelector"===e.type));if(null==(null==e?void 0:e.start))return;const{index:n}=yield we(e.start,(()=>i));null!=n&&r.page!==n+1&&(r.page=n+1)}else null!=t.dimensions&&r.page!==t.pageNumber&&(r.page=t.pageNumber);const o=this.document.querySelector(`.${Fe.a}[data-annotation="${e}"]`);o?o.scrollIntoView({behavior:"smooth",block:"center"}):console.error("MEMEX: Oops, no highlight found to scroll to")})),this.scrollCardIntoView=({id:e})=>{const t=this.document.getElementById("memex-sidebar-container");if(!t)return;const n=t.shadowRoot.getElementById(e.toString());null==n||n.scrollIntoView({behavior:"smooth",block:"center"})},this.highlightAndScroll=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.activeHighlight||(this.activeHighlight=e),this.activeHighlight&&this.removeSelectedHighlights(),this.selectHighlight(e),yield this.scrollToHighlight(e)})),this.attachMouseEventListenersToNewHighlights=(e,t)=>{this.document.querySelectorAll(`.${Fe.a}:not([data-annotation])`).forEach((n=>{n.dataset.annotation=e.id.toString(),"A"===n.parentNode.nodeName&&(n.style.color="#3366cc");n.addEventListener("click",(n=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r,i;const o=null===(r=n.target)||void 0===r?void 0:r.parentNode;"a"===(null===(i=null==o?void 0:o.nodeName)||void 0===i?void 0:i.toLowerCase())&&(null==o?void 0:o.href.length)||(n.preventDefault(),n.target.dataset.annotation&&(this.removeSelectedHighlights(!0),this.selectHighlight(e),this.scrollCardIntoView(e),yield t({annotationId:e.id,openInEdit:n.getModifierState("Shift")})))}))),!1);n.addEventListener("mouseenter",(t=>{var n,r,i;(null===(n=t.target.dataset)||void 0===n?void 0:n.annotation)&&(null===(r=t.target.dataset)||void 0===r?void 0:r.annotation)!==(null===(i=this.activeHighlight)||void 0===i?void 0:i.id)&&this.hoverOverHighlight(e)}),!1);n.addEventListener("mouseleave",(t=>{var n,r,i;(null===(n=t.target.dataset)||void 0===n?void 0:n.annotation)&&(null===(r=t.target.dataset)||void 0===r?void 0:r.annotation)!==(null===(i=this.activeHighlight)||void 0===i?void 0:i.id)&&this.removeHoveredHighlights(e)}),!1)}))},this.hoverOverHighlight=({id:e})=>{var t;const n=this.document.querySelectorAll(`.${Fe.a}[data-annotation="${e}"]`);this.pdfViewer=null===(t=this.window.PDFViewerApplication)||void 0===t?void 0:t.pdfViewer,n.forEach((e=>{var t,n;const r=new Re(e),i="A"===e.parentNode.nodeName;let o=e.getAttribute("highlightColor"),a=null!==(n=null===(t=this.highlightColorSettings.find((e=>e.id===o)))||void 0===t?void 0:t.color)&&void 0!==n?n:Ie.a;r.containsStyles(Ue(a,this.pdfViewer,i))||r.addStyles(Me(a,this.pdfViewer,i)),"A"===e.parentNode.nodeName&&(e.style.color="#3366cc")}))},this.removeHoveredHighlights=({id:e})=>{this.document.querySelectorAll(`.${Fe.a}[data-annotation="${e}"]`).forEach((e=>{var t,n;let r=e.getAttribute("highlightColor"),i=null!==(n=null===(t=this.highlightColorSettings.find((e=>e.id===r)))||void 0===t?void 0:t.color)&&void 0!==n?n:Ie.a;const o=new Re(e),a="A"===e.parentNode.nodeName;o.containsStyles(Ue(i,!!this.pdfViewer,a))||o.replaceStyles(Me(i,!!this.pdfViewer,a),Te(i,!!this.pdfViewer,a))}))},this.selectHighlight=e=>{if(null!=this.activeHighlight&&this.activeHighlight.id===e.id)return;this.activeHighlight=e;this.document.querySelectorAll(`[data-annotation="${e.id}"]`).forEach((e=>{var t,n;let r,i,o=e.getAttribute("highlightColor"),a=null!==(n=null===(t=this.highlightColorSettings.find((e=>e.id===o)))||void 0===t?void 0:t.color)&&void 0!==n?n:Ie.a;const s=new Re(e);if(e.classList.contains(Fe.a)&&!e.classList.contains(Fe.b)){const t="A"===e.parentNode.nodeName;r=Me(a,!!this.pdfViewer),i=Ue(a,!!this.pdfViewer,t)}else r=Le(a,!!this.pdfViewer),i=Qe(a,!!this.pdfViewer);s.replaceStyles(r,i),e.classList.add("selectedAnnotation")}))},this.removeSelectedHighlights=e=>{let t=null;try{t=this.deps.isToolTipShown()}catch(e){console.log(e)}if(t&&!e)return;this.activeHighlight=null;this.document.querySelectorAll(".selectedAnnotation").forEach((e=>{var t,n;let r,i,o=e.getAttribute("highlightColor"),a=null!==(n=null===(t=this.highlightColorSettings.find((e=>e.id===o)))||void 0===t?void 0:t.color)&&void 0!==n?n:Ie.a;e.classList.remove("selectedAnnotation");const s=new Re(e),l="A"===e.parentNode.nodeName;e.classList.contains(Fe.a)&&!e.classList.contains(Fe.b)?(r=Ue(a,!!this.pdfViewer,l),i=Te(a,!!this.pdfViewer,l)):(r=Qe(a,!!this.pdfViewer),i=Le(a,!!this.pdfViewer)),s.replaceStyles(r,i)}))},this.resetHighlightsStyles=()=>{this.document.querySelectorAll("[data-annotation]").forEach((e=>{var t,n;let r,i;const o=new Re(e);let a=e.getAttribute("highlightColor"),s=null!==(n=null===(t=this.highlightColorSettings.find((e=>e.id===a)))||void 0===t?void 0:t.color)&&void 0!==n?n:Ie.a;if(e.classList.contains(Fe.a)&&!e.classList.contains(Fe.b)){const t="A"===e.parentNode.nodeName;r=[Me(s,!!this.pdfViewer,t),Ue(s,!!this.pdfViewer,t)],i=Te(s,!!this.pdfViewer)}else{e.getAttribute("highlightColor");r=[Qe(s,!!this.pdfViewer)],i=Le(s,!!this.pdfViewer)}for(const e of r)o.removeStyles(e);o.addStyles(i)}))},this._removeHighlight=e=>{const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},this.removeAnnotationHighlight=({id:e})=>{this.document.querySelectorAll(`.${Fe.a}[data-annotation="${e}"]`).forEach((e=>this._removeHighlight(e)))},this.document.addEventListener("click",this.handleOutsideHighlightClick),this.pdfViewer=null===(t=this.window.PDFViewerApplication)||void 0===t?void 0:t.pdfViewer,null===(n=e.onHighlightColorChange)||void 0===n||n.call(e,(e=>{if(this.highlightColor=e,this.pdfViewer){[this.pdfViewer.currentPageNumber-1,this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageNumber+1].forEach((t=>{const n=this.document.querySelector(`.page[data-page-number="${t}"]`);if(n){const t=n.getElementsByClassName("hypothesis-highlight");Array.from(t).forEach((t=>{t.classList.contains("rectangle-highlight")?t.style.outlineColor=Object(Oe.b)(e)+"80":t.style.backgroundColor=Object(Oe.b)(e)}))}}))}this.pdfViewer.eventBus.on("textlayerrendered",(e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,50)));const e=this.highlightsOnPage;if(e&&e.length>0)for(const t of e){(yield this.renderHighlight({id:t.id,selector:t.selector,color:t.color.id},null))&&(this.idsToCheckForRerender=this.idsToCheckForRerender.filter((e=>e!==t.id)))}}))))})),(null===(i=this.window.PDFViewerApplication)||void 0===i?void 0:i.pdfViewer)&&this.changePDFReaderStyles(null===(o=this.window.PDFViewerApplication)||void 0===o?void 0:o.pdfViewer)}componentDidMount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.deps.getHighlightColorSettings?this.highlightColorSettings=yield this.deps.getHighlightColorSettings():this.highlightColorSettings=We.a}))}get document(){var e,t,n;return null!==(n=null===(t=(e=this.deps).getDocument)||void 0===t?void 0:t.call(e))&&void 0!==n?n:document}get window(){var e,t,n;return null!==(n=null===(t=(e=this.deps).getWindow)||void 0===t?void 0:t.call(e))&&void 0!==n?n:window}getYoutubeTimeestampsandTranscriptfromSelection(){const e=document.getSelection(),t=[];for(let n=0;n<e.rangeCount;n++){const r=e.getRangeAt(n),i=r.commonAncestorContainer;let o=[],a=document.createNodeIterator(i,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.classList.contains("segment")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),s=a.nextNode();for(;s;)r.intersectsNode(s)&&o.push(s),s=a.nextNode();for(const e of o){const n=e.querySelector(".segment-timestamp"),r=e.querySelector(".segment-text");n&&r&&t.push({timestamp:n.textContent.trim(),text:r.textContent.trim()})}}return t}}var qe=n(162),Ye=n(102),Je=n(11),Xe=n(65),Ze=n(511);function et(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let i,o,a=!0;const s=document.createElement("div");s.id="tmpScreenshotSelectionRectangle",s.style.position="absolute",s.style.left="0",s.style.top="0",s.style.width="50px",s.style.height="50px",s.style.background="rgba(1.0, 0, 0, 0.05)",s.style.borderRadius="6px",s.style.outlineWidth="3px",s.style.outlineColor="#11C278",s.style.outlineStyle="solid",s.style.visibility="hidden";const l=e.createElement("div");l.style.position="absolute",l.style.left="50%",l.style.top="10%",l.style.transform="translate(-50%, -50%)",l.style.background="#12131Bc9",l.style.borderRadius="10px",l.style.border="#3E3F47",l.style.color="#FAFAFA",l.style.boxShadow="0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -2px rgba(0, 0, 0, .1",l.style.padding="20px",l.style.userSelect="none";const c=e.createElement("div");c.innerHTML="<strong>Draw a rectangle</strong>",c.style.textAlign="center",l.appendChild(c);const A=e.createElement("div");A.innerHTML='Press "space" while dragging to reposition',l.appendChild(A);const u=e.createElement("div");u.style.position="fixed",u.style.left="0",u.style.top="0",u.style.width="100%",u.style.height="100%",u.appendChild(s),u.appendChild(l);const d=e.getElementById("viewerContainer");function f(t,n,r){const i=e.createElement("canvas"),o=i.getContext("2d");if(i.width=r[0],i.height=r[1],!o)throw new Error("Could not get 2D context for canvas.");return o.drawImage(t,n[0],n[1],r[0],r[1],0,0,r[0],r[1]),i}d.appendChild(u);const p=t.PDFViewerApplication,h=p.page,g=[h];for(const e of function(e,t=0){return[...Array(e).keys()].map((e=>e+t))}(10,1)){g.push(h+e);const t=h-e;t>0&&g.push(t)}const m=h,v=d.querySelector(`.page[data-page-number='${m}']`);if(!v)return null;const y=v.querySelector(".canvasWrapper"),b=(e,i,a)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=y.getBoundingClientRect(),s=[e[0]-r.left,e[1]-r.top];let l,c;t&&!window.location.href.includes("/pdfjs/viewer.html?file")?(l=[s[0],s[1]],c=f(o,l,i)):n.captureScreenshot&&(o=yield Object(Ze.b)(a),l=[e[0],e[1]],c=f(o,l,i));const A=1/p.pdfViewer.currentScale,u=[s[0]*A,s[1]*A],d=[i[0]*A,i[1]*A];return{anchor:{pageNumber:m,position:u,dimensions:d},screenshot:c}}));function w(e){return new Promise((n=>{const r=t.PDFViewerApplication.page,i=d.querySelector(`.page[data-page-number='${r}']`),o=i.querySelector(".canvasWrapper"),a=i.querySelector(".hypothesis-highlight-layer"),s=o.querySelectorAll("."+Fe.a),l=[];if(s&&s.length>0&&s.forEach((t=>{const n=t;n.style.transition="opacity 0.05s ease-in-out",n.style.opacity=e;const r=new Promise((e=>{n.addEventListener("transitionend",(()=>{e()}),{once:!0})}));l.push(r)})),a){a.style.transition="opacity 0.05s ease-in-out",a.style.opacity=e;const t=new Promise((e=>{a.addEventListener("transitionend",(()=>{e()}),{once:!0})}));l.push(t)}Promise.all(l).then((()=>n()))}))}let B=!1,x=!1,C=[0,0],S=[0,0],k=[0,0],E=[0,0],I=[0,0],O=[0,0];e.addEventListener("mousemove",(e=>{S=[e.clientX,e.clientY]})),e.addEventListener("keydown",(e=>{"Space"===e.code&&a&&(B?e.preventDefault():(e.preventDefault(),B=!0,C=S)),"Escape"===e.code&&a&&(a=!1,s.style.display="none",x=!0,l.remove(),u.remove(),w(1),e.preventDefault())})),e.addEventListener("keyup",(e=>{"Space"===e.code&&(B=!1,k=E)}));const F=e=>{if(B)O=[e.clientX-C[0],e.clientY-C[1]],E=[k[0]+O[0],k[1]+O[1]];else{const t=[e.clientX,e.clientY],n=[t[0]-k[0],t[1]-k[1]];E=[n[0]>=0?k[0]:t[0],n[1]>=0?k[1]:t[1]],I=[Math.abs(n[0]),Math.abs(n[1])]}s.style.left=`${E[0]}px`,s.style.top=`${E[1]}px`,s.style.width=`${I[0]}px`,s.style.height=`${I[1]}px`};let D=!0;return l.addEventListener("mouseenter",(()=>{a=!0,l.style.top=D?"20%":"50%",D=!D})),u.addEventListener("mousedown",(s=>Object(r.__awaiter)(this,void 0,void 0,(function*(){l.remove(),u.style.background="none",a=!0,k=[s.clientX,s.clientY],u.addEventListener("mousemove",F),e.getElementById("tmpScreenshotSelectionRectangle").style.visibility="visible",t&&!window.location.href.includes("/pdfjs/viewer.html?file")&&(o=yield n.htmlElToCanvasEl(y),i=o.toDataURL(),o=yield Object(Ze.b)(i))})))),yield w(0),t&&n.captureScreenshot&&(i=yield n.captureScreenshot()),new Promise((t=>{u.addEventListener("mouseup",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!(I[0]<10||I[1]<10))if(x)x=!1,t(null);else{for(e.getElementById("tmpScreenshotSelectionRectangle").style.visibility="hidden",u.remove();null==i;)yield new Promise((e=>setTimeout(e,50)));const n=yield b(E,I,i);t(n),w(1),x=!1}}))))}))}))}var tt=n(166),nt=n(83);function rt(e,t,n){let r;return r=n?document.getElementById(`spacesBar_${n}`):document.getElementById("spacesBar"),r?r.innerHTML="":r=document.createElement("div"),e.length>0?(r.id=n?`spacesBar_${n}`:"spacesBar",r.style.display="flex",r.style.alignItems="center",r.style.gap="5px",r.style.flexWrap="wrap"):(r.id=n?`spacesBar_${n}`:"spacesBar",r.style.display="flex",r.style.alignItems="center",r.style.gap="0px",r.style.marginTop="0px"),e.forEach((e=>{const n=document.createElement("div");n.style.background="#C6F0D4",n.style.padding="3px 10px",n.style.marginTop="5px",n.style.borderRadius="5px",n.style.cursor="pointer",n.style.color="#12131B",n.style.fontSize="14px",n.style.display="flex",n.style.alignItems="center",n.style.fontFamily="Arial",n.innerText=e.name,n.addEventListener("click",(n=>{n.preventDefault(),n.stopPropagation(),t.openOverviewTab({selectedSpace:e.listId||e.localId})})),r.appendChild(n)})),r}function it(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){try{const i=document.getElementsByClassName("input-message-input")[0];let o;i&&i.classList.add("mousetrap"),o='[class="topbar"]';const a=10,s=500,l=(yield function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return new Promise(((r,i)=>{const o=()=>{const a=document.getElementsByClassName(e);a?r(a):t>0?setTimeout((()=>{t--,o()}),n):i(new Error("Element not found after maximum retries."))};o()}))}))}("topbar",a,s))[0];if(null!=l){let i,o=document.createElement("div");o.id="spacesBarContainer",o.style.width="100%",o.style.zIndex="3",o.style.height="fit-content",o.style.overflow="scroll",o.style.padding="10px 15px 15px 15px",o.style.width="100%",l.insertAdjacentElement("afterend",o);const a=yield function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield e.fetchPageListEntriesByUrl({url:t});if(n.length>0){return yield Promise.all(n.filter((e=>20201014!==e.listId)).map((t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield e.fetchListById({id:t.listId});return t.name=n.name,t})))))}}))}(e,n);if(!(null!=a&&a.length>0))return;i=rt(a,t),o.appendChild(i)}}catch(e){console.error(e.message)}}))}function ot(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield e.fetchPageListEntriesByUrl({url:t});if(n.length>0){return yield Promise.all(n.filter((e=>20201014!==e.listId)).map((t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield e.fetchListById({id:t.listId});return t.name=n.name,t})))))}}))}function at(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return new Promise(((r,i)=>{const o=()=>{const a=document.querySelector(e);a?r(a):t>0?setTimeout((()=>{t--,o()}),n):i(new Error("Element not found after maximum retries."))};o()}))}))}function st(e,t,n,i){const o=document.getElementById("memexButtons");o&&o.remove();const a=new URL(window.location.href),s=[{feedUrl:`${a.protocol}//${a.hostname}/feed`,type:"substack"}],l=document.getElementsByClassName("navbar-buttons"),c=document.createElement("div");c.id="memexButtons",c.style.display="flex",c.style.alignItems="center",c.style.height="fill-available",c.style.padding="00 15px 0 15px",c.style.borderRadius="6px",c.style.border="1px solid #3E3F47",c.style.overflow="hidden",c.style.overflowX="scroll",c.style.backgroundColor="#12131B",c.style.color="#FAFAFA",c.style.fontSize="14px",c.style.gap="10px",c.style.cursor="pointer",c.innerText="Follow with Memex",c.style.overflow="hidden",c.onclick=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if((yield t.local.get("rabbitHoleBetaFeatureAccessOnboardingDone")).rabbitHoleBetaFeatureAccessOnboardingDone){c.onclick=()=>{},c.innerText="Followed!";const t=yield function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){try{try{return yield t.addFeedSources(e)}catch(e){return console.log("error",e),"error"}}catch(e){console.error("Error:",e)}}))}(s,e);"error"===t&&(c.innerText="Error following feed")}else n()}));const A=i.getURL("/img/memex-icon.svg"),u=document.createElement("img");u.src=A,c.appendChild(u),u.style.height="20px",l[0].insertBefore(c,l[0].firstChild)}var lt=n(777);const ct=(e,t)=>{var n;const r=Object(D.a)(t);return{type:"pdf",title:null!==(n=document.title)&&void 0!==n?n:void 0,url:r}};var At=n(776),ut=n(31),dt=n(105),ft=n.n(dt),pt=n(562),ht=n(706);function gt(e={}){var t,n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const d="firefox"===Object(qe.a)();d||Object(K.c)({}),e.loadRemotely=null===(t=e.loadRemotely)||void 0===t||t,Object(A.o)({browserAPIs:z.a,sideName:"content-script-global",role:"content"});const f=null!=e.getContentFingerprints;f?U({onLoadError:()=>j.openOverviewTab({openInSameTab:!0,missingPdf:!0})}):function(){const e=document.createElement("div");e.id=o,e.setAttribute("style","display: none !important;"),document.body.appendChild(e)}();let p=[];const h=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if("INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&("Meta"===e.key&&p.push(e.key),"z"===e.key&&p.includes("Meta"))){let e=yield globalThis.browser.storage.local.get(`${R.f}`);e=e[`${R.f}`];let t=e[0];if(t.url!==window.location.href)return void(yield globalThis.browser.storage.local.remove([`${R.f}`]));Be.removeAnnotationHighlight({id:t.id}),e.shift(),yield globalThis.browser.storage.local.set({[`${R.f}`]:e});const n=me.annotations.byId[t.id];me.removeAnnotation({unifiedId:n.unifiedId}),null!=(null==n?void 0:n.localId)&&(yield J.deleteAnnotation(n.localId))}})),b=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=me.annotations.byId[e],{localId:n}=t;Be.removeAnnotationHighlight({id:e}),me.removeAnnotation({unifiedId:t.unifiedId}),null!=n&&(yield J.deleteAnnotation(n))})),I=new mt(e),O={},D=Object(A.k)(),T=Object(A.k)(),j=Object(A.k)(),q=Object(A.k)(),Y=Object(A.k)(),J=Object(A.k)(),X=Object(A.k)(),Z=Object(A.k)(),ee=Object(A.k)(),te=Object(A.k)(),ne=Object(A.k)(),re=Object(A.k)(),ie=Object(A.k)(),oe=Object(A.k)(),ae=Object(A.k)(),se=Object(A.k)(),le=Object(A.k)(),ce=Object(A.k)(),Ae=Object(A.k)(),ue=Object(A.k)(),de=Object(M.a)({syncSettingsBG:se}),fe=yield de.extension.get("shouldAutoAddSpaces"),pe=yield T.getCurrentUser();d||Object(K.d)(pe);const he=pe?{type:"user-reference",id:pe.id}:null,ge=yield I.getFullPageUrl(),me=new S.a({}),ve=Object(Q.g)({fullPageUrl:ge,user:he,cache:me,bgModules:{bgScript:j,annotations:J,customLists:le,syncSettings:se,contentSharing:Z,pageActivityIndicator:ce}}),ye=yield Object(A.k)().getCurrentTabURL(),be=function(e){const t=t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield e.contentScriptsBG.injectContentScriptComponent({component:t})})),n=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=document.createElement("script");t.src=`../content_script_${e}.js`,document.body.appendChild(t)}));return(null==e?void 0:e.loadRemotely)?t:n}({contentScriptsBG:ae,loadRemotely:e.loadRemotely}),we=new C({getNormalizedPageUrl:I.getNormalizedPageUrl,loadComponent:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return"highlights"===e&&(O.highlights=Object(u.a)(),O.highlights.resolve()),O[e]||(O[e]=Object(u.a)(),be(e)),O[e]})),unloadComponent:e=>{delete O[e]}}),Be=new Ge({getDocument:()=>document,isToolTipShown:()=>we.componentsShown.tooltip,icons:e=>Object(nt.b)({variant:"dark"}).icons[e],captureException:K.b,getUndoHistory:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e;return null!==(e=(yield z.a.storage.local.get(R.f))[R.f])&&void 0!==e?e:[]})),createHighlight:(e,t,n,i)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){Oe.createHighlight()(null,t,n,i)})),setUndoHistory:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return z.a.storage.local.set({[R.f]:e})})),getHighlightColorSettings:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=yield De();return null!=e?e:We.a})),onHighlightColorChange:e=>{z.a.storage.onChanged.addListener((t=>{var n;null!=(null===(n=t[$.a])||void 0===n?void 0:n.newValue)&&e(t[$.a].newValue)}))},rollbackAnnotationCreation:e=>{me.removeAnnotation({unifiedId:e.toString()})},scheduleAnnotationCreation:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=Object(V.b)({pageUrl:e.fullPageUrl,now:()=>e.createdWhen}),n=Object(M.a)({syncSettingsBG:se}),i=yield n.extension.get("shouldAutoAddSpaces");let o=!1;e.shouldShare&&i?o=!1:(e.shouldShare&&!i||i)&&(o=!0),null==e.shouldShare||e.shouldShare||(o=!1);const a=[],s=[],l=[];if(we.selectedList){const e=me.lists.byId[we.selectedList];null!=e.localId&&a.push(e.localId),null!=e.remoteId&&s.push(e.remoteId),l.push(e.unifiedId)}let c;c=we.selectedList?e.shouldShare?Je.a.SHARED:Je.a.PROTECTED:o?Je.a.SHARED:Je.a.PROTECTED;const{unifiedId:A}=me.addAnnotation({localId:t,privacyLevel:c,localListIds:[],unifiedListIds:l,body:e.body,comment:e.comment,creator:e.creator,selector:e.selector,lastEdited:e.updatedWhen,createdWhen:e.createdWhen,normalizedPageUrl:Object(G.c)(e.fullPageUrl),color:e.color}),u=(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=Object(tt.a)(e.body,e.fullPageUrl,t,te,!1),{savePromise:r,remoteAnnotationId:i}=yield Object(W.a)({shareOpts:{shouldShare:o,shouldCopyShareLink:e.shouldCopyShareLink},annotationsBG:J,contentSharingBG:Z,skipPageIndexing:!1,syncSettingsBG:se,privacyLevelOverride:c,annotationData:{localId:t,localListIds:a,body:n,comment:e.comment,selector:e.selector,fullPageUrl:e.fullPageUrl,pageTitle:I.getPageTitle(),createdWhen:new Date(e.createdWhen),color:e.color}});if(null!=i){const e=me.annotations.byId[A];me.updateAnnotation({unifiedId:A,remoteId:i,privacyLevel:e.privacyLevel,unifiedListIds:e.unifiedListIds})}yield r})))();return{annotationId:A,localId:t,createPromise:u}}))}),xe=new i.EventEmitter;xe.on("showPowerUpModal",(({limitReachedNotif:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){(null==ye?void 0:ye.includes(window.location.href))&&we.loadOnDemandInPageUI({component:"upgrade-modal",options:{powerUpModalProps:{limitReachedNotif:e,authBG:T}}})}))));const Ce=(yield B.a())&&(!I.isPdf||f);function Se(e,t,n,i,o,a,s,l){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const c=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){Object(K.b)(e),yield O.in_page_ui_injections,we.loadOnDemandInPageUI({component:"error-display",options:{errorDisplayProps:{errorMessage:e.message,title:"Error saving note",blockedBackground:!0}}})}));try{const A=yield Be.saveAndRenderHighlight({currentUser:he,onClick:({annotationId:e,openInEdit:t})=>{if(t||we.componentsShown.sidebar)return we.showSidebar({annotationCacheId:e.toString(),action:"edit_annotation"});we.events.emit("tooltipAction",{annotationCacheId:e.toString()},(e=>e))},getSelection:null!=s?s:null,getFullPageUrl:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return I.getFullPageUrl()})),isPdf:I.isPdf,shouldShare:e,shouldCopyShareLink:t,screenshotAnchor:n,screenshotImage:i,imageSupport:o,highlightColor:a,anchor:l,highlightColorSettings:yield De()}),u=A.annotationId;return{annotationId:u,createPromise:A.createPromise.catch(c)}}catch(e){throw yield c(e),e}}))}const Ee=()=>z.a.tabs.captureVisibleTab(void 0,{format:"jpeg",quality:100});let Ie="pristine";window.addEventListener("beforeunload",(e=>{"running"===Ie&&e.preventDefault()}));const Oe={createHighlight:t=>(t,n,i,o,a,s)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let r,l;if(Ie="running",t){l=Object(g.c)(t);r={quote:l,descriptor:yield ke({_document:this.document,_window:this.window,isPdf:null!=this.pdfViewer,selection:t})}}if(""===t.toString().trim())return{annotationId:null,createPromise:Promise.resolve()};if(!(yield Object(N.e)(z.a,D,le,window.location.href)))return xe.emit("showPowerUpModal",{limitReachedNotif:"Bookmarks"}),void(Ie="error");if((0===(null==l?void 0:l.length)||!t)&&window.location.href.includes("youtube.com"))return void(yield we.showSidebar({action:"youtube_timestamp"}));if(0===(null==l?void 0:l.length)&&!o)return void(Ie="success");const c=yield De(),A=null!=a?a:c[0].id;let u;we.componentsShown.sidebar&&we.showSidebar({action:"show_annotation"});let d=null;if(f&&o){const o=globalThis;if(u=yield et(document,o,{captureScreenshot:Ee,htmlElToCanvasEl:e.htmlElToCanvasEl}),null==u||null==u.anchor)return void(Ie="success");const a=yield Se(n,i,u.anchor,u.screenshot,te,A,t,r);d=a.annotationId,yield a.createPromise}else if(l.length>0){const e=yield Se(n,i,null,null,null,A,t,r);d=e.annotationId,yield e.createPromise}if(s){const e=document.createElement("style");e.type="text/css",e.innerText="\n                    @keyframes slideAndFade {\n                        0% { transform: translateY(-5px); opacity: 0; }\n                        10% { transform: translateY(10px); opacity: 1; }\n                        90% { transform: translateY(10px); opacity: 1; }\n                        100% { transform: translateY(-5px); opacity: 0; }\n                    }",document.head.appendChild(e);const t=document.createElement("div");t.textContent="\ud83d\udd17 Link copied to clipboard",t.style.position="fixed",t.style.top="5px",t.style.left="50%",t.style.transform="translateX(-50%)",t.style.backgroundColor="#12131B95",t.style.backdropFilter="blur(10px)",t.style.color="white",t.style.padding="10px",t.style.borderRadius="5px",t.style.zIndex="1000",t.style.textAlign="center",t.style.animation="slideAndFade 4s ease-in-out",document.body.appendChild(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)}if(D)try{yield Object(Xe.a)(D,{annotationType:"highlight"})}catch(e){console.error(`Error tracking space create event', ${e}`)}return Ie="success",d})),createAnnotation:t=>(t,n,i,o,a,s)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){Ie="running";if(!(null==t?void 0:t.toString().length))return void(Ie="success");let r;if(r={quote:Object(g.c)(t),descriptor:yield ke({_document:this.document,_window:this.window,isPdf:null!=this.pdfViewer,selection:t})},!(yield Object(N.e)(z.a,D,le,window.location.href)))return xe.emit("showPowerUpModal",{limitReachedNotif:"Bookmarks"}),void(Ie="error");const l=yield De(),c=null!=s?s:l[0].id;let A;if(f&&0===window.getSelection().toString().length){const s=globalThis;if(A=yield et(document,s,{captureScreenshot:Ee,htmlElToCanvasEl:e.htmlElToCanvasEl}),null==A||null==A.anchor)return void(Ie="success");const l=yield Se(n,i,A.anchor,A.screenshot,te,c,t,r),u=l.annotationId,d=l.createPromise;yield we.showSidebar(u?{annotationCacheId:u.toString(),action:o?"edit_annotation_spaces":"edit_annotation"}:{action:"comment",commentText:null!=a?a:""}),yield d}else if(t&&window.getSelection().toString().length>0){const e=yield Se(n,i,null,null,te,c,t,r),s=e.annotationId,l=e.createPromise;yield we.showSidebar(s?{annotationCacheId:s.toString(),action:o?"edit_annotation_spaces":"edit_annotation"}:{action:"comment",commentText:null!=a?a:""}),yield l}else window.location.href.includes("youtube.com")&&(yield we.showSidebar({action:"youtube_timestamp",commentText:a}));if(D)try{yield Object(Xe.a)(D,{annotationType:"highlight"})}catch(e){console.error(`Error tracking space create event', ${e}`)}Ie="success"})),askAI:()=>(e,t,n)=>{we.showSidebar({action:"show_page_summary",highlightedText:e,prompt:t,instaExecutePrompt:n}),we.hideTooltip()},askAIwithMediaRange:()=>(e,t,n)=>{we.showSidebar({action:"add_media_range_to_ai_context",range:e,prompt:t,instaExecutePrompt:null!=n&&n})},deleteAnnotation:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield b(e)})),createYoutubeTimestamp:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield we.showSidebar({action:"youtube_timestamp",commentText:e})})),createTimestampWithAISummary:(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){we.showSidebar({action:"create_youtube_timestamp_with_AI_summary",range:e,prompt:t}),we.hideTooltip()})),openChapterSummary:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){we.showSidebar({action:"open_chapter_summary"}),we.hideTooltip()})),createTimestampWithScreenshot:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=document.getElementById("movie_player").getElementsByClassName("html5-main-video")[0];if(e){const t=yield function(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=document.createElement("canvas"),n=e.offsetHeight,r=e.offsetWidth;return t.width=r,t.height=n,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL("image/jpeg")}))}(e);we.showSidebar({action:"create_youtube_timestamp_with_screenshot",imageData:t})}we.hideTooltip()})),saveImageAsNewNote:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){we.showSidebar({action:"save_image_as_new_note",imageData:e})})),analyseImageAsWithAI:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){we.showSidebar({action:"analyse_image_with_ai",imageData:e})}))},Fe={fetchTranscript:(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;return null===(n=yield Object(ht.b)(e,t,!0))||void 0===n?void 0:n.transcriptText})),fetchAvailableTranscriptLanguages:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield Object(ht.a)(e)}))};function De(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=Object(M.a)({syncSettingsBG:se}).highlightColors;let t=yield e.get("highlightColors");return t||(t=[...We.a]),t}))}function _e(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){!function(e,t){for(const n of Object.keys(l))if(-1!==e.indexOf(n)){for(const e of c)if(!0===t.includes(e))return!1;return!0}return!1}(window.location.hostname,window.location.href)?window.location.href.includes("youtube.com")&&(yield O.in_page_ui_injections,we.loadOnDemandInPageUI({component:"youtube-integration"})):(yield O.in_page_ui_injections,we.loadOnDemandInPageUI({component:"search-engine-integration"}))}))}const Te={registerRibbonScript(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield e({inPageUI:we,currentUser:he,highlighter:Be,annotations:J,annotationsCache:me,customLists:le,authBG:T,bgScriptBG:j,searchBG:Object(A.k)(),analyticsBG:D,pageActivityIndicatorBG:ce,activityIndicatorBG:Ae,contentSharing:Z,bookmarks:_.c,syncSettingsBG:se,syncSettings:Object(M.a)({syncSettingsBG:se}),tooltip:{getState:w.d,setState:w.h},highlights:{getState:w.b,setState:w.f},getFullPageUrl:I.getFullPageUrl,openPDFinViewer:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=e;if(t.includes("memex.cloud")&&t.includes("upload_id")){const e=new URL(t).searchParams.get("upload_id");t=yield oe.getTempPdfAccessUrl(e)}return t.includes("https://arxiv.org/pdf/")&&!t.includes(".pdf")&&(t=t.concat(".pdf")),yield ae.openPdfInViewer({fullPageUrl:t}),!0})),events:xe,browserAPIs:z.a}),null===(t=O.ribbon)||void 0===t||t.resolve()}))},registerHighlightingScript(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield e({inPageUI:we,annotationsCache:me,highlightRenderer:Be,annotations:J}),null===(t=O.highlights)||void 0===t||t.resolve()}))},registerSidebarScript(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield e({runtimeAPI:z.a.runtime,storageAPI:z.a.storage,events:xe,initialState:we.componentsShown.sidebar?"visible":"hidden",inPageUI:we,getCurrentUser:()=>he,annotationsCache:me,highlighter:Be,analyticsBG:D,browserAPIs:z.a,authBG:T,annotationsBG:J,bgScriptBG:j,summarizeBG:Y,pageIndexingBG:X,syncSettingsBG:se,imageSupportBG:te,contentSharingBG:Z,contentConversationsBG:ne,contentSharingByTabsBG:re,pageActivityIndicatorBG:ce,customListsBG:le,searchResultLimit:x.e,analytics:k.a,copyToClipboard:F.a,getFullPageUrl:I.getFullPageUrl,copyPasterBG:_.f,subscription:_.j,contentScriptsBG:Object(A.k)(),imageSupport:Object(A.k)(),pkmSyncBG:Object(A.k)(),getRootElement:null,windowAPI:window}),null===(t=O.sidebar)||void 0===t||t.resolve()}))},registerTooltipScript(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield e({inPageUI:we,createHighlight:Oe.createHighlight({category:"Highlights",action:"createFromTooltip"}),createAnnotation:Oe.createAnnotation({category:"Annotations",action:"createFromTooltip"}),askAI:Oe.askAI(),openPDFinViewer:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield ae.openPdfInViewer({fullPageUrl:e})})),deleteAnnotation:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Oe.deleteAnnotation(e)})),tooltip:{getState:w.d,setState:w.h},annotationsBG:J,annotationsCache:me,contentSharingBG:Z,imageSupportBG:te,authBG:T,spacesBG:le,bgScriptsBG:j,analyticsBG:D,pageActivityIndicatorBG:ce,localStorageAPI:z.a.storage.local,syncSettingsBG:se,toggleTooltipState:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){w.h(e)}))}),null===(t=O.tooltip)||void 0===t||t.resolve()}))},registerInPageUIInjectionScript(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield e({inPageUI:we,syncSettingsBG:se,syncSettings:Object(M.a)({syncSettingsBG:se}),searchDisplayProps:{activityIndicatorBG:Ae,searchBG:ie,pdfViewerBG:Object(A.k)(),summarizeBG:Y,analyticsBG:D,authBG:T,annotationsBG:J,pageIndexingBG:X,contentShareBG:Z,contentShareByTabsBG:re,pageActivityIndicatorBG:ce,listsBG:le,contentConversationsBG:ne,contentScriptsBG:ae,imageSupportBG:te,copyPasterBG:ee,syncSettingsBG:se,personalCloudBG:Object(A.k)(),analytics:k.a,document:document,location:location,history:history,annotationsCache:me,copyToClipboard:F.a,tabsAPI:z.a.tabs,runtimeAPI:z.a.runtime,browserAPIs:z.a,localStorage:z.a.storage.local,services:Object(At.a)(),bgScriptBG:j,openPDFinViewer:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=e;if(t.includes("memex.cloud")&&t.includes("upload_id")){const e=new URL(t).searchParams.get("upload_id");t=yield oe.getTempPdfAccessUrl(e)}t.includes("https://arxiv.org/pdf/")&&!t.includes(".pdf")&&(t=t.concat(".pdf")),yield ae.openPdfInViewer({fullPageUrl:t})}))},upgradeModalProps:{createCheckOutLink:j.createCheckoutLink,authBG:T,limitReachedNotif:null,browserAPIs:z.a},annotationsFunctions:Oe,transcriptFunctions:Fe}),null===(t=O.in_page_ui_injections)||void 0===t||t.resolve()}))}};globalThis.contentScriptRegistry=Te,yield we.loadComponent("in_page_ui_injections"),yield _e();const Ue=(yield _.c.pageHasBookmark(ge))||(yield le.fetchPageLists({url:ge}).then((e=>e.length>0)))||(yield J.getAllAnnotationsByUrl({url:ge}).then((e=>e.length>0))),Me=yield Object(L.b)(ge);Object(A.e)({extractRawPageContent:(e=document,t=location.href)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return Object(P.b)(t,{runtimeAPI:z.a.runtime})?ct(e,t):Object(lt.a)(e,t)})),confirmTabScriptLoaded:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){})),showSidebar:we.showSidebar.bind(we),showRibbon:we.showRibbon.bind(we),testIfSidebarSetup:we.testIfSidebarSetup.bind(we),reloadRibbon:()=>we.reloadRibbon(),insertRibbon:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.loadComponent("ribbon")})),removeRibbon:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.removeRibbon()})),insertOrRemoveRibbon:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.toggleRibbon()})),updateRibbon:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.updateRibbon()})),showContentTooltip:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.showTooltip()})),insertTooltip:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.showTooltip()})),toggleTooltipState:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.dependencies.tooltip.setState(e)})),removeTooltip:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.removeTooltip()})),insertOrRemoveTooltip:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return we.toggleTooltip()})),goToHighlight:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t;yield Object(m.a)(100);for(const n in me.annotations.byId)if(me.annotations.byId[n].localId===e){t=me.annotations.byId[n];break}t?yield Be.highlightAndScroll({id:t.unifiedId,selector:t.selector}):console.warn("Tried to go to highlight in new page that doesn't exist in cache")})),saveImageAsNewNote:e=>Oe.saveImageAsNewNote(e),analyseImageAsWithAI:e=>Oe.analyseImageAsWithAI(e),createHighlight:(e,t)=>Oe.createHighlight({category:"Highlights",action:"createFromContextMenu"})(Object(g.a)(window.getSelection()),e,t),removeHighlights:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return Be.resetHighlightsStyles()})),teardownContentScripts:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){!function(){const e=document.getElementById(o);null==e||e.remove()}(),yield we.hideHighlights(),yield we.hideSidebar(),yield we.removeRibbon(),yield we.removeTooltip(),y()})),handleHistoryStateUpdate:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(f)return;yield _e(),yield vt(Oe,q,le,j,I,we);(yield Object(L.b)(ge))||!Ce?(yield we.removeTooltip(),yield we.removeRibbon()):((yield w.d())&&(yield we.reloadComponent("tooltip")),yield we.reloadRibbon()),we.componentsShown.sidebar&&(yield we.showSidebar()),Be.resetHighlightsStyles(),yield _.c.autoSetBookmarkStatusInBrowserIcon(e),yield Object(m.a)(500),yield I.refreshIfNeeded()})),addListToCache:({list:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){me.addList(Object.assign(Object.assign({},e),{unifiedAnnotationIds:[],hasRemoteAnnotationsToLoad:!1}),{skipEventEmission:!0})})),removeListFromCache:({localListId:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=me.getListByLocalId(e);null!=t&&me.removeList({unifiedId:t.unifiedId},{skipEventEmission:!0})}))});const Le=yield w.b();v({inPageUI:we,createHighlight:Oe.createHighlight({category:"Highlights",action:"createFromShortcut"}),createAnnotation:Oe.createAnnotation({category:"Annotations",action:"createFromShortcut"}),askAI:Oe.askAI(),createYoutubeTimestamp:Oe.createYoutubeTimestamp,tooltip:{getState:w.d,setState:w.h},shouldInitTooltip:Le});const{status:Qe}=yield ce.getPageActivityStatus(ge),Re="no-annotations"===Qe||"has-annotations"===Qe;window.__annotationsCache=me,yield ve.then(we.cacheLoadPromise.resolve).catch(we.cacheLoadPromise.reject),yield Te.registerHighlightingScript(E),Le&&(we.showHighlights(),me.isEmpty||(yield we.loadComponent("sidebar"))),(Ce&&!Me||Re)&&(yield we.loadComponent("ribbon",{keepRibbonHidden:!Ce,showPageActivityIndicator:Re}),(yield w.d())&&(yield we.loadComponent("tooltip"))),function(e){const t=e=>{const t=new CustomEvent(s,{detail:{requestId:e}});document.dispatchEvent(t)};if("firefox"===Object(qe.a)()){const t=new MutationObserver((n=>Object(r.__awaiter)(this,void 0,void 0,(function*(){for(let r of n)if("childList"===r.type){const n=document.getElementById("openPageInSelectedListModeTriggerElement");if(n){const r=n.getAttribute("sourceurl"),i=n.getAttribute("sharedlistid"),o="true"===n.getAttribute("iscollaboratorlink")||"true"===n.getAttribute("isownlink");yield Object(m.a)(2e3),yield e.contentScriptsBG.openPageWithSidebarInSelectedListMode({fullPageUrl:r,sharedListId:i,manuallyPullLocalListData:o}),n.remove(),t.disconnect()}}}))));t.observe(document.body,{childList:!0,subtree:!0})}else document.addEventListener(a,(n=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=n.detail;t(r.requestId),Object(H.e)({url:r.originalPageUrl})?yield e.bgScriptBG.openOverviewTab({missingPdf:!0}):yield e.contentScriptsBG.openPageWithSidebarInSelectedListMode({fullPageUrl:r.originalPageUrl,sharedListId:r.sharedListId,manuallyPullLocalListData:r.isCollaboratorLink||r.isOwnLink})}))))}({contentScriptsBG:ae,bgScriptBG:j,pageActivityIndicatorBG:ce}),yield _.c.setBookmarkStatusInBrowserIcon(Ue,ge),null==fe&&(yield de.extension.set("shouldAutoAddSpaces",!0)),document.addEventListener("keydown",(e=>{h(e)})),document.addEventListener("keyup",(e=>{p.filter((t=>t!=e.key))})),yield vt(Oe,q,le,j,I,we),window.location.href.includes("web.telegram.org/")&&me.events.on("updatedPageData",((e,t)=>{let n,r;const i="https://"+e;r=document.getElementById("spacesBarContainer"),n=document.getElementById("spacesBar"),n&&n.remove();n=rt(Array.from(t).map((e=>me.lists.byId[e])),j,i),r&&r.appendChild(n)})),!window.location.href.includes("twitter.com/")&&!window.location.href.includes("x.com/")||window.location.href.includes("/status/")||me.events.on("updatedPageData",((e,t)=>{const n="https://"+e,r=Array.from(t).map((e=>me.lists.byId[e]));let i,o;i=(window.location.href.includes("/messages"),rt(r,j,n)),o=(window.location.href.includes("/messages"),document.getElementById(`spacesBarContainer_${n}`)),o&&o.appendChild(i)}));const Pe=document.getElementsByTagName("embed");Pe.length>0&&we.loadOnDemandInPageUI({component:"pdf-open-button",options:{embedElements:Pe,contentScriptsBG:ae}});const He=yield de.betaFeatures.get("imageOverlay");let Ne=null;if(null!=He&&(Ne=He),null==Ne&&(yield de.betaFeatures.set("imageOverlay",!1)),Ne){const e=document.getElementsByTagName("img"),t=["https://www.facebook.com/","https://www.instagram.com/","https://www.pinterest.com/"];e.length>0&&!t.some((e=>ge.includes(e)))&&we.loadOnDemandInPageUI({component:"img-action-buttons",options:{imageElements:e,contentScriptsBG:ae}})}if("https://memex.garden/upgradeSuccessful"===ge){const e=document.querySelector("h2"),t=document.querySelector("h3");e&&(e.textContent="Updating Subscription"),t&&(t.textContent="Takes just a second. Please don't close this tab");const r=null==pe?void 0:pe.email;if(r){let i=!1,o=0;const a=60;for(;!i&&o<a;){const a=(yield z.a.storage.local.get(ut.a))[ut.a],s=null!==(n=null==a?void 0:a.pU)&&void 0!==n?n:ut.b.pU;yield Object(m.a)(1e3);const l=yield Object(A.k)().checkStripePlan(r);let c=!1;const u=Object.keys(l);for(let e of u)if(l[e]!==s[e]){if(l[e]!==s[e]){c=!0;break}!l[e]||s[e]}if(c){i=!0,e&&(e.textContent="Subscription Successfully Updated"),t&&(t.textContent="Reload the tab you've been working on to see the subscription changes take effect");break}o++}}}let je=Date.now(),ze=0,Ke=Date.now();document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState?je=Date.now():(Ke=Date.now(),ze+=Ke-je)}));const $e=ft()((function(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(window.scrollY>.3*document.documentElement.scrollHeight&&ze>3e4){const e=yield Object(pt.c)("bookmarksCount",z.a);document.removeEventListener("scroll",$e),e&&(yield we.showRibbon({action:"bookmarksNudge"}))}}))}),2e3);if(["https://x.com/","https://twitter.com/","https://twitter.com/messages","https://www.facebook.com/","https://www.instagram.com/","https://www.pinterest.com/","https://web.whatsapp.com/","https://web.telegram.org/"].some((e=>window.location.href.includes(e)))||Ue||document.addEventListener("scroll",$e),D&&Re)try{yield Object(Xe.f)(D)}catch(e){console.error(`Error tracking space create event', ${e}`)}return{inPageUI:we,pdfBG:ue}}))}class mt{constructor(e){this.options=e,this.normalizeTwitterCurrentFullURL=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let e,t=0;if(null!=this.normalizedTwitterFullUrl)return this.normalizedTwitterFullUrl;if("https://twitter.com/messages"===window.location.href)return"https://twitter.com/messages";for(;t<60;){const n=document.querySelector('[aria-selected="true"]');if(n){const t=n.textContent.split("@")[1].split("\xb7")[0];if(t)return e=`https://twitter.com/${t}`,this.normalizedTwitterFullUrl=e,e}else t++,yield Object(m.a)(50)}})),this.normalizeGmailFullURL=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=e;if(e.includes("#search")||e.includes("#inbox")||e.includes("#sent")||e.includes("#snoozed")||e.includes("#drafts")||e.includes("#imp")||e.includes("#scheduled")){const n=e.split("/");return t=`https://mail.google.com/mail/#inbox/${n[n.length-1]}`,t}return t})),this.setTwitterFullUrl=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.normalizedTwitterFullUrl=e})),this.getTwitterFullUrl=()=>this.normalizedTwitterFullUrl,this.getFullPageUrl=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.refreshIfNeeded();let e=this._identifier.fullUrl;return window.location.href.includes("twitter.com/messages")?e=yield this.normalizeTwitterCurrentFullURL():window.location.href.includes("mail.google.com/mail")&&(e=yield this.normalizeGmailFullURL(e)),e})),this.getPageTitle=()=>{let e=document.title;if(window.location.href.includes("web.telegram.org/")){const t=window.location.href;e=Object(Ye.c)(document,t)}return e},this.getNormalizedPageUrl=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.refreshIfNeeded(),this._identifier.normalizedUrl})),this.isPdf=Object(P.b)(window.location.href,{runtimeAPI:z.a.runtime})}refreshIfNeeded(){var e,t,n,i,o;return Object(r.__awaiter)(this,void 0,void 0,(function*(){let r=null;if(window.location.href!==this._href){if(window.location.href.includes("youtube.com/")?(yield Object(m.a)(500),r=Object(D.a)(window.location.href)):window.location.href.includes("twitter.com/messages")||window.location.href.includes("x.com/messages")?(this.normalizedTwitterFullUrl||(r=yield this.normalizeTwitterCurrentFullURL()),yield Object(m.a)(0)):(r=Object(D.a)(window.location.href),yield Object(m.a)(50)),this.isPdf=Object(P.b)(window.location.href,{runtimeAPI:z.a.runtime}),this._identifier=yield Object(A.k)().initContentIdentifier({locator:{format:this.isPdf?T.a.PDF:T.a.HTML,originalLocation:r},fingerprints:null!==(n=yield null===(t=null===(e=this.options)||void 0===e?void 0:e.getContentFingerprints)||void 0===t?void 0:t.call(e))&&void 0!==n?n:[]}),!(null===(i=this._identifier)||void 0===i?void 0:i.normalizedUrl)||!(null===(o=this._identifier)||void 0===o?void 0:o.fullUrl))throw console.error("Invalid content identifier",this._identifier),new Error("Got invalid content identifier");this._href=window.location.href}}))}}function vt(e,t,n,i,o,a){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(window.location.hostname.includes(".substack.com")||(()=>{const e=document.head.getElementsByTagName("link");for(let t of e)if(t.href.startsWith("https://substackcdn.com"))return!0})()){const e=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){a.showSidebar({action:"rabbit_hole_open"})}));st(t,z.a.storage,e,z.a.runtime)}if(window.location.href.includes("web.telegram.org/")){const e=document.getElementById("spacesBarContainer");e&&e.remove(),yield it(n,i,window.location.href)}if((window.location.href.includes("twitter.com/")||window.location.href.includes("x.com/"))&&!window.location.href.includes("/status/"))if(yield o.setTwitterFullUrl(null),window.location.href.includes("/messages")){const e=yield o.getFullPageUrl();document.getElementById(`spacesBarContainer_${e}`)||(yield function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield at('[role="tablist"]',40,500);if(n){const i=n=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r,i;if(!(null==n?void 0:n.textContent.includes("\u2019s message with"))){const o=null!==(i=null===(r=null==n?void 0:n.textContent.split("@")[1])||void 0===r?void 0:r.split("\xb7")[0])&&void 0!==i?i:"";if(o){let r=`https://twitter.com/${o}`,i=document.createElement("div");i.id=`spacesBarContainer_${r}`,i.style.display="flex";const a=yield ot(e,r);if(null!=a&&a.length>0){const e=rt(a,t,r);e.style.flexWrap="wrap",i.style.marginTop="5px",i.appendChild(e)}let s=n.querySelector('[data-testid="conversation"]');s&&s.insertAdjacentElement("beforeend",i)}}}));n.childNodes.forEach((e=>i(e))),new MutationObserver(((e,t)=>{for(let t of e)"childList"===t.type&&t.addedNodes.forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&i(e)}))})).observe(n,{childList:!0})}}))}(n,i))}else yield function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){try{let r;const i='[data-testid="UserDescription"]';if(r=yield at(i,40,500),null!=r){let i,o=document.createElement("div");o.id=`spacesBarContainer_${n}`,o.style.marginTop="5px",r.insertAdjacentElement("beforeend",o);const a=yield ot(e,n);if(!(null!=a&&a.length>0))return;i=rt(a,t,n),o.appendChild(i),r.style.marginBottom="10px"}}catch(e){console.error(e.message)}}))}(n,i,yield o.getFullPageUrl())}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromRange=function(e,t){if(void 0===e)throw new Error('missing required parameter "root"');if(void 0===t)throw new Error('missing required parameter "range"');var n=a.fromRange(e,t);return c(e,n)},t.fromTextPosition=c,t.toRange=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=A(e,t,n);return null===r?null:a.toRange(e,r)},t.toTextPosition=A;var r,i=n(1112),o=(r=i)&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1113));var s=new RegExp("(.|[\r\n]){1,"+String(32)+"}","g"),l=32;function c(e,t){if(void 0===e)throw new Error('missing required parameter "root"');if(void 0===t)throw new Error('missing required parameter "selector"');var n=t.start;if(void 0===n)throw new Error('selector missing required property "start"');if(n<0)throw new Error('property "start" must be a non-negative integer');var r=t.end;if(void 0===r)throw new Error('selector missing required property "end"');if(r<0)throw new Error('property "end" must be a non-negative integer');var i=e.textContent.substr(n,r-n),o=Math.max(0,n-l),a=e.textContent.substr(o,n-o),s=Math.min(e.textContent.length,r+l);return{exact:i,prefix:a,suffix:e.textContent.substr(r,s-r)}}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===e)throw new Error('missing required parameter "root"');if(void 0===t)throw new Error('missing required parameter "selector"');var r=t.exact;if(void 0===r)throw new Error('selector missing required property "exact"');var i=t.prefix,a=t.suffix,l=n.hint,c=new o.default;c.Match_Distance=2*e.textContent.length;var A=r.match(s),u=void 0===l?e.textContent.length/2|0:l,d=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,p=-1,h=void 0!==a,g=!1;void 0!==i&&(p=c.match_main(e.textContent,i,u))>-1&&(u=p+i.length,g=!0),h&&!g&&(p=c.match_main(e.textContent,a,u+r.length))>-1&&(u=p-r.length);var m=A.shift();if(!((p=c.match_main(e.textContent,m,u))>-1))return null;u=f=(d=p)+m.length;c.Match_Distance=64;var v=A.reduce((function(t,n){if(!t)return null;var r=c.match_main(e.textContent,n,t.loc);return-1===r?null:(t.loc=r+n.length,t.start=Math.min(t.start,r),t.end=Math.max(t.end,r+n.length),t)}),{start:d,end:f,loc:u});return v?{start:v.start,end:v.end}:null}},function(e,t,n){"use strict";function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var i=-1;r.Diff,r.prototype.diff_main=function(e,t,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var o=n,a=this.diff_commonPrefix(e,t),s=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var l=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var c=this.diff_compute_(e,t,o,i);return s&&c.unshift([0,s]),l&&c.push([0,l]),this.diff_cleanupMerge(c),c},r.prototype.diff_compute_=function(e,t,n,r){var o;if(!e)return[[1,t]];if(!t)return[[i,e]];var a=e.length>t.length?e:t,s=e.length>t.length?t:e,l=a.indexOf(s);if(-1!=l)return o=[[1,a.substring(0,l)],[0,s],[1,a.substring(l+s.length)]],e.length>t.length&&(o[0][0]=o[2][0]=i),o;if(1==s.length)return[[i,e],[1,t]];var c=this.diff_halfMatch_(e,t);if(c){var A=c[0],u=c[1],d=c[2],f=c[3],p=c[4],h=this.diff_main(A,d,n,r),g=this.diff_main(u,f,n,r);return h.concat([[0,p]],g)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)},r.prototype.diff_lineMode_=function(e,t,n){e=(u=this.diff_linesToChars_(e,t)).chars1,t=u.chars2;var r=u.lineArray,o=this.diff_main(e,t,!1,n);this.diff_charsToLines_(o,r),this.diff_cleanupSemantic(o),o.push([0,""]);for(var a=0,s=0,l=0,c="",A="";a<o.length;){switch(o[a][0]){case 1:l++,A+=o[a][1];break;case i:s++,c+=o[a][1];break;case 0:if(s>=1&&l>=1){o.splice(a-s-l,s+l),a=a-s-l;for(var u,d=(u=this.diff_main(c,A,!1,n)).length-1;d>=0;d--)o.splice(a,0,u[d]);a+=u.length}l=0,s=0,c="",A=""}a++}return o.pop(),o},r.prototype.diff_bisect_=function(e,t,n){for(var r=e.length,o=t.length,a=Math.ceil((r+o)/2),s=a,l=2*a,c=new Array(l),A=new Array(l),u=0;u<l;u++)c[u]=-1,A[u]=-1;c[s+1]=0,A[s+1]=0;for(var d=r-o,f=d%2!=0,p=0,h=0,g=0,m=0,v=0;v<a&&!((new Date).getTime()>n);v++){for(var y=-v+p;y<=v-h;y+=2){for(var b=s+y,w=(k=y==-v||y!=v&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1)-y;k<r&&w<o&&e.charAt(k)==t.charAt(w);)k++,w++;if(c[b]=k,k>r)h+=2;else if(w>o)p+=2;else if(f){if((C=s+d-y)>=0&&C<l&&-1!=A[C])if(k>=(x=r-A[C]))return this.diff_bisectSplit_(e,t,k,w,n)}}for(var B=-v+g;B<=v-m;B+=2){for(var x,C=s+B,S=(x=B==-v||B!=v&&A[C-1]<A[C+1]?A[C+1]:A[C-1]+1)-B;x<r&&S<o&&e.charAt(r-x-1)==t.charAt(o-S-1);)x++,S++;if(A[C]=x,x>r)m+=2;else if(S>o)g+=2;else if(!f){if((b=s+d-B)>=0&&b<l&&-1!=c[b]){var k;w=s+(k=c[b])-b;if(k>=(x=r-x))return this.diff_bisectSplit_(e,t,k,w,n)}}}}return[[i,e],[1,t]]},r.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=this.diff_main(o,a,!1,i),A=this.diff_main(s,l,!1,i);return c.concat(A)},r.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,o=-1,a=n.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var s=e.substring(i,o+1);i=o+1,(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?t+=String.fromCharCode(r[s]):(t+=String.fromCharCode(a),r[s]=a,n[a++]=s)}return t}return n[0]="",{chars1:i(e),chars2:i(t),lineArray:n}},r.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,a=1;;){var s=e.substring(i-a),l=t.indexOf(s);if(-1==l)return o;a+=l,0!=l&&e.substring(i-a)!=t.substring(0,a)||(o=a,a++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,a,s,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,A="";-1!=(c=t.indexOf(l,c+1));){var u=i.diff_commonPrefix(e.substring(n),t.substring(c)),d=i.diff_commonSuffix(e.substring(0,n),t.substring(0,c));A.length<d+u&&(A=t.substring(c-d,c)+t.substring(c,c+u),r=e.substring(0,n-d),o=e.substring(n+u),a=t.substring(0,c-d),s=t.substring(c+u))}return 2*A.length>=e.length?[r,o,a,s,A]:null}var a,s,l,c,A,u=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));return u||d?(a=d?u&&u[4].length>d[4].length?u:d:u,e.length>t.length?(s=a[0],l=a[1],c=a[2],A=a[3]):(c=a[0],A=a[1],s=a[2],l=a[3]),[s,l,c,A,a[4]]):null},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],r=0,o=null,a=0,s=0,l=0,c=0,A=0;a<e.length;)0==e[a][0]?(n[r++]=a,s=c,l=A,c=0,A=0,o=e[a][1]):(1==e[a][0]?c+=e[a][1].length:A+=e[a][1].length,o&&o.length<=Math.max(s,l)&&o.length<=Math.max(c,A)&&(e.splice(n[r-1],0,[i,o]),e[n[r-1]+1][0]=1,r--,a=--r>0?n[r-1]:-1,s=0,l=0,c=0,A=0,o=null,t=!0)),a++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==i&&1==e[a][0]){var u=e[a-1][1],d=e[a][1],f=this.diff_commonOverlap_(u,d),p=this.diff_commonOverlap_(d,u);f>=p?(f>=u.length/2||f>=d.length/2)&&(e.splice(a,0,[0,d.substring(0,f)]),e[a-1][1]=u.substring(0,u.length-f),e[a+1][1]=d.substring(f),a++):(p>=u.length/2||p>=d.length/2)&&(e.splice(a,0,[0,u.substring(0,p)]),e[a-1][0]=1,e[a-1][1]=d.substring(0,d.length-p),e[a+1][0]=i,e[a+1][1]=u.substring(p),a++),a++}a++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),o=n.match(r.nonAlphaNumericRegex_),a=i.match(r.nonAlphaNumericRegex_),s=o&&n.match(r.whitespaceRegex_),l=a&&i.match(r.whitespaceRegex_),c=s&&n.match(r.linebreakRegex_),A=l&&i.match(r.linebreakRegex_),u=c&&e.match(r.blanklineEndRegex_),d=A&&t.match(r.blanklineStartRegex_);return u||d?5:c||A?4:o&&!s&&l?3:s||l?2:o||a?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],o=e[n][1],a=e[n+1][1],s=this.diff_commonSuffix(i,o);if(s){var l=o.substring(o.length-s);i=i.substring(0,i.length-s),o=l+o.substring(0,o.length-s),a=l+a}for(var c=i,A=o,u=a,d=t(i,o)+t(o,a);o.charAt(0)===a.charAt(0);){i+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);var f=t(i,o)+t(o,a);f>=d&&(d=f,c=i,A=o,u=a)}e[n-1][1]!=c&&(c?e[n-1][1]=c:(e.splice(n-1,1),n--),e[n][1]=A,u?e[n+1][1]=u:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,o=null,a=0,s=!1,l=!1,c=!1,A=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(c||A)?(n[r++]=a,s=c,l=A,o=e[a][1]):(r=0,o=null),c=A=!1):(e[a][0]==i?A=!0:c=!0,o&&(s&&l&&c&&A||o.length<this.Diff_EditCost/2&&s+l+c+A==3)&&(e.splice(n[r-1],0,[i,o]),e[n[r-1]+1][0]=1,r--,o=null,s&&l?(c=A=!0,r=0):(a=--r>0?n[r-1]:-1,c=A=!1),t=!0)),a++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,r=0,o=0,a="",s="";n<e.length;)switch(e[n][0]){case 1:o++,s+=e[n][1],n++;break;case i:r++,a+=e[n][1],n++;break;case 0:r+o>1?(0!==r&&0!==o&&(0!==(t=this.diff_commonPrefix(s,a))&&(n-r-o>0&&0==e[n-r-o-1][0]?e[n-r-o-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),n++),s=s.substring(t),a=a.substring(t)),0!==(t=this.diff_commonSuffix(s,a))&&(e[n][1]=s.substring(s.length-t)+e[n][1],s=s.substring(0,s.length-t),a=a.substring(0,a.length-t))),0===r?e.splice(n-o,r+o,[1,s]):0===o?e.splice(n-r,r+o,[i,a]):e.splice(n-r-o,r+o,[i,a],[1,s]),n=n-r-o+(r?1:0)+(o?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,r=0,a="",s=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),l=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),l=!0)),n++;l&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n,r=0,o=0,a=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),e[n][0]!==i&&(o+=e[n][1].length),!(r>t));n++)a=r,s=o;return e.length!=n&&e[n][0]===i?s:s+(t-a)},r.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,o=/>/g,a=/\n/g,s=0;s<e.length;s++){var l=e[s][0],c=e[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(o,"&gt;").replace(a,"&para;<br>");switch(l){case 1:t[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case i:t[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[s]="<span>"+c+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==i&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,o=0;o<e.length;o++){var a=e[o][0],s=e[o][1];switch(a){case 1:n+=s.length;break;case i:r+=s.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r)},r.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case i:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],r=0,o=0,a=t.split(/\t/g),s=0;s<a.length;s++){var l=a[s].substring(1);switch(a[s].charAt(0)){case"+":try{n[r++]=[1,decodeURI(l)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var A=e.substring(o,o+=c);"="==a[s].charAt(0)?n[r++]=[0,A]:n[r++]=[i,A];break;default:if(a[s])throw new Error("Invalid diff operation in diff_fromDelta: "+a[s])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return n},r.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},r.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,a=Math.abs(n-r);return i.Match_Distance?o+a/i.Match_Distance:a?1:o}var a=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(a=Math.min(o(0,s),a),-1!=(s=e.lastIndexOf(t,n+t.length))&&(a=Math.min(o(0,s),a)));var l,c,A=1<<t.length-1;s=-1;for(var u,d=t.length+e.length,f=0;f<t.length;f++){for(l=0,c=d;l<c;)o(f,n+c)<=a?l=c:d=c,c=Math.floor((d-l)/2+l);d=c;var p=Math.max(1,n-c+1),h=Math.min(n+c,e.length)+t.length,g=Array(h+2);g[h+1]=(1<<f)-1;for(var m=h;m>=p;m--){var v=r[e.charAt(m-1)];if(g[m]=0===f?(g[m+1]<<1|1)&v:(g[m+1]<<1|1)&v|(u[m+1]|u[m])<<1|1|u[m+1],g[m]&A){var y=o(f,m-1);if(y<=a){if(a=y,!((s=m-1)>n))break;p=Math.max(1,2*n-s)}}}if(o(f+1,n)>a)break;u=g}return s},r.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var i=t.substring(e.start2-r,e.start2);i&&e.diffs.unshift([0,i]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+r);o&&e.diffs.push([0,o]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+o.length,e.length2+=i.length+o.length}},r.prototype.patch_make=function(e,t,n){var o,a;if("string"==typeof e&&"string"==typeof t&&void 0===n)o=e,(a=this.diff_main(o,t,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)a=e,o=this.diff_text1(a);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)o=e,a=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");o=e,a=n}if(0===a.length)return[];for(var s=[],l=new r.patch_obj,c=0,A=0,u=0,d=o,f=o,p=0;p<a.length;p++){var h=a[p][0],g=a[p][1];switch(c||0===h||(l.start1=A,l.start2=u),h){case 1:l.diffs[c++]=a[p],l.length2+=g.length,f=f.substring(0,u)+g+f.substring(u);break;case i:l.length1+=g.length,l.diffs[c++]=a[p],f=f.substring(0,u)+f.substring(u+g.length);break;case 0:g.length<=2*this.Patch_Margin&&c&&a.length!=p+1?(l.diffs[c++]=a[p],l.length1+=g.length,l.length2+=g.length):g.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,d),s.push(l),l=new r.patch_obj,c=0,d=f,A=u)}1!==h&&(A+=g.length),h!==i&&(u+=g.length)}return c&&(this.patch_addContext_(l,d),s.push(l)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=new r.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=i.diffs[a].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[n]=o}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,o=[],a=0;a<e.length;a++){var s,l,c=e[a].start2+r,A=this.diff_text1(e[a].diffs),u=-1;if(A.length>this.Match_MaxBits?-1!=(s=this.match_main(t,A.substring(0,this.Match_MaxBits),c))&&(-1==(u=this.match_main(t,A.substring(A.length-this.Match_MaxBits),c+A.length-this.Match_MaxBits))||s>=u)&&(s=-1):s=this.match_main(t,A,c),-1==s)o[a]=!1,r-=e[a].length2-e[a].length1;else if(o[a]=!0,r=s-c,A==(l=-1==u?t.substring(s,s+A.length):t.substring(s,u+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[a].diffs)+t.substring(s+A.length);else{var d=this.diff_main(A,l,!1);if(A.length>this.Match_MaxBits&&this.diff_levenshtein(d)/A.length>this.Patch_DeleteThreshold)o[a]=!1;else{this.diff_cleanupSemanticLossless(d);for(var f,p=0,h=0;h<e[a].diffs.length;h++){var g=e[a].diffs[h];0!==g[0]&&(f=this.diff_xIndex(d,p)),1===g[0]?t=t.substring(0,s+f)+g[1]+t.substring(s+f):g[0]===i&&(t=t.substring(0,s+f)+t.substring(s+this.diff_xIndex(d,p+g[1].length))),g[0]!==i&&(p+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),o]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;r<=t;r++)n+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var i=e[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>o[0][1].length){var a=t-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],i.start1-=a,i.start2-=a,i.length1+=a,i.length2+=a}if(0==(o=(i=e[e.length-1]).diffs).length||0!=o[o.length-1][0])o.push([0,n]),i.length1+=t,i.length2+=t;else if(t>o[o.length-1][1].length){a=t-o[o.length-1][1].length;o[o.length-1][1]+=n.substring(0,a),i.length1+=a,i.length2+=a}return n},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var o=e[n];e.splice(n--,1);for(var a=o.start1,s=o.start2,l="";0!==o.diffs.length;){var c=new r.patch_obj,A=!0;for(c.start1=a-l.length,c.start2=s-l.length,""!==l&&(c.length1=c.length2=l.length,c.diffs.push([0,l]));0!==o.diffs.length&&c.length1<t-this.Patch_Margin;){var u=o.diffs[0][0],d=o.diffs[0][1];1===u?(c.length2+=d.length,s+=d.length,c.diffs.push(o.diffs.shift()),A=!1):u===i&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*t?(c.length1+=d.length,a+=d.length,A=!1,c.diffs.push([u,d]),o.diffs.shift()):(d=d.substring(0,t-c.length1-this.Patch_Margin),c.length1+=d.length,a+=d.length,0===u?(c.length2+=d.length,s+=d.length):A=!1,c.diffs.push([u,d]),d==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(d.length))}l=(l=this.diff_text2(c.diffs)).substring(l.length-this.Patch_Margin);var f=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==f&&(c.length1+=f.length,c.length2+=f.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=f:c.diffs.push([0,f])),A||e.splice(++n,0,c)}}},r.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),o=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<n.length;){var s=n[o].match(a);if(!s)throw new Error("Invalid patch string: "+n[o]);var l=new r.patch_obj;for(t.push(l),l.start1=parseInt(s[1],10),""===s[2]?(l.start1--,l.length1=1):"0"==s[2]?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),""===s[4]?(l.start2--,l.length2=1):"0"==s[4]?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),o++;o<n.length;){var c=n[o].charAt(0);try{var A=decodeURI(n[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+A)}if("-"==c)l.diffs.push([i,A]);else if("+"==c)l.diffs.push([1,A]);else if(" "==c)l.diffs.push([0,A]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+A)}o++}}return t},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case i:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=r,e.exports.diff_match_patch=r,e.exports.DIFF_DELETE=i,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,n){e.exports=n(1114)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromRange=function(e,t){if(void 0===e)throw new Error('missing required parameter "root"');if(void 0===t)throw new Error('missing required parameter "range"');var n=e.ownerDocument.createRange(),r=t.startContainer,i=t.startOffset;n.setStart(e,0),n.setEnd(r,i);var a=(0,o.default)(n).length,s=a+(0,o.default)(t).length;return{start:a,end:s}},t.toRange=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(void 0===e)throw new Error('missing required parameter "root"');var n=e.ownerDocument.createRange(),o=(0,r.default)(e,s),a=t.start||0,l=t.end||a,c=(0,i.default)(o,a),A=a-c;o.pointerBeforeReferenceNode?n.setStart(o.referenceNode,A):(n.setStart(o.nextNode(),A),o.previousNode());var u=l-a+A;c=(0,i.default)(o,u),A=u-c,o.pointerBeforeReferenceNode?n.setEnd(o.referenceNode,A):n.setEnd(o.nextNode(),A);return n};var r=a(n(1115)),i=a(n(1121)),o=a(n(1125));function a(e){return e&&e.__esModule?e:{default:e}}var s=4},function(e,t,n){e.exports=n(1116).default,e.exports.getPolyfill=n(1118),e.exports.implementation=n(1119),e.exports.shim=n(1120)},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(864)),i=a(n(865)),o=a(n(917));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)();s.implementation=i.default,s.shim=o.default,t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?4294967295:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=(9==e.nodeType||e.ownerDocument).createNodeIterator(e,t,n,!1);return new r(i,e,t,n)};var r=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=n,this.whatToShow=r,this.filter=i,this.referenceNode=n,this.pointerBeforeReferenceNode=!0,this._iter=t}return e.prototype.nextNode=function(){var e=this._iter.nextNode();return this.pointerBeforeReferenceNode=!1,null===e?null:(this.referenceNode=e,this.referenceNode)},e.prototype.previousNode=function(){var e=this._iter.previousNode();return this.pointerBeforeReferenceNode=!0,null===e?null:(this.referenceNode=e,this.referenceNode)},e.prototype.toString=function(){return"[object NodeIterator]"},e}()},function(e,t,n){e.exports=n(864).default},function(e,t,n){e.exports=n(865).default},function(e,t,n){e.exports=n(917).default},function(e,t,n){e.exports=n(1122).default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e.whatToShow!==l)throw new Error(a);var n=0,o=e.referenceNode,A=null;if(d=t,!isNaN(parseInt(d))&&isFinite(d))A={forward:function(){return n<t},backward:function(){return n>t}};else{if(!function(e){return e.nodeType===c}(t))throw new Error(s);var u=function(e,t){if(e===t)return!1;var n=null,o=[e].concat((0,r.default)(e)).reverse(),a=[t].concat((0,r.default)(t)).reverse();for(;o[0]===a[0];)n=o.shift(),a.shift();o=o[0],a=a[0];var s=(0,i.default)(n.childNodes,o),l=(0,i.default)(n.childNodes,a);return s>l}(o,t)?function(){return!1}:function(){return o!==t};A={forward:u,backward:function(){return o!=t||!e.pointerBeforeReferenceNode}}}var d;for(;A.forward()&&null!==(o=e.nextNode());)n+=o.nodeValue.length;for(;A.backward()&&null!==(o=e.previousNode());)n-=o.nodeValue.length;return n};var r=o(n(1123)),i=o(n(1124));function o(e){return e&&e.__esModule?e:{default:e}}var a="Argument 1 of seek must use filter NodeFilter.SHOW_TEXT.",s="Argument 2 of seek must be a number or a Text Node.",l=4,c=3},function(e,t){function n(e){return!0}e.exports=function(e,t){var r=[];t=t||n;do{r.push(e),e=e.parentNode}while(e&&e.tagName&&t(e));return r.slice(1)}},function(e,t,n){"use strict";e.exports=function(e,t,n){n=n||0;if(null==e)return-1;var r=e.length,i=n<0?r+n:n;if(i>=e.length)return-1;for(;i<r;){if(e[i]===t)return i;i++}return-1}},function(e,t,n){"use strict";function r(e,t){if(!t&&e.firstChild)return e.firstChild;do{if(e.nextSibling)return e.nextSibling;e=e.parentNode}while(e);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="";return function(e,t){var n=function(e){if(e.startContainer.nodeType===Node.ELEMENT_NODE){return e.startContainer.childNodes[e.startOffset]||r(e.startContainer,!0)}return e.startContainer}(e),i=function(e){if(e.endContainer.nodeType===Node.ELEMENT_NODE){return e.endContainer.childNodes[e.endOffset]||r(e.endContainer,!0)}return r(e.endContainer)}(e);for(;n!==i;)t(n),n=r(n)}(e,(function(n){if(n.nodeType===Node.TEXT_NODE){var r=n===e.startContainer?e.startOffset:0,i=n===e.endContainer?e.endOffset:n.textContent.length;t+=n.textContent.slice(r,i)}})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromRange=function(e,t){if(void 0===e)throw new Error('missing required parameter "root"');if(void 0===t)throw new Error('missing required parameter "range"');var n=e.ownerDocument.createRange(),r=t.startContainer,o=t.startOffset;n.setStart(e,0),n.setEnd(r,o);var a=(0,i.default)(n).length,s=a+(0,i.default)(t).length;return{start:a,end:s}},t.toRange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw new Error('missing required parameter "root"');var n=e.ownerDocument,i=n.createRange(),o=n.createNodeIterator(e,a),s=t.start||0,l=t.end||s,c=s-(0,r.default)(o,s),A=o.referenceNode,u=l-s+c,d=u-(0,r.default)(o,u),f=o.referenceNode;return i.setStart(A,c),i.setEnd(f,d),i};var r=o(n(1127)),i=o(n(1129));function o(e){return e&&e.__esModule?e:{default:e}}var a=4},function(e,t,n){e.exports=n(1128).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.whatToShow!==s){var n;try{n=new DOMException(i,"InvalidStateError")}catch(e){(n=new Error(i)).code=11,n.name="InvalidStateError",n.toString=function(){return"InvalidStateError: ".concat(i)}}throw n}var l=0,A=e.referenceNode,u=null;if(d=t,"number"==typeof d&&isFinite(d)&&Math.floor(d)===d)u={forward:function(){return l<t},backward:function(){return l>t||!e.pointerBeforeReferenceNode}};else{if(!c(t))throw new TypeError(o);u={forward:function(e,t){return e.compareDocumentPosition(t)&a}(A,t)?function(){return!1}:function(){return A!==t},backward:function(){return A!==t||!e.pointerBeforeReferenceNode}}}var d;for(;u.forward();){if(null===(A=e.nextNode()))throw new RangeError(r);l+=A.nodeValue.length}e.nextNode()&&(A=e.previousNode());for(;u.backward();){if(null===(A=e.previousNode()))throw new RangeError(r);l-=A.nodeValue.length}if(!c(e.referenceNode))throw new RangeError(r);return l};var r="Iterator exhausted before seek ended.",i="Argument 1 of seek must use filter NodeFilter.SHOW_TEXT.",o="Argument 2 of seek must be an integer or a Text Node.",a=2,s=4,l=3;function c(e){return e.nodeType===l}},function(e,t,n){"use strict";function r(e,t){if(!t&&e.firstChild)return e.firstChild;do{if(e.nextSibling)return e.nextSibling;e=e.parentNode}while(e);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="";return function(e,t){var n=function(e){if(e.startContainer.nodeType===Node.ELEMENT_NODE){return e.startContainer.childNodes[e.startOffset]||r(e.startContainer,!0)}return e.startContainer}(e),i=function(e){if(e.endContainer.nodeType===Node.ELEMENT_NODE){return e.endContainer.childNodes[e.endOffset]||r(e.endContainer,!0)}return r(e.endContainer)}(e);for(;n!==i;)t(n),n=r(n)}(e,(function(n){if(n.nodeType===Node.TEXT_NODE){var r=n===e.startContainer?e.startOffset:0,i=n===e.endContainer?e.endOffset:n.textContent.length;t+=n.textContent.slice(r,i)}})),t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var a=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,i)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<u.length;f++)d[u.charCodeAt(f)]=f;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),g=0;g<p.length;g++)h[p.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),A=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=h[e.charCodeAt(t)],r=h[e.charCodeAt(t+1)],i=h[e.charCodeAt(t+2)],o=h[e.charCodeAt(t+3)],A[l++]=n<<2|r>>4,A[l++]=(15&r)<<4|i>>2,A[l++]=(3&i)<<6|63&o;return c},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},b=5,w=11,B=2,x=65536>>b,C=(1<<b)-1,S=x+(1024>>b)+32,k=65536>>w,E=(1<<w-b)-1,I=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},O=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),o=24,a=I(i,o/2,r[4]/2),s=2===r[5]?I(i,(o+r[4])/2):O(r,Math.ceil((o+r[4])/4));return new D(r[0],r[1],r[2],r[3],a,s)},D=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>b])<<B)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[x+(e-55296>>b)])<<B)+(e&C),this.data[t];if(e<this.highStart)return t=S-k+(e>>w),t=this.index[t],t+=e>>b&E,t=((t=this.index[t])<<B)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T="undefined"==typeof Uint8Array?[]:new Uint8Array(256),U=0;U<_.length;U++)T[_.charCodeAt(U)]=U;var M=50,L=1,Q=2,R=3,P=4,H=5,N=7,j=8,z=9,K=10,$=11,W=12,V=13,G=14,q=15,Y=16,J=17,X=18,Z=19,ee=20,te=21,ne=22,re=23,ie=24,oe=25,ae=26,se=27,le=28,ce=29,Ae=30,ue=31,de=32,fe=33,pe=34,he=35,ge=36,me=37,ve=38,ye=39,be=40,we=41,Be=42,xe=43,Ce=[9001,65288],Se="!",ke="\xd7",Ee="\xf7",Ie=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Oe=[Ae,ge],Fe=[L,Q,R,H],De=[K,j],_e=[se,ae],Te=Fe.concat(De),Ue=[ve,ye,be,pe,he],Me=[q,V],Le=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,o){var a=Ie.get(e);if(a>M?(i.push(!0),a-=M):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(Y);if(a===P||a===$){if(0===o)return r.push(o),n.push(Ae);var s=n[o-1];return-1===Te.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(Ae))}return r.push(o),a===ue?n.push("strict"===t?te:me):a===Be||a===ce?n.push(Ae):a===xe?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(Ae):void n.push(a)})),[r,n,i]},Qe=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){if((l=r[++o])===t)return!0;if(l!==K)break}if(i===K)for(o=n;o>0;){var a=r[--o];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=r.length;){var l;if((l=r[++s])===t)return!0;if(l!==K)break}if(a!==K)break}return!1},Re=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},Pe=function(e,t,n,r,i){if(0===n[r])return ke;var o=r-1;if(Array.isArray(i)&&!0===i[o])return ke;var a=o-1,s=o+1,l=t[o],c=a>=0?t[a]:0,A=t[s];if(l===Q&&A===R)return ke;if(-1!==Fe.indexOf(l))return Se;if(-1!==Fe.indexOf(A))return ke;if(-1!==De.indexOf(A))return ke;if(Re(o,t)===j)return Ee;if(Ie.get(e[o])===$)return ke;if((l===de||l===fe)&&Ie.get(e[s])===$)return ke;if(l===N||A===N)return ke;if(l===z)return ke;if(-1===[K,V,q].indexOf(l)&&A===z)return ke;if(-1!==[J,X,Z,ie,le].indexOf(A))return ke;if(Re(o,t)===ne)return ke;if(Qe(re,ne,o,t))return ke;if(Qe([J,X],te,o,t))return ke;if(Qe(W,W,o,t))return ke;if(l===K)return Ee;if(l===re||A===re)return ke;if(A===Y||l===Y)return Ee;if(-1!==[V,q,te].indexOf(A)||l===G)return ke;if(c===ge&&-1!==Me.indexOf(l))return ke;if(l===le&&A===ge)return ke;if(A===ee)return ke;if(-1!==Oe.indexOf(A)&&l===oe||-1!==Oe.indexOf(l)&&A===oe)return ke;if(l===se&&-1!==[me,de,fe].indexOf(A)||-1!==[me,de,fe].indexOf(l)&&A===ae)return ke;if(-1!==Oe.indexOf(l)&&-1!==_e.indexOf(A)||-1!==_e.indexOf(l)&&-1!==Oe.indexOf(A))return ke;if(-1!==[se,ae].indexOf(l)&&(A===oe||-1!==[ne,q].indexOf(A)&&t[s+1]===oe)||-1!==[ne,q].indexOf(l)&&A===oe||l===oe&&-1!==[oe,le,ie].indexOf(A))return ke;if(-1!==[oe,le,ie,J,X].indexOf(A))for(var u=o;u>=0;){if((d=t[u])===oe)return ke;if(-1===[le,ie].indexOf(d))break;u--}if(-1!==[se,ae].indexOf(A))for(u=-1!==[J,X].indexOf(l)?a:o;u>=0;){var d;if((d=t[u])===oe)return ke;if(-1===[le,ie].indexOf(d))break;u--}if(ve===l&&-1!==[ve,ye,pe,he].indexOf(A)||-1!==[ye,pe].indexOf(l)&&-1!==[ye,be].indexOf(A)||-1!==[be,he].indexOf(l)&&A===be)return ke;if(-1!==Ue.indexOf(l)&&-1!==[ee,ae].indexOf(A)||-1!==Ue.indexOf(A)&&l===se)return ke;if(-1!==Oe.indexOf(l)&&-1!==Oe.indexOf(A))return ke;if(l===ie&&-1!==Oe.indexOf(A))return ke;if(-1!==Oe.concat(oe).indexOf(l)&&A===ne&&-1===Ce.indexOf(e[s])||-1!==Oe.concat(oe).indexOf(A)&&l===X)return ke;if(l===we&&A===we){for(var f=n[o],p=1;f>0&&t[--f]===we;)p++;if(p%2!=0)return ke}return l===de&&A===fe?ke:Ee},He=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Le(e,t.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[oe,Ae,Be].indexOf(e)?me:e})));var a="keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,a]},Ne=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Se,this.start=n,this.end=r}return e.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var n=c(e),r=He(n,t),i=r[0],o=r[1],a=r[2],s=n.length,l=0,A=0;return{next:function(){if(A>=s)return{done:!0,value:null};for(var e=ke;A<s&&(e=Pe(n,o,i,++A,a))===ke;);if(e!==ke||A===s){var t=new Ne(n,e,l,A);return l=A,{value:t,done:!1}}return{done:!0,value:null}}}},ze=1,Ke=2,$e=4,We=8,Ve=10,Ge=47,qe=92,Ye=9,Je=32,Xe=34,Ze=61,et=35,tt=36,nt=37,rt=39,it=40,ot=41,at=95,st=45,lt=33,ct=60,At=62,ut=64,dt=91,ft=93,pt=61,ht=123,gt=63,mt=125,vt=124,yt=126,bt=128,wt=65533,Bt=42,xt=43,Ct=44,St=58,kt=59,Et=46,It=0,Ot=8,Ft=11,Dt=14,_t=31,Tt=127,Ut=-1,Mt=48,Lt=97,Qt=101,Rt=102,Pt=117,Ht=122,Nt=65,jt=69,zt=70,Kt=85,$t=90,Wt=function(e){return e>=Mt&&e<=57},Vt=function(e){return e>=55296&&e<=57343},Gt=function(e){return Wt(e)||e>=Nt&&e<=zt||e>=Lt&&e<=Rt},qt=function(e){return e>=Lt&&e<=Ht},Yt=function(e){return e>=Nt&&e<=$t},Jt=function(e){return qt(e)||Yt(e)},Xt=function(e){return e>=bt},Zt=function(e){return e===Ve||e===Ye||e===Je},en=function(e){return Jt(e)||Xt(e)||e===at},tn=function(e){return en(e)||Wt(e)||e===st},nn=function(e){return e>=It&&e<=Ot||e===Ft||e>=Dt&&e<=_t||e===Tt},rn=function(e,t){return e===qe&&t!==Ve},on=function(e,t,n){return e===st?en(t)||rn(t,n):!!en(e)||!(e!==qe||!rn(e,t))},an=function(e,t,n){return e===xt||e===st?!!Wt(t)||t===Et&&Wt(n):Wt(e===Et?t:e)},sn=function(e){var t=0,n=1;e[t]!==xt&&e[t]!==st||(e[t]===st&&(n=-1),t++);for(var r=[];Wt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(A.apply(void 0,r),10):0;e[t]===Et&&t++;for(var o=[];Wt(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(A.apply(void 0,o),10):0;e[t]!==jt&&e[t]!==Qt||t++;var l=1;e[t]!==xt&&e[t]!==st||(e[t]===st&&(l=-1),t++);for(var c=[];Wt(e[t]);)c.push(e[t++]);var u=c.length?parseInt(A.apply(void 0,c),10):0;return n*(i+s*Math.pow(10,-a))*Math.pow(10,l*u)},ln={type:2},cn={type:3},An={type:4},un={type:13},dn={type:8},fn={type:21},pn={type:9},hn={type:10},gn={type:11},mn={type:12},vn={type:14},yn={type:23},bn={type:1},wn={type:25},Bn={type:24},xn={type:26},Cn={type:27},Sn={type:28},kn={type:29},En={type:31},In={type:32},On=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==In;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Xe:return this.consumeStringToken(Xe);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=on(t,n,r)?Ke:ze;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case it:return ln;case ot:return cn;case Bt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),vn;break;case xt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return An;case st:var o=e,a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(an(o,a,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(on(o,a,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===st&&s===At)return this.consumeCodePoint(),this.consumeCodePoint(),Bn;break;case Et:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ge:if(this.peekCodePoint(0)===Bt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Bt&&(l=this.consumeCodePoint())===Ge)return this.consumeToken();if(l===Ut)return this.consumeToken()}break;case St:return xn;case kt:return Cn;case ct:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case ut:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(on(c,u,d))return{type:7,value:this.consumeName()};break;case dt:return Sn;case qe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ft:return kn;case pt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),dn;break;case ht:return gn;case mt:return mn;case Pt:case Kt:var f=this.peekCodePoint(0),p=this.peekCodePoint(1);return f!==xt||!Gt(p)&&p!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),fn;break;case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;break;case Ut:return In}return Zt(e)?(this.consumeWhiteSpace(),En):Wt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:A(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Gt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(A.apply(void 0,e.map((function(e){return e===gt?Mt:e}))),16),end:parseInt(A.apply(void 0,e.map((function(e){return e===gt?zt:e}))),16)};var r=parseInt(A.apply(void 0,e),16);if(this.peekCodePoint(0)===st&&Gt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];Gt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(A.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Xe){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===ot)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Ut||r===ot)return{type:22,value:A.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===ot?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Xe||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===qe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ot||e===Ut)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=A.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Ut||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ve)return this._value.splice(0,n),bn;if(r===qe){var i=this._value[n+1];i!==Ut&&void 0!==i&&(i===Ve?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=A(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=$e,n=this.peekCodePoint(0);for(n!==xt&&n!==st||e.push(this.consumeCodePoint());Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Et&&Wt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===jt||n===Qt)&&((r===xt||r===st)&&Wt(i)||Wt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return on(r,i,o)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Gt(e)){for(var t=A(e);Gt(this.peekCodePoint(0))&&t.length<6;)t+=A(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Vt(n)||n>1114111?wt:n}return e===Ut?wt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=A(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=A(this.consumeEscapedCodePoint())}}},e}(),Fn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new On;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Pn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?In:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Dn=function(e){return 15===e.type},_n=function(e){return 17===e.type},Tn=function(e){return 20===e.type},Un=function(e){return 0===e.type},Mn=function(e,t){return Tn(e)&&e.value===t},Ln=function(e){return 31!==e.type},Qn=function(e){return 31!==e.type&&4!==e.type},Rn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Pn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Hn=function(e){return 17===e.type||15===e.type},Nn=function(e){return 16===e.type||Hn(e)},jn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},zn={type:17,number:0,flags:$e},Kn={type:16,number:50,flags:$e},$n={type:16,number:100,flags:$e},Wn=function(e,t,n){var r=e[0],i=e[1];return[Vn(r,t),Vn(void 0!==i?i:r,n)]},Vn=function(e,t){if(16===e.type)return e.number/100*t;if(Dn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gn="deg",qn="grad",Yn="rad",Jn="turn",Xn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gn:return Math.PI*t.number/180;case qn:return Math.PI/200*t.number;case Yn:return t.number;case Jn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===Gn||e.unit===qn||e.unit===Yn||e.unit===Jn)},er=function(e){switch(e.filter(Tn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,$n];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[$n,$n];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[$n,zn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=Ar[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);var a=t.value.substring(3,4);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),a=t.value.substring(6,8),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}if(20===t.type){var s=dr[t.value.toUpperCase()];if(void 0!==s)return s}return dr.TRANSPARENT}},rr=function(e){return!(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},or=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},ar=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},sr=function(e,t){var n=t.filter(Qn);if(3===n.length){var r=n.map(ar),i=r[0],o=r[1],a=r[2];return or(i,o,a,1)}if(4===n.length){var s=n.map(ar),l=(i=s[0],o=s[1],a=s[2],s[3]);return or(i,o,a,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(Qn),r=n[0],i=n[1],o=n[2],a=n[3],s=(17===r.type?tr(r.number):Xn.parse(e,r))/(2*Math.PI),l=Nn(i)?i.number/100:0,c=Nn(o)?o.number/100:0,A=void 0!==a&&Nn(a)?Vn(a,1):1;if(0===l)return or(255*c,255*c,255*c,1);var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u,f=lr(d,u,s+1/3),p=lr(d,u,s),h=lr(d,u,s-1/3);return or(255*f,255*p,255*h,A)},Ar={hsl:cr,hsla:cr,rgb:sr,rgba:sr},ur=function(e,t){return nr.parse(e,Fn.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Tn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Nn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=zn),null===r.stop&&(r.stop=$n);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var l=Vn(s,t);l>o?i.push(l):i.push(o),o=l}else i.push(null)}var c=null;for(a=0;a<i.length;a++){var A=i[a];if(null===A)null===c&&(c=a);else if(null!==c){for(var u=a-c,d=(A-i[c-1])/(u+1),f=1;f<=u;f++)i[c+f-1]=d*f;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},mr=function(e,t,n){var r=t/2,i=n/2,o=Vn(e[0],t)-r,a=i-Vn(e[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"==typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,a=n/2,s=i/2,l=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,o-c,o+c,a-l,a+l]},yr=function(e,t){return Math.sqrt(e*e+t*t)},br=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],a=t[1],s=yr(n-o,r-a);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},wr=function(e,t,n,r,i){var o=0,a=0;switch(e.size){case 0:0===e.shape?o=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)o=a=Math.min(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=br(r,i,t,n,!0),c=l[0],A=l[1];a=s*(o=yr(c-t,(A-n)/s))}break;case 1:0===e.shape?o=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)o=a=Math.max(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var u=br(r,i,t,n,!1);c=u[0],A=u[1],a=s*(o=yr(c-t,(A-n)/s))}}return Array.isArray(e.size)&&(o=Vn(e.size[0],r),a=2===e.size.length?Vn(e.size[1],i):o),[o,a]},Br=function(e,t){var n=tr(180),r=[];return Rn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=er(t));if(Zn(o))return void(n=(Xn.parse(e,o)+tr(270))%tr(360))}var a=hr(e,t);r.push(a)})),{angle:n,stops:r,type:1}},xr="closest-side",Cr="farthest-side",Sr="closest-corner",kr="farthest-corner",Er="circle",Ir="ellipse",Or="cover",Fr="contain",Dr=function(e,t){var n=0,r=3,i=[],o=[];return Rn(t).forEach((function(t,a){var s=!0;if(0===a?s=t.reduce((function(e,t){if(Tn(t))switch(t.value){case"center":return o.push(Kn),!1;case"top":case"left":return o.push(zn),!1;case"right":case"bottom":return o.push($n),!1}else if(Nn(t)||Hn(t))return o.push(t),!1;return e}),s):1===a&&(s=t.reduce((function(e,t){if(Tn(t))switch(t.value){case Er:return n=0,!1;case Ir:return n=1,!1;case Fr:case xr:return r=0,!1;case Cr:return r=1,!1;case Sr:return r=2,!1;case Or:case kr:return r=3,!1}else if(Hn(t)||Nn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)),s){var l=hr(e,t);i.push(l)}})),{size:r,shape:n,stops:i,position:o,type:2}},_r=function(e){return 1===e.type},Tr=function(e){return 2===e.type},Ur={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Qr[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Mr(e){return!(20===e.type&&"none"===e.value||18===e.type&&!Qr[e.name])}var Lr,Qr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Rn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&"to"===o.value)return void(n=er(t));if(Zn(o))return void(n=Xn.parse(e,o))}var a=hr(e,t);r.push(a)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Br,"-ms-linear-gradient":Br,"-o-linear-gradient":Br,"-webkit-linear-gradient":Br,"radial-gradient":function(e,t){var n=0,r=3,i=[],o=[];return Rn(t).forEach((function(t,a){var s=!0;if(0===a){var l=!1;s=t.reduce((function(e,t){if(l)if(Tn(t))switch(t.value){case"center":return o.push(Kn),e;case"top":case"left":return o.push(zn),e;case"right":case"bottom":return o.push($n),e}else(Nn(t)||Hn(t))&&o.push(t);else if(Tn(t))switch(t.value){case Er:return n=0,!1;case Ir:return n=1,!1;case"at":return l=!0,!1;case xr:return r=0,!1;case Or:case Cr:return r=1,!1;case Fr:case Sr:return r=2,!1;case kr:return r=3,!1}else if(Hn(t)||Nn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)}if(s){var c=hr(e,t);i.push(c)}})),{size:r,shape:n,stops:i,position:o,type:2}},"-moz-radial-gradient":Dr,"-ms-radial-gradient":Dr,"-o-radial-gradient":Dr,"-webkit-radial-gradient":Dr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,o=0,a=3,s=[];return Rn(t).forEach((function(t,n){var o=t[0];if(0===n){if(Tn(o)&&"linear"===o.value)return void(i=1);if(Tn(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var a=nr.parse(e,o.values[0]);r.push({stop:zn,color:a})}else if("to"===o.name)a=nr.parse(e,o.values[0]),r.push({stop:$n,color:a});else if("color-stop"===o.name){var s=o.values.filter(Qn);if(2===s.length){a=nr.parse(e,s[1]);var l=s[0];_n(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:a})}}})),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:a,shape:o,stops:r,position:s,type:i}}},Rr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Qn(e)&&Mr(e)})).map((function(t){return Ur.parse(e,t)}))}},Pr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Tn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Hr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Rn(t).map((function(e){return e.filter(Nn)})).map(jn)}},Nr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Rn(t).map((function(e){return e.filter(Tn).map((function(e){return e.value})).join(" ")})).map(jr)}},jr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Lr||(Lr={}));var zr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Rn(t).map((function(e){return e.filter($r)}))}},$r=function(e){return Tn(e)||Nn(e)},Wr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Vr=Wr("top"),Gr=Wr("right"),qr=Wr("bottom"),Yr=Wr("left"),Jr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return jn(t.filter(Nn))}}},Xr=Jr("top-left"),Zr=Jr("top-right"),ei=Jr("bottom-right"),ti=Jr("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),oi=ni("bottom"),ai=ni("left"),si=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Dn(t)?t.number:0}}},li=si("top"),ci=si("right"),Ai=si("bottom"),ui=si("left"),di={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},pi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).reduce((function(e,t){return e|hi(t.value)}),0)}},hi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(zr||(zr={}));var vi,yi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?zr.STRICT:zr.NORMAL}},bi={name:"line-height",initialValue:"normal",prefix:!1,type:4},wi=function(e,t){return Tn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Nn(e)?Vn(e,t):t},Bi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Ur.parse(e,t)}},xi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Si=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},ki=Si("top"),Ei=Si("right"),Ii=Si("bottom"),Oi=Si("left"),Fi={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Di={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},_i=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ti=_i("top"),Ui=_i("right"),Mi=_i("bottom"),Li=_i("left"),Qi={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ri={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Pi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Mn(t[0],"none")?[]:Rn(t).map((function(t){for(var n={color:dr.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},r=0,i=0;i<t.length;i++){var o=t[i];Hn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=nr.parse(e,o)}return n}))}},Hi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ni={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=ji[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},ji={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,o,a,s]:null}},zi={type:16,number:50,flags:$e},Ki=[zi,zi],$i={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Nn);return 2!==n.length?Ki:[n[0],n[1]]}},Wi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vi||(vi={}));for(var Vi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vi.BREAK_ALL;case"keep-all":return vi.KEEP_ALL;default:return vi.NORMAL}}},Gi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(_n(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Yi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return _n(t)?t.number:1}},Ji={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Zi={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},eo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},to={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return _n(t)?t.number:Tn(t)&&"bold"===t.value?700:400}},no={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Tn).map((function(e){return e.value}))}},ro={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},io=function(e,t){return!!(e&t)},oo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ao={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Ln),o=0;o<i.length;o++){var a=i[o],s=i[o+1];if(20===a.type){var l=s&&_n(s)?s.number:1;r.push({counter:a.value,increment:l})}}return r}},so={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Ln),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(Tn(o)&&"none"!==o.value){var s=a&&_n(a)?a.number:0;n.push({counter:o.value,reset:s})}}return n}},lo={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Dn).map((function(t){return qi.parse(e,t)}))}},co={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Un);if(i.length%2!=0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,s=i[o+1].value;r.push({open:a,close:s})}return r}},Ao=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},uo={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Mn(t[0],"none")?[]:Rn(t).map((function(t){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];Mn(o,"inset")?n.inset=!0:Hn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=nr.parse(e,o)}return n}))}},fo={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Tn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},po={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ho={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Dn(t)?t.number:0}},go=function(){function e(e,t){var n,r;this.animationDuration=yo(e,lo,t.animationDuration),this.backgroundClip=yo(e,fr,t.backgroundClip),this.backgroundColor=yo(e,pr,t.backgroundColor),this.backgroundImage=yo(e,Rr,t.backgroundImage),this.backgroundOrigin=yo(e,Pr,t.backgroundOrigin),this.backgroundPosition=yo(e,Hr,t.backgroundPosition),this.backgroundRepeat=yo(e,Nr,t.backgroundRepeat),this.backgroundSize=yo(e,Kr,t.backgroundSize),this.borderTopColor=yo(e,Vr,t.borderTopColor),this.borderRightColor=yo(e,Gr,t.borderRightColor),this.borderBottomColor=yo(e,qr,t.borderBottomColor),this.borderLeftColor=yo(e,Yr,t.borderLeftColor),this.borderTopLeftRadius=yo(e,Xr,t.borderTopLeftRadius),this.borderTopRightRadius=yo(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=yo(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=yo(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=yo(e,ri,t.borderTopStyle),this.borderRightStyle=yo(e,ii,t.borderRightStyle),this.borderBottomStyle=yo(e,oi,t.borderBottomStyle),this.borderLeftStyle=yo(e,ai,t.borderLeftStyle),this.borderTopWidth=yo(e,li,t.borderTopWidth),this.borderRightWidth=yo(e,ci,t.borderRightWidth),this.borderBottomWidth=yo(e,Ai,t.borderBottomWidth),this.borderLeftWidth=yo(e,ui,t.borderLeftWidth),this.boxShadow=yo(e,uo,t.boxShadow),this.color=yo(e,di,t.color),this.direction=yo(e,fi,t.direction),this.display=yo(e,pi,t.display),this.float=yo(e,gi,t.cssFloat),this.fontFamily=yo(e,Zi,t.fontFamily),this.fontSize=yo(e,eo,t.fontSize),this.fontStyle=yo(e,ro,t.fontStyle),this.fontVariant=yo(e,no,t.fontVariant),this.fontWeight=yo(e,to,t.fontWeight),this.letterSpacing=yo(e,mi,t.letterSpacing),this.lineBreak=yo(e,yi,t.lineBreak),this.lineHeight=yo(e,bi,t.lineHeight),this.listStyleImage=yo(e,Bi,t.listStyleImage),this.listStylePosition=yo(e,xi,t.listStylePosition),this.listStyleType=yo(e,Ci,t.listStyleType),this.marginTop=yo(e,ki,t.marginTop),this.marginRight=yo(e,Ei,t.marginRight),this.marginBottom=yo(e,Ii,t.marginBottom),this.marginLeft=yo(e,Oi,t.marginLeft),this.opacity=yo(e,Yi,t.opacity);var i=yo(e,Fi,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=yo(e,Di,t.overflowWrap),this.paddingTop=yo(e,Ti,t.paddingTop),this.paddingRight=yo(e,Ui,t.paddingRight),this.paddingBottom=yo(e,Mi,t.paddingBottom),this.paddingLeft=yo(e,Li,t.paddingLeft),this.paintOrder=yo(e,fo,t.paintOrder),this.position=yo(e,Ri,t.position),this.textAlign=yo(e,Qi,t.textAlign),this.textDecorationColor=yo(e,Ji,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=yo(e,Xi,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=yo(e,Pi,t.textShadow),this.textTransform=yo(e,Hi,t.textTransform),this.transform=yo(e,Ni,t.transform),this.transformOrigin=yo(e,$i,t.transformOrigin),this.visibility=yo(e,Wi,t.visibility),this.webkitTextStrokeColor=yo(e,po,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=yo(e,ho,t.webkitTextStrokeWidth),this.wordBreak=yo(e,Vi,t.wordBreak),this.zIndex=yo(e,Gi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return io(this.display,4)||io(this.display,33554432)||io(this.display,268435456)||io(this.display,536870912)||io(this.display,67108864)||io(this.display,134217728)},e}(),mo=function(){function e(e,t){this.content=yo(e,oo,t.content),this.quotes=yo(e,co,t.quotes)}return e}(),vo=function(){function e(e,t){this.counterIncrement=yo(e,ao,t.counterIncrement),this.counterReset=yo(e,so,t.counterReset)}return e}(),yo=function(e,t,n){var r=new On,i=null!=n?n.toString():t.initialValue;r.write(i);var o=new Fn(r.read());switch(t.type){case 2:var a=o.parseComponentValue();return t.parse(e,Tn(a)?a.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return Xn.parse(e,o.parseComponentValue());case"color":return nr.parse(e,o.parseComponentValue());case"image":return Ur.parse(e,o.parseComponentValue());case"length":var s=o.parseComponentValue();return Hn(s)?s:zn;case"length-percentage":var l=o.parseComponentValue();return Nn(l)?l:zn;case"time":return qi.parse(e,o.parseComponentValue())}}},bo="data-html2canvas-debug",wo=function(e){switch(e.getAttribute(bo)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Bo=function(e,t){var n=wo(e);return 1===n||t===n},xo=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Bo(t,3),this.styles=new go(e,window.getComputedStyle(t,null)),As(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),Bo(t,4)&&(this.flags|=16)}return e}(),Co="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ko="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Eo=0;Eo<So.length;Eo++)ko[So.charCodeAt(Eo)]=Eo;for(var Io=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),A=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=ko[e.charCodeAt(t)],r=ko[e.charCodeAt(t+1)],i=ko[e.charCodeAt(t+2)],o=ko[e.charCodeAt(t+3)],A[l++]=n<<2|r>>4,A[l++]=(15&r)<<4|i>>2,A[l++]=(3&i)<<6|63&o;return c},Oo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Fo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Do=5,_o=11,To=2,Uo=65536>>Do,Mo=(1<<Do)-1,Lo=Uo+(1024>>Do)+32,Qo=65536>>_o,Ro=(1<<_o-Do)-1,Po=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ho=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},No=function(e,t){var n=Io(e),r=Array.isArray(n)?Fo(n):new Uint32Array(n),i=Array.isArray(n)?Oo(n):new Uint16Array(n),o=24,a=Po(i,o/2,r[4]/2),s=2===r[5]?Po(i,(o+r[4])/2):Ho(r,Math.ceil((o+r[4])/4));return new jo(r[0],r[1],r[2],r[3],a,s)},jo=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Do])<<To)+(e&Mo),this.data[t];if(e<=65535)return t=((t=this.index[Uo+(e-55296>>Do)])<<To)+(e&Mo),this.data[t];if(e<this.highStart)return t=Lo-Qo+(e>>_o),t=this.index[t],t+=e>>Do&Ro,t=((t=this.index[t])<<To)+(e&Mo),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ko="undefined"==typeof Uint8Array?[]:new Uint8Array(256),$o=0;$o<zo.length;$o++)Ko[zo.charCodeAt($o)]=$o;var Wo,Vo=1,Go=2,qo=3,Yo=4,Jo=5,Xo=7,Zo=8,ea=9,ta=10,na=11,ra=12,ia=13,oa=14,aa=15,sa=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},la=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},ca=No(Co),Aa="\xd7",ua="\xf7",da=function(e){return ca.get(e)},fa=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],a=t[n];if(o===Go&&a===qo)return Aa;if(o===Go||o===qo||o===Yo)return ua;if(a===Go||a===qo||a===Yo)return ua;if(o===Zo&&-1!==[Zo,ea,na,ra].indexOf(a))return Aa;if(!(o!==na&&o!==ea||a!==ea&&a!==ta))return Aa;if((o===ra||o===ta)&&a===ta)return Aa;if(a===ia||a===Jo)return Aa;if(a===Xo)return Aa;if(o===Vo)return Aa;if(o===ia&&a===oa){for(;i===Jo;)i=t[--r];if(i===oa)return Aa}if(o===aa&&a===aa){for(var s=0;i===aa;)s++,i=t[--r];if(s%2==0)return Aa}return ua},pa=function(e){var t=sa(e),n=t.length,r=0,i=0,o=t.map(da);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=Aa;r<n&&(e=fa(t,o,++r))===Aa;);if(e!==Aa||r===n){var a=la.apply(null,t.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},ha=function(e){for(var t,n=pa(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},ga=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(r),o===t)return!0}}return!1},ma=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=c(r.data).map((function(e){return A(e)})),o=0,a={},s=i.every((function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var s=i.x>a.x||i.y>a.y;return a=i,0===t||s}));return e.body.removeChild(t),s},va=function(){return void 0!==(new Image).crossOrigin},ya=function(){return"string"==typeof(new XMLHttpRequest).responseType},ba=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},wa=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Ba=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=t.toDataURL();i.src=o;var a=xa(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Ca(a).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=e.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height=n+"px",wa(i)?Ca(xa(n,n,0,0,a)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),wa(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},xa=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},Ca=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Sa={get SUPPORT_RANGE_BOUNDS(){var e=ga(document);return Object.defineProperty(Sa,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Sa.SUPPORT_RANGE_BOUNDS&&ma(document);return Object.defineProperty(Sa,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ba(document);return Object.defineProperty(Sa,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?Ba(document):Promise.resolve(!1);return Object.defineProperty(Sa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=va();return Object.defineProperty(Sa,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=ya();return Object.defineProperty(Sa,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Sa,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Sa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ka=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ea=function(e,t,n,r){var i=_a(t,n),o=[],s=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Sa.SUPPORT_RANGE_BOUNDS){var i=Oa(r,s,t.length).getClientRects();if(i.length>1){var l=Fa(t),c=0;l.forEach((function(t){o.push(new ka(t,a.fromDOMRectList(e,Oa(r,c+s,t.length).getClientRects()))),c+=t.length}))}else o.push(new ka(t,a.fromDOMRectList(e,i)))}else{var A=r.splitText(t.length);o.push(new ka(t,Ia(e,r))),r=A}else Sa.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length})),o},Ia=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return a.EMPTY},Oa=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Fa=function(e){if(Sa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return ha(e)},Da=function(e,t){if(Sa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Ua(e,t)},_a=function(e,t){return 0!==t.letterSpacing?Fa(e):Da(e,t)},Ta=[32,160,4961,65792,65793,4153,4241],Ua=function(e,t){for(var n,r=je(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],o=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach((function(e){-1===Ta.indexOf(e)?r+=A(e):(r.length&&i.push(r),i.push(A(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)o();return i},Ma=function(){function e(e,t,n){this.text=La(t.data,n.textTransform),this.textBounds=Ea(e,this.text,n,t)}return e}(),La=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Qa,Ra);case 2:return e.toUpperCase();default:return e}},Qa=/(^|\s|:|-|\(|\))([a-z])/g,Ra=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Pa=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xo),Ha=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xo),Na=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,o=s(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xo),ja=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xo),za=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"==typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xo),Ka=[{type:15,flags:0,unit:"px",number:3}],$a=[{type:16,flags:0,number:50}],Wa=function(e){return e.width>e.height?new a(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new a(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Va=function(e){var t=e.type===Ya?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Ga="checkbox",qa="radio",Ya="password",Ja=707406591,Xa=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Va(n),r.type!==Ga&&r.type!==qa||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Wa(r.bounds)),r.type){case Ga:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ka;break;case qa:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=$a}return r}return t(n,e),n}(xo),Za=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(xo),es=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xo),ts=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=os(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,o=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(i)?rr(o)?r.styles.backgroundColor:o:i}}catch(e){}return r}return t(n,e),n}(xo),ns=["OL","UL","MENU"],rs=function(e,t,n,r){for(var i=t.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,ls(i)&&i.data.trim().length>0)n.textNodes.push(new Ma(e,i,n.styles));else if(cs(i))if(ks(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return rs(e,t,n,r)}));else{var a=is(e,i);a.styles.isVisible()&&(as(i,a,r)?a.flags|=4:ss(a.styles)&&(a.flags|=2),-1!==ns.indexOf(i.tagName)&&(a.flags|=8),n.elements.push(a),i.slot,i.shadowRoot?rs(e,i.shadowRoot,a,r):Cs(i)||gs(i)||Ss(i)||rs(e,i,a,r))}},is=function(e,t){return bs(t)?new Pa(e,t):vs(t)?new Ha(e,t):gs(t)?new Na(e,t):ds(t)?new ja(e,t):fs(t)?new za(e,t):ps(t)?new Xa(e,t):Ss(t)?new Za(e,t):Cs(t)?new es(e,t):ws(t)?new ts(e,t):new xo(e,t)},os=function(e,t){var n=is(e,t);return n.flags|=4,rs(e,t,n,n),n},as=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ms(e)&&n.styles.isTransparent()},ss=function(e){return e.isPositioned()||e.isFloating()},ls=function(e){return e.nodeType===Node.TEXT_NODE},cs=function(e){return e.nodeType===Node.ELEMENT_NODE},As=function(e){return cs(e)&&void 0!==e.style&&!us(e)},us=function(e){return"object"==typeof e.className},ds=function(e){return"LI"===e.tagName},fs=function(e){return"OL"===e.tagName},ps=function(e){return"INPUT"===e.tagName},hs=function(e){return"HTML"===e.tagName},gs=function(e){return"svg"===e.tagName},ms=function(e){return"BODY"===e.tagName},vs=function(e){return"CANVAS"===e.tagName},ys=function(e){return"VIDEO"===e.tagName},bs=function(e){return"IMG"===e.tagName},ws=function(e){return"IFRAME"===e.tagName},Bs=function(e){return"STYLE"===e.tagName},xs=function(e){return"SCRIPT"===e.tagName},Cs=function(e){return"TEXTAREA"===e.tagName},Ss=function(e){return"SELECT"===e.tagName},ks=function(e){return"SLOT"===e.tagName},Es=function(e){return e.tagName.indexOf("-")>0},Is=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),Os={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fs={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ds={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},_s={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ts=function(e,t,n,r,i,o){return e<t||e>n?Ws(e,i,o.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+o},Us=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Ms=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(Us(Math.abs(e),o,r,(function(e){return A(Math.floor(e%o)+t)}))+i)},Ls=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Us(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Qs=1,Rs=2,Ps=4,Hs=8,Ns=function(e,t,n,r,i,o){if(e<-9999||e>9999)return Ws(e,4,i.length>0);var a=Math.abs(e),s=i;if(0===a)return t[0]+s;for(var l=0;a>0&&l<=4;l++){var c=a%10;0===c&&io(o,Qs)&&""!==s?s=t[c]+s:c>1||1===c&&0===l||1===c&&1===l&&io(o,Rs)||1===c&&1===l&&io(o,Ps)&&e>100||1===c&&l>1&&io(o,Hs)?s=t[c]+(l>0?n[l-1]:"")+s:1===c&&l>0&&(s=n[l-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},js="\u5341\u767e\u5343\u842c",zs="\u62fe\u4f70\u4edf\u842c",Ks="\u30de\u30a4\u30ca\u30b9",$s="\ub9c8\uc774\ub108\uc2a4",Ws=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",o=n?", ":"",a=n?" ":"";switch(t){case 0:return"\u2022"+a;case 1:return"\u25e6"+a;case 2:return"\u25fe"+a;case 5:var s=Ms(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Ls(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Ts(e,1,3999,Os,3,r).toLowerCase();case 7:return Ts(e,1,3999,Os,3,r);case 8:return Ms(e,945,969,!1,r);case 9:return Ms(e,97,122,!1,r);case 10:return Ms(e,65,90,!1,r);case 11:return Ms(e,1632,1641,!0,r);case 12:case 49:return Ts(e,1,9999,Fs,3,r);case 35:return Ts(e,1,9999,Fs,3,r).toLowerCase();case 13:return Ms(e,2534,2543,!0,r);case 14:case 30:return Ms(e,6112,6121,!0,r);case 15:return Ls(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Ls(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Ns(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",js,"\u8ca0",i,Rs|Ps|Hs);case 47:return Ns(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",zs,"\u8ca0",i,Qs|Rs|Ps|Hs);case 42:return Ns(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",js,"\u8d1f",i,Rs|Ps|Hs);case 41:return Ns(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",zs,"\u8d1f",i,Qs|Rs|Ps|Hs);case 26:return Ns(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ks,i,0);case 25:return Ns(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ks,i,Qs|Rs|Ps);case 31:return Ns(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",$s,o,Qs|Rs|Ps);case 33:return Ns(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",$s,o,0);case 32:return Ns(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",$s,o,Qs|Rs|Ps);case 18:return Ms(e,2406,2415,!0,r);case 20:return Ts(e,1,19999,_s,3,r);case 21:return Ms(e,2790,2799,!0,r);case 22:return Ms(e,2662,2671,!0,r);case 22:return Ts(e,1,10999,Ds,3,r);case 23:return Ls(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ls(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ms(e,3302,3311,!0,r);case 28:return Ls(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Ls(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Ms(e,3792,3801,!0,r);case 37:return Ms(e,6160,6169,!0,r);case 38:return Ms(e,4160,4169,!0,r);case 39:return Ms(e,2918,2927,!0,r);case 40:return Ms(e,1776,1785,!0,r);case 43:return Ms(e,3046,3055,!0,r);case 44:return Ms(e,3174,3183,!0,r);case 45:return Ms(e,3664,3673,!0,r);case 46:return Ms(e,3872,3881,!0,r);default:return Ms(e,48,57,!0,r)}},Vs="data-html2canvas-ignore",Gs=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Is,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,o=Ys(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,l=o.contentWindow,c=l.document,A=Zs(o).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(il),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xs(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return o}))]:[2,o]}}))}))}));return c.open(),c.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(e){if(Bo(e,2),vs(e))return this.createCanvasClone(e);if(ys(e))return this.createVideoClone(e);if(Bs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return bs(t)&&(bs(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Es(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(a){var s=a.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return r}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){cs(t)&&(xs(t)||t.hasAttribute(Vs)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&cs(t)&&Bs(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(cs(i)&&ks(i)&&"function"==typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(ls(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&cs(e)&&(As(e)||us(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&As(r)&&(this.clonedReferenceElement=r),ms(r)&&Al(r);var s=this.counters.parse(new vo(this.context,i)),l=this.resolvePseudoContent(e,r,o,Wo.BEFORE);Es(e)&&(t=!0),ys(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var c=this.resolvePseudoContent(e,r,a,Wo.AFTER);return c&&r.appendChild(c),this.counters.pop(s),(i&&(this.options.copyStyles||us(e))&&!ws(e)||t)&&tl(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Cs(e)||Ss(e))&&(Cs(r)||Ss(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,a=t.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new vo(this.context,n));var s=new mo(this.context,n),l=a.createElement("html2canvaspseudoelement");tl(n,l),s.content.forEach((function(t){if(0===t.type)l.appendChild(a.createTextNode(t.value));else if(22===t.type){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Tn);r.length&&l.appendChild(a.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Qn),c=o[0],A=o[1];if(c&&Tn(c)){var u=i.counters.getCounterValue(c.value),d=A&&Tn(A)?Ci.parse(i.context,A.value):3;l.appendChild(a.createTextNode(Ws(u,d,!1)))}}else if("counters"===t.name){var f=t.values.filter(Qn),p=(c=f[0],f[1]);if(A=f[2],c&&Tn(c)){var h=i.counters.getCounterValues(c.value),g=A&&Tn(A)?Ci.parse(i.context,A.value):3,m=p&&0===p.type?p.value:"",v=h.map((function(e){return Ws(e,g,!1)})).join(m);l.appendChild(a.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(a.createTextNode(Ao(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(Ao(s.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(t.value))}})),l.className=sl+" "+ll;var c=r===Wo.BEFORE?" "+sl:" "+ll;return us(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Wo||(Wo={}));var qs,Ys=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Vs,"true"),e.body.appendChild(n),n},Js=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Xs=function(e){return Promise.all([].slice.call(e.images,0).map(Js))},Zs=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},il=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},ol=":before",al=":after",sl="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",cl='{\n    content: "" !important;\n    display: none !important;\n}',Al=function(e){ul(e,"."+sl+ol+cl+"\n         ."+ll+al+cl)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),fl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:bl(e)||ml(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return t=dl.isSameOrigin(e),n=!vl(e)&&!0===this._options.useCORS&&Sa.SUPPORT_CORS_IMAGES&&!t,r=!vl(e)&&!t&&!bl(e)&&"string"==typeof this._options.proxy&&Sa.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vl(e)||bl(e)||r||n?(o=e,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yl(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return e(r)}),500),a._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,o){var a=Sa.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(s.response)}else o("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=o;var l=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+r)}}s.send()}))},e}(),pl=/^data:image\/svg\+xml/i,hl=/^data:image\/.*;base64,/i,gl=/^data:image\/.*/i,ml=function(e){return Sa.SUPPORT_SVG_DRAWING||!wl(e)},vl=function(e){return gl.test(e)},yl=function(e){return hl.test(e)},bl=function(e){return"blob"===e.substr(0,4)},wl=function(e){return"svg"===e.substr(-3).toLowerCase()||pl.test(e)},Bl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),xl=function(e,t,n){return new Bl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Cl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=xl(this.start,this.startControl,t),i=xl(this.startControl,this.endControl,t),o=xl(this.endControl,this.end,t),a=xl(r,i,t),s=xl(i,o,t),l=xl(a,s,t);return n?new e(this.start,r,a,l):new e(l,s,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Sl=function(e){return 1===e.type},kl=function(){function e(e){var t=e.styles,n=e.bounds,r=Wn(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=Wn(t.borderTopRightRadius,n.width,n.height),s=a[0],l=a[1],c=Wn(t.borderBottomRightRadius,n.width,n.height),A=c[0],u=c[1],d=Wn(t.borderBottomLeftRadius,n.width,n.height),f=d[0],p=d[1],h=[];h.push((i+s)/n.width),h.push((f+A)/n.width),h.push((o+p)/n.height),h.push((l+u)/n.height);var g=Math.max.apply(Math,h);g>1&&(i/=g,o/=g,s/=g,l/=g,A/=g,u/=g,f/=g,p/=g);var m=n.width-s,v=n.height-u,y=n.width-A,b=n.height-p,w=t.borderTopWidth,B=t.borderRightWidth,x=t.borderBottomWidth,C=t.borderLeftWidth,S=Vn(t.paddingTop,e.bounds.width),k=Vn(t.paddingRight,e.bounds.width),E=Vn(t.paddingBottom,e.bounds.width),I=Vn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?El(n.left+C/3,n.top+w/3,i-C/3,o-w/3,qs.TOP_LEFT):new Bl(n.left+C/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?El(n.left+m,n.top+w/3,s-B/3,l-w/3,qs.TOP_RIGHT):new Bl(n.left+n.width-B/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=A>0||u>0?El(n.left+y,n.top+v,A-B/3,u-x/3,qs.BOTTOM_RIGHT):new Bl(n.left+n.width-B/3,n.top+n.height-x/3),this.bottomLeftBorderDoubleOuterBox=f>0||p>0?El(n.left+C/3,n.top+b,f-C/3,p-x/3,qs.BOTTOM_LEFT):new Bl(n.left+C/3,n.top+n.height-x/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?El(n.left+2*C/3,n.top+2*w/3,i-2*C/3,o-2*w/3,qs.TOP_LEFT):new Bl(n.left+2*C/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||o>0?El(n.left+m,n.top+2*w/3,s-2*B/3,l-2*w/3,qs.TOP_RIGHT):new Bl(n.left+n.width-2*B/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=A>0||u>0?El(n.left+y,n.top+v,A-2*B/3,u-2*x/3,qs.BOTTOM_RIGHT):new Bl(n.left+n.width-2*B/3,n.top+n.height-2*x/3),this.bottomLeftBorderDoubleInnerBox=f>0||p>0?El(n.left+2*C/3,n.top+b,f-2*C/3,p-2*x/3,qs.BOTTOM_LEFT):new Bl(n.left+2*C/3,n.top+n.height-2*x/3),this.topLeftBorderStroke=i>0||o>0?El(n.left+C/2,n.top+w/2,i-C/2,o-w/2,qs.TOP_LEFT):new Bl(n.left+C/2,n.top+w/2),this.topRightBorderStroke=i>0||o>0?El(n.left+m,n.top+w/2,s-B/2,l-w/2,qs.TOP_RIGHT):new Bl(n.left+n.width-B/2,n.top+w/2),this.bottomRightBorderStroke=A>0||u>0?El(n.left+y,n.top+v,A-B/2,u-x/2,qs.BOTTOM_RIGHT):new Bl(n.left+n.width-B/2,n.top+n.height-x/2),this.bottomLeftBorderStroke=f>0||p>0?El(n.left+C/2,n.top+b,f-C/2,p-x/2,qs.BOTTOM_LEFT):new Bl(n.left+C/2,n.top+n.height-x/2),this.topLeftBorderBox=i>0||o>0?El(n.left,n.top,i,o,qs.TOP_LEFT):new Bl(n.left,n.top),this.topRightBorderBox=s>0||l>0?El(n.left+m,n.top,s,l,qs.TOP_RIGHT):new Bl(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||u>0?El(n.left+y,n.top+v,A,u,qs.BOTTOM_RIGHT):new Bl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||p>0?El(n.left,n.top+b,f,p,qs.BOTTOM_LEFT):new Bl(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?El(n.left+C,n.top+w,Math.max(0,i-C),Math.max(0,o-w),qs.TOP_LEFT):new Bl(n.left+C,n.top+w),this.topRightPaddingBox=s>0||l>0?El(n.left+Math.min(m,n.width-B),n.top+w,m>n.width+B?0:Math.max(0,s-B),Math.max(0,l-w),qs.TOP_RIGHT):new Bl(n.left+n.width-B,n.top+w),this.bottomRightPaddingBox=A>0||u>0?El(n.left+Math.min(y,n.width-C),n.top+Math.min(v,n.height-x),Math.max(0,A-B),Math.max(0,u-x),qs.BOTTOM_RIGHT):new Bl(n.left+n.width-B,n.top+n.height-x),this.bottomLeftPaddingBox=f>0||p>0?El(n.left+C,n.top+Math.min(b,n.height-x),Math.max(0,f-C),Math.max(0,p-x),qs.BOTTOM_LEFT):new Bl(n.left+C,n.top+n.height-x),this.topLeftContentBox=i>0||o>0?El(n.left+C+I,n.top+w+S,Math.max(0,i-(C+I)),Math.max(0,o-(w+S)),qs.TOP_LEFT):new Bl(n.left+C+I,n.top+w+S),this.topRightContentBox=s>0||l>0?El(n.left+Math.min(m,n.width+C+I),n.top+w+S,m>n.width+C+I?0:s-C+I,l-(w+S),qs.TOP_RIGHT):new Bl(n.left+n.width-(B+k),n.top+w+S),this.bottomRightContentBox=A>0||u>0?El(n.left+Math.min(y,n.width-(C+I)),n.top+Math.min(v,n.height+w+S),Math.max(0,A-(B+k)),u-(x+E),qs.BOTTOM_RIGHT):new Bl(n.left+n.width-(B+k),n.top+n.height-(x+E)),this.bottomLeftContentBox=f>0||p>0?El(n.left+C+I,n.top+b,Math.max(0,f-(C+I)),p-(x+E),qs.BOTTOM_LEFT):new Bl(n.left+C+I,n.top+n.height-(x+E))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(qs||(qs={}));var El=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,l=e+n,c=t+r;switch(i){case qs.TOP_LEFT:return new Cl(new Bl(e,c),new Bl(e,c-s),new Bl(l-a,t),new Bl(l,t));case qs.TOP_RIGHT:return new Cl(new Bl(e,t),new Bl(e+a,t),new Bl(l,c-s),new Bl(l,c));case qs.BOTTOM_RIGHT:return new Cl(new Bl(l,t),new Bl(l,t+s),new Bl(e+a,c),new Bl(e,c));case qs.BOTTOM_LEFT:default:return new Cl(new Bl(l,c),new Bl(l-a,c),new Bl(e,t+s),new Bl(e,t))}},Il=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Ol=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Fl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Dl=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),_l=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Tl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ul=function(e){return 0===e.type},Ml=function(e){return 1===e.type},Ll=function(e){return 2===e.type},Ql=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Rl=function(e,t,n,r,i){return e.map((function(e,o){switch(o){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},Pl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Hl=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new kl(this.container),this.container.styles.opacity<1&&this.effects.push(new Tl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Dl(n,r,i))}if(0!==this.container.styles.overflowX){var o=Il(this.curves),a=Fl(this.curves);Ql(o,a)?this.effects.push(new _l(o,6)):(this.effects.push(new _l(o,2)),this.effects.push(new _l(a,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!Ml(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=Il(n.curves),a=Fl(n.curves);Ql(o,a)||r.unshift(new _l(a,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return io(t.target,e)}))},e}(),Nl=function(e,t,n,r){e.container.elements.forEach((function(i){var o=io(i.flags,4),a=io(i.flags,2),s=new Hl(i,e);io(i.styles.display,2048)&&r.push(s);var l=io(i.flags,8)?[]:r;if(o||a){var c=o||i.styles.isPositioned()?n:t,A=new Pl(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),c.negativeZIndex.splice(d,0,A)}else if(u>0){var f=0;c.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(f=t+1,!1):f>0})),c.positiveZIndex.splice(f,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);Nl(s,A,o?A:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),Nl(s,t,n,l);io(i.flags,8)&&jl(i,l)}))},jl=function(e,t){for(var n=e instanceof za?e.start:1,r=e instanceof za&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof ja&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Ws(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},zl=function(e){var t=new Hl(e,null),n=new Pl(t),r=[];return Nl(t,n,n,r),jl(t.container,r),n},Kl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},$l=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ql(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Wl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Vl=function(e,t){switch(t){case 0:return Gl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Gl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Gl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Gl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Gl=function(e,t){var n=[];return Sl(e)?n.push(e.subdivide(.5,!1)):n.push(e),Sl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ql=function(e,t,n,r){var i=[];return Sl(e)?i.push(e.subdivide(.5,!1)):i.push(e),Sl(n)?i.push(n.subdivide(.5,!0)):i.push(n),Sl(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Sl(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Yl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jl=function(e){var t=e.styles,n=e.bounds,r=Vn(t.paddingLeft,n.width),i=Vn(t.paddingRight,n.width),o=Vn(t.paddingTop,n.width),a=Vn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))},Xl=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Yl(t)},Zl=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Yl(t)},ec=function(e,t,n){var r=Xl(ic(e.styles.backgroundOrigin,t),e),i=Zl(ic(e.styles.backgroundClip,t),e),o=rc(ic(e.styles.backgroundSize,t),n,r),a=o[0],s=o[1],l=Wn(ic(e.styles.backgroundPosition,t),r.width-a,r.height-s);return[oc(ic(e.styles.backgroundRepeat,t),l,o,r,i),Math.round(r.left+l[0]),Math.round(r.top+l[1]),a,s]},tc=function(e){return Tn(e)&&e.value===Lr.AUTO},nc=function(e){return"number"==typeof e},rc=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1];if(!a)return[0,0];if(Nn(a)&&s&&Nn(s))return[Vn(a,n.width),Vn(s,n.height)];var l=nc(o);if(Tn(a)&&(a.value===Lr.CONTAIN||a.value===Lr.COVER))return nc(o)?n.width/n.height<o!=(a.value===Lr.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var c=nc(r),A=nc(i),u=c||A;if(tc(a)&&(!s||tc(s)))return c&&A?[r,i]:l||u?u&&l?[c?r:i*o,A?i:r/o]:[c?r:n.width,A?i:n.height]:[n.width,n.height];if(l){var d=0,f=0;return Nn(a)?d=Vn(a,n.width):Nn(s)&&(f=Vn(s,n.height)),tc(a)?d=f*o:s&&!tc(s)||(f=d/o),[d,f]}var p=null,h=null;if(Nn(a)?p=Vn(a,n.width):s&&Nn(s)&&(h=Vn(s,n.height)),null===p||s&&!tc(s)||(h=c&&A?p/r*i:n.height),null!==h&&tc(a)&&(p=c&&A?h/i*r:n.width),null!==p&&null!==h)return[p,h];throw new Error("Unable to calculate background-size for element")},ic=function(e,t){var n=e[t];return void 0===n?e[0]:n},oc=function(e,t,n,r,i){var o=t[0],a=t[1],s=n[0],l=n[1];switch(e){case 2:return[new Bl(Math.round(r.left),Math.round(r.top+a)),new Bl(Math.round(r.left+r.width),Math.round(r.top+a)),new Bl(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Bl(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new Bl(Math.round(r.left+o),Math.round(r.top)),new Bl(Math.round(r.left+o+s),Math.round(r.top)),new Bl(Math.round(r.left+o+s),Math.round(r.height+r.top)),new Bl(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new Bl(Math.round(r.left+o),Math.round(r.top+a)),new Bl(Math.round(r.left+o+s),Math.round(r.top+a)),new Bl(Math.round(r.left+o+s),Math.round(r.top+a+l)),new Bl(Math.round(r.left+o),Math.round(r.top+a+l))];default:return[new Bl(Math.round(i.left),Math.round(i.top)),new Bl(Math.round(i.left+i.width),Math.round(i.top)),new Bl(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Bl(Math.round(i.left),Math.round(i.height+i.top))]}},ac="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sc="Hidden Text",lc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src=ac,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(sc)),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(sc)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),Ac=1e4,uc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lc(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Ll(e)&&(this.ctx.globalAlpha=e.opacity),Ul(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ml(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return io(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fa(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=gc(e.fontFamily).join(", "),r=Dn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o,a,s,l,c,A,u=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],o=n[1],a=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(o,a),l=s.baseline,c=s.middle,A=t.paintOrder,e.textBounds.forEach((function(e){A.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=ir(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=ir(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ir(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Jl(e),i=Fl(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,o,s,l,c,A,u,d,f,p,h,g,m,v,y,b,w;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,o=t.styles,s=0,l=t.textNodes,i.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Pa))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ha&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Na))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ts&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:A=i.sent(),t.width&&t.height&&this.ctx.drawImage(A,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Xa&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Ga?t.checked&&(this.ctx.save(),this.path([new Bl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new Bl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new Bl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new Bl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new Bl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new Bl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new Bl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ir(Ja),this.ctx.fill(),this.ctx.restore()):t.type===qa&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Ja),this.ctx.fill(),this.ctx.restore())),dc(t)&&t.value.length){switch(d=this.createFontStyle(o),b=d[0],f=d[1],p=this.fontMetrics.getMetrics(b,f).baseline,this.ctx.font=b,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pc(t.styles.textAlign),w=Jl(t),h=0,t.styles.textAlign){case 1:h+=w.width/2;break;case 2:h+=w.width}g=w.add(h,0,0,-w.height/2+1),this.ctx.save(),this.path([new Bl(w.left,w.top),new Bl(w.left+w.width,w.top),new Bl(w.left+w.width,w.top+w.height),new Bl(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ka(t.value,g),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!io(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(o)[0],this.ctx.font=b,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new a(t.bounds.left,t.bounds.top+Vn(t.styles.paddingTop,t.bounds.width),t.bounds.width,wi(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ka(e.listValue,w),o.letterSpacing,wi(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,l,c,A,u,d,f,p,h,g;return i(this,(function(i){switch(i.label){case 0:return io(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,o=e.nonInlineLevel,i.label=7;case 7:return r<o.length?(g=o[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:a=0,s=e.nonPositionedFloats,i.label=11;case 11:return a<s.length?(g=s[a],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return a++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,i.label=15;case 15:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:A=0,u=e.inlineLevel,i.label=19;case 19:return A<u.length?(g=u[A],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return A++,[3,19];case 22:d=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return d<f.length?(g=f[d],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return d++,[3,23];case 26:p=0,h=e.positiveZIndex,i.label=27;case 27:return p<h.length?(g=h[p],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=Sl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Sl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,a,s,l,c,A,u,d,f,p,h,g,m,v,y,b,w,B,x,C,S,k,E,I,O,F,D,_,T,U,M;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(a)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(s=ec(e,t,[o.width,o.height,o.width/o.height]),b=s[0],k=s[1],E=s[2],x=s[3],C=s[4],v=r.ctx.createPattern(r.resizeImage(o,x,C),"repeat"),r.renderRepeat(b,v,k,E)),[3,6];case 5:_r(n)?(l=ec(e,t,[null,null,null]),b=l[0],k=l[1],E=l[2],x=l[3],C=l[4],c=vr(n.angle,x,C),A=c[0],u=c[1],d=c[2],f=c[3],p=c[4],(h=document.createElement("canvas")).width=x,h.height=C,g=h.getContext("2d"),m=g.createLinearGradient(u,f,d,p),gr(n.stops,A).forEach((function(e){return m.addColorStop(e.stop,ir(e.color))})),g.fillStyle=m,g.fillRect(0,0,x,C),x>0&&C>0&&(v=r.ctx.createPattern(h,"repeat"),r.renderRepeat(b,v,k,E))):Tr(n)&&(y=ec(e,t,[null,null,null]),b=y[0],w=y[1],B=y[2],x=y[3],C=y[4],S=0===n.position.length?[Kn]:n.position,k=Vn(S[0],x),E=Vn(S[S.length-1],C),I=wr(n,k,E,x,C),O=I[0],F=I[1],O>0&&F>0&&(D=r.ctx.createRadialGradient(w+k,B+E,0,w+k,B+E,O),gr(n.stops,2*O).forEach((function(e){return D.addColorStop(e.stop,ir(e.color))})),r.path(b),r.ctx.fillStyle=D,O!==F?(_=e.bounds.left+.5*e.bounds.width,T=e.bounds.top+.5*e.bounds.height,M=1/(U=F/O),r.ctx.save(),r.ctx.translate(_,T),r.ctx.transform(1,0,0,U,0,0),r.ctx.translate(-_,-T),r.ctx.fillRect(w,M*(B-T)+T,x,C*M),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,o=0,a=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(Kl(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=$l(o,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),a=Wl(o,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,l,c,A=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=fc(ic(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){A.ctx.save();var n=Il(e.curves),r=t.inset?0:Ac,i=Rl(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(A.path(n),A.ctx.clip(),A.mask(i)):(A.mask(n),A.ctx.clip(),A.path(i)),A.ctx.shadowOffsetX=t.offsetX.number+r,A.ctx.shadowOffsetY=t.offsetY.number,A.ctx.shadowColor=ir(t.color),A.ctx.shadowBlur=t.blur.number,A.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()})),i.label=2;case 2:a=0,s=0,l=r,i.label=3;case 3:return s<l.length?0!==(c=l[s]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,e.curves)];case 10:i.sent(),i.label=11;case 11:a++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,o,a){return r(this,void 0,void 0,(function(){var r,s,l,c,A,u,d,f,p,h,g,m,v,y,b,w;return i(this,(function(i){return this.ctx.save(),r=Vl(o,n),s=Kl(o,n),2===a&&(this.path(s),this.ctx.clip()),Sl(s[0])?(l=s[0].start.x,c=s[0].start.y):(l=s[0].x,c=s[0].y),Sl(s[1])?(A=s[1].end.x,u=s[1].end.y):(A=s[1].x,u=s[1].y),d=0===n||2===n?Math.abs(l-A):Math.abs(c-u),this.ctx.beginPath(),3===a?this.formatPath(r):this.formatPath(s.slice(0,2)),f=t<3?3*t:2*t,p=t<3?2*t:t,3===a&&(f=t,p=t),h=!0,d<=2*f?h=!1:d<=2*f+p?(f*=g=d/(2*f+p),p*=g):(m=Math.floor((d+p)/(f+p)),v=(d-m*f)/(m-1),p=(y=(d-(m+1)*f)/m)<=0||Math.abs(p-v)<Math.abs(p-y)?v:y),h&&(3===a?this.ctx.setLineDash([0,f+p]):this.ctx.setLineDash([f,p])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(Sl(s[0])&&(b=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new Bl(b.end.x,b.end.y),new Bl(w.start.x,w.start.y)]),this.ctx.stroke()),Sl(s[1])&&(b=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new Bl(b.end.x,b.end.y),new Bl(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=zl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(cc),dc=function(e){return e instanceof es||e instanceof Za||e instanceof Xa&&e.type!==qa&&e.type!==Ga},fc=function(e,t){switch(e){case 0:return Il(t);case 2:return Ol(t);default:return Fl(t)}},pc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},hc=["-apple-system","system-ui"],gc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===hc.indexOf(e)})):e},mc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=xa(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(cc),vc=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),bc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new fl(this,t)}return e.instanceCount=1,e}(),wc=function(e,t){return void 0===t&&(t={}),Bc(e,t)};"undefined"!=typeof window&&dl.setContext(window);var Bc=function(e,t){return r(void 0,void 0,void 0,(function(){var r,o,c,A,u,d,f,p,h,g,m,v,y,b,w,B,x,C,S,k,E,I,O,F,D,_,T,U,M,L,Q,R,P,H,N,j,z,K;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(I=t.allowTaint)&&void 0!==I&&I,imageTimeout:null!==(O=t.imageTimeout)&&void 0!==O?O:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},A=n({logging:null===(D=t.logging)||void 0===D||D,cache:t.cache},c),u={windowWidth:null!==(_=t.windowWidth)&&void 0!==_?_:o.innerWidth,windowHeight:null!==(T=t.windowHeight)&&void 0!==T?T:o.innerHeight,scrollX:null!==(U=t.scrollX)&&void 0!==U?U:o.pageXOffset,scrollY:null!==(M=t.scrollY)&&void 0!==M?M:o.pageYOffset},d=new a(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),f=new bc(A,d),p=null!==(L=t.foreignObjectRendering)&&void 0!==L&&L,h={allowTaint:null!==(Q=t.allowTaint)&&void 0!==Q&&Q,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},f.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new Gs(f,e,h),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),y=ms(m)||hs(m)?l(m.ownerDocument):s(f,m),b=y.width,w=y.height,B=y.left,x=y.top,C=xc(f,m,t.backgroundColor),S={canvas:t.canvas,backgroundColor:C,scale:null!==(P=null!==(R=t.scale)&&void 0!==R?R:o.devicePixelRatio)&&void 0!==P?P:1,x:(null!==(H=t.x)&&void 0!==H?H:0)+B,y:(null!==(N=t.y)&&void 0!==N?N:0)+x,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(b),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(w)},p?(f.logger.debug("Document cloned, using foreign object rendering"),[4,new mc(f,S).render(m)]):[3,3];case 2:return k=i.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+B+","+x+" with size "+b+"x"+w+" using computed rendering"),f.logger.debug("Starting DOM parsing"),E=os(f,m),C===E.styles.backgroundColor&&(E.styles.backgroundColor=dr.TRANSPARENT),f.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),[4,new uc(f,S).render(E)];case 4:k=i.sent(),i.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Gs.destroy(v)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,k]}}))}))},xc=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,o=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,a="string"==typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(o)?a:o:i:a};return wc}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(362),e.exports=n(1395)},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(1255),o=n.n(i),a=n(1052),s=n(71),l=n(6),c=n(315),A=n(510);const u=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){for(;;){const e=globalThis.PDFViewerApplication,t=null==e?void 0:e.pdfViewer,n=null==t?void 0:t.pdfDocument;if(n){const r=new URLSearchParams(location.search).get("file");if(!(null==r?void 0:r.length))return null;const i=yield globalThis.pdfjsLib.getDocument(r).promise,o=yield Object(A.a)(i);return document.title=o,globalThis.__setDarkMode=e=>t.viewer.style.filter=`invert(${e?1:0}) contrast(75%)`,{pdfDocument:n,pdfApplication:e}}yield new Promise((e=>setTimeout(e,200)))}}));a.a({loadRemotely:!1,getContentFingerprints:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var e;const{pdfDocument:t}=yield u();return(null!==(e=t.fingerprints)&&void 0!==e?e:t.fingerprint?[t.fingerprint]:[]).filter((e=>null!=e)).map((e=>({fingerprintScheme:s.e.PdfV1,fingerprint:e})))})),htmlElToCanvasEl:e=>o()(e)}).then((({inPageUI:e,pdfBG:t})=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){Object(l.e)({extractPDFContents:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const e=new URLSearchParams(location.search).get("file");if(!(null==e?void 0:e.length))return null;const t=yield globalThis.pdfjsLib.getDocument(e).promise;return Object(c.a)(t)})),getObjectUrlForPdf:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const{pdfDocument:e}=yield u(),t=yield e.getData(),n=new Blob([t]);return{objectUrl:URL.createObjectURL(n)}})),setPdfUploadState:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){}))}),yield e.showSidebar()}))))}]);