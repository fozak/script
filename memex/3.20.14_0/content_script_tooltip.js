/*! For license information please see content_script_tooltip.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1403)}([function(e,t,n){"use strict";e.exports=n(521)},function(e,t,n){"use strict";(function(e){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(299),i=n(0),a=r(i),s=r(n(531)),l=r(n(532)),c=r(n(533)),u=r(n(534)),d=r(n(536));function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},h=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!o.typeOf(e)},m=Object.freeze([]),g=Object.freeze({});function v(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function b(e){return e&&"string"==typeof e.styledComponentId}var w=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",x="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==e.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&e.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.SC_DISABLE_SPEEDY&&""!==e.env.SC_DISABLE_SPEEDY&&("false"!==e.env.SC_DISABLE_SPEEDY&&e.env.SC_DISABLE_SPEEDY)),S={};function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var C=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)(o<<=1)<0&&E(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=r;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,i=r;i<o;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),A=new Map,O=new Map,I=1,D=function(e){if(A.has(e))return A.get(e);for(;O.has(I);)I++;var t=I++;return A.set(e,t),O.set(t,e),t},M=function(e){return O.get(e)},T=function(e,t){A.set(e,t),O.set(t,e)},_="style["+w+'][data-styled-version="5.2.1"]',R=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),P=function(e,t,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&e.registerName(t,r)},L=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],o=0,i=n.length;o<i;o++){var a=n[o].trim();if(a){var s=a.match(R);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(T(c,l),P(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},N=function(){return n.nc},j=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),i=void 0!==o?o.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.2.1");var a=N();return a&&r.setAttribute("nonce",a),n.insertBefore(r,i),r},B=function(){function e(e){var t=this.element=j(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}E(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),F=function(){function e(e){var t=this.element=j(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),z=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),$=x,H={isServer:!x,useCSSOMInjection:!k},U=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=p({},H,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&x&&$&&($=!1,function(e){for(var t=document.querySelectorAll(_),n=0,r=t.length;n<r;n++){var o=t[n];o&&"active"!==o.getAttribute(w)&&(L(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return D(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,o=t.target,e=n?new z(o):r?new B(o):new F(o),new C(e)));var e,t,n,r,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(D(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(D(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(D(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=0;o<n;o++){var i=M(o);if(void 0!==i){var a=e.names.get(i),s=t.getGroup(o);if(void 0!==a&&0!==s.length){var l=w+".g"+o+'[id="'+i+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),W=/(a)(d)/gi,V=function(e){return String.fromCharCode(e+(e>25?39:97))};function q(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=V(t%52)+n;return(V(t%52)+n).replace(W,"$1-$2")}var G=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Y=function(e){return G(5381,e)};function K(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(v(n)&&!b(n))return!1}return!0}var J=Y("5.2.1"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&K(e),this.componentId=t,this.baseHash=G(J,t),this.baseStyle=n,U.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))o.push(this.staticRulesId);else{var i=ge(this.rules,e,t,n).join(""),a=q(G(this.baseHash,i.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(i,"."+a,void 0,r);t.insertRules(r,a,s)}o.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=G(this.baseHash,n.hash),u="",d=0;d<l;d++){var p=this.rules[d];if("string"==typeof p)u+=p;else if(p){var f=ge(p,e,t,n),h=Array.isArray(f)?f.join(""):f;c=G(c,h+d),u+=h}}if(u){var m=q(c>>>0);if(!t.hasNameForId(r,m)){var g=n(u,"."+m,void 0,r);t.insertRules(r,m,g)}o.push(m)}}return o.join(" ")},e}(),Q=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,o,i=void 0===e?g:e,a=i.options,s=void 0===a?g:a,c=i.plugins,u=void 0===c?m:c,d=new l(s),p=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,i,a,s,l,c,u,d){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){p.push(e)})),h=function(e,r,i){return 0===r&&Z.includes(i[n.length])||i.match(o)?e:"."+t};function v(e,i,a,s){void 0===s&&(s="&");var l=e.replace(Q,""),c=i&&a?a+" "+i+" { "+l+" }":l;return t=s,n=i,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(a||!i?"":i,c)}return d.use([].concat(u,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(n)>0&&(o[0]=o[0].replace(r,h))},f,function(e){if(-2===e){var t=p;return p=[],t}}])),v.hash=u.length?u.reduce((function(e,t){return t.name||E(15),G(e,t.name)}),5381).toString():"",v}var te=a.createContext(),ne=te.Consumer,re=a.createContext(),oe=(re.Consumer,new U),ie=ee();function ae(){return i.useContext(te)||oe}function se(){return i.useContext(re)||ie}function le(e){var t=i.useState(e.stylisPlugins),n=t[0],r=t[1],o=ae(),l=i.useMemo((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=i.useMemo((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return i.useEffect((function(){s(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.createElement(te.Provider,{value:l},a.createElement(re.Provider,{value:c},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ie);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return E(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ue=/([A-Z])/,de=/([A-Z])/g,pe=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function he(e){return ue.test(e)?e.replace(de,fe).replace(pe,"-ms-"):e}var me=function(e){return null==e||!1===e||""===e};function ge(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],a=0,s=e.length;a<s;a+=1)""!==(o=ge(e[a],t,n,r))&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}return me(e)?"":b(e)?"."+e.styledComponentId:v(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:ge(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:h(e)?function e(t,n){var r,o,i=[];for(var a in t)t.hasOwnProperty(a)&&!me(t[a])&&(h(t[a])?i.push.apply(i,e(t[a],a)):v(t[a])?i.push(he(a)+":",t[a],";"):i.push(he(a)+": "+(r=a,(null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||r in c?String(o).trim():o+"px")+";")));return n?[n+" {"].concat(i,["}"]):i}(e):e.toString();var l}function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e)||h(e)?ge(f(m,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(f(e,n))}new Set;var ye=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function xe(e){return e.replace(be,"-").replace(we,"")}var ke=function(e){return q(Y(e)>>>0)};function Se(e){return"string"==typeof e&&!0}var Ee=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ce=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ae(e,t,n){var r=e[n];Ee(t)&&Ee(r)?Oe(r,t):e[n]=t}function Oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];if(Ee(a))for(var s in a)Ce(s)&&Ae(e,a[s],s)}return e}var Ie=a.createContext(),De=Ie.Consumer,Me={};function Te(e,t,n){var r=b(e),o=!Se(e),s=t.attrs,l=void 0===s?m:s,c=t.componentId,f=void 0===c?function(e,t){var n="string"!=typeof e?"sc":xe(e);Me[n]=(Me[n]||0)+1;var r=n+"-"+ke("5.2.1"+n+Me[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,h=t.displayName,w=void 0===h?function(e){return Se(e)?"styled."+e:"Styled("+y(e)+")"}(e):h,x=t.displayName&&t.componentId?xe(t.displayName)+"-"+t.componentId:t.componentId||f,k=r&&e.attrs?Array.prototype.concat(e.attrs,l).filter(Boolean):l,S=t.shouldForwardProp;r&&e.shouldForwardProp&&(S=t.shouldForwardProp?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var E,C=new X(n,x,r?e.componentStyle:void 0),A=C.isStatic&&0===l.length,O=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,d=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=g);var r=p({},t,{theme:e}),o={};return n.forEach((function(e){var t,n,i,a=e;for(t in v(a)&&(a=a(r)),a)r[t]=o[t]="className"===t?(n=o[t],i=a[t],n&&i?n+" "+i:n||i):a[t]})),[r,o]}(ye(t,i.useContext(Ie),s)||g,t,o),m=h[0],y=h[1],b=function(e,t,n){var r=ae(),o=se();return t?e.generateAndInjectStyles(g,r,o):e.generateAndInjectStyles(n,r,o)}(a,r,m),w=n,x=y.$as||t.$as||y.as||t.as||f,k=Se(x),S=y!==t?p({},t,{},y):t,E={};for(var C in S)"$"!==C[0]&&"as"!==C&&("forwardedAs"===C?E.as=S[C]:(c?c(C,u):!k||u(C))&&(E[C]=S[C]));return t.style&&y.style!==t.style&&(E.style=p({},t.style,{},y.style)),E.className=Array.prototype.concat(l,d,b!==d?b:null,t.className,y.className).filter(Boolean).join(" "),E.ref=w,i.createElement(x,E)}(E,e,t,A)};return O.displayName=w,(E=a.forwardRef(O)).attrs=k,E.componentStyle=C,E.displayName=w,E.shouldForwardProp=S,E.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,E.styledComponentId=x,E.target=r?e.target:e,E.withComponent=function(e){var r=t.componentId,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["componentId"]),i=r&&r+"-"+(Se(e)?e:xe(y(e)));return Te(e,p({},o,{attrs:k,componentId:i}),n)},Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Oe({},e.defaultProps,t):t}}),E.toString=function(){return"."+E.styledComponentId},o&&d(E,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),E}var _e=function(e){return function e(t,n,r){if(void 0===r&&(r=g),!o.isValidElementType(n))return E(1,String(n));var i=function(){return t(n,r,ve.apply(void 0,arguments))};return i.withConfig=function(o){return e(t,n,p({},r,{},o))},i.attrs=function(o){return e(t,n,p({},r,{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},i}(Te,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){_e[e]=_e(e)}));var Re=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=K(e),U.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var o=r(ge(this.rules,t,n,r).join(""),""),i=this.componentId+e;n.insertRules(i,i,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&U.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),Pe=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=N();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?E(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return E(2);var n=((t={})[w]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=N();return r&&(n.nonce=r),[a.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new U({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?E(2):a.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return E(3)},e}(),Le={StyleSheet:U,masterSheet:oe};t.ServerStyleSheet=Pe,t.StyleSheetConsumer=ne,t.StyleSheetContext=te,t.StyleSheetManager=le,t.ThemeConsumer=De,t.ThemeContext=Ie,t.ThemeProvider=function(e){var t=i.useContext(Ie),n=i.useMemo((function(){return function(e,t){return e?v(e)?e(t):Array.isArray(e)||"object"!=typeof e?E(8):t?p({},t,{},e):e:E(14)}(e.theme,t)}),[e.theme,t]);return e.children?a.createElement(Ie.Provider,{value:n},e.children):null},t.__PRIVATE__=Le,t.createGlobalStyle=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=ve.apply(void 0,[e].concat(n)),s="sc-global-"+ke(JSON.stringify(o)),l=new Re(o,s);function c(e){var t=ae(),n=se(),r=i.useContext(Ie),o=i.useRef(t.allocateGSInstance(s)).current;return i.useLayoutEffect((function(){return u(o,e,t,r,n),function(){return l.removeStyles(o,t)}}),[o,e,t,r,n]),null}function u(e,t,n,r,o){if(l.isStatic)l.renderStyles(e,S,n,o);else{var i=p({},t,{theme:ye(t,r,c.defaultProps)});l.renderStyles(e,i,n,o)}}return a.memo(c)},t.css=ve,t.default=_e,t.isStyledComponent=b,t.keyframes=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=ve.apply(void 0,[e].concat(n)).join(""),i=ke(o);return new ce(i,o)},t.useTheme=function(){return i.useContext(Ie)},t.version="5.2.1",t.withTheme=function(e){var t=a.forwardRef((function(t,n){var r=i.useContext(Ie),o=e.defaultProps,s=ye(t,r,o);return a.createElement(e,p({},t,{theme:s,ref:n}))}));return d(t,e),t.displayName="WithTheme("+y(e)+")",t}}).call(this,n(131))},function(e,t,n){(function(n){var r,o,i,a,s,l,c,u,d,p,f,h,m,g,v,y,b,w,x,k,S,E,C,A,O;!function(){var I="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};function D(e,t){return e!==I&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};o=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},s=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){return function(n,r){t(n,r,e)}},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?n(e.value):o(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},p=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||O(t,e,n)},O=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},m=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},g=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},v=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},y=function(e){return this instanceof y?(this.v=e,this):new y(e)},b=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{l(o[e](t))}catch(e){d(i[0][3],e)}}function l(e){e.value instanceof y?Promise.resolve(e.value.v).then(c,u):d(i[0][2],e)}function c(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},w=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}},x=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){o(r,i,(t=e[n](t)).done,t.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},k=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&O(t,e,r);return n(t,e),t},E=function(e){return e&&e.__esModule?e:{default:e}},C=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},A=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},e("__extends",o),e("__assign",i),e("__rest",a),e("__decorate",s),e("__param",l),e("__metadata",c),e("__awaiter",u),e("__generator",d),e("__exportStar",p),e("__createBinding",O),e("__values",f),e("__read",h),e("__spread",m),e("__spreadArrays",g),e("__spreadArray",v),e("__await",y),e("__asyncGenerator",b),e("__asyncDelegator",w),e("__asyncValues",x),e("__makeTemplateObject",k),e("__importStar",S),e("__importDefault",E),e("__classPrivateFieldGet",C),e("__classPrivateFieldSet",A)}(D(I,D(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()}).call(this,n(61))},function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e],r=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=e=>e&&"object"==typeof e&&"function"==typeof e.then,i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},a=e=>1==e?"argument":"arguments",s=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:a},t))}))},l=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),o={has:(t,n)=>n in e||n in r,get(o,i,a){if(i in r)return r[i];if(!(i in e))return;let d=e[i];if("function"==typeof d)if("function"==typeof t[i])d=l(e,e[i],t[i]);else if(c(n,i)){let t=s(i,n[i]);d=l(e,e[i],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(c(t,i)||c(n,i)))d=u(d,t[i],n[i]);else{if(!c(n,"*"))return Object.defineProperty(r,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),d;d=u(d,t[i],n["*"])}return r[i]=d,d},set:(t,n,o,i)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},i=Object.create(e);return new Proxy(i,o)},d=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),p=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),f=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,a,s=!1,l=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{a=e(t,n,i)}catch(e){a=Promise.reject(e)}const c=!0!==a&&o(a);if(!0!==a&&!c&&!s)return!1;const u=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return u(c?a:l),!0})),h=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},m=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const o=h.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)}))},g={devtools:{network:{onRequestFinished:d(p)}},runtime:{onMessage:d(f),onMessageExternal:d(f),sendMessage:m.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:m.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},u(e,g,n)};e.exports=n(chrome)}},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i);const s=i.keyframes`
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
`,l=a.a.div`
    height: ${e=>e.heightAndWidth?e.heightAndWidth:e.height};
    width: ${e=>e.heightAndWidth?e.heightAndWidth:e.width};

    ${e=>e.originalImage&&i.css`
            mask-image: none;
            background-image: url(${({theme:t})=>{var n;return null!==(n=t.icons[e.icon])&&void 0!==n?n:e.icon}});
            background-position: center;
            background-size: contain;
            background-repeat: no-repeat;
        `}

    ${e=>!e.originalImage&&i.css`
            cursor: ${()=>e.hoverOff?"default":"pointer"};
            background-color: ${({theme:t})=>e.color?t.colors[e.color]:t.colors.greyScale5};
            mask-position: center;
            mask-size: contain;
            mask-repeat: no-repeat;
            mask-image: url(${({theme:t})=>{var n;return null!==(n=t.icons[e.icon])&&void 0!==n?n:e.icon}});
        `}
    ${e=>!e.originalImage&&"light"===e.theme.variant&&i.css`
            cursor: ${()=>e.hoverOff?"default":"pointer"};
            background-color: ${({theme:t})=>e.color?t.colors[e.color]:t.colors.greyScale4};
            mask-position: center;
            mask-size: contain;
            mask-repeat: no-repeat;
            mask-image: url(${({theme:t})=>{var n;return null!==(n=t.icons[e.icon])&&void 0!==n?n:e.icon}});
        `}
    ${e=>{return e.rotation&&i.css`
            animation: ${t=e.rotation,i.keyframes`0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(${t}deg);
    }`} 0.2s ease-in-out forwards;
            animation-fill-mode: forwards;
        `;var t}}



    ${e=>e.spinningIcon&&i.css`
            animation: ${s} 4s linear infinite reverse;
        `};
`,c=a.a.span`
    padding: ${e=>e.padding?e.padding:"3px"};
    display: flex;
    border-radius: 5px;
    cursor: ${e=>e.hoverOff?"inherit":"pointer"};
    justify-content: center;
    align-items: center;
    height: max-content;

    ${e=>e.hoverOff?i.css`
                  border: none;
                  outline: none;
              `:i.css`
                  &:hover {
                      border: none;
                      outline: 1px solid
                          ${e=>e.theme.colors.greyScale3};
                  }
              `}



    ${e=>"light"===e.theme.variant&&!e.hoverOff&&i.css`
            &:hover ${l} {
                background-color: ${e=>e.theme.colors.greyScale4};
            }
            &:hover {
                background-color: ${e=>e.theme.colors.greyScale2};
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};

    ${e=>e.active&&i.css`
            background: ${e=>e.theme.colors.greyScale2};

            &:hover {
                background-color: ${e=>e.hoverOff?"none":e.theme.colors.greyScale2};
            }
        `}
    ${e=>e.darkBackground&&i.css`
            background: ${e=>e.theme.colors.greyScale1};

            &:hover {
                background-color: ${e=>e.hoverOff?"none":e.theme.colors.greyScale2};
            }
        `}
    ${e=>e.background&&i.css`
            background: ${e=>e.theme.colors[e.background]};

            &:hover {
                background-color: ${e=>e.hoverOff?"none":e.theme.colors.greyScale3};
            }
        `}

    ${e=>e.borderColor&&i.css`
            outline: 1px solid
                ${e=>e.theme.colors[e.borderColor]};
        `}
    ${e=>e.opacity&&i.css`
            opacity: ${e=>e.opacity};
            backdrop-filter: blur(4px);
            opacity: 0.8;
        `}
    ${e=>e.inline&&i.css`
            display: inline-flex;
            vertical-align: middle;
        `}
    ${e=>"background"===e.hoverStyle&&i.css`
            &:hover {
                background: ${e=>e.theme.colors.greyScale2};
            }
        `}
`;function u(e){var t;const n="filePath"in e?e.filePath:e.icon,r=null!==(t=e.width)&&void 0!==t?t:e.height;return o.a.createElement(c,Object.assign({},e,{className:"MemexIcons",ref:e.containerRef,onClick:e.disabled?void 0:e.onClick,onMouseEnter:e.disabled?void 0:e.onMouseEnter,hoverStyle:e.hoverStyle}),o.a.createElement(l,{height:e.height,width:r,icon:n,color:e.color,hoverOff:e.hoverOff,rotation:e.rotation,heightAndWidth:e.heightAndWidth,originalImage:e.originalImage,background:e.background,darkBackground:e.darkBackground,active:e.active,disabled:e.disabled,spinningIcon:e.spinningIcon}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4),l=n(70),c=n.n(l),u=n(46);const d=a.a.div`
    // general styles
    position: relative;
    white-space: nowrap;
    display: flex;
    justify-content: ${e=>e.contentAlign?e.contentAlign:"center"};
    align-items: center;
    vertical-align: middle;
    width: min-content;
    width: ${e=>e.width?e.width:"fit-content"};
    height: ${e=>e.height};
    box-sizing: border-box;
    border-radius: 5px;
    cursor: pointer;
    flex-direction: column;
    grid-gap: 0.2rem;

    & * {
        cursor: pointer;
    }

    :focus {
        outline: unset;
    }

    ${e=>"primary"===e.type&&i.css`
            background-position: right;
            background: linear-gradient(35deg, #6ae394 100%, #fafafa 180.34%);

            &:hover {
                background: linear-gradient(
                    239deg,
                    #6ae394 61.87%,
                    #fafafa 121.34%
                );
            }

            ${e=>e.hoverState&&i.css`
                    background: linear-gradient(
                        239deg,
                        #6ae394 61.87%,
                        #fafafa 121.34%
                    );
                `}
        `};
    ${e=>"secondary"===e.type&&i.css`
            background: ${e=>e.theme.colors.white};
            border: 1px solid ${e=>e.theme.colors.white};

            &:hover {
                background: ${e=>e.theme.colors.white}90;
                border: 1px solid transparent;

                ${h} {
                    color: ${e=>e.theme.colors.black};
                }
            }
        `};

    ${e=>"tertiary"===e.type&&i.css`
            background: 'transparent';
            border: 1px solid transparent;

            &:hover {
                border: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};
    ${e=>"forth"===e.type&&i.css`
            background: ${e=>e.theme.colors.greyScale2};

            &:hover {
                background: ${e=>e.theme.colors.greyScale3};
            }
        `};
    ${e=>"glass"===e.type&&i.css`
            background: ${e=>e.theme.colors.black}70;
            backdrop-filter: blur(10px);
            outline: 1px solid ${e=>e.theme.colors.greyScale3};

            &:hover {
                background: ${e=>e.theme.colors.greyScale1}95;
            }
        `};
    ${e=>"menuBar"===e.type&&i.css`
            flex: 1;
            justify-content: center;
            border: none;
            outline: none;

            &:hover {
                background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale2+"80":e.theme.colors.greyScale6+"35"};
            }
        `};
    ${e=>"naked"===e.type&&i.css`
            justify-content: center;

            &:hover {
                background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale3+"80":e.theme.colors.greyScale6+"35"};
            }
        `};

    ${e=>null!=e.backgroundColor&&"menuBar"==e.type&&i.css`
            background: ${e=>e.theme.colors[e.backgroundColor]};
        `}

    ${e=>null!=e.backgroundColor&&"menuBar"!==e.type&&i.css`
            background: ${e=>e.theme.colors[e.backgroundColor]};
            border: 1px solid
                ${e=>e.theme.colors[e.backgroundColor]};

            &:hover {
                background: ${c()(e.theme.colors[e.backgroundColor]).darken(25).toHexString()};

                ${h} {
                    color: ${e=>e.fontColor?e.theme.colors[e.fontColor]:e.theme.colors.black};
                }
            }
        `};

    ${e=>"small"===e.size&&i.css`
            height: 26px;
            padding: 0 4px;
            grid-gap: 2px;
        `};

    ${e=>"medium"===e.size&&i.css`
            height: 34px;
            padding: 0 8px;
            grid-gap: 3px;
            grid-gap: 4px;
        `};

    ${e=>"large"===e.size&&i.css`
            height: 44px;
            padding: 0 16px;
            grid-gap: 6px;
        `};
    ${e=>e.active&&"tertiary"===e.type&&i.css`
            background: ${e=>e.theme.colors.greyScale2};
        `};
    ${e=>e.active&&"menuBar"===e.type&&i.css`
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale3+"70":e.theme.colors.greyScale6+"20"};
        `};

    ${e=>e.disabled&&"tertiary"!==e.type&&i.css`
            color: ${e=>e.theme.colors.greyScale4};
            background: ${e=>e.theme.colors.greyScale2};
            cursor: no-drop;
            border: solid 1px transparent;

            &:hover {
                background: ${e=>e.theme.colors.greyScale2};
                border: solid 1px ${e=>e.theme.colors.greyScale2};
            }

            & * {
                cursor: no-drop;
            }
        `};
    ${e=>e.fullWidth&&i.css`
            width: fill-available;
        `};
    ${e=>e.height&&i.css`
            height: ${e=>e.height};
        `};
    ${e=>e.width&&i.css`
            width: ${e=>e.width};
        `};
    ${e=>null!=e.icon&&(null==e.iconPosition||"left"===e.iconPosition)&&i.css`
            padding-left: 4px;
            padding-right: 10px;
        `};
    ${e=>null!=e.icon&&"right"===e.iconPosition&&i.css`
            padding-right: 4px;
            padding-left: 10px;
        `};
    ${e=>e.hasIconObject&&i.css`
            grid-gap: 10px;
            padding-left: 10px;
        `};

    ${e=>e.padding&&i.css`
            padding: ${e=>e.padding};
        `};

    ${e=>"menuBar"===e.type&&i.css`
            color: ${e=>e.theme.colors.greyScale6};
        `};
    ${e=>"menuBar"===e.type&&e.hoverState&&i.css`
            flex: 1;
            justify-content: center;
            color: ${e=>e.theme.colors.greyScale7};
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale2+"80":e.theme.colors.greyScale6+"35"};
        `}
    ${e=>"naked"===e.type&&e.hoverState&&i.css`
            justify-content: center;
            color: ${e=>e.theme.colors.greyScale7};
        `};

    ${e=>"naked"===e.type&&i.css`
            justify-content: center;
            color: ${e=>e.theme.colors.greyScale5};
        `};
`,p=a.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 0.2rem;

    ${e=>"right"===e.iconPosition&&i.css`
            flex-direction: row-reverse;
        `};
`,f=a.a.div`
    font-size: 12px;
    font-weight: 400;
    color: ${e=>e.theme.colors.greyScale4};
`,h=a.a.span`
    font-weight: 400;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    white-space: nowrap;
    display: flex;
    grid-gap: 5px;
    letter-spacing: 0.8px;

    ${e=>"primary"===e.type&&i.css`
            color: ${e=>(e.active,e.theme.colors.black)};

            ${e=>"light"===e.theme.variant&&i.css`
                    color: ${e=>e.theme.colors.greyScale6};
                `};
        `};
    ${e=>"secondary"===e.type&&i.css`
            color: ${e=>(e.active,e.theme.colors.black)};
        `};

    ${e=>"tertiary"===e.type&&i.css`
            color: ${e=>e.active||e.hoverState?e.theme.colors.white:e.theme.colors.greyScale5};
        `};

    ${e=>"forth"===e.type&&i.css`
            color: ${e=>(e.active,e.theme.colors.white)};
        `};

    ${e=>"glass"===e.type&&i.css`
            color: ${e=>e.active?e.theme.colors.white:e.theme.colors.greyScale7};
        `};

    ${e=>"small"===e.size&&i.css`
            font-size: 12px;
            font-weight: 400;
        `};

    ${e=>"medium"===e.size&&i.css`
            font-size: 14px;
            font-weight: 400;
        `};

    ${e=>"large"===e.size&&i.css`
            font-size: 14px;
        `};
    ${e=>e.bold&&i.css`
            font-weight: 700;
        `};
    ${e=>e.fontSize&&i.css`
            font-size: ${e=>e.fontSize};
        `};
    ${e=>e.fontColor&&i.css`
            color: ${e=>e.theme.colors[e.fontColor]};
        `};

    ${e=>e.disabled&&"tertiary"!==e.type&&i.css`
            color: ${e=>e.theme.colors.greyScale4};
        `};
    text-overflow: ellipsis;
`,m=a()(s.a)`
    margin-left: -4px;

    ${e=>"right"===e.iconPosition&&i.css`
            margin-right: -4px;
            flex-direction: row-reverse;
        `};

    ${e=>("left"===e.iconPosition||null==e.iconPosition)&&i.css`
            margin-left: -4px;
        `};
`;function g(e,t,n,r,o){if("object"!=typeof n)return r?"black":n?t?"prime1":n:"primary"===e||"secondary"===e?t?"prime1":"black":"tertiary"===e?t?"prime1":"greyScale5":"forth"===e?t?"prime1":"white":void 0;Object(u.b)(n)}function v(e){const[t,n]=Object(r.useState)(!1);return o.a.createElement(d,{autoFocus:!0,tabIndex:e.tabIndex,onClick:!0===e.disabled?void 0:e.onClick,disabled:e.disabled,ref:e.innerRef,backgroundColor:e.backgroundColor,fontColor:e.fontColor,iconPosition:e.iconPosition,width:e.width,height:e.height,type:e.type,size:e.size,active:e.active,contentAlign:e.contentAlign,fullWidth:e.fullWidth,id:e.id,className:"PrimaryAction",padding:e.padding,icon:e.icon,hoverState:t||e.hoverState,onMouseUp:e.onMouseUp,onMouseDown:e.onMouseDown,onMouseEnter:t=>{e.onMouseEnter&&e.onMouseEnter(t),n(!0)},onMouseLeave:t=>{e.onMouseLeave&&e.onMouseLeave(t),n(!1)},onMouseOver:t=>{e.onMouseOver&&e.onMouseOver(t),n(!0)},originalImage:e.originalImage,hasIconObject:"object"==typeof e.icon},o.a.createElement(p,{iconPosition:e.iconPosition?e.iconPosition:"left"},e.icon&&"object"!=typeof e.icon?o.a.createElement(m,{filePath:e.icon,heightAndWidth:(i=e.size,a=e.iconSize,a||("small"===i?"16px":"medium"===i?"18px":"20px")),color:g(e.type,e.active,e.iconColor,e.disabled),disabled:e.disabled,hoverOff:!0,iconPosition:e.iconPosition?e.iconPosition:"left",spinningIcon:e.spinningIcon,hasLabel:null!=e.label,originalImage:e.originalImage}):o.a.createElement(o.a.Fragment,null,e.icon),e.label&&o.a.createElement(h,{type:e.type,size:e.size,active:e.active,fontColor:e.fontColor,fontSize:e.fontSize,bold:e.bold,hoverState:t},e.label)),null!=e.subLabel&&o.a.createElement(f,null,e.subLabel));var i,a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return k})),n.d(t,"h",(function(){return S})),n.d(t,"n",(function(){return C})),n.d(t,"e",(function(){return A})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return I})),n.d(t,"g",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"o",(function(){return N}));var r=n(2),o=n(277),i=n.n(o),a=n(3),s=n.n(a),l=n(53),c=n(157),u=n.n(c),d=n(238),p=n.n(d);const f=(e,t)=>({headers:{type:"RPC_REQUEST",id:p()(),name:e.name,tabId:e.tabId,proxy:e.proxy,originSide:e.originSide,recipientSide:e.recipientSide},payload:t});var h=n(130);class m{constructor(e){this.deps=e,this.log=(e,t)=>{(!0===this.deps.debug||globalThis["memex-rpc-debug"])&&(e=`RPC::side=${this.deps.sideName}::`+e,console.log(e,null!=t?t:{}))},this.postMessageRequestToBackground=(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=f({name:e,originSide:this.deps.sideName,recipientSide:"background"},t);return this.postMessageRequestToRPC(n)})),this.postMessageRequestToContentScript=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=f({name:t,tabId:e,originSide:this.deps.sideName,recipientSide:"content-script-global"},n);return this.postMessageRequestToRPC(r)})),this.postMessageRequestToCSViaBG=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=f({tabId:e,name:t,proxy:"background",originSide:this.deps.sideName,recipientSide:"background"},n);return this.postMessageRequestToRPC(r)})),this.messageResponder=(e,t,n)=>{if(e[I])return!0;const{headers:o,payload:i,error:a,serializedError:s}=e,{id:l,name:c,type:u}=o,d=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r,a;if("RPC_REQUEST"===u){if(this.log(`messageResponder:: REQUEST received for [${c}]:`,e),this.deps.sideName!==e.headers.recipientSide)return void this.log(`messageResponder:: REQUEST ignored for [${c}] - wrong recipient:`,e);if("background"===o.proxy)yield this.postMessageRequestToContentScript(o.tabId,c,i);else{const o=this.deps.getRegisteredRemoteFunction(c);if(!o)throw console.error({side:this.deps.sideName,packet:e}),Error(`No registered remote function called ${c}`);Object.defineProperty(o,"name",{value:c}),this.log(`messageResponder:: RUNNING Function [${c}]`);let s=null!==(r=t.tab)&&void 0!==r?r:null!=e.headers.tabId?yield null===(a=this.deps.browserAPIs.tabs)||void 0===a?void 0:a.get(e.headers.tabId):void 0;s=Object(h.b)(s);try{const t=yield o({tab:s},...i);this.log(`messageResponder:: FINISHED Function [${c}]`,t);const r=(e=>{const{request:{headers:t}}=e;return{headers:{type:"RPC_RESPONSE",id:t.id,name:t.name,originSide:e.originSide,recipientSide:e.recipientSide},payload:e.payload,error:e.error,serializedError:e.serializedError}})({request:e,payload:t,originSide:this.deps.sideName,recipientSide:e.headers.originSide});n(r)}catch(e){throw this.log(`messageResponder:: ERRORED Function [${c}]`),new g(e)}}}else"RPC_RESPONSE"===u&&this.log(`messageResponder:: RESPONSE received for [${c}]`)}));return this.paused?this.paused.then(d):d(),!0},this.setup=()=>{this.deps.browserAPIs.runtime.onMessage.addListener(this.messageResponder)},this.unpause=()=>{const e=this.paused;delete this.paused,null==e||e.resolve()},e.initPaused&&(this.paused=u()())}postMessageRequestToRPC(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let t;this.log(`messageRequester:: Requested for [${e.headers.name}]`,{request:e});try{t="background"===this.deps.sideName?yield this.deps.browserAPIs.tabs.sendMessage(e.headers.tabId,e):yield this.deps.browserAPIs.runtime.sendMessage(e)}catch(e){throw new g(e)}return this.log(`messageRequester:: Got response for [${e.headers.name}]`,t.payload),t.payload}))}}class g extends Error{constructor(e){super(e.message),this.name=this.constructor.name,this.message=e.message,this.stack=e.stack,this.cause=e.cause}}function v(e){return{withExtraArgs:!0,function:e}}function y(e){return{withExtraArgs:!1,function:e}}function b(e){for(const[t,n]of Object.entries(e)){const e=n;O({[t]:e.function},{insertExtraArg:e.withExtraArgs})}}function w(){return new Proxy({},{get(e,t){return(...e)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!L)throw new Error(`runInBackground: RPC connection has not been setup.\nfn name: ${t.toString()}\nargs: ${e}\n\nIf you are calling direct from content-script code, instead pass it down from the global content-script.\n`);return L.postMessageRequestToBackground(t.toString(),e)}))}})}function x(e,t){return new Proxy({},{get:(n,r)=>(...n)=>L.postMessageRequestToContentScript(e,r.toString(),n,t)})}function k(e){return new Proxy({},{get:(t,n)=>(...t)=>L.postMessageRequestToCSViaBG(e,n.toString(),t)})}function S(e,{tabId:t}={}){return t?(...n)=>L.postMessageRequestToContentScript(t,e,n):(...t)=>L.postMessageRequestToBackground(e,t)}const E="undefined"!=typeof globalThis&&globalThis.remoteFunctions||{};function C(e){for(const[t,n]of Object.entries(e))A(n)}function A(e,{insertExtraArg:t=!1}={}){return O(e,{insertExtraArg:t})}function O(e,{insertExtraArg:t=!1}={}){if(!t){e=i()((e=>(t,...n)=>e(...n)))(e)}for(const t of Object.keys(e))if(E.hasOwnProperty(t)){const e=`RPC function with name ${t} has already been registered `;console.warn(e)}Object.assign(E,e)}"undefined"!=typeof globalThis&&(globalThis.remoteFunctions=E);const I="__REMOTE_EVENT__",D="__REMOTE_EVENT_TYPE__",M="__REMOTE_EVENT_NAME__";function T(e,{broadcastToTabs:t=!1,silenceBroadcastFailures:n=!1}={}){const o={__REMOTE_EVENT__:I,[D]:e};return{emit:t?(t,...i)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r;const a=null!==(r=yield s.a.tabs.query({}))&&void 0!==r?r:[];for(const{id:r}of a)try{yield s.a.tabs.sendMessage(r,Object.assign(Object.assign({},o),{[M]:t,data:i[0]}))}catch(o){n||console.error(`Remote event emitter "${e}" failed to emit event "${String(t)}" to tab ${r}:\n\tError message: "${o.message}"`)}})):(t,...n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{yield s.a.runtime.sendMessage(Object.assign(Object.assign({},o),{[M]:t,data:n[0]}))}catch(n){let r=["A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received","Could not establish connection."];n.message.includes(r[0])||n.message.includes(r[1])||console.error(`Remote event emitter "${e}" failed to emit event "${String(t)}":\n\tError message: "${n.message}"`)}})),emitToTab:(t,n,...i)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{yield s.a.tabs.sendMessage(n,Object.assign(Object.assign({},o),{[M]:t,data:i[0]}))}catch(r){console.error(`Remote event emitter "${e}" failed to emit event "${String(t)}" to tab ${n}:\n\tError message: "${r.message}"`)}}))}}const _={};const R=(e,t)=>{if(null==e||e[I]!==I)return!1;const n=e[D],r=_[n];if(null==r)return!1;r.emit(e[M],e.data)};function P(e){const t=_[e];if(t)return t;const n=new l.EventEmitter;return _[e]=n,s.a.runtime.onMessage.hasListener(R)||s.a.runtime.onMessage.addListener(R),n}let L;const N=e=>(L=new m({getRegisteredRemoteFunction:e=>E[e],browserAPIs:e.browserAPIs,initPaused:e.paused,sideName:e.sideName,role:e.role}),L.setup(),L)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(159),a=n(1),s=n.n(a),l=n(28),c=n.n(l);const u=({children:e,placement:t,offsetX:n,offsetY:a,tooltipText:s,width:l,strategy:u,zIndex:h,getPortalRoot:m,fullWidthTarget:g,hideTooltip:v,dontCloseOnClick:y})=>{const[b,w]=Object(r.useState)(null),[x,k]=Object(r.useState)(null),[S,E]=Object(r.useState)(null),[C,A]=Object(r.useState)(!1),[O,I]=Object(r.useState)(null),{styles:D,attributes:M}=Object(i.usePopper)(b,x,{placement:t||"left-start",strategy:u||"absolute",modifiers:[{name:"offset",options:{offset:[a||0,n||10]}}]});let T=null;try{T=null!=m?null==m?void 0:m():document.querySelector("body")}catch(e){T=document.querySelector("body")}return Object(r.useEffect)((()=>()=>{O&&clearTimeout(O)}),[O]),o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{onMouseEnter:e=>{{const e=setTimeout((()=>{A(!0)}),200);I(e)}},onMouseLeave:e=>{O&&(clearTimeout(O),I(null)),A(!1)},onMouseDown:e=>{y||(null==b?void 0:b.contains(e.target))||A(!1)},ref:w,zIndex:h,width:l,fullWidthTarget:g},e),C&&!v&&null!=s&&(null===m?o.a.createElement(p,Object.assign({ref:k,width:l,style:D.popper},M.popper),s,o.a.createElement(d,{ref:E,"data-popper-arrow":!0,style:D.arrow})):c.a.createPortal(o.a.createElement(p,Object.assign({ref:k,width:l,style:D.popper},M.popper),s,o.a.createElement(d,{ref:E,"data-popper-arrow":!0,style:D.arrow})),T)))},d=s.a.div`
    visibility: hidden;
    background: ${e=>e.theme.colors.greyScale3};

    ::before {
        position: absolute;
        width: 12px;
        height: 12px;
        background: inherit;
    }

    ::before {
        visibility: visible;
        content: '';
        transform: rotate(45deg);
    }
`,p=s.a.div`
    padding: 5px;
    text-align: center;
    border-radius: 5px;
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    padding: 8px 10px;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    justify-content: center;
    color: ${e=>e.theme.colors.greyScale6};
    border: 1px solid ${e=>e.theme.colors.greyScale4};
    font-size: 12px;
    line-height: 18px;
    background: ${e=>e.theme.colors.greyScale3};
    line-break: normal;
    width: ${e=>e.width?e.width:"max-content"};
    position: relative;
    z-index: 300000000000;

    ${e=>"light"===e.theme.variant&&a.css`
            border-color: ${e=>e.theme.colors.greyScale5};
            background: ${e=>e.theme.colors.greyScale5};
            backdrop-filter: blur(10px);
            color: ${e=>e.theme.colors.greyScale1};
        `};

    &[data-popper-placement^='top'] > ${d} {
        bottom: 6px;
        margin-left: -8px;

        ::before {
            border-bottom-right-radius: 3px;
            border-right: 1px solid ${e=>e.theme.colors.greyScale4};
            border-bottom: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    &[data-popper-placement^='bottom'] > ${d} {
        top: -7px;
        margin-left: -8px;

        ::before {
            border-top-left-radius: 3px;
            border-top: 1px solid ${e=>e.theme.colors.greyScale4};
            border-left: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    &[data-popper-placement^='left'] > ${d} {
        margin-top: -7px;
        right: 6px;

        ::before {
            border-top-right-radius: 3px;
            border-top: 1px solid ${e=>e.theme.colors.greyScale4};
            border-right: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    &[data-popper-placement^='right'] > ${d} {
        left: -7px;
        margin-top: -6px;

        ::before {
            border-bottom-left-radius: 3px;
            border-bottom: 1px solid ${e=>e.theme.colors.greyScale4};
            border-left: 1px solid ${e=>e.theme.colors.greyScale4};
            ${e=>"light"===e.theme.variant&&a.css`
                    border-color: ${e=>e.theme.colors.greyScale5};
                    background: ${e=>e.theme.colors.greyScale5};
                `};
        }
    }

    > * strong {
        color: ${e=>e.theme.colors.greyScale7};
        font-weight: 700;
        margin-right: 5px;
    }
`,f=s.a.div`
    position: relative;
    z-index: ${e=>e.zIndex};
    width: ${e=>e.fullWidthTarget&&"100%"};
    /* &:hover ${p} {
        min-height: 30px;
        padding: 5px;
        text-align: center;
        border-radius: 5px;
        display: flex;
        flex-wrap: nowrap;
        min-width: max-content;
        align-items: center;
        font-family: 'Satoshi', sans-serif;
font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on, 'liga' off;
        justify-content: center;
        color: ${e=>e.theme.colors.white};
        font-size: 14px;
        background: ${e=>e.theme.colors.greyScale2};
        width: 80px;
        line-break: normal;
    } */
`;s.a.div`
    box-shadow: 0px 24px 48px 0px ${e=>e.theme.colors.black};
    border-radius: 12px;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    background: ${e=>e.theme.colors.greyScale1};
    width: ${e=>e.width?e.width:"fit-content"};
    z-index: 300000000000;
    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));const r=e=>{var t,n;return{allIds:null!==(t=null==e?void 0:e.seedData.map(null==e?void 0:e.getId))&&void 0!==t?t:[],byId:null!==(n=null==e?void 0:e.seedData.reduce(((t,n)=>Object.assign(Object.assign({},t),{[e.getId(n)]:(null==e?void 0:e.cloneObjects)?Object.assign({},n):n})),{}))&&void 0!==n?n:{}}},o=(...e)=>{const t=r();for(const n of e)t.allIds=[...new Set([...t.allIds,...n.allIds])],t.byId=Object.assign(Object.assign({},t.byId),n.byId);return t},i=e=>e.allIds.map((t=>e.byId[t]))},function(e,t,n){"use strict";n.r(t),n.d(t,"addPeople",(function(){return i})),n.d(t,"arrowDown",(function(){return a})),n.d(t,"arrowLeft",(function(){return s})),n.d(t,"arrowRight",(function(){return l})),n.d(t,"arrowUp",(function(){return c})),n.d(t,"atSign",(function(){return u})),n.d(t,"backup",(function(){return d})),n.d(t,"bell",(function(){return p})),n.d(t,"block",(function(){return f})),n.d(t,"blueRoundCheck",(function(){return h})),n.d(t,"boldIcon",(function(){return m})),n.d(t,"bulletListIcon",(function(){return g})),n.d(t,"chatWithUs",(function(){return v})),n.d(t,"check",(function(){return y})),n.d(t,"checkedRound",(function(){return b})),n.d(t,"checkRound",(function(){return w})),n.d(t,"clock",(function(){return x})),n.d(t,"coilIcon",(function(){return k})),n.d(t,"collectionsEmpty",(function(){return S})),n.d(t,"collectionsFull",(function(){return E})),n.d(t,"command",(function(){return C})),n.d(t,"comment",(function(){return A})),n.d(t,"commentAdd",(function(){return O})),n.d(t,"commentFull",(function(){return I})),n.d(t,"compress",(function(){return D})),n.d(t,"copy",(function(){return M})),n.d(t,"cursor",(function(){return T})),n.d(t,"calendar",(function(){return _})),n.d(t,"date",(function(){return R})),n.d(t,"discord",(function(){return P})),n.d(t,"slack",(function(){return L})),n.d(t,"dots",(function(){return N})),n.d(t,"doubleArrow",(function(){return j})),n.d(t,"dropImage",(function(){return B})),n.d(t,"edit",(function(){return F})),n.d(t,"emptyCircle",(function(){return z})),n.d(t,"expand",(function(){return $})),n.d(t,"feed",(function(){return H})),n.d(t,"file",(function(){return U})),n.d(t,"filePDF",(function(){return W})),n.d(t,"filterIcon",(function(){return V})),n.d(t,"folder",(function(){return q})),n.d(t,"fullPageReading",(function(){return G})),n.d(t,"globe",(function(){return Y})),n.d(t,"goTo",(function(){return K})),n.d(t,"h1Icon",(function(){return J})),n.d(t,"h2Icon",(function(){return X})),n.d(t,"hamburger",(function(){return Q})),n.d(t,"heartEmpty",(function(){return Z})),n.d(t,"heartFull",(function(){return ee})),n.d(t,"helpIcon",(function(){return te})),n.d(t,"highlight",(function(){return ne})),n.d(t,"highlighterEmpty",(function(){return re})),n.d(t,"highlighterFull",(function(){return oe})),n.d(t,"imageIcon",(function(){return ie})),n.d(t,"imports",(function(){return ae})),n.d(t,"inbox",(function(){return se})),n.d(t,"info",(function(){return le})),n.d(t,"integrate",(function(){return ce})),n.d(t,"invite",(function(){return ue})),n.d(t,"italicIcon",(function(){return de})),n.d(t,"link",(function(){return pe})),n.d(t,"linuxLogo",(function(){return fe})),n.d(t,"lock",(function(){return he})),n.d(t,"lockFine",(function(){return me})),n.d(t,"login",(function(){return ge})),n.d(t,"logoHorizontal",(function(){return ve})),n.d(t,"logoNoText",(function(){return ye})),n.d(t,"logout",(function(){return be})),n.d(t,"longArrow",(function(){return we})),n.d(t,"longArrowRight",(function(){return xe})),n.d(t,"macLogo",(function(){return ke})),n.d(t,"mail",(function(){return Se})),n.d(t,"mediumLogo",(function(){return Ee})),n.d(t,"memexLogoGrey",(function(){return Ce})),n.d(t,"multiEdit",(function(){return Ae})),n.d(t,"newFeed",(function(){return Oe})),n.d(t,"numberedListIcon",(function(){return Ie})),n.d(t,"openSidebar",(function(){return De})),n.d(t,"pause",(function(){return Me})),n.d(t,"pdf",(function(){return Te})),n.d(t,"peopleFine",(function(){return _e})),n.d(t,"peoplePlusFine",(function(){return Re})),n.d(t,"personFine",(function(){return Pe})),n.d(t,"phone",(function(){return Le})),n.d(t,"pin",(function(){return Ne})),n.d(t,"play",(function(){return je})),n.d(t,"playFull",(function(){return Be})),n.d(t,"plus",(function(){return Fe})),n.d(t,"plusIcon",(function(){return ze})),n.d(t,"quickActionRibbon",(function(){return $e})),n.d(t,"readwise",(function(){return He})),n.d(t,"redo",(function(){return Ue})),n.d(t,"reload",(function(){return We})),n.d(t,"remove",(function(){return Ve})),n.d(t,"removeX",(function(){return qe})),n.d(t,"ribbonOff",(function(){return Ge})),n.d(t,"ribbonOn",(function(){return Ye})),n.d(t,"sadFace",(function(){return Ke})),n.d(t,"saveIcon",(function(){return Je})),n.d(t,"searchIcon",(function(){return Xe})),n.d(t,"settings",(function(){return Qe})),n.d(t,"share",(function(){return Ze})),n.d(t,"shared",(function(){return et})),n.d(t,"sharedProtected",(function(){return tt})),n.d(t,"shareEmpty",(function(){return nt})),n.d(t,"shareWhite",(function(){return rt})),n.d(t,"shield",(function(){return ot})),n.d(t,"sidebarIcon",(function(){return it})),n.d(t,"sideBySide",(function(){return at})),n.d(t,"smileFace",(function(){return st})),n.d(t,"sort",(function(){return lt})),n.d(t,"spotifyLogo",(function(){return ct})),n.d(t,"stars",(function(){return ut})),n.d(t,"stop",(function(){return dt})),n.d(t,"strikethroughIcon",(function(){return pt})),n.d(t,"substackLogo",(function(){return ft})),n.d(t,"sunrise",(function(){return ht})),n.d(t,"tagEmpty",(function(){return mt})),n.d(t,"tagFull",(function(){return gt})),n.d(t,"threadIcon",(function(){return vt})),n.d(t,"timestampIcon",(function(){return yt})),n.d(t,"tooltipOff",(function(){return bt})),n.d(t,"tooltipOn",(function(){return wt})),n.d(t,"trash",(function(){return xt})),n.d(t,"triangle",(function(){return kt})),n.d(t,"twitter",(function(){return St})),n.d(t,"twitterLogo",(function(){return Et})),n.d(t,"blueskyLogo",(function(){return Ct})),n.d(t,"telegram",(function(){return At})),n.d(t,"googleLogo",(function(){return Ot})),n.d(t,"twitterThin",(function(){return It})),n.d(t,"warning",(function(){return Dt})),n.d(t,"webMonetizationLogo",(function(){return Mt})),n.d(t,"webMonetizationLogoConfirmed",(function(){return Tt})),n.d(t,"winLogo",(function(){return _t})),n.d(t,"youtubeLogo",(function(){return Rt})),n.d(t,"reply",(function(){return Pt})),n.d(t,"openAI",(function(){return Lt})),n.d(t,"openAIicon",(function(){return Nt})),n.d(t,"bulletPoint",(function(){return jt})),n.d(t,"sun",(function(){return Bt})),n.d(t,"moon",(function(){return Ft})),n.d(t,"cameraIcon",(function(){return zt})),n.d(t,"memexIconDarkMode",(function(){return $t})),n.d(t,"memexIconLightMode",(function(){return Ht})),n.d(t,"obsidianLogo",(function(){return Ut})),n.d(t,"logseqLogo",(function(){return Wt})),n.d(t,"rectangleDraw",(function(){return Vt})),n.d(t,"local",(function(){return qt})),n.d(t,"key",(function(){return Gt})),n.d(t,"spread",(function(){return Yt})),n.d(t,"dragList",(function(){return Kt})),n.d(t,"memexIconOnly",(function(){return Jt})),n.d(t,"move",(function(){return Xt})),n.d(t,"enter",(function(){return Qt})),n.d(t,"browserIcon",(function(){return Zt}));var r=n(3),o=n.n(r);const i=o.a.runtime.getURL("/img/addPeople.svg"),a=o.a.runtime.getURL("/img/arrowDown.svg"),s=o.a.runtime.getURL("/img/arrowLeft.svg"),l=o.a.runtime.getURL("/img/arrowRight.svg"),c=o.a.runtime.getURL("/img/arrow-up.svg"),u=o.a.runtime.getURL("/img/atSign.svg"),d=o.a.runtime.getURL("/img/backup.svg"),p=null,f=o.a.runtime.getURL("/img/block.svg"),h=o.a.runtime.getURL("/img/blueRoundCheck.svg"),m=o.a.runtime.getURL("/img/boldIcon.svg"),g=o.a.runtime.getURL("/img/bulletListIcon.svg"),v=o.a.runtime.getURL("/img/chatWithUs.svg"),y=o.a.runtime.getURL("/img/check.svg"),b=null,w=o.a.runtime.getURL("/img/checkRound.svg"),x=o.a.runtime.getURL("/img/clock.svg"),k=null,S=o.a.runtime.getURL("/img/spaceEmpty.svg"),E=o.a.runtime.getURL("/img/spaceFull.svg"),C=o.a.runtime.getURL("/img/command.svg"),A=o.a.runtime.getURL("/img/comment_full.svg"),O=o.a.runtime.getURL("/img/comment_add.svg"),I=o.a.runtime.getURL("/img/comment_full.svg"),D=o.a.runtime.getURL("/img/compress.svg"),M=o.a.runtime.getURL("/img/copy.svg"),T=o.a.runtime.getURL("/img/cursor.svg"),_=o.a.runtime.getURL("/img/calendar.svg"),R=o.a.runtime.getURL("/img/date.svg"),P=o.a.runtime.getURL("/img/discord.svg"),L=o.a.runtime.getURL("/img/slack.svg"),N=o.a.runtime.getURL("/img/3dots.svg"),j=o.a.runtime.getURL("/img/doubleArrow.svg"),B=o.a.runtime.getURL("/img/dropImage.svg"),F=o.a.runtime.getURL("/img/edit.svg"),z=o.a.runtime.getURL("/img/emptyCircle.svg"),$=o.a.runtime.getURL("/img/expand.svg"),H=o.a.runtime.getURL("/img/feed.svg"),U=o.a.runtime.getURL("/img/file.svg"),W=o.a.runtime.getURL("/img/file-pdf.svg"),V=o.a.runtime.getURL("/img/filterIcon.svg"),q=o.a.runtime.getURL("/img/folder.svg"),G=o.a.runtime.getURL("/img/fullPageReading.svg"),Y=o.a.runtime.getURL("/img/globe.svg"),K=o.a.runtime.getURL("/img/open.svg"),J=o.a.runtime.getURL("/img/h1Icon.svg"),X=o.a.runtime.getURL("/img/h2Icon.svg"),Q=o.a.runtime.getURL("/img/hamburger.svg"),Z=o.a.runtime.getURL("/img/heart_empty.svg"),ee=o.a.runtime.getURL("/img/heart_full.svg"),te=o.a.runtime.getURL("/img/help.svg"),ne=o.a.runtime.getURL("/img/highlights.svg"),re=o.a.runtime.getURL("/img/highlightOff.svg"),oe=o.a.runtime.getURL("/img/highlightOn.svg"),ie=o.a.runtime.getURL("/img/imageIcon.svg"),ae=o.a.runtime.getURL("/img/import.svg"),se=o.a.runtime.getURL("/img/inbox.svg"),le=o.a.runtime.getURL("/img/infoIcon.svg"),ce=o.a.runtime.getURL("/img/integrate.svg"),ue=o.a.runtime.getURL("/img/invite.svg"),de=o.a.runtime.getURL("/img/italicIcon.svg"),pe=o.a.runtime.getURL("/img/link.svg"),fe=o.a.runtime.getURL("/img/linux_logo.svg"),he=o.a.runtime.getURL("/img/lock.svg"),me=o.a.runtime.getURL("/img/lockFine.svg"),ge=o.a.runtime.getURL("/img/login.svg"),ve=o.a.runtime.getURL("/img/memexLogoHorizontal.png"),ye=o.a.runtime.getURL("/img/memexLogo.svg"),be=o.a.runtime.getURL("/img/logout.svg"),we=o.a.runtime.getURL("/img/longArrowLeft.svg"),xe=o.a.runtime.getURL("/img/longArrowRight.svg"),ke=o.a.runtime.getURL("/img/apple_logo.svg"),Se=o.a.runtime.getURL("/img/mail.svg"),Ee=o.a.runtime.getURL("/img/medium-logo.svg"),Ce=o.a.runtime.getURL("/img/memexLogoGrey.svg"),Ae=o.a.runtime.getURL("/img/multiEdits.svg"),Oe=null,Ie=o.a.runtime.getURL("/img/numberedListIcon.svg"),De=o.a.runtime.getURL("/img/openSidebar.svg"),Me=o.a.runtime.getURL("/img/pause.svg"),Te=o.a.runtime.getURL("/img/file-pdf.svg"),_e=o.a.runtime.getURL("/img/peopleFine.svg"),Re=o.a.runtime.getURL("/img/peoplePlusFine.svg"),Pe=o.a.runtime.getURL("/img/personFine.svg"),Le=o.a.runtime.getURL("/img/phone.svg"),Ne=o.a.runtime.getURL("/img/pin.svg"),je=o.a.runtime.getURL("/img/play.svg"),Be=o.a.runtime.getURL("/img/playFull.svg"),Fe=o.a.runtime.getURL("/img/plus.svg"),ze=o.a.runtime.getURL("/img/followedSpace.svg"),$e=o.a.runtime.getURL("/img/quickActionRibbon.svg"),He=o.a.runtime.getURL("/img/readwise.svg"),Ue=o.a.runtime.getURL("/img/redo.svg"),We=o.a.runtime.getURL("/img/reload.svg"),Ve=o.a.runtime.getURL("/img/remove.svg"),qe=o.a.runtime.getURL("/img/removeX.svg"),Ge=o.a.runtime.getURL("/img/ribbonOff.svg"),Ye=o.a.runtime.getURL("/img/ribbonOn.svg"),Ke=o.a.runtime.getURL("/img/sadFace.svg"),Je=o.a.runtime.getURL("/img/saveIcon.svg"),Xe=o.a.runtime.getURL("/img/search.svg"),Qe=o.a.runtime.getURL("/img/settings.svg"),Ze=o.a.runtime.getURL("/img/share.svg"),et=o.a.runtime.getURL("/img/shared.svg"),tt=o.a.runtime.getURL("/img/sharedprotected.svg"),nt=o.a.runtime.getURL("/img/shareEmpty.svg"),rt=o.a.runtime.getURL("/img/shareWhite.svg"),ot=o.a.runtime.getURL("/img/shield.svg"),it=o.a.runtime.getURL("/img/sidebarOn.svg"),at=o.a.runtime.getURL("/img/sideBySide.svg"),st=o.a.runtime.getURL("/img/smileFace.svg"),lt=o.a.runtime.getURL("/img/sort.svg"),ct=o.a.runtime.getURL("/img/spotify-logo.svg"),ut=o.a.runtime.getURL("/img/stars.svg"),dt=o.a.runtime.getURL("/img/stop.svg"),pt=o.a.runtime.getURL("/img/strikethroughIcon.svg"),ft=o.a.runtime.getURL("/img/substack-logo.svg"),ht=o.a.runtime.getURL("/img/sunrise.svg"),mt=o.a.runtime.getURL("/img/tag_empty.svg"),gt=o.a.runtime.getURL("/img/tag_full.svg"),vt=null,yt=o.a.runtime.getURL("/img/timestampIcon.svg"),bt=o.a.runtime.getURL("/img/tooltipOff.svg"),wt=o.a.runtime.getURL("/img/tooltipOn.svg"),xt=o.a.runtime.getURL("/img/trash.svg"),kt=o.a.runtime.getURL("/img/chevron-down.svg"),St=o.a.runtime.getURL("/img/twitter.svg"),Et=o.a.runtime.getURL("/img/twitter-logo.svg"),Ct=o.a.runtime.getURL("/img/bluesky-logo.svg"),At=o.a.runtime.getURL("/img/telegram.svg"),Ot=o.a.runtime.getURL("/img/googleLogo.svg"),It=o.a.runtime.getURL("/img/youtube-logo.svg"),Dt=o.a.runtime.getURL("/img/alertRound.svg"),Mt=o.a.runtime.getURL("/img/web-monetization-logo.svg"),Tt=o.a.runtime.getURL("/img/web-monetization-logo-confirmed.svg"),_t=o.a.runtime.getURL("/img/windows_logo.svg"),Rt=o.a.runtime.getURL("/img/youtube-logo.svg"),Pt=o.a.runtime.getURL("/img/reply.svg"),Lt=o.a.runtime.getURL("/img/openAI.svg"),Nt=o.a.runtime.getURL("/img/openAIicon.svg"),jt=o.a.runtime.getURL("/img/bulletPoint.svg"),Bt=o.a.runtime.getURL("/img/sun.svg"),Ft=o.a.runtime.getURL("/img/moon.svg"),zt=o.a.runtime.getURL("/img/cameraIcon.svg"),$t=o.a.runtime.getURL("/img/memexIconDarkMode.svg"),Ht=o.a.runtime.getURL("/img/memexIcoLightkMode.svg"),Ut=o.a.runtime.getURL("/img/obsidianLogo.svg"),Wt=o.a.runtime.getURL("/img/logseqLogo.svg"),Vt=o.a.runtime.getURL("/img/rectangleDraw.svg"),qt=o.a.runtime.getURL("/img/local.svg"),Gt=o.a.runtime.getURL("/img/key.svg"),Yt=o.a.runtime.getURL("/img/spread.svg"),Kt=o.a.runtime.getURL("/img/dragList.svg"),Jt=o.a.runtime.getURL("/img/memexIconOnly.svg"),Xt=o.a.runtime.getURL("/img/move.svg"),Qt=o.a.runtime.getURL("/img/enter.svg"),Zt=o.a.runtime.getURL("/img/browserIcons/logo-48.png")},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f}));var r=n(2),o=n(208),i=n.n(o),a=(n(56),n(113));function s(e){return t=>{const n=e[t.event.type];if(!n)throw new Error(`No event processor found for event ${t.event.type}`);return n(t)}}function l(e,t,{actions:n={},dependencies:r=null}={}){return o=>{!function({eventProcessor:e,state:t,setState:n,props:r,event:o,dependencies:i,actions:a}){const s=e({state:t,event:o,dependencies:i});s.updateState&&n(s.updateState),s.dispatch&&c(r,s.dispatch,"event"),s.actions&&c(a,s.actions,"action")}({eventProcessor:t,state:e.state,props:e.props,setState:e.setState.bind(e),event:o,actions:n,dependencies:r})}}function c(e,t,n){t instanceof Array||(t=[t]);for(const r of t){const t=e[r.type];t||console.error(`Dispatched ${n} without handler: ${r.type}`);t(...r.args?Object.values(r.args):[])}}class u extends a.a{constructor(e,t){super(e,{logic:t})}}function d(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return(yield p(e,"loadState",t))[0]}))}function p(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=e=>"function"==typeof t?t(e):{[t]:{$set:e}};e.emitMutation(r("running"));try{const t=yield n();let o="success",a={};return t&&(t.status&&(o=t.status),t.mutation&&(a=t.mutation)),e.emitMutation(i()(r(o),a)),{success:"error"!==o}}catch(t){return console.error(t),e.emitMutation(r("error")),{success:!1}}}))}function f(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=n=>e.setState({[t]:n});r("running");try{yield n(),r("success")}catch(e){throw r("error"),e}}))}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.PROTECTED=0]="PROTECTED",e[e.PRIVATE=100]="PRIVATE",e[e.SHARED=200]="SHARED",e[e.SHARED_PROTECTED=300]="SHARED_PROTECTED"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(1);const i=40,a=1;function s(e){return r.createElement(r.Fragment,null,r.createElement(l,{speed:e.speed?e.speed:a,size:e.size?e.size:i,margin:e.margin}))}const l=n.n(o).a.div`
    position: relative;
    width: ${e=>e.size}px;
    height: ${e=>e.size}px;
    margin: ${e=>e.margin};

    &::before {
        animation: ${()=>o.keyframes`0% {
      transform: translate3d(-50%, -50%, 0) rotate(0deg);
    }
    100% {
      transform: translate3d(-50%, -50%, 0) rotate(360deg);
    }`}
            ${e=>e.speed?e.speed:a}s infinite
            linear;
        animation-play-state: inherit;
        border: ${e=>e.size>29?"solid 4px":"solid 2px"};
        border-color: ${e=>e.theme.colors.greyScale3};

        border-bottom-color: ${e=>e.theme.colors.prime1};
        border-radius: 50%;
        content: '';
        height: ${e=>e.size}px;
        width: ${e=>e.size}px;
        position: absolute;
        transform: translate3d(-50%, -50%, 0);
        will-change: transform;
        left: calc(${e=>e.size}px / 2);
        top: calc(${e=>e.size}px / 2);
    }
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(7),l=n(25);function c(e){if(null==e.keys&&null==e.optional)return null;let t=[];const n=Object(l.a)({key:"mod"});return e.keys&&e.keys.forEach((e=>{if("MOD_KEY"===e)t.push(n);else{const n=e.charAt(0).toUpperCase()+e.slice(1);t.push(n)}})),o.a.createElement(u,null,e.optional?o.a.createElement(s.a,{tooltipText:e.optionalTooltipText,placement:"bottom",getPortalRoot:e.getRootElement},o.a.createElement(d,{size:e.size,optional:e.optional.length>0},e.optional)):null,t.length>0?t.map((t=>o.a.createElement(d,{key:t,size:e.size,optional:!1},t))):null)}const u=a.a.div`
    display: flex;
    grid-gap: 3px;
`,d=a.a.div`
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15),
        inset 0px -2px 1px rgba(255, 255, 255, 0.15);
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 6px;
    background: ${e=>e.theme.colors.greyScale4};
    height: fill-available;
    width: fit-content;
    min-width: 13px;
    padding: 4px 8px;
    color: ${e=>e.theme.colors.white};
    font-size: 12px;
    cursor: default;
    font-weight: 400;
    letter-spacing: 0.8px;

    ${e=>e.optional&&i.css`
            background: ${e=>e.theme.colors.greyScale5};
            margin-right: 8px;
        `}
    ${e=>"small"===e.size&&i.css`
            padding: 2px 4px;
            font-size: 10px;
            margin-right: 3px;
            border-radius: 4px;
        `}
    ${e=>"medium"===e.size&&i.css`
            padding: 2px 4px;
            font-size: 12px;
            margin-right: 3px;
            border-radius: 4px;
        `}

        ${e=>"light"===e.theme.variant&&i.css`
                background: ${e=>e.theme.colors.greyScale3};
                color: ${e=>e.theme.colors.greyScale5};
            `};

`},function(e,t,n){e.exports=n(577)()},,function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){t=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return qn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){if(null==e._isValid){var t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function y(e){var t=h(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var b=r.momentProperties=[];function w(e,t){var n,r,o;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),b.length>0)for(n=0;n<b.length;n++)l(o=t[r=b[n]])||(e[r]=o);return e}var x=!1;function k(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function S(e){return e instanceof k||null!=e&&null!=e._isAMomentObject}function E(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=E(t)),n}function A(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&C(e[r])!==C(t[r]))&&a++;return a+i}function O(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function I(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var o,i=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];i.push(o)}O(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var D,M={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),M[e]||(O(t),M[e]=!0)}function _(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e){var t,n;for(n in e)_(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=f({},e);for(n in t)p(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)p(e,n)&&!p(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function L(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,D=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};var N={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return _(r)?r.call(t,n):r}var B={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function F(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}var z="Invalid date";function $(){return this._invalidDate}var H="%d",U=/\d{1,2}/;function W(e){return this._ordinal.replace("%d",e)}var V={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function q(e,t,n,r){var o=this._relativeTime[n];return _(o)?o(e,t,n,r):o.replace(/%d/i,e)}function G(e,t){var n=this._relativeTime[e>0?"future":"past"];return _(n)?n(t):n.replace(/%s/i,t)}var Y={};function K(e,t){var n=e.toLowerCase();Y[n]=Y[n+"s"]=Y[t]=e}function J(e){return"string"==typeof e?Y[e]||Y[e.toLowerCase()]:void 0}function X(e){var t,n,r={};for(n in e)p(e,n)&&(t=J(n))&&(r[t]=e[n]);return r}var Q={};function Z(e,t){Q[e]=t}function ee(e){var t=[];for(var n in e)t.push({unit:n,priority:Q[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}function te(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var ne=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},ie={};function ae(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(ie[e]=o),t&&(ie[t[0]]=function(){return te(o.apply(this,arguments),t[1],t[2])}),n&&(ie[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function se(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function le(e){var t,n,r=e.match(ne);for(t=0,n=r.length;t<n;t++)ie[r[t]]?r[t]=ie[r[t]]:r[t]=se(r[t]);return function(t){var o,i="";for(o=0;o<n;o++)i+=_(r[o])?r[o].call(t,e):r[o];return i}}function ce(e,t){return e.isValid()?(t=ue(t,e.localeData()),oe[t]=oe[t]||le(t),oe[t](e)):e.localeData().invalidDate()}function ue(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(re.lastIndex=0;n>=0&&re.test(e);)e=e.replace(re,r),re.lastIndex=0,n-=1;return e}var de=/\d/,pe=/\d\d/,fe=/\d{3}/,he=/\d{4}/,me=/[+-]?\d{6}/,ge=/\d\d?/,ve=/\d\d\d\d?/,ye=/\d\d\d\d\d\d?/,be=/\d{1,3}/,we=/\d{1,4}/,xe=/[+-]?\d{1,6}/,ke=/\d+/,Se=/[+-]?\d+/,Ee=/Z|[+-]\d\d:?\d\d/gi,Ce=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,Oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ie={};function De(e,t,n){Ie[e]=_(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return p(Ie,e)?Ie[e](t._strict,t._locale):new RegExp(Te(e))}function Te(e){return _e(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o})))}function _e(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Re={};function Pe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=C(e)}),n=0;n<e.length;n++)Re[e[n]]=r}function Le(e,t){Pe(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function Ne(e,t,n){null!=t&&p(Re,e)&&Re[e](t,n._a,n,e)}var je=0,Be=1,Fe=2,ze=3,$e=4,He=5,Ue=6,We=7,Ve=8;function qe(e){return Ge(e)?366:365}function Ge(e){return e%4==0&&e%100!=0||e%400==0}ae("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),ae(0,["YY",2],0,(function(){return this.year()%100})),ae(0,["YYYY",4],0,"year"),ae(0,["YYYYY",5],0,"year"),ae(0,["YYYYYY",6,!0],0,"year"),K("year","y"),Z("year",1),De("Y",Se),De("YY",ge,pe),De("YYYY",we,he),De("YYYYY",xe,me),De("YYYYYY",xe,me),Pe(["YYYYY","YYYYYY"],je),Pe("YYYY",(function(e,t){t[je]=2===e.length?r.parseTwoDigitYear(e):C(e)})),Pe("YY",(function(e,t){t[je]=r.parseTwoDigitYear(e)})),Pe("Y",(function(e,t){t[je]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var Ye,Ke=Xe("FullYear",!0);function Je(){return Ge(this.year())}function Xe(e,t){return function(n){return null!=n?(Ze(this,e,n),r.updateOffset(this,t),this):Qe(this,e)}}function Qe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ze(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ge(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),rt(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function et(e){return _(this[e=J(e)])?this[e]():this}function tt(e,t){if("object"==typeof e)for(var n=ee(e=X(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(_(this[e=J(e)]))return this[e](t);return this}function nt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nt(t,12);return e+=(t-n)/12,1===n?Ge(e)?29:28:31-n%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},ae("M",["MM",2],"Mo",(function(){return this.month()+1})),ae("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),ae("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),K("month","M"),Z("month",8),De("M",ge),De("MM",ge,pe),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Pe(["M","MM"],(function(e,t){t[Be]=C(e)-1})),Pe(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[Be]=o:g(n).invalidMonth=e}));var ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function at(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ot).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}var st="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function lt(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ot.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ct(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=Ye.call(this._shortMonthsParse,a))?o:null:-1!==(o=Ye.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=Ye.call(this._shortMonthsParse,a))||-1!==(o=Ye.call(this._longMonthsParse,a))?o:null:-1!==(o=Ye.call(this._longMonthsParse,a))||-1!==(o=Ye.call(this._shortMonthsParse,a))?o:null}function ut(e,t,n){var r,o,i;if(this._monthsParseExact)return ct.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function dt(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),rt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function pt(e){return null!=e?(dt(this,e),r.updateOffset(this,!0),this):Qe(this,"Month")}function ft(){return rt(this.year(),this.month())}var ht=Oe;function mt(e){return this._monthsParseExact?(p(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=ht),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}var gt=Oe;function vt(e){return this._monthsParseExact?(p(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=gt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=_e(r[t]),o[t]=_e(o[t]);for(t=0;t<24;t++)i[t]=_e(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function bt(e,t,n,r,o,i,a){var s=new Date(e,t,n,r,o,i,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function wt(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function xt(e,t,n){var r=7+t-n;return-(7+wt(e,0,r).getUTCDay()-t)%7+r-1}function kt(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,o);return s<=0?a=qe(i=e-1)+s:s>qe(e)?(i=e+1,a=s-qe(e)):(i=e,a=s),{year:i,dayOfYear:a}}function St(e,t,n){var r,o,i=xt(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+Et(o=e.year()-1,t,n):a>Et(e.year(),t,n)?(r=a-Et(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function Et(e,t,n){var r=xt(e,t,n),o=xt(e+1,t,n);return(qe(e)-r+o)/7}function Ct(e){return St(e,this._week.dow,this._week.doy).week}ae("w",["ww",2],"wo","week"),ae("W",["WW",2],"Wo","isoWeek"),K("week","w"),K("isoWeek","W"),Z("week",5),Z("isoWeek",5),De("w",ge),De("ww",ge,pe),De("W",ge),De("WW",ge,pe),Le(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=C(e)}));var At={dow:0,doy:6};function Ot(){return this._week.dow}function It(){return this._week.doy}function Dt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Mt(e){var t=St(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Tt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function _t(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}ae("d",0,"do","day"),ae("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),ae("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),ae("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),ae("e",0,0,"weekday"),ae("E",0,0,"isoWeekday"),K("day","d"),K("weekday","e"),K("isoWeekday","E"),Z("day",11),Z("weekday",11),Z("isoWeekday",11),De("d",ge),De("e",ge),De("E",ge),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),Le(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:g(n).invalidWeekday=e})),Le(["d","e","E"],(function(e,t,n,r){t[r]=C(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Pt(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}var Lt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Nt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Bt(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ft(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=Ye.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Ye.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Ye.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=Ye.call(this._weekdaysParse,a))||-1!==(o=Ye.call(this._shortWeekdaysParse,a))||-1!==(o=Ye.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Ye.call(this._shortWeekdaysParse,a))||-1!==(o=Ye.call(this._weekdaysParse,a))||-1!==(o=Ye.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Ye.call(this._minWeekdaysParse,a))||-1!==(o=Ye.call(this._weekdaysParse,a))||-1!==(o=Ye.call(this._shortWeekdaysParse,a))?o:null}function zt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Ft.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function $t(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Tt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ut(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=_t(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}var Wt=Oe;function Vt(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Wt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var qt=Oe;function Gt(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Yt=Oe;function Kt(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),a.push(r),s.push(o),l.push(i),c.push(r),c.push(o),c.push(i);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=_e(s[t]),l[t]=_e(l[t]),c[t]=_e(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function Zt(e,t){ae(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}ae("H",["HH",2],0,"hour"),ae("h",["hh",2],0,Xt),ae("k",["kk",2],0,Qt),ae("hmm",0,0,(function(){return""+Xt.apply(this)+te(this.minutes(),2)})),ae("hmmss",0,0,(function(){return""+Xt.apply(this)+te(this.minutes(),2)+te(this.seconds(),2)})),ae("Hmm",0,0,(function(){return""+this.hours()+te(this.minutes(),2)})),ae("Hmmss",0,0,(function(){return""+this.hours()+te(this.minutes(),2)+te(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),K("hour","h"),Z("hour",13),De("a",en),De("A",en),De("H",ge),De("h",ge),De("k",ge),De("HH",ge,pe),De("hh",ge,pe),De("kk",ge,pe),De("hmm",ve),De("hmmss",ye),De("Hmm",ve),De("Hmmss",ye),Pe(["H","HH"],ze),Pe(["k","kk"],(function(e,t,n){var r=C(e);t[ze]=24===r?0:r})),Pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Pe(["h","hh"],(function(e,t,n){t[ze]=C(e),g(n).bigHour=!0})),Pe("hmm",(function(e,t,n){var r=e.length-2;t[ze]=C(e.substr(0,r)),t[$e]=C(e.substr(r)),g(n).bigHour=!0})),Pe("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[ze]=C(e.substr(0,r)),t[$e]=C(e.substr(r,2)),t[He]=C(e.substr(o)),g(n).bigHour=!0})),Pe("Hmm",(function(e,t,n){var r=e.length-2;t[ze]=C(e.substr(0,r)),t[$e]=C(e.substr(r))})),Pe("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[ze]=C(e.substr(0,r)),t[$e]=C(e.substr(r,2)),t[He]=C(e.substr(o))}));var nn=/[ap]\.?m?\.?/i;function rn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,an=Xe("Hours",!0),sn={calendar:N,longDateFormat:B,invalidDate:z,ordinal:H,dayOfMonthOrdinalParse:U,relativeTime:V,months:it,monthsShort:st,week:At,weekdays:Rt,weekdaysMin:jt,weekdaysShort:Lt,meridiemParse:nn},ln={},cn={};function un(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=un(e[i]).split("-")).length,n=(n=un(e[i+1]))?n.split("-"):null;t>0;){if(r=pn(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&A(o,n,!0)>=t-1)break;t--}i++}return on}function pn(t){var n=null;if(!ln[t]&&void 0!==e&&e&&e.exports)try{n=on._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),fn(n)}catch(e){}return ln[t]}function fn(e,t){var n;return e&&((n=l(t)?gn(e):hn(e,t))?on=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function hn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=ln[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new L(P(r,t)),cn[e]&&cn[e].forEach((function(e){hn(e.name,e.config)})),fn(e),ln[e]}return delete ln[e],null}function mn(e,t){if(null!=t){var n,r,o=sn;null!=(r=pn(e))&&(o=r._config),(n=new L(t=P(o,t))).parentLocale=ln[e],ln[e]=n,fn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?ln[e]=ln[e].parentLocale:null!=ln[e]&&delete ln[e]);return ln[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!i(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function vn(){return D(ln)}function yn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Be]<0||n[Be]>11?Be:n[Fe]<1||n[Fe]>rt(n[je],n[Be])?Fe:n[ze]<0||n[ze]>24||24===n[ze]&&(0!==n[$e]||0!==n[He]||0!==n[Ue])?ze:n[$e]<0||n[$e]>59?$e:n[He]<0||n[He]>59?He:n[Ue]<0||n[Ue]>999?Ue:-1,g(e)._overflowDayOfYear&&(t<je||t>Fe)&&(t=Fe),g(e)._overflowWeeks&&-1===t&&(t=We),g(e)._overflowWeekday&&-1===t&&(t=Ve),g(e).overflow=t),e}function bn(e,t,n){return null!=e?e:null!=t?t:n}function wn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function xn(e){var t,n,r,o,i,a=[];if(!e._d){for(r=wn(e),e._w&&null==e._a[Fe]&&null==e._a[Be]&&kn(e),null!=e._dayOfYear&&(i=bn(e._a[je],r[je]),(e._dayOfYear>qe(i)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=wt(i,0,e._dayOfYear),e._a[Be]=n.getUTCMonth(),e._a[Fe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ze]&&0===e._a[$e]&&0===e._a[He]&&0===e._a[Ue]&&(e._nextDay=!0,e._a[ze]=0),e._d=(e._useUTC?wt:bt).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ze]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(g(e).weekdayMismatch=!0)}}function kn(e){var t,n,r,o,i,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)i=1,a=4,n=bn(t.GG,e._a[je],St(Gn(),1,4).year),r=bn(t.W,1),((o=bn(t.E,1))<1||o>7)&&(l=!0);else{i=e._locale._week.dow,a=e._locale._week.doy;var c=St(Gn(),i,a);n=bn(t.gg,e._a[je],c.year),r=bn(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i}r<1||r>Et(n,i,a)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(s=kt(n,r,o,i,a),e._a[je]=s.year,e._dayOfYear=s.dayOfYear)}var Sn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cn=/Z|[+-]\d\d(?::?\d\d)?/,An=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],On=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((\-?\d+)/i;function Dn(e){var t,n,r,o,i,a,s=e._i,l=Sn.exec(s)||En.exec(s);if(l){for(g(e).iso=!0,t=0,n=An.length;t<n;t++)if(An[t][1].exec(l[1])){o=An[t][0],r=!1!==An[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=On.length;t<n;t++)if(On[t][1].exec(l[3])){i=(l[2]||" ")+On[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!Cn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),Fn(e)}else e._isValid=!1}var Mn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Tn(e,t,n,r,o,i){var a=[_n(e),st.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}function _n(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||Lt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}var Ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e,t,n){if(e)return Ln[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}function jn(e){var t=Mn.exec(Rn(e._i));if(t){var n=Tn(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Pn(t[1],n,e))return;e._a=n,e._tzm=Nn(t[8],t[9],t[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Bn(e){var t=In.exec(e._i);null===t?(Dn(e),!1===e._isValid&&(delete e._isValid,jn(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,o,i,a,s=""+e._i,l=s.length,c=0;for(o=ue(e._f,e._locale).match(ne)||[],t=0;t<o.length;t++)i=o[t],(n=(s.match(Me(i,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&g(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),ie[i]?(n?g(e).empty=!1:g(e).unusedTokens.push(i),Ne(i,n,e)):e._strict&&!n&&g(e).unusedTokens.push(i);g(e).charsLeftOver=l-c,s.length>0&&g(e).unusedInput.push(s),e._a[ze]<=12&&!0===g(e).bigHour&&e._a[ze]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ze]=zn(e._locale,e._a[ze],e._meridiem),xn(e),yn(e)}else jn(e);else Dn(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function $n(e){var t,n,r,o,i;if(0===e._f.length)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Fn(t),v(t)&&(i+=g(t).charsLeftOver,i+=10*g(t).unusedTokens.length,g(t).score=i,(null==r||i<r)&&(r=i,n=t));f(e,n||t)}function Hn(e){if(!e._d){var t=X(e._i);e._a=d([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),xn(e)}}function Un(e){var t=new k(yn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new k(yn(t)):(u(t)?e._d=t:i(n)?$n(e):n?Fn(e):Vn(e),v(e)||(e._d=null),e))}function Vn(e){var t=e._i;l(t)?e._d=new Date(r.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Bn(e):i(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),xn(e)):a(t)?Hn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function qn(e,t,n,r,o){var l={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&s(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=n,l._i=e,l._f=t,l._strict=r,Un(l)}function Gn(e,t,n,r){return qn(e,t,n,r,!1)}r.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Yn=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Gn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Kn=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Gn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Gn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Xn(){return Jn("isBefore",[].slice.call(arguments,0))}function Qn(){return Jn("isAfter",[].slice.call(arguments,0))}var Zn=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tr(e){for(var t in e)if(-1===Ye.call(er,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<er.length;++r)if(e[er[r]]){if(n)return!1;parseFloat(e[er[r]])!==C(e[er[r]])&&(n=!0)}return!0}function nr(){return this._isValid}function rr(){return Cr(NaN)}function or(e){var t=X(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=tr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function ir(e){return e instanceof or}function ar(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function sr(e,t){ae(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+te(~~(e/60),2)+t+te(~~e%60,2)}))}sr("Z",":"),sr("ZZ",""),De("Z",Ce),De("ZZ",Ce),Pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=cr(Ce,e)}));var lr=/([\+\-]|\d\d)/gi;function cr(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(lr)||["-",0,0],o=60*r[1]+C(r[2]);return 0===o?0:"+"===r[0]?o:-o}function ur(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(S(e)||u(e)?e.valueOf():Gn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Gn(e).local()}function dr(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function pr(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=cr(Ce,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=dr(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Mr(this,Cr(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:dr(this)}function fr(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function hr(e){return this.utcOffset(0,e)}function mr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=cr(Ee,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function vr(e){return!!this.isValid()&&(e=e?Gn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function yr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function br(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=Wn(e))._a){var t=e._isUTC?h(e._a):Gn(e._a);this._isDSTShifted=this.isValid()&&A(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function wr(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,o,i=e,a=null;return ir(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(i={},t?i[t]=e:i.milliseconds=e):(a=Sr.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:C(a[Fe])*n,h:C(a[ze])*n,m:C(a[$e])*n,s:C(a[He])*n,ms:C(ar(1e3*a[Ue]))*n}):(a=Er.exec(e))?(n="-"===a[1]?-1:(a[1],1),i={y:Ar(a[2],n),M:Ar(a[3],n),w:Ar(a[4],n),d:Ar(a[5],n),h:Ar(a[6],n),m:Ar(a[7],n),s:Ar(a[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=Ir(Gn(i.from),Gn(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new or(i),ir(e)&&p(e,"_locale")&&(r._locale=e._locale),r}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Or(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ir(e,t){var n;return e.isValid()&&t.isValid()?(t=ur(t,e),e.isBefore(t)?n=Or(e,t):((n=Or(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Mr(this,Cr(n="string"==typeof n?+n:n,r),e),this}}function Mr(e,t,n,o){var i=t._milliseconds,a=ar(t._days),s=ar(t._months);e.isValid()&&(o=null==o||o,s&&dt(e,Qe(e,"Month")+s*n),a&&Ze(e,"Date",Qe(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,a||s))}Cr.fn=or.prototype,Cr.invalid=rr;var Tr=Dr(1,"add"),_r=Dr(-1,"subtract");function Rr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Pr(e,t){var n=e||Gn(),o=ur(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",a=t&&(_(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Gn(n)))}function Lr(){return new k(this)}function Nr(e,t){var n=S(e)?e:Gn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=J(l(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function jr(e,t){var n=S(e)?e:Gn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=J(l(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Br(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Fr(e,t){var n,r=S(e)?e:Gn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=J(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function zr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $r(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Hr(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=ur(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=J(t)){case"year":i=Ur(this,r)/12;break;case"month":i=Ur(this,r);break;case"quarter":i=Ur(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:E(i)}function Ur(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Wr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Vr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ce(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ce(n,"Z")):ce(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]';return this.format(n+r+o+i)}function Gr(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=ce(this,e);return this.localeData().postformat(t)}function Yr(e,t){return this.isValid()&&(S(e)&&e.isValid()||Gn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Kr(e){return this.from(Gn(),e)}function Jr(e,t){return this.isValid()&&(S(e)&&e.isValid()||Gn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Xr(e){return this.to(Gn(),e)}function Qr(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zr=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function eo(){return this._locale}function to(e){switch(e=J(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function no(e){return void 0===(e=J(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function ro(){return this._d.valueOf()-6e4*(this._offset||0)}function oo(){return Math.floor(this.valueOf()/1e3)}function io(){return new Date(this.valueOf())}function ao(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function so(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function lo(){return this.isValid()?this.toISOString():null}function co(){return v(this)}function uo(){return f({},g(this))}function po(){return g(this).overflow}function fo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ho(e,t){ae(0,[e,e.length],0,t)}function mo(e){return bo.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function go(e){return bo.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function vo(){return Et(this.year(),1,4)}function yo(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function bo(e,t,n,r,o){var i;return null==e?St(this,r,o).year:(t>(i=Et(e,r,o))&&(t=i),wo.call(this,e,t,n,r,o))}function wo(e,t,n,r,o){var i=kt(e,t,n,r,o),a=wt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function xo(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}ae(0,["gg",2],0,(function(){return this.weekYear()%100})),ae(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ho("gggg","weekYear"),ho("ggggg","weekYear"),ho("GGGG","isoWeekYear"),ho("GGGGG","isoWeekYear"),K("weekYear","gg"),K("isoWeekYear","GG"),Z("weekYear",1),Z("isoWeekYear",1),De("G",Se),De("g",Se),De("GG",ge,pe),De("gg",ge,pe),De("GGGG",we,he),De("gggg",we,he),De("GGGGG",xe,me),De("ggggg",xe,me),Le(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=C(e)})),Le(["gg","GG"],(function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)})),ae("Q",0,"Qo","quarter"),K("quarter","Q"),Z("quarter",7),De("Q",de),Pe("Q",(function(e,t){t[Be]=3*(C(e)-1)})),ae("D",["DD",2],"Do","date"),K("date","D"),Z("date",9),De("D",ge),De("DD",ge,pe),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Pe(["D","DD"],Fe),Pe("Do",(function(e,t){t[Fe]=C(e.match(ge)[0])}));var ko=Xe("Date",!0);function So(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}ae("DDD",["DDDD",3],"DDDo","dayOfYear"),K("dayOfYear","DDD"),Z("dayOfYear",4),De("DDD",be),De("DDDD",fe),Pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=C(e)})),ae("m",["mm",2],0,"minute"),K("minute","m"),Z("minute",14),De("m",ge),De("mm",ge,pe),Pe(["m","mm"],$e);var Eo=Xe("Minutes",!1);ae("s",["ss",2],0,"second"),K("second","s"),Z("second",15),De("s",ge),De("ss",ge,pe),Pe(["s","ss"],He);var Co,Ao=Xe("Seconds",!1);for(ae("S",0,0,(function(){return~~(this.millisecond()/100)})),ae(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),ae(0,["SSS",3],0,"millisecond"),ae(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),ae(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),ae(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),ae(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),ae(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),ae(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),K("millisecond","ms"),Z("millisecond",16),De("S",be,de),De("SS",be,pe),De("SSS",be,fe),Co="SSSS";Co.length<=9;Co+="S")De(Co,ke);function Oo(e,t){t[Ue]=C(1e3*("0."+e))}for(Co="S";Co.length<=9;Co+="S")Pe(Co,Oo);var Io=Xe("Milliseconds",!1);function Do(){return this._isUTC?"UTC":""}function Mo(){return this._isUTC?"Coordinated Universal Time":""}ae("z",0,0,"zoneAbbr"),ae("zz",0,0,"zoneName");var To=k.prototype;function _o(e){return Gn(1e3*e)}function Ro(){return Gn.apply(null,arguments).parseZone()}function Po(e){return e}To.add=Tr,To.calendar=Pr,To.clone=Lr,To.diff=Hr,To.endOf=no,To.format=Gr,To.from=Yr,To.fromNow=Kr,To.to=Jr,To.toNow=Xr,To.get=et,To.invalidAt=po,To.isAfter=Nr,To.isBefore=jr,To.isBetween=Br,To.isSame=Fr,To.isSameOrAfter=zr,To.isSameOrBefore=$r,To.isValid=co,To.lang=Zr,To.locale=Qr,To.localeData=eo,To.max=Kn,To.min=Yn,To.parsingFlags=uo,To.set=tt,To.startOf=to,To.subtract=_r,To.toArray=ao,To.toObject=so,To.toDate=io,To.toISOString=Vr,To.inspect=qr,To.toJSON=lo,To.toString=Wr,To.unix=oo,To.valueOf=ro,To.creationData=fo,To.year=Ke,To.isLeapYear=Je,To.weekYear=mo,To.isoWeekYear=go,To.quarter=To.quarters=xo,To.month=pt,To.daysInMonth=ft,To.week=To.weeks=Dt,To.isoWeek=To.isoWeeks=Mt,To.weeksInYear=yo,To.isoWeeksInYear=vo,To.date=ko,To.day=To.days=$t,To.weekday=Ht,To.isoWeekday=Ut,To.dayOfYear=So,To.hour=To.hours=an,To.minute=To.minutes=Eo,To.second=To.seconds=Ao,To.millisecond=To.milliseconds=Io,To.utcOffset=pr,To.utc=hr,To.local=mr,To.parseZone=gr,To.hasAlignedHourOffset=vr,To.isDST=yr,To.isLocal=wr,To.isUtcOffset=xr,To.isUtc=kr,To.isUTC=kr,To.zoneAbbr=Do,To.zoneName=Mo,To.dates=I("dates accessor is deprecated. Use date instead.",ko),To.months=I("months accessor is deprecated. Use month instead",pt),To.years=I("years accessor is deprecated. Use year instead",Ke),To.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fr),To.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",br);var Lo=L.prototype;function No(e,t,n,r){var o=gn(),i=h().set(r,t);return o[n](i,e)}function jo(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return No(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=No(e,r,n,"month");return o}function Bo(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var o,i=gn(),a=e?i._week.dow:0;if(null!=n)return No(t,(n+a)%7,r,"day");var s=[];for(o=0;o<7;o++)s[o]=No(t,(o+a)%7,r,"day");return s}function Fo(e,t){return jo(e,t,"months")}function zo(e,t){return jo(e,t,"monthsShort")}function $o(e,t,n){return Bo(e,t,n,"weekdays")}function Ho(e,t,n){return Bo(e,t,n,"weekdaysShort")}function Uo(e,t,n){return Bo(e,t,n,"weekdaysMin")}Lo.calendar=j,Lo.longDateFormat=F,Lo.invalidDate=$,Lo.ordinal=W,Lo.preparse=Po,Lo.postformat=Po,Lo.relativeTime=q,Lo.pastFuture=G,Lo.set=R,Lo.months=at,Lo.monthsShort=lt,Lo.monthsParse=ut,Lo.monthsRegex=vt,Lo.monthsShortRegex=mt,Lo.week=Ct,Lo.firstDayOfYear=It,Lo.firstDayOfWeek=Ot,Lo.weekdays=Pt,Lo.weekdaysMin=Bt,Lo.weekdaysShort=Nt,Lo.weekdaysParse=zt,Lo.weekdaysRegex=Vt,Lo.weekdaysShortRegex=Gt,Lo.weekdaysMinRegex=Kt,Lo.isPM=tn,Lo.meridiem=rn,fn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=I("moment.lang is deprecated. Use moment.locale instead.",fn),r.langData=I("moment.langData is deprecated. Use moment.localeData instead.",gn);var Wo=Math.abs;function Vo(){var e=this._data;return this._milliseconds=Wo(this._milliseconds),this._days=Wo(this._days),this._months=Wo(this._months),e.milliseconds=Wo(e.milliseconds),e.seconds=Wo(e.seconds),e.minutes=Wo(e.minutes),e.hours=Wo(e.hours),e.months=Wo(e.months),e.years=Wo(e.years),this}function qo(e,t,n,r){var o=Cr(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Go(e,t){return qo(this,e,t,1)}function Yo(e,t){return qo(this,e,t,-1)}function Ko(e){return e<0?Math.floor(e):Math.ceil(e)}function Jo(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,l=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*Ko(Qo(s)+a),a=0,s=0),l.milliseconds=i%1e3,e=E(i/1e3),l.seconds=e%60,t=E(e/60),l.minutes=t%60,n=E(t/60),l.hours=n%24,a+=E(n/24),s+=o=E(Xo(a)),a-=Ko(Qo(o)),r=E(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function Xo(e){return 4800*e/146097}function Qo(e){return 146097*e/4800}function Zo(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=J(e))||"year"===e)return t=this._days+r/864e5,n=this._months+Xo(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Qo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function ei(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN}function ti(e){return function(){return this.as(e)}}var ni=ti("ms"),ri=ti("s"),oi=ti("m"),ii=ti("h"),ai=ti("d"),si=ti("w"),li=ti("M"),ci=ti("y");function ui(){return Cr(this)}function di(e){return e=J(e),this.isValid()?this[e+"s"]():NaN}function pi(e){return function(){return this.isValid()?this._data[e]:NaN}}var fi=pi("milliseconds"),hi=pi("seconds"),mi=pi("minutes"),gi=pi("hours"),vi=pi("days"),yi=pi("months"),bi=pi("years");function wi(){return E(this.days()/7)}var xi=Math.round,ki={ss:44,s:45,m:45,h:22,d:26,M:11};function Si(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Ei(e,t,n){var r=Cr(e).abs(),o=xi(r.as("s")),i=xi(r.as("m")),a=xi(r.as("h")),s=xi(r.as("d")),l=xi(r.as("M")),c=xi(r.as("y")),u=o<=ki.ss&&["s",o]||o<ki.s&&["ss",o]||i<=1&&["m"]||i<ki.m&&["mm",i]||a<=1&&["h"]||a<ki.h&&["hh",a]||s<=1&&["d"]||s<ki.d&&["dd",s]||l<=1&&["M"]||l<ki.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Si.apply(null,u)}function Ci(e){return void 0===e?xi:"function"==typeof e&&(xi=e,!0)}function Ai(e,t){return void 0!==ki[e]&&(void 0===t?ki[e]:(ki[e]=t,"s"===e&&(ki.ss=t-1),!0))}function Oi(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Ei(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}var Ii=Math.abs;function Di(e){return(e>0)-(e<0)||+e}function Mi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Ii(this._milliseconds)/1e3,r=Ii(this._days),o=Ii(this._months);e=E(n/60),t=E(e/60),n%=60,e%=60;var i=E(o/12),a=o%=12,s=r,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",f=Di(this._months)!==Di(d)?"-":"",h=Di(this._days)!==Di(d)?"-":"",m=Di(this._milliseconds)!==Di(d)?"-":"";return p+"P"+(i?f+i+"Y":"")+(a?f+a+"M":"")+(s?h+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var Ti=or.prototype;return Ti.isValid=nr,Ti.abs=Vo,Ti.add=Go,Ti.subtract=Yo,Ti.as=Zo,Ti.asMilliseconds=ni,Ti.asSeconds=ri,Ti.asMinutes=oi,Ti.asHours=ii,Ti.asDays=ai,Ti.asWeeks=si,Ti.asMonths=li,Ti.asYears=ci,Ti.valueOf=ei,Ti._bubble=Jo,Ti.clone=ui,Ti.get=di,Ti.milliseconds=fi,Ti.seconds=hi,Ti.minutes=mi,Ti.hours=gi,Ti.days=vi,Ti.weeks=wi,Ti.months=yi,Ti.years=bi,Ti.humanize=Oi,Ti.toISOString=Mi,Ti.toString=Mi,Ti.toJSON=Mi,Ti.locale=Qr,Ti.localeData=eo,Ti.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mi),Ti.lang=Zr,ae("X",0,0,"unix"),ae("x",0,0,"valueOf"),De("x",Se),De("X",Ae),Pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),Pe("x",(function(e,t,n){n._d=new Date(C(e))})),r.version="2.22.2",o(Gn),r.fn=To,r.min=Xn,r.max=Qn,r.now=Zn,r.utc=h,r.unix=_o,r.months=Fo,r.isDate=u,r.locale=fn,r.invalid=y,r.duration=Cr,r.isMoment=S,r.weekdays=$o,r.parseZone=Ro,r.localeData=gn,r.isDuration=ir,r.monthsShort=zo,r.weekdaysMin=Uo,r.defineLocale=hn,r.updateLocale=mn,r.locales=vn,r.weekdaysShort=Ho,r.normalizeUnits=J,r.relativeTimeRounding=Ci,r.relativeTimeThreshold=Ai,r.calendarFormat=Rr,r.prototype=To,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(111)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(120),o=n(481),i=n(617),a=n(556),s=n(619),l=n(620),c=n(622);function u(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class d{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(...e)=>{const n=t(...e)(i);return o.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(o),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a=[],s=!!e,l=e||o.tr,c={...Object.fromEntries(Object.entries(n).map((([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),o=n(...e)(r);return a.push(o),c}]))),run:()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),a.every((e=>!0===e)))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,i=this.buildProps(o,r),a=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:void 0})])));return{...a,chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a={tr:e,editor:r,view:i,state:u({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,(...e)=>t(...e)(a)])))}};return a}}class p{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function f(e,t,n){if(void 0===e.config[t]&&e.parent)return f(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?f(e.parent,t,n):null})}return e.config[t]}function h(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function m(e){const t=[],{nodeExtensions:n,markExtensions:r}=h(e),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=f(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((([e,r])=>{t.push({type:n,name:e,attribute:{...i,...r}})}))}))}))})),o.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},r=f(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach((([n,r])=>{const o={...i,...r};"function"==typeof(null==o?void 0:o.default)&&(o.default=o.default()),(null==o?void 0:o.isRequired)&&void 0===(null==o?void 0:o.default)&&delete o.default,t.push({type:e.name,name:n,attribute:o})}))})),t}function g(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function v(...e){return e.filter((e=>!!e)).reduce(((e,t)=>{const n={...e};return Object.entries(t).forEach((([e,t])=>{if(n[e])if("class"===e){const r=t?t.split(" "):[],o=n[e]?n[e].split(" "):[],i=r.filter((e=>!o.includes(e)));n[e]=[...o,...i].join(" ")}else n[e]="style"===e?[n[e],t].join("; "):t;else n[e]=t})),n}),{})}function y(e,t){return t.filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>v(e,t)),{})}function b(e){return"function"==typeof e}function w(e,t=void 0,...n){return b(e)?t?e.bind(t)(...n):e(...n):e}function x(e={}){return 0===Object.keys(e).length&&e.constructor===Object}function k(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}function S(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.reduce(((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):k(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}}),{});return{...r,...o}}}}function E(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>("attrs"!==e||!x(t))&&null!=t)))}function C(e,t){var n;const r=m(e),{nodeExtensions:o,markExtensions:i}=h(e),s=null===(n=o.find((e=>f(e,"topNode"))))||void 0===n?void 0:n.name,l=Object.fromEntries(o.map((n=>{const o=r.filter((e=>e.type===n.name)),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=E({...e.reduce(((e,t)=>{const r=f(t,"extendNodeSchema",i);return{...e,...r?r(n):{}}}),{}),content:w(f(n,"content",i)),marks:w(f(n,"marks",i)),group:w(f(n,"group",i)),inline:w(f(n,"inline",i)),atom:w(f(n,"atom",i)),selectable:w(f(n,"selectable",i)),draggable:w(f(n,"draggable",i)),code:w(f(n,"code",i)),defining:w(f(n,"defining",i)),isolating:w(f(n,"isolating",i)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),s=w(f(n,"parseHTML",i));s&&(a.parseDOM=s.map((e=>S(e,o))));const l=f(n,"renderHTML",i);l&&(a.toDOM=e=>l({node:e,HTMLAttributes:y(e,o)}));const c=f(n,"renderText",i);return c&&(a.toText=c),[n.name,a]}))),c=Object.fromEntries(i.map((n=>{const o=r.filter((e=>e.type===n.name)),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=E({...e.reduce(((e,t)=>{const r=f(t,"extendMarkSchema",i);return{...e,...r?r(n):{}}}),{}),inclusive:w(f(n,"inclusive",i)),excludes:w(f(n,"excludes",i)),group:w(f(n,"group",i)),spanning:w(f(n,"spanning",i)),code:w(f(n,"code",i)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),s=w(f(n,"parseHTML",i));s&&(a.parseDOM=s.map((e=>S(e,o))));const l=f(n,"renderHTML",i);return l&&(a.toDOM=e=>l({mark:e,HTMLAttributes:y(e,o)})),[n.name,a]})));return new a.Schema({topNode:s,nodes:l,marks:c})}function A(e,t){return t.nodes[e]||t.marks[e]||null}function O(e,t){return Array.isArray(t)?t.some((t=>("string"==typeof t?t:t.name)===e.name)):t}const I=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,((e,t,o,i)=>{var a,s;const l=(null===(s=(a=e.type.spec).toText)||void 0===s?void 0:s.call(a,{node:e,pos:t,parent:o,index:i}))||e.textContent||"%leaf%";n+=l.slice(0,Math.max(0,r-t))})),n};function D(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class M{constructor(e){this.find=e.find,this.handler=e.handler}}function T(e){var t;const{editor:n,from:r,to:o,text:i,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let p=!1;const f=I(c)+i;return a.forEach((e=>{if(p)return;const t=((e,t)=>{if(D(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(f,e.find);if(!t)return;const a=l.state.tr,c=u({state:l.state,transaction:a}),h={from:r-(t[0].length-i.length),to:o},{commands:m,chain:g,can:v}=new d({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:m,chain:g,can:v})&&a.steps.length&&(a.setMeta(s,{transform:a,from:r,to:o,text:i}),l.dispatch(a),p=!0)})),p}function _(e){const{editor:t,rules:n}=e,o=new r.Plugin({state:{init:()=>null,apply(e,t){const n=e.getMeta(o);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,r,i,a)=>T({editor:t,from:r,to:i,text:a,rules:n,plugin:o}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:r}=e.state.selection;r&&T({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:o})})),!1)},handleKeyDown(e,r){if("Enter"!==r.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&T({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:o})}},isInputRules:!0});return o}function R(e){return"number"==typeof e}class P{constructor(e){this.find=e.find,this.handler=e.handler}}function L(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new d({editor:t,state:n}),p=[];n.doc.nodesBetween(r,o,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const d=Math.max(r,t),f=Math.min(o,t+e.content.size);((e,t,n)=>{if(D(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map((t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(d-t,f-t,void 0,"\ufffc"),i.find,a).forEach((e=>{if(void 0===e.index)return;const t=d+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},f=i.handler({state:n,range:o,match:e,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});p.push(f)}))}));return p.every((e=>null!==e))}function N(e){const{editor:t,rules:n}=e;let o=null,i=!1,a=!1,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l="undefined"!=typeof DragEvent?new DragEvent("drop"):null;const c=n.map((e=>new r.Plugin({view(e){const t=t=>{var n;o=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:(e,t)=>(a=o===e.dom.parentElement,l=t,!1),paste:(e,t)=>{var n;const r=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return s=t,i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(n,r,o)=>{const c=n[0],d="paste"===c.getMeta("uiEvent")&&!i,p="drop"===c.getMeta("uiEvent")&&!a;if(!d&&!p)return;const f=r.doc.content.findDiffStart(o.doc.content),h=r.doc.content.findDiffEnd(o.doc.content);if(!R(f)||!h||f===h.b)return;const m=o.tr,g=u({state:o,transaction:m});return L({editor:t,state:g,from:Math.max(f-1,0),to:h.b-1,rule:e,pasteEvent:s,dropEvent:l})&&m.steps.length?(l="undefined"!=typeof DragEvent?new DragEvent("drop"):null,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,m):void 0}})));return c}function j(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return[...new Set(t)]}class B{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=B.resolve(e),this.schema=C(this.extensions,t),this.extensions.forEach((e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:A(e.name,this.schema)};if("mark"===e.type){(null===(t=w(f(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const r=f(e,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const o=f(e,"onCreate",n);o&&this.editor.on("create",o);const i=f(e,"onUpdate",n);i&&this.editor.on("update",i);const a=f(e,"onSelectionUpdate",n);a&&this.editor.on("selectionUpdate",a);const s=f(e,"onTransaction",n);s&&this.editor.on("transaction",s);const l=f(e,"onFocus",n);l&&this.editor.on("focus",l);const c=f(e,"onBlur",n);c&&this.editor.on("blur",c);const u=f(e,"onDestroy",n);u&&this.editor.on("destroy",u)}))}static resolve(e){const t=B.sort(B.flatten(e)),n=j(t.map((e=>e.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((e=>`'${e}'`)).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map((e=>{const t=f(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e})).flat(10)}static sort(e){return e.sort(((e,t)=>{const n=f(e,"priority")||100,r=f(t,"priority")||100;return n>r?-1:n<r?1:0}))}get commands(){return this.extensions.reduce(((e,t)=>{const n=f(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:A(t.name,this.schema)});return n?{...e,...n()}:e}),{})}get plugins(){const{editor:e}=this,t=B.sort([...this.extensions].reverse()),n=[],r=[],o=t.map((t=>{const o={name:t.name,options:t.options,storage:t.storage,editor:e,type:A(t.name,this.schema)},a=[],s=f(t,"addKeyboardShortcuts",o);let l={};if("mark"===t.type&&t.config.exitable&&(l.ArrowRight=()=>je.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map((([t,n])=>[t,()=>n({editor:e})])));l={...l,...t}}const c=i.keymap(l);a.push(c);const u=f(t,"addInputRules",o);O(t,e.options.enableInputRules)&&u&&n.push(...u());const d=f(t,"addPasteRules",o);O(t,e.options.enablePasteRules)&&d&&r.push(...d());const p=f(t,"addProseMirrorPlugins",o);if(p){const e=p();a.push(...e)}return a})).flat();return[_({editor:e,rules:n}),...N({editor:e,rules:r}),...o]}get attributes(){return m(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=h(this.extensions);return Object.fromEntries(t.filter((e=>!!f(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage,editor:e,type:g(t.name,this.schema)},o=f(t,"addNodeView",r);if(!o)return[];return[t.name,(r,i,a,s)=>{const l=y(r,n);return o()({editor:e,node:r,getPos:a,decorations:s,HTMLAttributes:l,extension:t})}]})))}}function F(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function z(e,t){const n={...e};return F(e)&&F(t)&&Object.keys(t).forEach((r=>{F(t[r])?r in e?n[r]=z(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})})),n}class ${constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=w(f(this,"addOptions",{name:this.name}))),this.storage=w(f(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $(e)}configure(e={}){const t=this.extend();return t.options=z(this.options,e),t.storage=w(f(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new $({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=w(f(t,"addOptions",{name:t.name})),t.storage=w(f(t,"addStorage",{name:t.name,options:t.options})),t}}function H(e,t,n){const{from:r,to:o}=t,{blockSeparator:i="\n\n",textSerializers:a={}}=n||{};let s="",l=!0;return e.nodesBetween(r,o,((e,n,c,u)=>{var d;const p=null==a?void 0:a[e.type.name];p?(e.isBlock&&!l&&(s+=i,l=!0),c&&(s+=p({node:e,pos:n,parent:c,index:u,range:t}))):e.isText?(s+=null===(d=null==e?void 0:e.text)||void 0===d?void 0:d.slice(Math.max(r,n)-n,o-n),l=!1):e.isBlock&&!l&&(s+=i,l=!0)})),s}function U(e){return Object.fromEntries(Object.entries(e.nodes).filter((([,e])=>e.spec.toText)).map((([e,t])=>[e,t.spec.toText])))}const W=$.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,a=Math.min(...i.map((e=>e.$from.pos))),s=Math.max(...i.map((e=>e.$to.pos)));return H(r,{from:a,to:s},{textSerializers:U(n)})}}})]}});function V(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every((r=>n.strict?t[r]===e[r]:D(t[r])?t[r].test(e[r]):t[r]===e[r]))}function q(e,t,n={}){return e.find((e=>e.type===t&&V(e.attrs,n)))}function G(e,t,n={}){return!!q(e,t,n)}function Y(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&0!==r.offset&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const o=q([...r.node.marks],t,n);if(!o)return;let i=r.index,a=e.start()+r.offset,s=i+1,l=a+r.node.nodeSize;for(q([...r.node.marks],t,n);i>0&&o.isInSet(e.parent.child(i-1).marks);)i-=1,a-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&G([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function K(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function J(e){return e instanceof r.TextSelection}function X(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Q(e,t=null){if(!t)return null;const n=r.Selection.atStart(e),o=r.Selection.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return o;const i=n.from,a=o.to;return"all"===t?r.TextSelection.create(e,X(0,i,a),X(e.content.size,i,a)):r.TextSelection.create(e,X(t,i,a),X(t,i,a))}function Z(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ee=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&ee(r)}return e};function te(e){const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return ee(n)}function ne(e,t,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof e&&null!==e)try{return Array.isArray(e)&&e.length>0?a.Fragment.fromArray(e.map((e=>t.nodeFromJSON(e)))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),ne("",t,n)}if("string"==typeof e){const r=a.DOMParser.fromSchema(t);return n.slice?r.parseSlice(te(e),n.parseOptions).content:r.parse(te(e),n.parseOptions)}return ne("",t,n)}function re(e,t,n){const o=e.steps.length-1;if(o<t)return;const i=e.steps[o];if(!(i instanceof s.ReplaceStep||i instanceof s.ReplaceAroundStep))return;const a=e.mapping.maps[o];let l=0;a.forEach(((e,t,n,r)=>{0===l&&(l=r)})),e.setSelection(r.Selection.near(e.doc.resolve(l),n))}function oe(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function ie(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?g(t,e.schema):null,s=[];e.doc.nodesBetween(r,o,((e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);s.push({node:e,from:n,to:i})}));const l=o-r,c=s.filter((e=>!a||a.name===e.node.type.name)).filter((e=>V(e.node.attrs,n,{strict:!1})));if(i)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function ae(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function se(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce(((t,r)=>(n.includes(r)||(t[r]=e[r]),t)),{})}function le(e,t,n={}){return ne(e,t,{slice:!1,parseOptions:n})}function ce(e,t){const n=K(t,e.schema),{from:r,to:o,empty:i}=e.selection,a=[];i?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,(e=>{a.push(...e.marks)}));const s=a.find((e=>e.type.name===n.name));return s?{...s.attrs}:{}}function ue(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function de(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function pe(e){return t=>de(t.$from,e)}function fe(e,t){const n=a.DOMSerializer.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function he(e,t){return C(B.resolve(e),t)}function me(e,t){return H(e,{from:0,to:e.content.size},t)}function ge(e,t){const n=g(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,(e=>{i.push(e)}));const a=i.reverse().find((e=>e.type.name===n.name));return a?{...a.attrs}:{}}function ve(e,t){const n=ae("string"==typeof t?t:t.name,e.schema);return"node"===n?ge(e,t):"mark"===n?ce(e,t):{}}function ye(e,t=JSON.stringify){const n={};return e.filter((e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}function be(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach((t=>{const o=Y(n.resolve(e-1),t.type);o&&r.push({mark:t,...o})})):n.nodesBetween(e,t,((e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),r}function we(e,t,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=e.find((e=>e.type===t&&e.name===n));return!!r&&r.attribute.keepOnSplit})))}function xe(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?K(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!i||i.name===e.type.name)).find((e=>V(e.attrs,n,{strict:!1})));let a=0;const s=[];if(o.forEach((({$from:t,$to:n})=>{const r=t.pos,o=n.pos;e.doc.nodesBetween(r,o,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);a+=i-n,s.push(...e.marks.map((e=>({mark:e,from:n,to:i}))))}))})),0===a)return!1;const l=s.filter((e=>!i||i.name===e.mark.type.name)).filter((e=>V(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=s.filter((e=>!i||e.mark.type!==i&&e.mark.type.excludes(i))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=a}function ke(e,t,n={}){if(!t)return ie(e,null,n)||xe(e,null,n);const r=ae(t,e.schema);return"node"===r?ie(e,t,n):"mark"===r&&xe(e,t,n)}function Se(e,t){const{nodeExtensions:n}=h(t),r=n.find((t=>t.name===e));if(!r)return!1;const o=w(f(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}function Ee(e){var t;const n=null===(t=e.type.createAndFill())||void 0===t?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function Ce(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(r)}}const Ae=(e,t)=>{const n=pe((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!s.canJoin(e.doc,n.pos)||(e.join(n.pos),!0)},Oe=(e,t)=>{const n=pe((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!s.canJoin(e.doc,r)||(e.join(r),!0)};var Ie=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame((()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return!n||(o.forEach((({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,((e,n)=>{if(e.type.isText)return;const{doc:r,mapping:o}=t,i=r.resolve(o.map(n)),a=r.resolve(o.map(n+e.nodeSize)),l=i.blockRange(a);if(!l)return;const c=s.liftTarget(l);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(l.start,e)}(c||0===c)&&t.lift(l,c)}))})),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>l.createParagraphNear(e,t),cut:(e,t)=>({editor:n,tr:o})=>{const{state:i}=n,a=i.doc.slice(e.from,e.to);o.deleteRange(e.from,e.to);const s=o.mapping.map(t);return o.insert(s,a.content),o.setSelection(new r.TextSelection(o.doc.resolve(s-1))),!0},deleteCurrentNode:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let n=o.depth;n>0;n-=1){if(o.node(n).type===r.type){if(t){const t=o.before(n),r=o.after(n);e.delete(t,r).scrollIntoView()}return!0}}return!1},deleteNode:e=>({tr:t,state:n,dispatch:r})=>{const o=g(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1){if(i.node(e).type===o){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},deleteSelection:()=>({state:e,dispatch:t})=>l.deleteSelection(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>l.exitCode(e,t),extendMarkRange:(e,t={})=>({tr:n,state:o,dispatch:i})=>{const a=K(e,o.schema),{doc:s,selection:l}=n,{$from:c,from:u,to:d}=l;if(i){const e=Y(c,a,t);if(e&&e.from<=u&&e.to>=d){const t=r.TextSelection.create(s,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const a=()=>{Z()&&r.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())}))};if(r.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!J(n.state.selection))return a(),!0;const s=Q(o.doc,e)||n.state.selection,l=n.state.selection.eq(s);return i&&(l||o.setSelection(s),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},forEach:(e,t)=>n=>e.every(((e,r)=>t(e,{...n,index:r}))),insertContent:(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{if(o){n={parseOptions:{},updateSelection:!0,...n};const o=ne(t,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===o.toString())return!0;let{from:a,to:s}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},l=!0,c=!0;if((o.toString().startsWith("<")?o:[o]).forEach((e=>{e.check(),l=!!l&&(e.isText&&0===e.marks.length),c=!!c&&e.isBlock})),a===s&&c){const{parent:e}=r.doc.resolve(a);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(a-=1,s+=1)}l?Array.isArray(t)?r.insertText(t.map((e=>e.text||"")).join(""),a,s):"object"==typeof t&&t&&t.text?r.insertText(t.text,a,s):r.insertText(t,a,s):r.replaceWith(a,s,o),n.updateSelection&&re(r,r.steps.length-1,-1)}return!0},joinUp:()=>({state:e,dispatch:t})=>l.joinUp(e,t),joinDown:()=>({state:e,dispatch:t})=>l.joinDown(e,t),joinBackward:()=>({state:e,dispatch:t})=>l.joinBackward(e,t),joinForward:()=>({state:e,dispatch:t})=>l.joinForward(e,t),joinItemBackward:()=>({tr:e,state:t,dispatch:n})=>{try{const r=s.joinPoint(t.doc,t.selection.$from.pos,-1);return null!=r&&(e.join(r,2),n&&n(e),!0)}catch{return!1}},joinItemForward:()=>({state:e,dispatch:t,tr:n})=>{try{const r=s.joinPoint(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(e){return!1}},joinTextblockBackward:()=>({state:e,dispatch:t})=>l.joinTextblockBackward(e,t),joinTextblockForward:()=>({state:e,dispatch:t})=>l.joinTextblockForward(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,o,i,a=t[t.length-1];"Space"===a&&(a=" ");for(let e=0;e<t.length-1;e+=1){const a=t[e];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error(`Unrecognized modifier name: ${a}`);Z()||oe()?i=!0:r=!0}}return n&&(a=`Alt-${a}`),r&&(a=`Ctrl-${a}`),i&&(a=`Meta-${a}`),o&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),a=i.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction((()=>{n.someProp("handleKeyDown",(e=>e(n,s)))}));return null==l||l.steps.forEach((e=>{const t=e.map(r.mapping);t&&o&&r.maybeStep(t)})),!0},lift:(e,t={})=>({state:n,dispatch:r})=>!!ie(n,g(e,n.schema),t)&&l.lift(n,r),liftEmptyBlock:()=>({state:e,dispatch:t})=>l.liftEmptyBlock(e,t),liftListItem:e=>({state:t,dispatch:n})=>{const r=g(e,t.schema);return c.liftListItem(r)(t,n)},newlineInCode:()=>({state:e,dispatch:t})=>l.newlineInCode(e,t),resetAttributes:(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=ae("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=g(e,r.schema)),"mark"===s&&(a=K(e,r.schema)),o&&n.selection.ranges.forEach((e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,se(e.attrs,t)),a&&e.marks.length&&e.marks.forEach((o=>{a===o.type&&n.addMark(r,r+e.nodeSize,a.create(se(o.attrs,t)))}))}))})),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward:()=>({state:e,dispatch:t})=>l.selectNodeBackward(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>l.selectNodeForward(e,t),selectParentNode:()=>({state:e,dispatch:t})=>l.selectParentNode(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>l.selectTextblockEnd(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>l.selectTextblockStart(e,t),setContent:(e,t=!1,n={})=>({tr:r,editor:o,dispatch:i})=>{const{doc:a}=r,s=le(e,o.schema,n);return i&&r.replaceWith(0,a.content.size,s).setMeta("preventUpdate",!t),!0},setMark:(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:a,ranges:s}=i,l=K(e,r.schema);if(o)if(a){const e=ce(r,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach((e=>{const o=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(o,i,((e,r)=>{const a=Math.max(r,o),s=Math.min(r+e.nodeSize,i);e.marks.find((e=>e.type===l))?e.marks.forEach((e=>{l===e.type&&n.addMark(a,s,l.create({...e.attrs,...t}))})):n.addMark(a,s,l.create(t))}))}));return function(e,t,n){var r;const{selection:o}=t;let i=null;if(J(o)&&(i=o.$cursor),i){const t=null!==(r=e.storedMarks)&&void 0!==r?r:i.marks();return!!n.isInSet(t)||!t.some((e=>e.type.excludes(n)))}const{ranges:a}=o;return a.some((({$from:t,$to:r})=>{let o=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,((e,t,r)=>{if(o)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some((e=>e.type.excludes(n)));o=t&&i}return!o})),o}))}(r,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=g(e,n.schema);return i.isTextblock?o().command((({commands:e})=>!!l.setBlockType(i,t)(n)||e.clearNodes())).command((({state:e})=>l.setBlockType(i,t)(e,r))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,o=X(e,0,n.content.size),i=r.NodeSelection.create(n,o);t.setSelection(i)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:o,to:i}="number"==typeof e?{from:e,to:e}:e,a=r.TextSelection.atStart(n).from,s=r.TextSelection.atEnd(n).to,l=X(o,a,s),c=X(i,a,s),u=r.TextSelection.create(n,l,c);t.setSelection(u)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{const r=g(e,t.schema);return c.sinkListItem(r)(t,n)},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:o,editor:i})=>{const{selection:a,doc:l}=t,{$from:c,$to:u}=a,d=we(i.extensionManager.attributes,c.node().type.name,c.node().attrs);if(a instanceof r.NodeSelection&&a.node.isBlock)return!(!c.parentOffset||!s.canSplit(l,c.pos))&&(o&&(e&&Ce(n,i.extensionManager.splittableMarks),t.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;if(o){const o=u.parentOffset===u.parent.content.size;a instanceof r.TextSelection&&t.deleteSelection();const l=0===c.depth?void 0:ue(c.node(-1).contentMatchAt(c.indexAfter(-1)));let p=o&&l?[{type:l,attrs:d}]:void 0,f=s.canSplit(t.doc,t.mapping.map(c.pos),1,p);if(p||f||!s.canSplit(t.doc,t.mapping.map(c.pos),1,l?[{type:l}]:void 0)||(f=!0,p=l?[{type:l,attrs:d}]:void 0),f&&(t.split(t.mapping.map(c.pos),1,p),l&&!o&&!c.parentOffset&&c.parent.type!==l)){const e=t.mapping.map(c.before()),n=t.doc.resolve(e);c.node(-1).canReplaceWith(n.index(),n.index()+1,l)&&t.setNodeMarkup(t.mapping.map(c.before()),l)}e&&Ce(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},splitListItem:e=>({tr:t,state:n,dispatch:o,editor:i})=>{var l;const c=g(e,n.schema),{$from:u,$to:d}=n.selection,p=n.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;const f=u.node(-1);if(f.type!==c)return!1;const h=i.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(o){let e=a.Fragment.empty;const n=u.index(-1)?1:u.index(-2)?2:3;for(let t=u.depth-n;t>=u.depth-3;t-=1)e=a.Fragment.from(u.node(t).copy(e));const o=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,i=we(h,u.node().type.name,u.node().attrs),s=(null===(l=c.contentMatch.defaultType)||void 0===l?void 0:l.createAndFill(i))||void 0;e=e.append(a.Fragment.from(c.createAndFill(null,s)||void 0));const d=u.before(u.depth-(n-1));t.replace(d,u.after(-o),new a.Slice(e,4-n,0));let p=-1;t.doc.nodesBetween(d,t.doc.content.size,((e,t)=>{if(p>-1)return!1;e.isTextblock&&0===e.content.size&&(p=t+1)})),p>-1&&t.setSelection(r.TextSelection.near(t.doc.resolve(p))),t.scrollIntoView()}return!0}const m=d.pos===u.end()?f.contentMatchAt(0).defaultType:null,v=we(h,f.type.name,f.attrs),y=we(h,u.node().type.name,u.node().attrs);t.delete(u.pos,d.pos);const b=m?[{type:c,attrs:v},{type:m,attrs:y}]:[{type:c,attrs:v}];if(!s.canSplit(t.doc,u.pos,2))return!1;if(o){const{selection:e,storedMarks:r}=n,{splittableMarks:a}=i.extensionManager,s=r||e.$to.parentOffset&&e.$from.marks();if(t.split(u.pos,2,b).scrollIntoView(),!s||!o)return!0;const l=s.filter((e=>a.includes(e.type.name)));t.ensureMarks(l)}return!0},toggleList:(e,t,n,r={})=>({editor:o,tr:i,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:p}=o.extensionManager,f=g(e,a.schema),h=g(t,a.schema),{selection:m,storedMarks:v}=a,{$from:y,$to:b}=m,w=y.blockRange(b),x=v||m.$to.parentOffset&&m.$from.marks();if(!w)return!1;const k=pe((e=>Se(e.type.name,d)))(m);if(w.depth>=1&&k&&w.depth-k.depth<=1){if(k.node.type===f)return c.liftListItem(h);if(Se(k.node.type.name,d)&&f.validContent(k.node.content)&&s)return l().command((()=>(i.setNodeMarkup(k.pos,f),!0))).command((()=>Ae(i,f))).command((()=>Oe(i,f))).run()}return n&&x&&s?l().command((()=>{const e=u().wrapInList(f,r),t=x.filter((e=>p.includes(e.type.name)));return i.ensureMarks(t),!!e||c.clearNodes()})).wrapInList(f,r).command((()=>Ae(i,f))).command((()=>Oe(i,f))).run():l().command((()=>!!u().wrapInList(f,r)||c.clearNodes())).wrapInList(f,r).command((()=>Ae(i,f))).command((()=>Oe(i,f))).run()},toggleMark:(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,a=K(e,r.schema);return xe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)},toggleNode:(e,t,n={})=>({state:r,commands:o})=>{const i=g(e,r.schema),a=g(t,r.schema);return ie(r,i,n)?o.setNode(a):o.setNode(i,n)},toggleWrap:(e,t={})=>({state:n,commands:r})=>{const o=g(e,n.schema);return ie(n,o,t)?r.lift(o):r.wrapIn(o,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos)})),!0},unsetMark:(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=K(e,r.schema),{$from:c,empty:u,ranges:d}=s;if(!o)return!0;if(u&&a){let{from:e,to:t}=s;const r=null===(i=c.marks().find((e=>e.type===l)))||void 0===i?void 0:i.attrs,o=Y(c,l,r);o&&(e=o.from,t=o.to),n.removeMark(e,t,l)}else d.forEach((e=>{n.removeMark(e.$from.pos,e.$to.pos,l)}));return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=ae("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=g(e,r.schema)),"mark"===s&&(a=K(e,r.schema)),o&&n.selection.ranges.forEach((e=>{const o=e.$from.pos,s=e.$to.pos;r.doc.nodesBetween(o,s,((e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach((i=>{if(a===i.type){const l=Math.max(r,o),c=Math.min(r+e.nodeSize,s);n.addMark(l,c,a.create({...i.attrs,...t}))}}))}))})),!0)},wrapIn:(e,t={})=>({state:n,dispatch:r})=>{const o=g(e,n.schema);return l.wrapIn(o,t)(n,r)},wrapInList:(e,t={})=>({state:n,dispatch:r})=>{const o=g(e,n.schema);return c.wrapInList(o,t)(n,r)}});const De=$.create({name:"commands",addCommands:()=>({...Ie})}),Me=$.create({name:"editable",addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Te=$.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new r.Plugin({key:new r.PluginKey("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),_e=$.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((({commands:e})=>[()=>e.undoInputRule(),()=>e.command((({tr:t})=>{const{selection:n,doc:o}=t,{empty:i,$anchor:a}=n,{pos:s,parent:l}=a,c=a.parent.isTextblock?t.doc.resolve(s-1):a,u=c.parent.type.spec.isolating,d=a.pos-a.parentOffset,p=u&&1===c.parent.childCount?d===a.pos:r.Selection.atStart(o).from===s;return!(!(i&&p&&l.type.isTextblock)||l.textContent.length)&&e.clearNodes()})),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()])),t=()=>this.editor.commands.first((({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},i={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Z()||oe()?i:o},addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some((e=>e.docChanged))&&!t.doc.eq(n.doc)))return;const{empty:o,from:i,to:a}=t.selection,s=r.Selection.atStart(t.doc).from,l=r.Selection.atEnd(t.doc).to;if(o||!(i===s&&a===l))return;if(!(0===n.doc.textBetween(0,n.doc.content.size," "," ").length))return;const c=n.tr,p=u({state:n,transaction:c}),{commands:f}=new d({editor:this.editor,state:p});return f.clearNodes(),c.steps.length?c:void 0}})]}}),Re=$.create({name:"tabindex",addProseMirrorPlugins(){return[new r.Plugin({key:new r.PluginKey("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Pe=Object.freeze({__proto__:null,ClipboardTextSerializer:W,Commands:De,Editable:Me,FocusEvents:Te,Keymap:_e,Tabindex:Re});class Le{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!==(e=this.actualDepth)&&void 0!==e?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Le(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Le(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Le(e,this.editor)}get children(){const e=[];return this.node.content.forEach(((t,n)=>{const r=t.isBlock&&!t.isTextblock,o=this.pos+n+(r?0:1),i=this.resolvedPos.doc.resolve(o);if(!r&&i.depth<=this.depth)return;const a=new Le(i,this.editor,r,r?t:null);r&&(a.actualDepth=this.depth+1),e.push(new Le(i,this.editor,r,r?t:null))})),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o]!==t[o])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];return this.isBlock||!this.children||0===this.children.length||this.children.forEach((o=>{if(o.node.type.name===e){if(Object.keys(t).length>0){const e=o.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o]!==t[o])return}}if(r.push(o),n)return}r=r.concat(o.querySelectorAll(e))})),r}setAttribute(e){const t=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(t.from).run()}}function Ne(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style"+(n?`-${n}`:""),""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}class je{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=w(f(this,"addOptions",{name:this.name}))),this.storage=w(f(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new je(e)}configure(e={}){const t=this.extend();return t.options=z(this.options,e),t.storage=w(f(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new je({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=w(f(t,"addOptions",{name:t.name})),t.storage=w(f(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find((e=>(null==e?void 0:e.type.name)===t.name)))return!1;const i=o.find((e=>(null==e?void 0:e.type.name)===t.name));return i&&n.removeStoredMark(i),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}class Be{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=w(f(this,"addOptions",{name:this.name}))),this.storage=w(f(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Be(e)}configure(e={}){const t=this.extend();return t.options=z(this.options,e),t.storage=w(f(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Be({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=w(f(t,"addOptions",{name:t.name})),t.storage=w(f(t,"addStorage",{name:t.name,options:t.options})),t}}t.CommandManager=d,t.Editor=class extends p{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Ne('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=b(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((e=>!e.key.startsWith(t)))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(Pe):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new B(e,this)}createCommandManager(){this.commandManager=new d({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=le(this.options.content,this.schema,this.options.parseOptions),t=Q(e,this.options.autofocus);this.view=new o.EditorView(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:r.EditorState.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)})):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),o=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return ve(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return ke(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fe(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return me(this.state.doc,{blockSeparator:t,textSerializers:{...U(this.schema),...n}})}get isEmpty(){return Ee(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}$node(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Le(t,this)}get $doc(){return this.$pos(0)}},t.Extension=$,t.InputRule=M,t.Mark=je,t.Node=Be,t.NodePos=Le,t.NodeView=class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,o,i,a,s,l;const{view:c}=this.editor,u=e.target,d=3===u.nodeType?null===(t=u.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(u))||!d)return;let p=0,f=0;if(this.dom!==d){const t=this.dom.getBoundingClientRect(),n=d.getBoundingClientRect(),r=null!==(o=e.offsetX)&&void 0!==o?o:null===(i=e.nativeEvent)||void 0===i?void 0:i.offsetX,l=null!==(a=e.offsetY)&&void 0!==a?a:null===(s=e.nativeEvent)||void 0===s?void 0:s.offsetY;p=n.x-t.x+r,f=n.y-t.y+l}null===(l=e.dataTransfer)||void 0===l||l.setDragImage(this.dom,p,f);const h=r.NodeSelection.create(c.state.doc,this.getPos()),m=c.state.tr.setSelection(h);c.dispatch(m)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(n))))return!1;const o=e.type.startsWith("drag"),i="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!i&&!o)return!0;const{isEditable:a}=this.editor,{isDragging:s}=this,l=!!this.node.type.spec.draggable,c=r.NodeSelection.isSelectable(this.node),u="copy"===e.type,d="paste"===e.type,p="cut"===e.type,f="mousedown"===e.type;if(!l&&c&&o&&e.preventDefault(),l&&o&&!s)return e.preventDefault(),!1;if(l&&a&&!s&&f){const e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("drop",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("mouseup",(()=>{this.isDragging=!1}),{once:!0}))}return!(s||i||u||d||p||f&&c)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&(Z()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&this.editor.isFocused){if([...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every((e=>e.isContentEditable)))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command((({tr:t})=>{const n=this.getPos();return t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0}))}deleteNode(){const e=this.getPos(),t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}},t.PasteRule=P,t.Tracker=class{constructor(e){this.transaction=e,this.currentStep=this.transaction.steps.length}map(e){let t=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce(((e,n)=>{const r=n.getMap().mapResult(e);return r.deleted&&(t=!0),r.pos}),e),deleted:t}}},t.callOrReturn=w,t.combineTransactionSteps=function(e,t){const n=new s.Transform(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n},t.createChainableState=u,t.createDocument=le,t.createNodeFromContent=ne,t.createStyleTag=Ne,t.defaultBlockAt=ue,t.deleteProps=se,t.elementFromString=te,t.escapeForRegEx=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},t.extensions=Pe,t.findChildren=function(e,t){const n=[];return e.descendants(((e,r)=>{t(e)&&n.push({node:e,pos:r})})),n},t.findChildrenInRange=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&r.push({node:e,pos:t})})),r},t.findDuplicates=j,t.findParentNode=pe,t.findParentNodeClosestToPos=de,t.fromString=k,t.generateHTML=function(e,t){const n=he(t);return fe(a.Node.fromJSON(n,e).content,n)},t.generateJSON=function(e,t){const n=he(t),r=te(e);return a.DOMParser.fromSchema(n).parse(r).toJSON()},t.generateText=function(e,t,n){const{blockSeparator:r="\n\n",textSerializers:o={}}=n||{},i=he(t);return me(a.Node.fromJSON(i,e),{blockSeparator:r,textSerializers:{...U(i),...o}})},t.getAttributes=ve,t.getAttributesFromExtensions=m,t.getChangedRanges=function(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach(((e,o)=>{const i=[];if(e.ranges.length)e.forEach(((e,t)=>{i.push({from:e,to:t})}));else{const{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach((({from:e,to:n})=>{const i=t.slice(o).map(e,-1),a=t.slice(o).map(n),s=t.invert().map(i,-1),l=t.invert().map(a);r.push({oldRange:{from:s,to:l},newRange:{from:i,to:a}})}))})),function(e){const t=ye(e);return 1===t.length?t:t.filter(((e,n)=>!t.filter(((e,t)=>t!==n)).some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))))}(r)},t.getDebugJSON=function e(t,n=0){const r=t.type===t.type.schema.topNodeType?0:1,o=n,i=o+t.nodeSize,a=t.marks.map((e=>{const t={type:e.type.name};return Object.keys(e.attrs).length&&(t.attrs={...e.attrs}),t})),s={...t.attrs},l={type:t.type.name,from:o,to:i};return Object.keys(s).length&&(l.attrs=s),a.length&&(l.marks=a),t.content.childCount&&(l.content=[],t.forEach(((t,o)=>{var i;null===(i=l.content)||void 0===i||i.push(e(t,n+o+r))}))),t.text&&(l.text=t.text),l},t.getExtensionField=f,t.getHTMLFromFragment=fe,t.getMarkAttributes=ce,t.getMarkRange=Y,t.getMarkType=K,t.getMarksBetween=be,t.getNodeAtPosition=(e,t,n,r=20)=>{const o=e.doc.resolve(n);let i=r,a=null;for(;i>0&&null===a;){const e=o.node(i);(null==e?void 0:e.type.name)===t?a=e:i-=1}return[a,i]},t.getNodeAttributes=ge,t.getNodeType=g,t.getRenderedAttributes=y,t.getSchema=he,t.getSchemaByResolvedExtensions=C,t.getSchemaTypeByName=A,t.getSchemaTypeNameByName=ae,t.getSplittedAttributes=we,t.getText=me,t.getTextBetween=H,t.getTextContentFromNodes=I,t.getTextSerializersFromSchema=U,t.injectExtensionAttributesToParseRule=S,t.inputRulesPlugin=_,t.isActive=ke,t.isAtEndOfNode=(e,t)=>{const{$from:n,$to:r,$anchor:o}=e.selection;if(t){const n=pe((e=>e.type.name===t))(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return o.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},t.isAtStartOfNode=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)},t.isEmptyObject=x,t.isExtensionRulesEnabled=O,t.isFunction=b,t.isList=Se,t.isMacOS=oe,t.isMarkActive=xe,t.isNodeActive=ie,t.isNodeEmpty=Ee,t.isNodeSelection=function(e){return e instanceof r.NodeSelection},t.isNumber=R,t.isPlainObject=F,t.isRegExp=D,t.isString=function(e){return"string"==typeof e},t.isTextSelection=J,t.isiOS=Z,t.markInputRule=function(e){return new M({find:e.find,handler:({state:t,range:n,match:r})=>{const o=w(e.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:i}=t,a=r[r.length-1],s=r[0];if(a){const r=s.search(/\S/),l=n.from+s.indexOf(a),c=l+a.length;if(be(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>l)).length)return null;c<n.to&&i.delete(c,n.to),l>n.from&&i.delete(n.from+r,l);const u=n.from+r+a.length;i.addMark(n.from+r,u,e.type.create(o||{})),i.removeStoredMark(e.type)}}})},t.markPasteRule=function(e){return new P({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=w(e.getAttributes,void 0,r,o);if(!1===i||null===i)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const r=l.search(/\S/),o=n.from+l.indexOf(s),u=o+s.length;if(be(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>o)).length)return null;u<n.to&&a.delete(u,n.to),o>n.from&&a.delete(n.from+r,o),c=n.from+r+s.length,a.addMark(n.from+r,c,e.type.create(i||{})),a.removeStoredMark(e.type)}}})},t.mergeAttributes=v,t.mergeDeep=z,t.minMax=X,t.nodeInputRule=function(e){return new M({find:e.find,handler:({state:t,range:n,match:r})=>{const o=w(e.getAttributes,void 0,r)||{},{tr:i}=t,a=n.from;let s=n.to;const l=e.type.create(o);if(r[1]){let e=a+r[0].lastIndexOf(r[1]);e>s?e=s:s=e+r[1].length;const t=r[0][r[0].length-1];i.insertText(t,a+r[0].length-1),i.replaceWith(e,s,l)}else r[0]&&i.insert(a-1,e.type.create(o)).delete(i.mapping.map(a),i.mapping.map(s));i.scrollIntoView()}})},t.nodePasteRule=function(e){return new P({find:e.find,handler({match:t,chain:n,range:r,pasteEvent:o}){const i=w(e.getAttributes,void 0,t,o);if(!1===i||null===i)return null;t.input&&n().deleteRange(r).insertContentAt(r.from,{type:e.type.name,attrs:i})}})},t.objectIncludes=V,t.pasteRulesPlugin=N,t.posToDOMRect=function(e,t,n){const r=e.state.doc.content.size,o=X(t,0,r),i=X(n,0,r),a=e.coordsAtPos(o),s=e.coordsAtPos(i,-1),l=Math.min(a.top,s.top),c=Math.max(a.bottom,s.bottom),u=Math.min(a.left,s.left),d=Math.max(a.right,s.right),p={top:l,bottom:c,left:u,right:d,width:d-u,height:c-l,x:u,y:l};return{...p,toJSON:()=>p}},t.removeDuplicates=ye,t.resolveFocusPosition=Q,t.selectionToInsertionEnd=re,t.splitExtensions=h,t.textInputRule=function(e){return new M({find:e.find,handler:({state:t,range:n,match:r})=>{let o=e.replace,i=n.from;const a=n.to;if(r[1]){const e=r[0].lastIndexOf(r[1]);o+=r[0].slice(e+r[1].length),i+=e;const t=i-a;t>0&&(o=r[0].slice(e-t,e)+o,i=a)}t.tr.insertText(o,i,a)}})},t.textPasteRule=function(e){return new P({find:e.find,handler:({state:t,range:n,match:r})=>{let o=e.replace,i=n.from;const a=n.to;if(r[1]){const e=r[0].lastIndexOf(r[1]);o+=r[0].slice(e+r[1].length),i+=e;const t=i-a;t>0&&(o=r[0].slice(e-t,e)+o,i=a)}t.tr.insertText(o,i,a)}})},t.textblockTypeInputRule=function(e){return new M({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=w(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)}})},t.wrappingInputRule=function(e){return new M({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=w(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),c=l&&s.findWrapping(l,e.type,i);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:o}=e.editor.extensionManager,i=r||n.$to.parentOffset&&n.$from.marks();if(i){const e=i.filter((e=>o.includes(e.type.name)));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";o().updateAttributes(t,i).run()}const u=a.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&s.canJoin(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&a.join(n.from-1)}})}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Commenter=100]="Commenter",e[e.SuggestOnly=200]="SuggestOnly",e[e.AddOnly=400]="AddOnly",e[e.ReadWrite=800]="ReadWrite",e[e.Admin=900]="Admin",e[e.Owner=1e3]="Owner"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o.b})),n.d(t,"a",(function(){return o.a})),n.d(t,"c",(function(){return c}));var r=n(207),o=n(133);const i={normalizeProtocol:!0,stripHash:!0,stripWWW:!0,removeTrailingSlash:!0,removeQueryParameters:[/^utm_\w+/i],removeDirectoryIndex:[/^(default|index)\.\w{2,4}$/]};var a=new Map(Object.entries({"youtube.com":{rules:["v"],type:"keep"},"facebook.com":{rules:["fbid","q"],type:"keep"},"twitter.com":{rules:["q"],type:"keep"},"google.com":{rules:["q"],type:"keep"},"google.com.vn":{rules:["q"],type:"keep"},"google.com.au":{rules:["q"],type:"keep"},"google.com.tw":{rules:["q"],type:"keep"},"google.com.br":{rules:["q"],type:"keep"},"google.com.tr":{rules:["q"],type:"keep"},"google.com.gr":{rules:["q"],type:"keep"},"google.com.mx":{rules:["q"],type:"keep"},"google.com.ar":{rules:["q"],type:"keep"},"google.com.co":{rules:["q"],type:"keep"},"google.com.pk":{rules:["q"],type:"keep"},"google.co.jp":{rules:["q"],type:"keep"},"google.co.uk":{rules:["q"],type:"keep"},"google.co.in":{rules:["q"],type:"keep"},"google.co.kr":{rules:["q"],type:"keep"},"google.es":{rules:["q"],type:"keep"},"google.pl":{rules:["q"],type:"keep"},"google.pt":{rules:["q"],type:"keep"},"google.ie":{rules:["q"],type:"keep"},"google.cl":{rules:["q"],type:"keep"},"google.at":{rules:["q"],type:"keep"},"google.dk":{rules:["q"],type:"keep"},"google.be":{rules:["q"],type:"keep"},"google.ca":{rules:["q"],type:"keep"},"google.de":{rules:["q"],type:"keep"},"google.it":{rules:["q"],type:"keep"},"google.fr":{rules:["q"],type:"keep"},"google.nl":{rules:["q"],type:"keep"},"instagram.com":{rules:["taken-by"],type:"remove"},"blogspot.com":{rules:[],type:"keep"},"substack.com":{rules:[],type:"keep"}}));const s=/^\w+:\/\//;function l(e){const t=Object(r.parse)(e,!0),n=a.get(t.hostname);if(!n)return e;const o=new Set(n.rules),i=n.type;for(const e of[...Object.keys(t.query)]){("keep"===i?!o.has(e):o.has(e))&&delete t.query[e]}return function({protocol:e,hostname:t,pathname:n,query:r}){return`${e}//${t}${n}${Object.entries(r).reduce(((e,[t,n],r)=>e+`${0===r?"?":"&"}${t}=${n}`),"")}`}(t)}function c(e,t={}){var n;let r;try{r=Object(o.c)(e,Object.assign(Object.assign({},i),t))}catch(o){if(null!==(n=null==t?void 0:t.suppressParseError)&&void 0!==n&&!n)throw o;r=e}return t.skipQueryRules||(r=l(r)),t.skipProtocolTrim?r:r.replace(s,"")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return p}));const r=Math.pow(2,32),o=Number.MAX_SAFE_INTEGER,i=0,a=Math.floor(o/2);class s extends Error{constructor(){super(...arguments),this.type="item-order"}}const l=(e,t)=>({create:{id:t,key:e},update:[]});function c(e,t,n=r,i=a,c=o){const u=e[e.length-1],d=null==u?void 0:u.key;if(!d)return l(i,t);if(c-d<n)throw new s("No space left to push ordered item");return l(d+n,t)}function u(e,t,n,a=r,c=o){const u=e[n];if(!u)throw new Error(`Tried to insert item before non-existing index: ${n}`);if(u.id===t)return l(u.key,t);const d=e[n-1],p=u.key,f=null==d?void 0:d.key;let h;if(h=f?Math.floor((f+p)/2):p-a,h===f||h===p||h<i||h>c)throw new s(`No space left to insert ordered item before index: ${n}`);return l(h,t)}function d(e,t){return e.order-t.order}function p(e,t=r,n=a){const o=[...e].sort(d),i=Math.floor(o.length/2);for(let e=0;e<o.length;e++){const r=(e-i)*t;o[e].order=e===i?n:n+r}return o}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),o=n(0),i=n.n(o),a=n(159),s=n(1),l=n.n(s),c=n(99),u=n(28),d=n.n(u);let p=0;const f=({children:e,placement:t,offsetX:n,offsetY:s,width:l,closeComponent:u,strategy:f,targetElementRef:h,noStyles:m,onMouseEnter:g,onMouseLeave:b,instaClose:w,disableBlur:x,getPortalRoot:k,blockedBackground:S,blockedBackgroundTransparent:E,getDocument:C=()=>document,clickThrough:A})=>{var O;const[I,D]=Object(o.useState)(null),[M,T]=Object(o.useState)(!1);let _=0;p++,_=p;const R=()=>{p===_&&p--,u()};Object(o.useEffect)((()=>{const e=e=>{"Escape"===e.key&&(e.stopPropagation(),R())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]);const{styles:P,attributes:L,update:N}=Object(a.usePopper)(h,I,{placement:t||"left-start",strategy:f||"fixed",modifiers:[{name:"offset",options:{offset:[s||0,n||0]}},{name:"preventOverflow",options:{altAxis:!0,padding:20}}]}),j=()=>(M||null==N||setTimeout((()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){T(!0),yield N()}))),150),i.a.createElement(c.a,{instaClose:w,getDocument:C,referenceElement:I,onClickAway:R,targetElementRef:h,blockedBackground:S,blockedBackgroundTransparent:E,clickThrough:A},i.a.createElement(y,Object.assign({ref:D,style:P.popper,noStyles:m,disableBlur:x,id:"popout-boxes"},L.popper),i.a.createElement(v,Object.assign({onMouseEnter:g,onMouseLeave:b},L.popper,{width:l}),e))));if(null===k)return j();const B=null!==(O=null==k?void 0:k())&&void 0!==O?O:C().querySelector("body");return d.a.createPortal(j(),B)},h=s.keyframes`
 0% { max-height: 0px; max-width: 0px; opacity: 0 }
 50% { opacity: 0 }
 100% { max-height: 800px; max-width: 800px; opacity: 1 }
`,m=s.keyframes`
 0% { max-height: 0px; max-width: 0px; opacity: 0; margin-top: -14px }
 50% { opacity: 0 }
 100% { max-height: 800px; max-width: 800px; opacity: 1; margin-top: 0px }
`,g=s.keyframes`
 0% { opacity: 0 }
 100% { opacity: 1 }
`,v=l.a.div`
    animation-name: ${m};
    animation-duration: 100ms;
    animation-delay: 50ms;
    animation-timing-function: ease-in;
    animation-fill-mode: forwards;
    overflow: visible;
    width: ${e=>e.width?e.width:"fit-content"};

    /* transition: all 2s ease-in-out; */

    scrollbar-width: none;
    /* 
    animation-name: ${g};
        animation-duration: 0.1s;
        animation-delay: 0.3s;
        animation-timing-function: ease-in-out;
        animation-fill-mode: forwards; */
`,y=l.a.div`
    animation-name: ${h};
    animation-duration: 100ms;
    animation-timing-function: ease-in;
    animation-fill-mode: forwards;
    width: ${e=>e.width?e.width:"fit-content"};
    z-index: 24534535435;

    border: 1px solid ${e=>e.theme.colors.greyScale3};
    background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
    box-shadow: 0px 14px 40px 6px ${e=>e.theme.colors.black2}c2;

    &::-webkit-scrollbar {
        display: none;
    }
    border-radius: 12px;
    scrollbar-width: none;

    ${e=>e.noStyles&&s.css`
            border: none;
            background: none;
            box-shadow: none;
        `}
    ${e=>e.disableBlur&&s.css`
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
            backdrop-filter: none;
        `}

    ${e=>"light"===e.theme.variant&&s.css`
            box-shadow: ${e=>e.theme.borderStyles.boxShadowHoverElements};
            border: 1px solid
                ${e=>e.theme.borderStyles.borderHoverElements};
        `};
`},,,function(e,t,n){"use strict";function r(e){var t;const{platform:n}=null!==(t=e.navigatorAPI)&&void 0!==t?t:globalThis.navigator;return n.startsWith("Mac")?"alt"===e.key?"option":"cmd":"alt"===e.key?"alt":"ctrl"}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4);function l(e){var t;return e.autoFocus&&(null===(t=e.componentRef)||void 0===t?void 0:t.current)&&setTimeout((()=>{e.componentRef.current.focus()}),100),o.a.createElement(c,{width:e.width,height:e.height,background:e.background,padding:e.padding,borderRadius:e.borderRadius},e.icon&&o.a.createElement(s.a,{filePath:e.icon,heightAndWidth:e.iconSize?e.iconSize:"20px",hoverOff:!0}),e.element&&e.element,o.a.createElement(u,{id:e.id,placeholder:e.placeholder,type:e.type,value:e.value,onChange:e.onChange,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off",disabled:e.disabled,ref:e.componentRef,autoFocus:e.autoFocus,textColor:e.textColor,onClick:e.onClick,fontSize:e.fontSize,defaultValue:e.initialValue}),e.actionButton&&e.actionButton)}const c=a.a.div`
    height: ${e=>e.height?e.height:"44px"};
    width: ${e=>e.width?e.width:"fill-available"};
    box-sizing: border-box;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: ${e=>e.background?e.theme.colors[e.background]:e.theme.colors.greyScale2};
    border-radius: ${e=>{var t;return null!==(t=e.borderRadius)&&void 0!==t?t:"5px"}};
    padding: ${e=>e.padding?e.padding:"0px 10px"};
    flex: ${e=>e.width?"0":"1"};
    grid-gap: 10px;

    &:focus-within {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
        background-color: ${e=>e.background?e.theme.colors[e.background]:e.theme.colors.greyScale2};
    }

    ${e=>"light"===e.theme.variant&&i.css`
            &:focus-within {
                outline: 1px solid ${e.theme.colors.greyScale2};
                background-color: ${e.background?e.theme.colors[e.background]:e.theme.colors.greyScale2};
            }
        `};
`,u=a.a.input`
    font-size: ${e=>e.fontSize?e.fontSize:"14px"};
    line-height: 18px;
    border: none;
    background-color: transparent;
    width: fill-available;
    width: -moz-available;
    width: inherit;
    color: ${e=>e.textColor?e.theme.colors[e.textColor]:e.theme.colors.white};
    font-weight: 400;
    font-family: ${e=>e.theme.fonts.primary};
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    outline: none;
    height: inherit;

    &::placeholder {
        color: ${e=>e.theme.colors.greyScale5};
    }

    &:focus {
        outline: none;
    }

    &:focus ${c} {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
    }

    /* ${e=>"light"===e.theme.variant&&i.css`
            &:focus {
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `}; */
`},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(522)},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const r="desc",o="asc",i={production:"https://cloudfare-memex.memex.workers.dev",staging:"https://cloudflare-memex-staging.memex.workers.dev",development:"https://cloudflare-memex-staging.memex.workers.dev"}},,function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));new Date(Date.now());const r="@tabAI",o="@status",i="localSettings.signupTimestamp",a={pU:{AIpowerup:!1,Unlimited:!1,AIpowerupOwnKey:!1,bookmarksPowerUp:!1,lifetime:!1}},s={bookmarksPowerUp:3,AIpowerup:3},l=15},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(2),o=n(3),i=n.n(o);function a(e,t,n=null){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{[e]:r}=yield(n||i.a.storage.local).get(e);return void 0===r&&null!=t?s(e,t):r}))}function s(e,t,n=null){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield(n||i.a.storage.local).set({[e]:t}),t}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),o=n(310),i=n.n(o),a=n(53);class s{constructor(){this.events=new a.EventEmitter}applyAndEmitMutation(e,t){const n=this.withMutation(e,t);return this.emitMutation(t),n}emitMutation(e){this.events.emit("mutation",e)}withMutation(e,t){return i()(e,t||{})}processUIEvent(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=this[e];if(!n){if(t.optional)return;throw new Error(`Tried to process UI event which I couldn't find a handler method for (${String(e)})`)}const r=yield n.call(this,{previousState:t.previousState,event:"event"in t?t.event:void 0});return r?t.direct?r:void this.emitMutation(r):void 0}))}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(62);const o={INBOX:"Inbox",MOBILE:"Saved from Mobile",FEED:"Notifications"},i={INBOX:20201014,MOBILE:20201015,FEED:20201016},a={list:"customLists",listEntry:"pageListEntries",listTrees:"customListTrees",listDescription:"customListDescriptions",listEntryDescription:"pageListEntryDescriptions"},s={[a.list]:{version:r.a[28].version,fields:{id:{type:"int"},type:{type:"string",optional:!0},name:{type:"string"},searchableName:{type:"text",optional:!0},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name"},{field:"searchableName",fullTextIndexName:"nameTerms"},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}],history:[{version:new Date("2020-10-18"),fields:{id:{type:"int"},name:{type:"string"},searchableName:{type:"text",optional:!0},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name"},{field:"searchableName",fullTextIndexName:"nameTerms"},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2019-09-13"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name"},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2018-07-12"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name",unique:!0},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2019-08-21"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"},updatedAt:{type:"datetime",optional:!0}},indices:[{field:"id",pk:!0},{field:"name",unique:!0},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]},{version:new Date("2019-08-29"),fields:{id:{type:"int"},name:{type:"string"},isDeletable:{type:"boolean",optional:!0},isNestable:{type:"boolean",optional:!0},createdAt:{type:"datetime"}},indices:[{field:"id",pk:!0},{field:"name",unique:!0},{field:"isDeletable"},{field:"isNestable"},{field:"createdAt"}]}]},[a.listEntry]:{version:r.a[39].version,fields:{listId:{type:"int"},pageUrl:{type:"string"},fullUrl:{type:"string"},createdAt:{type:"datetime"}},indices:[{field:["listId","pageUrl"],pk:!0},{field:"listId"},{field:"pageUrl"},{field:"createdAt"}],history:[{version:new Date("2018-07-12"),fields:{listId:{type:"int"},pageUrl:{type:"string"},fullUrl:{type:"string"},createdAt:{type:"datetime"}},indices:[{field:["listId","pageUrl"],pk:!0},{field:"listId"},{field:"pageUrl"}]}]},[a.listDescription]:{version:new Date(r.a[20].version),fields:{listId:{type:"int"},description:{type:"text"}},indices:[{field:"listId",pk:!0}]},[a.listEntryDescription]:{version:new Date(r.a[20].version),fields:{listId:{type:"int"},pageUrl:{type:"string"},description:{type:"text"}},indices:[{field:["listId","pageUrl"],pk:!0}]},[a.listTrees]:{version:new Date(r.a[36].version),fields:{listId:{type:"int",optional:null},linkTarget:{type:"int",optional:!0},path:{type:"string",optional:!0},parentListId:{type:"int",optional:!0},order:{type:"int"},createdWhen:{type:"timestamp"},updatedWhen:{type:"timestamp"}},indices:[{field:"listId"},{field:"path"},{field:"parentListId"},{field:"order"}]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return v}));var r=n(77),o=n(1);const i="#5CD9A6",a=`${i};`,s=`${i};`,l="#5671CF",c="#83c9f4",u="#3A2F45",d="#3a2f45",p="#F1F1F5",f="#9B9BAA",h="#72727F",m="#4D4754",g="#3A2F45",v=(Object(o.css)(["border-radius:3px;box-shadow:rgba(15,15,15,0.1) 0px 0px 0px 1px,rgba(15,15,15,0.1) 0px 2px 4px;transition:background 120ms ease-in 0s;&:hover{transition:background 120ms ease-in 0s;background-color:rgba(55,53,47,0.03);}"]),{background:"#fff",inputBackground:p,text:u,border:p,tag:{tag:c,searchIcon:m,hover:c,selected:Object(r.lighten)(.18,c),text:Object(r.darken)(.5,Object(r.desaturate)(.5,c)),icon:f,iconHover:m,iconHoverBg:"#DADBE7"}});Object(r.lighten)(.18,c),Object(r.darken)(.5,Object(r.desaturate)(.5,c))},function(e,t,n){"use strict";n.d(t,"g",(function(){return o}));var r=n(86);function o(e){return`https://memex.social${Object(r.h)({remoteListId:e.remoteListId,remoteListEntryId:e.remoteListEntryId,collaborationKey:e.collaborationKey})}`}n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.c})),n.d(t,"c",(function(){return r.d})),n.d(t,"d",(function(){return r.e})),n.d(t,"e",(function(){return r.f})),n.d(t,"f",(function(){return r.g})),n.d(t,"h",(function(){return r.i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);class o{constructor(e,t){this.localBrowserStorage=e,this.options=t}set(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=this._makeStorageKey(e);yield this.localBrowserStorage.set({[n]:t})}))}get(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this._makeStorageKey(e);return this.__rawGet(t)}))}remove(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this._makeStorageKey(e);yield this.localBrowserStorage.remove(t)}))}__rawGet(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield this.localBrowserStorage.get(e);return null!==(t=n[e])&&void 0!==t?t:null}))}_makeStorageKey(e){var t,n;return(null!==(n=null===(t=this.options)||void 0===t?void 0:t.prefix)&&void 0!==n?n:"")+e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l}));const r="https://en.wikipedia.org/wiki/Memex",o="https://memex.garden/onboarding",i={NEW_USER:"install"},a={annotation:"annotation",powerSearch:"powerSearch",backup:"backup"},s={shouldShowOnboarding:"should-show-onboarding",onboardingFlows:{[a.annotation]:"step-one-annotations",[a.powerSearch]:"step-two-power-search",[a.backup]:"step-four-backup"}},l={unvisited:"unvisited",redirected:"redirected",done:"DONE",annotation:{notifiedHighlightText:"highlight-text-notification-shown",notifiedSelectOption:"select-option-notification-shown",annotationCreated:"annotation-created"},powerSearch:{notifiedBrowsePage:"power-search-browse-shown"},tagging:{notifiedTagPage:"tag-page-notification-shown"}}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0});var p=n(89),f=n(121),h=Object.create(null),m=function(){function e(t,n,r){c(this,e),this.$anchor=t,this.$head=n,this.ranges=r||[new g(t.min(n),t.max(n))]}return d(e,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Slice.empty,n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var i=e.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,u=l.$to,d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),s?p.Slice.empty:t),0==s&&A(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,l=e.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),A(e,n,t.isInline?-1:1))}}},{key:"getBookmark",value:function(){return b.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new b(e):C(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?C(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):C(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}return null}},{key:"near",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new S(e.node(0))}},{key:"atStart",value:function(e){return C(e,e,0,0,1)||new S(e)}},{key:"atEnd",value:function(e){return C(e,e,e.content.size,e.childCount,-1)||new S(e)}},{key:"fromJSON",value:function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=h[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in h)throw new RangeError("Duplicate use of selection JSON ID "+e);return h[e]=t,t.prototype.jsonID=e,t}}]),e}();m.prototype.visible=!0;var g=d((function e(t,n){c(this,e),this.$from=t,this.$to=n})),v=!1;function y(e){v||e.parent.inlineContent||(v=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var b=function(e){i(n,e);var t=s(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return c(this,n),y(e),y(r),t.call(this,e,r)}return d(n,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return m.near(r);var o=e.resolve(t.map(this.anchor));return new n(o.parent.inlineContent?o:r,r)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Slice.empty;if(o(l(n.prototype),"replace",this).call(this,e,t),t==p.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor&&e.head==this.head}},{key:"getBookmark",value:function(){return new w(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}},{key:"between",value:function(e,t,r){var o=e.pos-t.pos;if(r&&!o||(r=o>=0?1:-1),!t.parent.inlineContent){var i=m.findFrom(t,r,!0)||m.findFrom(t,-r,!0);if(!i)return m.near(t,r);t=i.$head}return e.parent.inlineContent||(0==o||(e=(m.findFrom(e,-r,!0)||m.findFrom(e,r,!0)).$anchor).pos<t.pos!=o<0)&&(e=t),new n(e,t)}}]),n}(m);m.jsonID("text",b);var w=function(){function e(t,n){c(this,e),this.anchor=t,this.head=n}return d(e,[{key:"map",value:function(t){return new e(t.map(this.anchor),t.map(this.head))}},{key:"resolve",value:function(e){return b.between(e.resolve(this.anchor),e.resolve(this.head))}}]),e}(),x=function(e){i(n,e);var t=s(n);function n(e){var r;c(this,n);var o=e.nodeAfter,i=e.node(0).resolve(e.pos+o.nodeSize);return(r=t.call(this,e,i)).node=o,r}return d(n,[{key:"map",value:function(e,t){var r=t.mapResult(this.anchor),o=r.deleted,i=r.pos,a=e.resolve(i);return o?m.near(a):new n(a)}},{key:"content",value:function(){return new p.Slice(p.Fragment.from(this.node),0,0)}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new k(this.anchor)}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(e.resolve(t.anchor))}},{key:"create",value:function(e,t){return new n(e.resolve(t))}},{key:"isSelectable",value:function(e){return!e.isText&&!1!==e.type.spec.selectable}}]),n}(m);x.prototype.visible=!1,m.jsonID("node",x);var k=function(){function e(t){c(this,e),this.anchor=t}return d(e,[{key:"map",value:function(t){var n=t.mapResult(this.anchor),r=n.deleted,o=n.pos;return r?new w(o,o):new e(o)}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&x.isSelectable(n)?new x(t):m.near(t)}}]),e}(),S=function(e){i(n,e);var t=s(n);function n(e){return c(this,n),t.call(this,e.resolve(0),e.resolve(e.content.size))}return d(n,[{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Slice.empty;if(t==p.Slice.empty){e.delete(0,e.doc.content.size);var r=m.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else o(l(n.prototype),"replace",this).call(this,e,t)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(e){return new n(e)}},{key:"eq",value:function(e){return e instanceof n}},{key:"getBookmark",value:function(){return E}}],[{key:"fromJSON",value:function(e){return new n(e)}}]),n}(m);m.jsonID("all",S);var E={map:function(){return this},resolve:function(e){return new S(e)}};function C(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return b.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&x.isSelectable(s))return x.create(e,n-(o<0?s.nodeSize:0))}else{var l=C(e,s,n+o,o<0?s.childCount:0,o,i);if(l)return l}n+=s.nodeSize*o}return null}function A(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o,i=e.steps[r];if(i instanceof f.ReplaceStep||i instanceof f.ReplaceAroundStep)e.mapping.maps[r].forEach((function(e,t,n,r){null==o&&(o=r)})),e.setSelection(m.near(e.doc.resolve(o),n))}}var O=function(e){i(n,e);var t=s(n);function n(e){var r;return c(this,n),(r=t.call(this,e.doc)).curSelectionFor=0,r.updated=0,r.meta=Object.create(null),r.time=Date.now(),r.curSelection=e.selection,r.storedMarks=e.storedMarks,r}return d(n,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(1&this.updated)>0}},{key:"setStoredMarks",value:function(e){return this.storedMarks=e,this.updated|=2,this}},{key:"ensureMarks",value:function(e){return p.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}},{key:"addStoredMark",value:function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(2&this.updated)>0}},{key:"addStep",value:function(e,t){o(l(n.prototype),"addStep",this).call(this,e,t),this.updated=-3&this.updated,this.storedMarks=null}},{key:"setTime",value:function(e){return this.time=e,this}},{key:"replaceSelection",value:function(e){return this.selection.replace(this,e),this}},{key:"replaceSelectionWith",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||p.Mark.none))),n.replaceWith(this,e),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(e,t,n){var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(m.near(this.selection.$to)),this}},{key:"setMeta",value:function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}},{key:"getMeta",value:function(e){return this.meta["string"==typeof e?e:e.key]}},{key:"isGeneric",get:function(){for(var e in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=4,this}},{key:"scrolledIntoView",get:function(){return(4&this.updated)>0}}]),n}(f.Transform);function I(e,t){return t&&e?e.bind(t):e}var D=d((function e(t,n,r){c(this,e),this.name=t,this.init=I(n.init,r),this.apply=I(n.apply,r)})),M=[new D("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new D("selection",{init:function(e,t){return e.selection||m.atStart(t.doc)},apply:function(e){return e.selection}}),new D("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new D("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],T=d((function e(t,n){var r=this;c(this,e),this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=M.slice(),n&&n.forEach((function(e){if(r.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");r.plugins.push(e),r.pluginsByKey[e.key]=e,e.spec.state&&r.fields.push(new D(e.key,e.spec.state,e))}))})),_=function(){function e(t){c(this,e),this.config=t}return d(e,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(e){return this.applyTransaction(e).state}},{key:"filterTransaction",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}},{key:"applyTransaction",value:function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}},{key:"applyInner",value:function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new e(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}},{key:"tr",get:function(){return new O(this)}},{key:"reconfigure",value:function(t){for(var n=new T(this.schema,t.plugins),r=n.fields,o=new e(n),i=0;i<r.length;i++){var a=r[i].name;o[a]=this.hasOwnProperty(a)?this[a]:r[i].init(t,o)}return o}},{key:"toJSON",value:function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==r(e))for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[n],i=o.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(o,this[o.key]))}return t}}],[{key:"create",value:function(t){for(var n=new T(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new e(n),o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}},{key:"fromJSON",value:function(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var o=new T(t.schema,t.plugins),i=new e(o);return o.fields.forEach((function(e){if("doc"==e.name)i.doc=p.Node.fromJSON(t.schema,n.doc);else if("selection"==e.name)i.selection=m.fromJSON(i.doc,n.selection);else if("storedMarks"==e.name)n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var o in r){var a=r[o],s=a.spec.state;if(a.key==e.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(n,o))return void(i[e.name]=s.fromJSON.call(a,t,n[o],i))}i[e.name]=e.init(t,i)}})),i}}]),e}();function R(e,t,n){for(var r in e){var o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=R(o,t,{})),n[r]=o}return n}var P=function(){function e(t){c(this,e),this.spec=t,this.props={},t.props&&R(t.props,this,this.props),this.key=t.key?t.key.key:N("plugin")}return d(e,[{key:"getState",value:function(e){return e[this.key]}}]),e}(),L=Object.create(null);function N(e){return e in L?e+"$"+ ++L[e]:(L[e]=0,e+"$")}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";c(this,e),this.key=N(t)}return d(e,[{key:"get",value:function(e){return e.config.pluginsByKey[this.key]}},{key:"getState",value:function(e){return e[this.key]}}]),e}();t.AllSelection=S,t.EditorState=_,t.NodeSelection=x,t.Plugin=P,t.PluginKey=j,t.Selection=m,t.SelectionRange=g,t.TextSelection=b,t.Transaction=O},function(e,t,n){var r=n(248),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return k})),n.d(t,"a",(function(){return E})),n.d(t,"j",(function(){return C}));var r=n(2),o=n(75),i=n(19),a=n(11),s=n(8),l=n(34),c=n(20),u=n(45),d=n(64);const p=(e,t)=>{var n,r,i,a;if(null==e.createdWhen)throw new Error("Cannot reshape annotation missing createdWhen timestamp");const s="number"==typeof e.createdWhen?e.createdWhen:e.createdWhen.getTime(),l=null==e.lastEdited?s:"number"==typeof e.lastEdited?e.lastEdited:e.lastEdited.getTime();return Object.assign({localId:e.url,remoteId:void 0,unifiedListIds:null!==(r=null===(n=t.extraData)||void 0===n?void 0:n.unifiedListIds)&&void 0!==r?r:[],body:e.body,comment:e.comment,selector:e.selector,creator:null===(i=t.extraData)||void 0===i?void 0:i.creator,localListIds:t.excludeLocalLists?void 0:e.lists,normalizedPageUrl:e.pageUrl,lastEdited:l,createdWhen:s,privacyLevel:Object(o.c)({shouldShare:e.isShared,isBulkShareProtected:e.isBulkShareProtected}),color:e.color},null!==(a=t.extraData)&&void 0!==a?a:{})},f=(e,t)=>{var n,r,o;return Object.assign({localId:void 0,remoteId:e.reference.id.toString(),unifiedListIds:null!==(r=null===(n=t.extraData)||void 0===n?void 0:n.unifiedListIds)&&void 0!==r?r:[],body:e.body,comment:e.comment,selector:e.selector,creator:e.creatorReference,localListIds:t.excludeLocalLists?void 0:[],normalizedPageUrl:e.normalizedPageUrl,lastEdited:e.updatedWhen,createdWhen:e.createdWhen,privacyLevel:a.a.SHARED,color:e.color},null!==(o=t.extraData)&&void 0!==o?o:{})},h=(e,t)=>{var n,r;let o="user-list";return"page-link"===e.type?o="page-link":Object.values(l.c).includes(e.id)&&(o="special-list"),Object.assign({type:o,name:e.name,order:e.order,localId:e.id,remoteId:e.remoteId,creator:null===(n=t.extraData)||void 0===n?void 0:n.creator,description:e.description,unifiedAnnotationIds:[],hasRemoteAnnotationsToLoad:!!t.hasRemoteAnnotations,parentUnifiedId:null,parentLocalId:e.parentListId,pathLocalIds:e.pathListIds},null!==(r=t.extraData)&&void 0!==r?r:{})},m=(e,t)=>{var n;return Object.assign({name:e.name,type:"user-list",localId:void 0,remoteId:e.sharedList.toString(),creator:{type:"user-reference",id:e.creator},description:void 0,unifiedAnnotationIds:[],hasRemoteAnnotationsToLoad:!!t.hasRemoteAnnotations,parentUnifiedId:null,parentLocalId:null,order:c.a},null!==(n=t.extraData)&&void 0!==n?n:{})},g=(e,t,n)=>Object(s.c)(e.annotations).filter((e=>e.normalizedPageUrl===t&&(null==e.creator||!!n&&e.creator.id===n))),v=e=>Object(s.c)(e.annotations).filter((e=>{var t;return(null===(t=e.body)||void 0===t?void 0:t.length)>0})),y=(e,t)=>v(e).filter((e=>null==e.creator||!!t&&e.creator.id===t)),b=(e,t)=>v(e).filter((e=>e.unifiedListIds.includes(t))),w=(e,t)=>t.map((t=>{var n;return null===(n=e.lists.byId[t])||void 0===n?void 0:n.localId})).filter((e=>null!=e));function x(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!e.skipListHydration){const t=yield e.bgModules.customLists.fetchAllLists({includeTreeData:!0}),n=yield e.bgModules.contentSharing.getListShareMetadata({localListIds:t.map((e=>e.id))}),r=yield e.bgModules.pageActivityIndicator.getPageFollowedLists(e.fullPageUrl,Object.values(n).map((e=>e.remoteId)));yield S(Object.assign({listMetadata:n,localListsData:t,followedListsData:r},e))}const n=Object(u.a)({syncSettingsBG:e.bgModules.syncSettings}),r=null!==(t=yield n.highlightColors.get("highlightColors"))&&void 0!==t?t:d.a;e.cache.setHighlightColorDictionary(r);const o=yield e.bgModules.annotations.listAnnotationsByPageUrl({pageUrl:e.fullPageUrl,withLists:!0}),s=o.map((e=>e.url)),l=yield e.bgModules.contentSharing.findAnnotationPrivacyLevels({annotationUrls:s}),c=yield e.bgModules.contentSharing.getRemoteAnnotationIds({annotationUrls:s}),f=yield e.bgModules.customLists.fetchPageLists({url:e.fullPageUrl});e.cache.setAnnotations(o.map((t=>{var n;const r=l[t.url],o=r>=a.a.SHARED?f.map((t=>{const n=e.cache.getListByLocalId(t);return null!=(null==n?void 0:n.remoteId)?n.unifiedId:null})).filter((e=>null!=e)):void 0;return p(t,{extraData:{remoteId:null===(n=c[t.url])||void 0===n?void 0:n.toString(),creator:e.user,unifiedListIds:o,privacyLevel:r}})})),{keepExistingData:e.keepExistingAnnotationData}),e.cache.setPageData(Object(i.c)(e.fullPageUrl),f.map((t=>{var n;return null===(n=e.cache.getListByLocalId(t))||void 0===n?void 0:n.unifiedId})))}))}function k(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=yield e.bgModules.customLists.fetchAllLists({includeDescriptions:!0,skipSpecialLists:!1,includeTreeData:!0}),n=yield e.bgModules.pageActivityIndicator.getAllFollowedLists(),r=yield e.bgModules.contentSharing.getListShareMetadata({localListIds:t.map((e=>e.id))});yield S(Object.assign({listMetadata:r,followedListsData:n,localListsData:t},e))}))}function S(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=new Set;for(const n of Object.values(e.followedListsData))"page-link"===n.type&&t.add(n.sharedList.toString());for(const n of e.localListsData){const r=e.listMetadata[n.id];null!=(null==r?void 0:r.remoteId)&&"page-link"===n.type&&t.add(r.remoteId)}const n=new Map;if(t.size){const r=yield e.bgModules.pageActivityIndicator.getEntriesForFollowedLists([...t],{sortAscByCreationTime:!0});for(const e of Object.values(r))e.length&&n.set(e[0].followedList.toString(),{normalizedUrl:e[0].normalizedPageUrl,id:e[0].sharedListEntry.toString(),entryTitle:e[0].entryTitle})}const o=new Set,i=e.localListsData.map((t=>{var r,i;let a=e.user,s=!1;const l=e.listMetadata[t.id],c="page-link"===t.type&&null!==(r=n.get(null==l?void 0:l.remoteId))&&void 0!==r?r:void 0;return null!=(null==l?void 0:l.remoteId)&&e.followedListsData[l.remoteId]&&(o.add(e.followedListsData[l.remoteId].sharedList),s=e.followedListsData[l.remoteId].hasAnnotationsFromOthers,a={type:"user-reference",id:e.followedListsData[l.remoteId].creator}),h(t,{hasRemoteAnnotations:s,extraData:{normalizedPageUrl:null==c?void 0:c.normalizedUrl,sharedListEntryId:null==c?void 0:c.id,isPrivate:null===(i=null==l?void 0:l.private)||void 0===i||i,remoteId:null==l?void 0:l.remoteId,creator:a}})}));Object.values(e.followedListsData).filter((e=>!o.has(e.sharedList))).forEach((e=>{var t;const r="page-link"===e.type&&null!==(t=n.get(e.sharedList.toString()))&&void 0!==t?t:void 0;i.push(m(e,{hasRemoteAnnotations:e.hasAnnotationsFromOthers,extraData:{normalizedPageUrl:null==r?void 0:r.normalizedUrl,sharedListEntryId:null==r?void 0:r.id}}))})),e.cache.setLists(i),e.cache.events.addListener("addedList",(t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){"special-list"!==t.type&&(yield e.bgModules.bgScript.broadcastListChangeToAllTabs({type:"create",list:t}))})))),e.cache.events.addListener("removedList",(t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){null!=t.localId&&(yield e.bgModules.bgScript.broadcastListChangeToAllTabs({type:"delete",localListId:t.localId}))}))))}))}function E(e,t){var n;return null!=e.remoteId&&null==e.localId?"Follower":null!=e.remoteId&&null!=e.localId&&(null===(n=e.creator)||void 0===n?void 0:n.id)!==(null==t?void 0:t.id)?"Contributor":"Creator"}function C(e,t){const n={myLists:[],joinedLists:[],followedLists:[],pageLinkLists:[]};for(const r of e){const e=E(r,t);"page-link"===r.type?n.pageLinkLists.push(r):"Creator"===e&&"user-list"===r.type?n.myLists.push(r):"Follower"!==e||r.isForeignList?"Contributor"===e&&n.joinedLists.push(r):n.followedLists.push(r)}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));const r={settings:"settings"},o={ACTIVITY_INDICATOR:"@ActivityIndicator-",SEARCH_INJECTION:"@SearchInjection-",CONTENT_SHARING:"@ContentSharing-",PDF_INTEGRATION:"@PDFIntegration-",IN_PAGE_UI:"@InPageUI-",DASHBOARD:"@Dashboard-",EXTENSION:"@Extension-",READWISE:"readwise.",OPENAI:"openAI.",HIGHLIGHT_COLORS:"highlightColors.",BETA_FEATURES:"@BetaFeatures-"},i={activityIndicator:{feedHasActivity:o.ACTIVITY_INDICATOR+"feedHasActivity"},contentSharing:{lastSharedAnnotationTimestamp:o.CONTENT_SHARING+"lastSharedAnnotationTimestamp"},dashboard:{listSidebarLocked:o.DASHBOARD+"listSidebarLocked",onboardingMsgSeen:o.DASHBOARD+"onboardingMsgSeen",subscribeBannerShownAfter:o.DASHBOARD+"subscribeBannerShownAfter"},extension:{blocklist:o.EXTENSION+"blocklist",keyboardShortcuts:o.EXTENSION+"keyboard_shortcuts",areTagsMigratedToSpaces:o.EXTENSION+"are_tags_migrated_to_spaces",shouldTrackAnalytics:o.EXTENSION+"should_track_analytics",shouldAutoCreateNoteLink:o.EXTENSION+"shouldAutoCreateNoteLink",shouldAutoAddSpaces:o.EXTENSION+"shouldAutoAddSpaces"},betaFeatures:{imageOverlay:o.BETA_FEATURES+"imageOverlay"},pdfIntegration:{shouldAutoOpen:o.PDF_INTEGRATION+"should_auto_open",shouldAutoUpload:o.PDF_INTEGRATION+"should_auto_upload"},inPageUI:{ribbonEnabled:o.IN_PAGE_UI+"ribbon_enabled",tooltipEnabled:o.IN_PAGE_UI+"tooltip_enabled",highlightsEnabled:o.IN_PAGE_UI+"highlights_enabled",ribbonPosition:o.IN_PAGE_UI+"ribbon_position"},searchInjection:{hideMemexResults:o.SEARCH_INJECTION+"hideMemexResults",memexResultsPosition:o.SEARCH_INJECTION+"memexResultsPosition",searchEnginesEnabled:o.SEARCH_INJECTION+"searchEnginesEnabled",stickyContainerEnabled:o.SEARCH_INJECTION+"stickyContainerEnabled"},readwise:{apiKey:o.READWISE+"apiKey"},openAI:{apiKey:o.OPENAI+"apiKey",promptSuggestions:o.OPENAI+"promptSuggestions",videoPromptSetting:o.OPENAI+"videoPromptSetting",selectedModel:o.OPENAI+"selectedModel"},highlightColors:{highlightColors:o.HIGHLIGHT_COLORS+"highlightColors"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),o=n(0),i=n.n(o),a=n(1);const s=n.n(a).a.div.withConfig({displayName:"MarginDiv",componentId:"iqczrq-0"})(["",";",";display:flex;justify-content:center;align-items:center;",";",";"],(e=>e.horizontal?`margin-left: ${e.horizontal}; margin-right: ${e.horizontal};`:`${e.left?`margin-left: ${e.left};`:""}${e.right?`margin-right: ${e.right};`:""}`),(e=>e.vertical?`margin-top: ${e.vertical}; margin-bottom: ${e.vertical};`:`${e.top?`margin-top: ${e.top};`:""}${e.bottom?`margin-bottom: ${e.bottom}`:""}`),(e=>e.width?`width: ${e.width};`:"width: 100%;"),(e=>{if(e.height)return`width: ${e.height};`}));class l extends o.PureComponent{render(){const e=this.props,{children:t}=e,n=Object(r.__rest)(e,["children"]);return i.a.createElement(s,Object.assign({},n),t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(37),o=n(43);const i=e=>({activityIndicator:new r.a(e.syncSettingsBG,{prefix:o.b.ACTIVITY_INDICATOR}),inPageUI:new r.a(e.syncSettingsBG,{prefix:o.b.IN_PAGE_UI}),dashboard:new r.a(e.syncSettingsBG,{prefix:o.b.DASHBOARD}),extension:new r.a(e.syncSettingsBG,{prefix:o.b.EXTENSION}),contentSharing:new r.a(e.syncSettingsBG,{prefix:o.b.CONTENT_SHARING}),pdfIntegration:new r.a(e.syncSettingsBG,{prefix:o.b.PDF_INTEGRATION}),readwise:new r.a(e.syncSettingsBG,{prefix:o.b.READWISE}),openAI:new r.a(e.syncSettingsBG,{prefix:o.b.OPENAI}),searchInjection:new r.a(e.syncSettingsBG,{prefix:o.b.SEARCH_INJECTION}),highlightColors:new r.a(e.syncSettingsBG,{prefix:o.b.HIGHLIGHT_COLORS}),betaFeatures:new r.a(e.syncSettingsBG,{prefix:o.b.BETA_FEATURES})})},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n(2);function o(e){return`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function i(e){let t=e.substring(5,e.length-1).split(",").map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}function a(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){e.setAttribute("style",`background-color:${o(t.color)};`),e.setAttribute("highlightcolor",t.id)}))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return m}));var r=n(6);const o={analytics:Object(r.k)(),notifications:Object(r.k)(),bookmarks:Object(r.k)(),auth:Object(r.k)(),subscription:Object(r.k)(),featuresBeta:Object(r.k)(),tags:Object(r.k)(),pageActivityIndicator:Object(r.k)(),collections:Object(r.k)(),copyPaster:Object(r.k)(),readablePageArchives:Object(r.k)(),contentSharing:Object(r.k)(),personalCloud:Object(r.k)(),pdf:Object(r.k)(),analyticsBG:Object(r.k)()},i=o.notifications,a=o.bookmarks,s=o.auth,l=o.subscription,c=o.tags,u=o.collections,d=o.pageActivityIndicator,p=o.copyPaster,f=o.readablePageArchives,h=o.contentSharing,m=(Object(r.k)(),o.analyticsBG)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s}));const r=e=>{try{const t=e.includes("youtube.com/"),n=e.includes("youtu.be/"),r=new URL(e);let o;if(n?(o=r.pathname.split("/")[1],o=o.split(/[?#&]/)[0]):t&&(o=r.searchParams.get("v")),!o)throw new Error("Could not extract YouTube video ID from URL: "+e);return o}catch(e){return null}},o=["youtube.com/","youtu.be/"],i=e=>{if(!(null==e?void 0:e.length))return!1;const t=e.includes(o[0]),n=e.includes(o[1]);return t||n},a=["odysee.com/","bitchute.com/","crowdbunker.com/","dailymotion.com/","vimeo.com/"],s=e=>i(e)||(e=>a.some((t=>e.startsWith(t))))(e)},function(e,t,n){"use strict";var r=n(2);let o;o=new class{constructor(){this.reset()}reset(){this.events=[],this.newEvents=[]}trackEvent(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.events.push({eventArgs:e,options:t}),this.newEvents.push({eventArgs:e,options:t})}))}popNew(){const e=this.newEvents;return this.newEvents=[],e}};t.a=o},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);const o=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var t;return!(null===(t=navigator.clipboard)||void 0===t?void 0:t.writeText)||(yield navigator.clipboard.writeText(e),!0)}))},,function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="hypothesis-highlight",o="rectangle-highlight"},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){!function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){var t=s(e,"string");return"symbol"==typeof t?t:String(t)}function c(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function u(t){e.defaults=t}e.defaults=c();var d=/[&<>"']/,p=new RegExp(d.source,"g"),f=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,h=new RegExp(f.source,"g"),m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(e){return m[e]};function v(e,t){if(t){if(d.test(e))return e.replace(p,g)}else if(f.test(e))return e.replace(h,g);return e}var y=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function b(e){return e.replace(y,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var w=/(^|[^\[])\^/g;function x(e,t){e="string"==typeof e?e:e.source,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(w,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var k=/[^\w:]/g,S=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function E(e,t,n){if(e){var r;try{r=decodeURIComponent(b(n)).replace(k,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!S.test(n)&&(n=D(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var C={},A=/^[^:]+:\/*[^/]*$/,O=/^([^:]+:)[\s\S]*$/,I=/^([^:]+:\/*[^/]*)[\s\S]*$/;function D(e,t){C[" "+e]||(A.test(e)?C[" "+e]=e+"/":C[" "+e]=_(e,"/",!0));var n=-1===(e=C[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(O,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(I,"$1")+t:e+t}var M={exec:function(){}};function T(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function _(e,t,n){var r=e.length;if(0===r)return"";for(var o=0;o<r;){var i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function R(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,o=0;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&--r<0)return o;return-1}function P(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function L(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function N(e,t,n,r){var o=t.href,i=t.title?v(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;var s={type:"link",raw:n,href:o,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,s}return{type:"image",raw:n,href:o,title:i,text:v(a)}}function j(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join("\n")}var B=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.space=function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},n.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:_(n,"\n")}}},n.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=j(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}},n.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=_(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}},n.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},n.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;var o=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:n}}},n.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,o,i,a,s,l,c,u,d,p,f,h=t[1].trim(),m=h.length>1,g={type:"list",raw:"",ordered:m,start:m?+h.slice(0,-1):"",loose:!1,items:[]};h=m?"\\d{1,9}\\"+h.slice(-1):"\\"+h,this.options.pedantic&&(h=m?h:"[*+-]");for(var v=new RegExp("^( {0,3}"+h+")((?:[\t ][^\\n]*)?(?:\\n|$))");e&&(f=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(function(e){return" ".repeat(3*e.length)})),u=e.split("\n",1)[0],this.options.pedantic?(i=2,p=c.trimLeft()):(i=(i=t[2].search(/[^ ]/))>4?1:i,p=c.slice(i),i+=t[1].length),s=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),f=!0),!f)for(var y=new RegExp("^ {0,"+Math.min(3,i-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))"),b=new RegExp("^ {0,"+Math.min(3,i-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),w=new RegExp("^ {0,"+Math.min(3,i-1)+"}(?:```|~~~)"),x=new RegExp("^ {0,"+Math.min(3,i-1)+"}#");e&&(u=d=e.split("\n",1)[0],this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!w.test(u))&&!x.test(u)&&!y.test(u)&&!b.test(e);){if(u.search(/[^ ]/)>=i||!u.trim())p+="\n"+u.slice(i);else{if(s)break;if(c.search(/[^ ]/)>=4)break;if(w.test(c))break;if(x.test(c))break;if(b.test(c))break;p+="\n"+u}s||u.trim()||(s=!0),n+=d+"\n",e=e.substring(d.length+1),c=u.slice(i)}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(p))&&(o="[ ] "!==r[0],p=p.replace(/^\[[ xX]\] +/,"")),g.items.push({type:"list_item",raw:n,task:!!r,checked:o,loose:!1,text:p}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=p.trimRight(),g.raw=g.raw.trimRight();var k=g.items.length;for(a=0;a<k;a++)if(this.lexer.state.top=!1,g.items[a].tokens=this.lexer.blockTokens(g.items[a].text,[]),!g.loose){var S=g.items[a].tokens.filter((function(e){return"space"===e.type})),E=S.length>0&&S.some((function(e){return/\n.*\n/.test(e.raw)}));g.loose=E}if(g.loose)for(a=0;a<k;a++)g.items[a].loose=!0;return g}},n.html=function(e){var t=this.rules.block.html.exec(e);if(t){var n={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){var r=this.options.sanitizer?this.options.sanitizer(t[0]):v(t[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}},n.def=function(e){var t=this.rules.block.def.exec(e);if(t){var n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}},n.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:T(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,o,i,a,s=n.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(s=n.rows.length,r=0;r<s;r++)n.rows[r]=T(n.rows[r],n.header.length).map((function(e){return{text:e}}));for(s=n.header.length,o=0;o<s;o++)n.header[o].tokens=this.lexer.inline(n.header[o].text);for(s=n.rows.length,o=0;o<s;o++)for(a=n.rows[o],i=0;i<a.length;i++)a[i].tokens=this.lexer.inline(a[i].text);return n}}},n.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}},n.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}},n.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}},n.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:v(t[1])}},n.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):v(t[0]):t[0]}},n.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=_(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var o=R(t[2],"()");if(o>-1){var i=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,i).trim(),t[3]=""}}var a=t[2],s="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),N(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0],this.lexer)}},n.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])){var o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return N(n,r,n[0],this.lexer)}},n.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=r[1]||r[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){var i,a,s=r[0].length-1,l=s,c=0,u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=u.exec(t));)if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=i.length,r[3]||r[4])l+=a;else if(!((r[5]||r[6])&&s%3)||(s+a)%3){if(!((l-=a)>0)){a=Math.min(a,a+l+c);var d=e.slice(0,s+r.index+(r[0].length-i.length)+a);if(Math.min(s,a)%2){var p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}var f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}else c+=a}}},n.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return r&&o&&(n=n.substring(1,n.length-1)),n=v(n,!0),{type:"codespan",raw:t[0],text:n}}},n.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},n.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}},n.autolink=function(e,t){var n,r,o=this.rules.inline.autolink.exec(e);if(o)return r="@"===o[2]?"mailto:"+(n=v(this.options.mangle?t(o[1]):o[1])):n=v(o[1]),{type:"link",raw:o[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},n.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,o;if("@"===n[2])o="mailto:"+(r=v(this.options.mangle?t(n[0]):n[0]));else{var i;do{i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(i!==n[0]);r=v(n[0]),o="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}},n.inlineText=function(e,t){var n,r=this.rules.inline.text.exec(e);if(r)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):v(r[0]):r[0]:v(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:n}},t}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:M,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};F.def=x(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=x(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=x(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=x(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=x(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=x(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=r({},F),F.gfm=r({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=x(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=x(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=r({},F.normal,{html:x("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:M,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:x(F.normal._paragraph).replace("hr",F.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:M,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:M,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function $(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function H(e){var t,n,r="",o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}z._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",z.punctuation=x(z.punctuation).replace(/punctuation/g,z._punctuation).getRegex(),z.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,z.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,z._comment=x(F._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),z.emStrong.lDelim=x(z.emStrong.lDelim).replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimAst=x(z.emStrong.rDelimAst,"g").replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimUnd=x(z.emStrong.rDelimUnd,"g").replace(/punct/g,z._punctuation).getRegex(),z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,z.autolink=x(z.autolink).replace("scheme",z._scheme).replace("email",z._email).getRegex(),z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,z.tag=x(z.tag).replace("comment",z._comment).replace("attribute",z._attribute).getRegex(),z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,z._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,z.link=x(z.link).replace("label",z._label).replace("href",z._href).replace("title",z._title).getRegex(),z.reflink=x(z.reflink).replace("label",z._label).replace("ref",F._label).getRegex(),z.nolink=x(z.nolink).replace("ref",F._label).getRegex(),z.reflinkSearch=x(z.reflinkSearch,"g").replace("reflink",z.reflink).replace("nolink",z.nolink).getRegex(),z.normal=r({},z),z.pedantic=r({},z.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",z._label).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",z._label).getRegex()}),z.gfm=r({},z.normal,{escape:x(z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),z.gfm.url=x(z.gfm.url,"i").replace("email",z.gfm._extended_email).getRegex(),z.breaks=r({},z.gfm,{br:x(z.br).replace("{2,}","*").getRegex(),text:x(z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var U=function(){function t(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new B,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:F.normal,inline:z.normal};this.options.pedantic?(n.block=F.pedantic,n.inline=z.pedantic):this.options.gfm&&(n.block=F.gfm,this.options.breaks?n.inline=z.breaks:n.inline=z.gfm),this.tokenizer.rules=n}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var r=t.prototype;return r.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},r.blockTokens=function(e,t){var n,r,o,i,a=this;for(void 0===t&&(t=[]),e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,n){return t+"    ".repeat(n.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(n=r.call({lexer:a},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(o=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),r=void 0;a.options.extensions.startBlock.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],i&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){var s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return this.state.top=!0,t},r.inline=function(e,t){return void 0===t&&(t=[]),this.inlineQueue.push({src:e,tokens:t}),t},r.inlineTokens=function(e,t){var n,r,o,i=this;void 0===t&&(t=[]);var a,s,l,c=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+L("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+L("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index+a[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(r){return!!(n=r.call({lexer:i},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,H))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,H))){if(o=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),r=void 0;i.options.extensions.startInline.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),n=this.tokenizer.inlineText(o,$))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),s=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(n.raw.length),t.push(n);return t},n(t,null,[{key:"rules",get:function(){return{block:F,inline:z}}}]),t}(),W=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+v(r)+'">'+(n?e:v(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:v(e,!0))+"</code></pre>\n"},n.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.html=function(e){return e},n.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+(this.options.headerPrefix+r.slug(n))+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},n.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},n.listitem=function(e){return"<li>"+e+"</li>\n"},n.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(e){return"<p>"+e+"</p>\n"},n.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},n.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},n.strong=function(e){return"<strong>"+e+"</strong>"},n.em=function(e){return"<em>"+e+"</em>"},n.codespan=function(e){return"<code>"+e+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(e){return"<del>"+e+"</del>"},n.link=function(e,t,n){if(null===(e=E(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},n.image=function(e,t,n){if(null===(e=E(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},n.text=function(e){return e},t}(),V=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),q=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),G=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new W,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new V,this.slugger=new q}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var n=t.prototype;return n.parse=function(e,t){void 0===t&&(t=!0);var n,r,o,i,a,s,l,c,u,d,p,f,h,m,g,v,y,w,x,k="",S=e.length;for(n=0;n<S;n++)if(d=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type])||!1===(x=this.options.extensions.renderers[d.type].call({parser:this},d))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))switch(d.type){case"space":continue;case"hr":k+=this.renderer.hr();continue;case"heading":k+=this.renderer.heading(this.parseInline(d.tokens),d.depth,b(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":k+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",i=d.header.length,r=0;r<i;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(c+=this.renderer.tablerow(l),u="",i=d.rows.length,r=0;r<i;r++){for(l="",a=(s=d.rows[r]).length,o=0;o<a;o++)l+=this.renderer.tablecell(this.parseInline(s[o].tokens),{header:!1,align:d.align[o]});u+=this.renderer.tablerow(l)}k+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),k+=this.renderer.blockquote(u);continue;case"list":for(p=d.ordered,f=d.start,h=d.loose,i=d.items.length,u="",r=0;r<i;r++)v=(g=d.items[r]).checked,y=g.task,m="",g.task&&(w=this.renderer.checkbox(v),h?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=w+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=w+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(g.tokens,h),u+=this.renderer.listitem(m,y,v);k+=this.renderer.list(u,p,f);continue;case"html":k+=this.renderer.html(d.text);continue;case"paragraph":k+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<S&&"text"===e[n+1].type;)u+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);k+=t?this.renderer.paragraph(u):u;continue;default:var E='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(E);throw new Error(E)}else k+=x||"";return k},n.parseInline=function(e,t){t=t||this.renderer;var n,r,o,i="",a=e.length;for(n=0;n<a;n++)if(r=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(o=this.options.extensions.renderers[r.type].call({parser:this},r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":case"text":i+=t.text(r.text);break;case"html":i+=t.html(r.text);break;case"link":i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":i+=t.image(r.href,r.title,r.text);break;case"strong":i+=t.strong(this.parseInline(r.tokens,t));break;case"em":i+=t.em(this.parseInline(r.tokens,t));break;case"codespan":i+=t.codespan(r.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(r.tokens,t));break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}else i+=o||"";return i},t}(),Y=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.preprocess=function(e){return e},n.postprocess=function(e){return e},t}();function K(e,t,n){return function(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){var o="<p>An error occurred:</p><pre>"+v(r.message+"",!0)+"</pre>";return t?Promise.resolve(o):n?void n(null,o):o}if(t)return Promise.reject(r);if(!n)throw r;n(r)}}function J(e,t){return function(n,o,i){"function"==typeof o&&(i=o,o=null);var a=r({},o),s=K((o=r({},X.defaults,a)).silent,o.async,i);if(null==n)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(P(o),o.hooks&&(o.hooks.options=o),i){var l,c=o.highlight;try{o.hooks&&(n=o.hooks.preprocess(n)),l=e(n,o)}catch(e){return s(e)}var u=function(e){var n;if(!e)try{o.walkTokens&&X.walkTokens(l,o.walkTokens),n=t(l,o),o.hooks&&(n=o.hooks.postprocess(n))}catch(t){e=t}return o.highlight=c,e?s(e):i(null,n)};if(!c||c.length<3)return u();if(delete o.highlight,!l.length)return u();var d=0;return X.walkTokens(l,(function(e){"code"===e.type&&(d++,setTimeout((function(){c(e.text,e.lang,(function(t,n){if(t)return u(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--d&&u()}))}),0))})),void(0===d&&u())}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then((function(t){return e(t,o)})).then((function(e){return o.walkTokens?Promise.all(X.walkTokens(e,o.walkTokens)).then((function(){return e})):e})).then((function(e){return t(e,o)})).then((function(e){return o.hooks?o.hooks.postprocess(e):e})).catch(s);try{o.hooks&&(n=o.hooks.preprocess(n));var p=e(n,o);o.walkTokens&&X.walkTokens(p,o.walkTokens);var f=t(p,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(e){return s(e)}}}function X(e,t,n){return J(U.lex,G.parse)(e,t,n)}Y.passThroughHooks=new Set(["preprocess","postprocess"]),X.options=X.setOptions=function(e){return X.defaults=r({},X.defaults,e),u(X.defaults),X},X.getDefaults=c,X.defaults=e.defaults,X.use=function(){for(var e=X.defaults.extensions||{renderers:{},childTokens:{}},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.forEach((function(t){var n=r({},t);if(n.async=X.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var n=e.renderers[t.name];e.renderers[t.name]=n?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=t.renderer.apply(this,r);return!1===i&&(i=n.apply(this,r)),i}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");e[t.level]?e[t.level].unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer&&function(){var e=X.defaults.renderer||new W,r=function(n){var r=e[n];e[n]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=t.renderer[n].apply(e,i);return!1===s&&(s=r.apply(e,i)),s}};for(var o in t.renderer)r(o);n.renderer=e}(),t.tokenizer&&function(){var e=X.defaults.tokenizer||new B,r=function(n){var r=e[n];e[n]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=t.tokenizer[n].apply(e,i);return!1===s&&(s=r.apply(e,i)),s}};for(var o in t.tokenizer)r(o);n.tokenizer=e}(),t.hooks&&function(){var e=X.defaults.hooks||new Y,r=function(n){var r=e[n];Y.passThroughHooks.has(n)?e[n]=function(o){if(X.defaults.async)return Promise.resolve(t.hooks[n].call(e,o)).then((function(t){return r.call(e,t)}));var i=t.hooks[n].call(e,o);return r.call(e,i)}:e[n]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=t.hooks[n].apply(e,i);return!1===s&&(s=r.apply(e,i)),s}};for(var o in t.hooks)r(o);n.hooks=e}(),t.walkTokens){var o=X.defaults.walkTokens;n.walkTokens=function(e){var n=[];return n.push(t.walkTokens.call(this,e)),o&&(n=n.concat(o.call(this,e))),n}}X.setOptions(n)}))},X.walkTokens=function(e,t){for(var n,r=[],o=function(){var e=n.value;switch(r=r.concat(t.call(X,e)),e.type){case"table":for(var o,i=a(e.header);!(o=i()).done;){var s=o.value;r=r.concat(X.walkTokens(s.tokens,t))}for(var l,c=a(e.rows);!(l=c()).done;)for(var u,d=a(l.value);!(u=d()).done;){var p=u.value;r=r.concat(X.walkTokens(p.tokens,t))}break;case"list":r=r.concat(X.walkTokens(e.items,t));break;default:X.defaults.extensions&&X.defaults.extensions.childTokens&&X.defaults.extensions.childTokens[e.type]?X.defaults.extensions.childTokens[e.type].forEach((function(n){r=r.concat(X.walkTokens(e[n],t))})):e.tokens&&(r=r.concat(X.walkTokens(e.tokens,t)))}},i=a(e);!(n=i()).done;)o();return r},X.parseInline=J(U.lexInline,G.parseInline),X.Parser=G,X.parser=G.parse,X.Renderer=W,X.TextRenderer=V,X.Lexer=U,X.lexer=U.lex,X.Tokenizer=B,X.Slugger=q,X.Hooks=Y,X.parse=X;var Q=X.options,Z=X.setOptions,ee=X.use,te=X.walkTokens,ne=X.parseInline,re=X,oe=G.parse,ie=U.lex;e.Hooks=Y,e.Lexer=U,e.Parser=G,e.Renderer=W,e.Slugger=q,e.TextRenderer=V,e.Tokenizer=B,e.getDefaults=c,e.lexer=ie,e.marked=X,e.options=Q,e.parse=re,e.parseInline=ne,e.parser=oe,e.setOptions=Z,e.use=ee,e.walkTokens=te}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(645),o=n(0),i=n(28),a=n(17),s=n(647);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(o),u=l(i);const d=(...e)=>t=>{e.forEach((e=>{"function"==typeof e?e(t):e&&(e.current=t)}))},p=({renderers:e})=>c.default.createElement(c.default.Fragment,null,Object.entries(e).map((([e,t])=>u.default.createPortal(t.reactElement,t.element,e))));class f extends c.default.Component{constructor(e){super(e),this.editorContentRef=c.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?i.flushSync(e):e()}setRenderer(e,t){this.maybeFlushSync((()=>{this.setState((({renderers:n})=>({renderers:{...n,[e]:t}})))}))}removeRenderer(e){this.maybeFlushSync((()=>{this.setState((({renderers:t})=>{const n={...t};return delete n[e],{renderers:n}}))}))}componentWillUnmount(){const{editor:e}=this.props;if(!e)return;if(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...n}=this.props;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{ref:d(t,this.editorContentRef),...n}),c.default.createElement(p,{renderers:this.state.renderers}))}}const h=o.forwardRef(((e,t)=>{const n=c.default.useMemo((()=>Math.floor(4294967295*Math.random()).toString()),[e.editor]);return c.default.createElement(f,{key:n,innerRef:t,...e})})),m=c.default.memo(h);class g extends a.Editor{constructor(){super(...arguments),this.contentComponent=null}}const v=(e={},t=[])=>{const n=o.useRef(null),[,r]=o.useState({}),{onBeforeCreate:i,onBlur:a,onCreate:s,onDestroy:l,onFocus:c,onSelectionUpdate:u,onTransaction:d,onUpdate:p}=e,f=o.useRef(i),h=o.useRef(a),m=o.useRef(s),v=o.useRef(l),y=o.useRef(c),b=o.useRef(u),w=o.useRef(d),x=o.useRef(p);return o.useEffect((()=>{n.current&&(i&&(n.current.off("beforeCreate",f.current),n.current.on("beforeCreate",i),f.current=i),a&&(n.current.off("blur",h.current),n.current.on("blur",a),h.current=a),s&&(n.current.off("create",m.current),n.current.on("create",s),m.current=s),l&&(n.current.off("destroy",v.current),n.current.on("destroy",l),v.current=l),c&&(n.current.off("focus",y.current),n.current.on("focus",c),y.current=c),u&&(n.current.off("selectionUpdate",b.current),n.current.on("selectionUpdate",u),b.current=u),d&&(n.current.off("transaction",w.current),n.current.on("transaction",d),w.current=d),p&&(n.current.off("update",x.current),n.current.on("update",p),x.current=p))}),[i,a,s,l,c,u,d,p,n.current]),o.useEffect((()=>{let t=!0;return n.current=new g(e),n.current.on("transaction",(()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&r({})}))}))})),()=>{t=!1}}),t),o.useEffect((()=>()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.destroy()}),[]),n.current},y=o.createContext({editor:null}),b=y.Consumer,w=()=>o.useContext(y),x=o.createContext({onDragStart:void 0}),k=()=>o.useContext(x),S=c.default.forwardRef(((e,t)=>{const{onDragStart:n}=k(),r=e.as||"div";return c.default.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}));class E{constructor(e,{editor:t,props:n={},as:r="div",className:o="",attrs:i}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),i&&Object.keys(i).forEach((e=>{this.element.setAttribute(e,i[e])})),this.render()}render(){var e,t;const n=this.component,r=this.props;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)}(n)||function(e){var t;return!("object"!=typeof e||"Symbol(react.forward_ref)"!==(null===(t=e.$$typeof)||void 0===t?void 0:t.toString()))}(n))&&(r.ref=e=>{this.ref=e}),this.reactElement=c.default.createElement(n,{...r}),null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,t;null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.removeRenderer(this.id)}}class C extends a.NodeView{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const e=e=>e.charAt(0).toUpperCase()+e.substring(1);this.component.displayName=e(this.extension.name)}const t=e=>{const t=this.component,n=this.onDragStart.bind(this);return c.default.createElement(c.default.Fragment,null,c.default.createElement(x.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}}},c.default.createElement(t,{...e})))};t.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let n=this.node.isInline?"span":"div";this.options.as&&(n=this.options.as);const{className:r=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new E(t,{editor:this.editor,props:e,as:n,className:`node-${this.node.type.name} ${r}`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null===(e=this.renderer.element.firstElementChild)||void 0===e?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection;if(e<=this.getPos()&&t>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t){const n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){const r=this.node,o=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:r,oldDecorations:o,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}t.BubbleMenu=e=>{const[t,n]=o.useState(null),{editor:i}=w();return o.useEffect((()=>{var n;if(!t)return;if((null===(n=e.editor)||void 0===n?void 0:n.isDestroyed)||(null==i?void 0:i.isDestroyed))return;const{pluginKey:o="bubbleMenu",editor:a,tippyOptions:s={},updateDelay:l,shouldShow:c=null}=e,u=a||i;if(!u)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");const d=r.BubbleMenuPlugin({updateDelay:l,editor:u,element:t,pluginKey:o,shouldShow:c,tippyOptions:s});return u.registerPlugin(d),()=>u.unregisterPlugin(o)}),[e.editor,i,t]),c.default.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)},t.Editor=g,t.EditorConsumer=b,t.EditorContent=m,t.EditorContext=y,t.EditorProvider=({children:e,slotAfter:t,slotBefore:n,...r})=>{const o=v(r);return o?c.default.createElement(y.Provider,{value:{editor:o}},n,c.default.createElement(b,null,(({editor:e})=>c.default.createElement(m,{editor:e}))),e,t):null},t.FloatingMenu=e=>{const[t,n]=o.useState(null),{editor:r}=w();return o.useEffect((()=>{var n;if(!t)return;if((null===(n=e.editor)||void 0===n?void 0:n.isDestroyed)||(null==r?void 0:r.isDestroyed))return;const{pluginKey:o="floatingMenu",editor:i,tippyOptions:a={},shouldShow:l=null}=e,c=i||r;if(!c)return void console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");const u=s.FloatingMenuPlugin({pluginKey:o,editor:c,element:t,tippyOptions:a,shouldShow:l});return c.registerPlugin(u),()=>c.unregisterPlugin(o)}),[e.editor,r,t]),c.default.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)},t.NodeViewContent=e=>{const t=e.as||"div",{nodeViewContentRef:n}=k();return c.default.createElement(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})},t.NodeViewWrapper=S,t.PureEditorContent=f,t.ReactNodeViewRenderer=function(e,t){return n=>n.editor.contentComponent?new C(e,n,t):{}},t.ReactRenderer=E,t.useCurrentEditor=w,t.useEditor=v,Object.keys(a).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={0:{version:new Date("2018-02-01")},1:{version:new Date("2018-07-01")},2:{version:new Date("2018-07-12")},3:{version:new Date("2018-07-14")},4:{version:new Date("2018-08-03")},5:{version:new Date("2018-08-04")},6:{version:new Date("2018-08-26")},7:{version:new Date("2018-12-13")},8:{version:new Date("2019-01-04")},9:{version:new Date("2019-01-05")},10:{version:new Date("2019-02-02")},11:{version:new Date("2019-02-19")},12:{version:new Date("2019-04-22")},13:{version:new Date("2019-05-15")},14:{version:new Date("2019-05-17")},15:{version:new Date("2019-08-18")},16:{version:new Date("2019-08-21")},17:{version:new Date("2019-08-29")},18:{version:new Date("2019-09-13")},19:{version:new Date("2020-06-03")},20:{version:new Date("2020-07-15")},21:{version:new Date("2020-08-07")},22:{version:new Date("2020-10-13")},23:{version:new Date("2020-10-18")},24:{version:new Date("2021-04-12")},25:{version:new Date("2021-05-26")},26:{version:new Date("2021-09-07")},27:{version:new Date("2021-12-02")},28:{version:new Date("2022-12-06")},29:{version:new Date("2023-04-28")},30:{version:new Date("2023-05-03")},31:{version:new Date("2023-09-13")},32:{version:new Date("2023-09-15")},33:{version:new Date("2023-11-02")},34:{version:new Date("2023-11-03")},35:{version:new Date("2023-12-08")},36:{version:new Date("2023-12-12")},37:{version:new Date("2024-02-15")},38:{version:new Date("2024-03-05")},39:{version:new Date("2024-05-07")}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(129);const o=[{id:"default",color:Object.assign({},r.a),label:null},{id:"one",color:{r:112,g:214,b:255,a:1},label:null},{id:"two",color:{r:255,g:112,b:166,a:1},label:null},{id:"three",color:{r:255,g:151,b:112,a:1},label:null},{id:"four",color:{r:255,g:214,b:112,a:1},label:null},{id:"five",color:{r:233,g:255,b:112,a:1},label:null}]},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"h",(function(){return m}));var r=n(2);function o(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackHitPaywall",str1:t.type})}))}function i(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"onboardingSelection",str1:t.type})}))}function a(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackPageLinkCreate",str1:t.source})}))}function s(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackCopyInviteLink",str1:t.inviteType,str2:t.linkType,str3:t.source})}))}function l(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackSharedAnnotation",str1:t.type})}))}function c(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackUnSharedAnnotation",str1:t.type})}))}function u(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackUnSharedAnnotation"})}))}function d(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"createAnnotation",str1:t.annotationType})}))}function p(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"createBookmark"})}))}function f(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackSpaceCreate",str1:t.type})}))}function h(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackSpaceEntryCreate",str1:t.type})}))}function m(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return e.trackBqEvent({eventName:"trackQueryAI"})}))}},,,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return f}));var r=n(2),o=n(31),i=n(65),a=n(29),s=n(19);function l(t,n){var i;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=`${(null===(i=e.env.REACT_APP_FIREBASE_PROJECT_ID)||void 0===i?void 0:i.includes("staging"))||!1?a.b.staging:a.b.production}/stripe-subscriptions`,s=yield fetch(r,{method:"POST",headers:{},body:JSON.stringify({email:t})}),l=yield s.json();yield n.storage.local.set({[o.a]:{pU:l.status}});return{AIpowerup:l.status.AIpowerup||l.status.Unlimited,AIpowerupOwnKey:l.status.AIpowerupOwnKey||l.status.Unlimited,bookmarksPowerUp:l.status.bookmarksPowerUp||l.status.Unlimited,lifetime:l.status.lifetime}}))}function c(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let n;if(t)n=t,yield e.storage.local.set({[o.e]:t});else{if(n=(yield e.storage.local.get([o.e]))[o.e],!n)return console.error("Install timestamp not found!"),-1}const r=(new Date).getTime(),i=24*o.d*60*60*1e3,a=r-n;if(a<i){const e=i-a;return Math.ceil(e/864e5)}return-1}))}function u(e,t,n,o,a){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let r;if(null!=o&&(r=null!=(yield n.findPageByUrl(Object(s.c)(o)))),r)return!0;if(yield h("bookmarksPowerUp",e))return!0;if(t)try{yield Object(i.d)(t,{type:"pagesLimit"})}catch(e){}return!1}))}function d(e,t,n,o){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if("gpt-4o"===o&&!n)return!1;if(yield h("AIpowerup",e,o,n))return!0;if(t)try{yield Object(i.d)(t,{type:"aiLimit"})}catch(e){}return!1}))}function p(t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=t.os,o=t.arch,i=(null===(n=e.env.REACT_APP_FIREBASE_PROJECT_ID)||void 0===n?void 0:n.includes("staging"))||!1?a.b.staging:a.b.production,s=yield fetch(i+"/download_memex_desktop",{method:"POST",body:JSON.stringify({OS:r,arch:o}),headers:{"Content-Type":"application/json"}});return(yield s.json()).downloadUrl}))}function f(e,t){var n,i;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=(yield e.storage.local.get(o.f))[o.f];let a=[],s=null;if(t)a=null!==(n=null==r?void 0:r.filter((e=>e!==t)))&&void 0!==n?n:[];else{const t=yield e.tabs.query({active:!0,currentWindow:!0});if(s=null===(i=t[0])||void 0===i?void 0:i.id,void 0===r)a=[s];else{if(r.includes(s))return!0;a=[...r,s]}}yield e.storage.local.set({[o.f]:a})}))}function h(e,t,n,i){var a,s,l,u,d,p,f,h,m;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=yield t.storage.local.get(o.a);let r=null!==(a=n[o.a])&&void 0!==a?a:o.b;const g=null!=r?r:o.b;if((null===(s=g.pU)||void 0===s?void 0:s.Unlimited)||(null===(l=g.pU)||void 0===l?void 0:l.lifetime))return!0;if("bookmarksPowerUp"===e){if(null!==(d=null===(u=g.pU)||void 0===u?void 0:u.bookmarksPowerUp)&&void 0!==d&&d)return!0}if("AIpowerup"===e){const e=null!==(f=null===(p=g.pU)||void 0===p?void 0:p.AIpowerupOwnKey)&&void 0!==f&&f,t=null!==(m=null===(h=g.pU)||void 0===h?void 0:h.AIpowerup)&&void 0!==m&&m;if(!i&&e&&!t)return!1;if(i&&(e||t))return!0;if(t)return!0}return!!(-1!==(yield c(t)))}))}}).call(this,n(131))},function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"l",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return b}));var r=n(1),o=n.n(r),i=n(35);const a=12,s=14,l=o.a.span.withConfig({displayName:"TypographyBigTitle",componentId:"sc-1fdda8i-0"})(["font-size:","px;@media (max-width:1300px){font-size:","px;}"],20,18),c=o.a.span.withConfig({displayName:"TypographyHeadingBigger",componentId:"sc-1fdda8i-1"})(["font-size:","px;text-decoration:none;color:",";margin-right:5px;font-weight:bold;width:100%;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],18,i.g),u=(o.a.span.withConfig({displayName:"TypographyHeadingBig",componentId:"sc-1fdda8i-2"})(["font-size:","px;text-decoration:none;color:",";margin-right:5px;font-weight:bold;text-align:center;width:100%;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],16,i.g),o.a.span.withConfig({displayName:"TypographyHeadingNormal",componentId:"sc-1fdda8i-3"})(["font-size:","px;text-decoration:none;font-weight:bold;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],s,i.g)),d=(o.a.span.withConfig({displayName:"TypographyHeadingSmall",componentId:"sc-1fdda8i-4"})(["font-size:","px;text-decoration:none;margin-right:5px;font-weight:bold;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],a,i.g),o.a.span.withConfig({displayName:"TypographyLink",componentId:"sc-1fdda8i-5"})(["text-decoration:none;font-size:1em;margin:5px;color:",";cursor:pointer;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],i.e),o.a.span.withConfig({displayName:"TypographyHeadingPage",componentId:"sc-1fdda8i-6"})(["font-size:","px;font-weight:600;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],16,i.g,s)),p=o.a.span.withConfig({displayName:"TypographySubHeading",componentId:"sc-1fdda8i-7"})(["font-size:","px;font-weight:600;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],s,i.g,a),f=o.a.span.withConfig({displayName:"TypographyTextNormal",componentId:"sc-1fdda8i-8"})(["font-size:","px;font-weight:400;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],s,i.g,a),h=(o.a.span.withConfig({displayName:"TypographySubTextNormal",componentId:"sc-1fdda8i-9"})(["font-size:","px;font-weight:400;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],s,i.c,a),o.a.span.withConfig({displayName:"TypographyTextSmall",componentId:"sc-1fdda8i-10"})(["font-size:","px;font-weight:400;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;line-height:1.4;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;@media (max-width:1300px){font-size:","px;}"],a,i.g,10),o.a.h2.withConfig({displayName:"TypographyInputTitle",componentId:"sc-1fdda8i-11"})(["font-size:","px;font-weight:bold;box-sizing:border-box;margin-bottom:5px;margin-top:10px;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],16),o.a.span.withConfig({displayName:"TypographyButtonLabel",componentId:"sc-1fdda8i-12"})(["font-style:normal;font-weight:600;font-size:","px;line-height:1.4;text-align:center;color:#fafafb;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],a),o.a.span.withConfig({displayName:"TypographyActionText",componentId:"sc-1fdda8i-13"})(["text-align:center;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;font-weight:600;font-size:1em;"])),m=o.a.span.withConfig({displayName:"TypographyBody",componentId:"sc-1fdda8i-14"})(["font-style:normal;font-weight:300;font-size:16px;line-height:1.4;margin-top:20px;text-align:left;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"],i.g),g=o.a.div.withConfig({displayName:"CenterText",componentId:"sc-1fdda8i-15"})(["text-align:center;"]),v=(o()(m).withConfig({displayName:"TypographyBodyBlock",componentId:"sc-1fdda8i-16"})(["display:block;font-style:normal;font-weight:300;font-size:16px;line-height:1.4;color:#544960;"]),o.a.div.withConfig({displayName:"TypographyBodyBold",componentId:"sc-1fdda8i-17"})(["display:block;font-weight:bold;margin:10px 0;font-size:16px;color:#544960;text-align:center;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"])),y=(o.a.div.withConfig({displayName:"TypographyBodyCenter",componentId:"sc-1fdda8i-18"})(["display:block;font-size:16px;text-align:center;color:#544960;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;"]),o.a.div.withConfig({displayName:"HelpBlock",componentId:"sc-1fdda8i-19"})(["display:block;font-size:",";text-align:center;margin-top:0px;color:#544960;"],a),o.a.div.withConfig({displayName:"StageBlock",componentId:"sc-1fdda8i-20"})(["display:block;font-weight:bold;font-size:16px;color:#544960;text-align:center;margin-bottom:30px;margin-top:5px;"]),o.a.div.withConfig({displayName:"ProgressBox",componentId:"sc-1fdda8i-21"})(["width:100%;"]),o.a.p.withConfig({displayName:"Warning",componentId:"sc-1fdda8i-22"})(["color:red;font-weight:700;font-size:18px;"]),o.a.div.withConfig({displayName:"WhiteSpacer10",componentId:"sc-1fdda8i-23"})(["margin-top:10px;"])),b=o.a.div.withConfig({displayName:"WhiteSpacer20",componentId:"sc-1fdda8i-24"})(["margin-top:20px;"]);o.a.div.withConfig({displayName:"WhiteSpacer30",componentId:"sc-1fdda8i-25"})(["margin-top:30px;"]),o.a.div.withConfig({displayName:"HoverColor",componentId:"sc-1fdda8i-26"})(["background-color:#dadada;"])},function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=/^\s+/,n=/\s+$/;function r(e,t){if(t=t||{},(e=e||"")instanceof r)return e;if(!(this instanceof r))return new r(e,t);var n=o(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function o(t){var n={r:0,g:0,b:0},r=1,o=null,a=null,l=null,u=!1,d=!1;return"string"==typeof t&&(t=U(t)),"object"==e(t)&&(H(t.r)&&H(t.g)&&H(t.b)?(n=i(t.r,t.g,t.b),u=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):H(t.h)&&H(t.s)&&H(t.v)?(o=L(t.s),a=L(t.v),n=c(t.h,o,a),u=!0,d="hsv"):H(t.h)&&H(t.s)&&H(t.l)&&(o=L(t.s),l=L(t.l),n=s(t.h,o,l),u=!0,d="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=I(r),{ok:u,format:t.format||d,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function i(e,t,n){return{r:255*D(e,255),g:255*D(t,255),b:255*D(n,255)}}function a(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:s}}function s(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}function l(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i,l=i-a;if(o=0===i?0:l/i,i==a)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:s}}function c(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=r%6;return{r:255*[n,a,i,i,s,n][l],g:255*[s,n,n,a,i,i][l],b:255*[i,i,s,n,n,a][l]}}function u(e,t,n,r){var o=[P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function d(e,t,n,r,o){var i=[P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16)),P(N(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function p(e,t,n,r){return[P(N(r)),P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16))].join("")}function f(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.s-=t/100,n.s=M(n.s),r(n)}function h(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.s+=t/100,n.s=M(n.s),r(n)}function m(e){return r(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.l+=t/100,n.l=M(n.l),r(n)}function v(e,t){t=0===t?0:t||10;var n=r(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),r(n)}function y(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.l-=t/100,n.l=M(n.l),r(n)}function b(e,t){var n=r(e).toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,r(n)}function w(e){var t=r(e).toHsl();return t.h=(t.h+180)%360,r(t)}function x(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=r(e).toHsl(),o=[r(e)],i=360/t,a=1;a<t;a++)o.push(r({h:(n.h+a*i)%360,s:n.s,l:n.l}));return o}function k(e){var t=r(e).toHsl(),n=t.h;return[r(e),r({h:(n+72)%360,s:t.s,l:t.l}),r({h:(n+216)%360,s:t.s,l:t.l})]}function S(e,t,n){t=t||6,n=n||30;var o=r(e).toHsl(),i=360/n,a=[r(e)];for(o.h=(o.h-(i*t>>1)+720)%360;--t;)o.h=(o.h+i)%360,a.push(r(o));return a}function E(e,t){t=t||6;for(var n=r(e).toHsv(),o=n.h,i=n.s,a=n.v,s=[],l=1/t;t--;)s.push(r({h:o,s:i,v:a})),a=(a+l)%1;return s}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=a(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return u(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*D(this._r,255))+"%",g:Math.round(100*D(this._g,255))+"%",b:Math.round(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*D(this._r,255))+"%, "+Math.round(100*D(this._g,255))+"%, "+Math.round(100*D(this._b,255))+"%)":"rgba("+Math.round(100*D(this._r,255))+"%, "+Math.round(100*D(this._g,255))+"%, "+Math.round(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var i=r(e);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(x,[3])},tetrad:function(){return this._applyCombination(x,[4])}},r.fromRatio=function(t,n){if("object"==e(t)){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]="a"===i?t[i]:L(t[i]));t=o}return r(t,n)},r.equals=function(e,t){return!(!e||!t)&&r(e).toRgbString()==r(t).toRgbString()},r.random=function(){return r.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},r.mix=function(e,t,n){n=0===n?0:n||50;var o=r(e).toRgb(),i=r(t).toRgb(),a=n/100;return r({r:(i.r-o.r)*a+o.r,g:(i.g-o.g)*a+o.g,b:(i.b-o.b)*a+o.b,a:(i.a-o.a)*a+o.a})},r.readability=function(e,t){var n=r(e),o=r(t);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)},r.isReadable=function(e,t,n){var o,i,a=r.readability(e,t);switch(i=!1,(o=W(n)).level+o.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},r.mostReadable=function(e,t,n){var o,i,a,s,l=null,c=0;i=(n=n||{}).includeFallbackColors,a=n.level,s=n.size;for(var u=0;u<t.length;u++)(o=r.readability(e,t[u]))>c&&(c=o,l=r(t[u]));return r.isReadable(e,l,{level:a,size:s})||!i?l:(n.includeFallbackColors=!1,r.mostReadable(e,["#fff","#000"],n))};var C=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=r.hexNames=O(C);function O(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){_(e)&&(e="100%");var n=R(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return Math.min(1,Math.max(0,e))}function T(e){return parseInt(e,16)}function _(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function R(e){return"string"==typeof e&&-1!=e.indexOf("%")}function P(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function N(e){return Math.round(255*parseFloat(e)).toString(16)}function j(e){return T(e)/255}var B,F,z,$=(F="[\\s|\\(]+("+(B="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",z="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(e){return!!$.CSS_UNIT.exec(e)}function U(e){e=e.replace(t,"").replace(n,"").toLowerCase();var r,o=!1;if(C[e])e=C[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(r=$.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=$.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=$.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=$.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=$.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=$.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=$.hex8.exec(e))?{r:T(r[1]),g:T(r[2]),b:T(r[3]),a:j(r[4]),format:o?"name":"hex8"}:(r=$.hex6.exec(e))?{r:T(r[1]),g:T(r[2]),b:T(r[3]),format:o?"name":"hex"}:(r=$.hex4.exec(e))?{r:T(r[1]+""+r[1]),g:T(r[2]+""+r[2]),b:T(r[3]+""+r[3]),a:j(r[4]+""+r[4]),format:o?"name":"hex8"}:!!(r=$.hex3.exec(e))&&{r:T(r[1]+""+r[1]),g:T(r[2]+""+r[2]),b:T(r[3]+""+r[3]),format:o?"name":"hex"}}function W(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}return r}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(51);function o(e,t){const n=function(e){const t=new URL(e),n=t.origin+t.pathname,r=t.search,o=t.searchParams,i=o.get("t"),a=t.hash;return[{cleanURL:n,queryStrings:r,videoTimeStamp:i||void 0,parameters:o,hashFragments:a}]}(e);if(e.includes("youtube.com/watch")){return`https://www.youtube.com/watch?v=${Object(r.c)(e)}&t=${t}`}if(e.includes("vimeo.com/")){const e=n[0].cleanURL;let r=Math.floor(t/60);return`${e}#t=${r+"m"+(t-60*r)+"s"}`}return`${n[0].cleanURL}?t=${t}`}const i=()=>{const e=document.location.href;let t,n=document.getElementsByTagName("video")[0],r=document.getElementById("player");if(null!=n)t=n.currentTime,t<0&&(t=0),t=Math.floor(t);else{if(null==r)return[void 0,void 0];t=r.currentTime,t<0&&(t=0),t=t.floor()}const i=o(e,t),a=Math.trunc(null!=t?t:0);return[i,`${Math.floor(a/60)}:${(a%60).toString().padStart(2,"0")}`]};const a=e=>{const{youtubePlayer:t}=e;if(t){const e=Math.floor(t.getCurrentTime());let r=Math.floor(e/3600),o=Math.floor((e-3600*r)/60),i=Math.floor(e-3600*r-60*o),a=r.toString(),s=o.toString(),l=i.toString();return r<10&&(a="0"+r.toString()),o<10&&(s="0"+o.toString()),i<10&&(l=("0"+i).toString()),{linkWithTimestamp:(n=t.getVideoUrl(),"https://www.youtube.com/watch?v="+new URL(n).searchParams.get("v"))+`&t=${e}`,timestampAsText:0===r?[s,l].join(":"):[a,s,l].join(":")}}var n;const r=i();return{linkWithTimestamp:r[0],timestampAsText:r[1]}};function s(e){return`[${e.timestampAsText}](${e.linkWithTimestamp})`}},function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));const r="extension_install_time",o="/options.html",i=`${o}#/settings`,a=`${o}#/overview`,s=`${o}#/account`,l="tag_suggestions",c="@UNDO_HISTORY"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(19),o=n(11);const i="@ContentSharing-last-shared-annotation-timestamp",a=e=>{const{pageUrl:t,now:n}=e;return`${Object(r.c)(t)}/#${n()}`};function s(e){return(null==e?void 0:e.shouldShare)?e.isBulkShareProtected?o.a.SHARED_PROTECTED:o.a.SHARED:(null==e?void 0:e.isBulkShareProtected)?o.a.PROTECTED:o.a.PRIVATE}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));const r=(e,t)=>{var n;if(!e.descriptor)return{start:0};return null!==(n=e.descriptor.content.find((e=>e&&e.type===t)))&&void 0!==n?n:{start:0}},o=e=>/#\d{10,}$/.test(e);function i(e){const t=[];for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n).cloneRange());return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset,isCollapsed:!1,rangeCount:e.rangeCount,type:e.type,ranges:t,toString:()=>e.toString(),getRangeAt:e=>{if(e>=0&&e<t.length)return t[e].cloneRange();throw new Error("Index out of bounds")},containsNode:(e,n=!1)=>t.some((t=>n?e===t.commonAncestorContainer||e.contains(t.commonAncestorContainer):e===t.startContainer&&e===t.endContainer))}}function a(e){var t,n,r,o,i,a="";if(void 0!==e){var l=e;if(l.toString().length>0){let e,d=document.createElement("div");if(e=null!=l.getRangeAt(0).cloneContents().firstChild&&"LI"===(null===(t=l.getRangeAt(0).cloneContents().firstChild)||void 0===t?void 0:t.nodeName)?document.createElement("ul"):"TR"===(null===(n=l.getRangeAt(0).cloneContents().firstChild)||void 0===n?void 0:n.nodeName)&&"TR"===(null===(r=l.getRangeAt(0).cloneContents().lastChild)||void 0===r?void 0:r.nodeName)?document.createElement("tbody"):document.createElement("div"),"TR"===(null===(o=l.getRangeAt(0).cloneContents().firstChild)||void 0===o?void 0:o.nodeName)&&"TR"===(null===(i=l.getRangeAt(0).cloneContents().lastChild)||void 0===i?void 0:i.nodeName)){let t=document.createElement("div");t.classList.add("table-container");let n=document.createElement("table");t.appendChild(n),d.appendChild(t),n.appendChild(e)}else d.appendChild(e);for(var c=0,u=l.rangeCount;c<u;++c){let t=l.getRangeAt(c).cloneContents();t.querySelectorAll("*").forEach((e=>{var t,n;let r=null!==(n=null===(t=e.childNodes[0])||void 0===t?void 0:t.nodeValue)&&void 0!==n?n:void 0;null!=r&&(r.trim().length||(e.childNodes[0].nodeValue="")),(e.getAttribute("hidden")||""===e.getAttribute("hidden")||0===e.textContent.length)&&e.parentNode.removeChild(e)})),t.querySelectorAll("*").forEach((e=>{if(t=e.nodeName,!s.some((e=>e===t)))if(null!=e.childNodes&&e.childNodes.length>0){let t=document.createElement("span");e.childNodes.forEach((e=>{t.appendChild(e)})),e.parentNode.replaceChild(t,e)}else e.parentNode.removeChild(e);var t})),t.querySelectorAll("*").forEach((e=>{var t,n;let r=null!==(n=null===(t=e.childNodes[0])||void 0===t?void 0:t.nodeValue)&&void 0!==n?n:void 0;null!=r&&(r.trim().length||(e.childNodes[0].nodeValue="")),0===e.textContent.length&&e.parentNode.removeChild(e)})),t.querySelectorAll("*").forEach((e=>{e.removeAttribute("style"),e.removeAttribute("class"),e.removeAttribute("id")})),e.appendChild(t)}const p=l.getRangeAt(0).commonAncestorContainer;let f=p.nodeType===Node.ELEMENT_NODE?p:p.parentElement,h=[];for(let e=0;e<6&&f;e++){if("PRE"===f.nodeName||"CODE"===f.nodeName){h=["CODE","PRE"];break}f=f.parentNode}let m,g=null;h.forEach(((t,n)=>{if(m=document.createElement(t.toLowerCase()),0===n){for(;e.firstChild;)m.appendChild(e.firstChild);d.removeChild(e)}else m.appendChild(g);g=m})),h.length>0&&d.appendChild(g),a=d.innerHTML}}let d=null==a?void 0:a.replace(new RegExp("-</span><span>","g"),"");return d=null==d?void 0:d.replace(new RegExp("</span><span>","g")," </span><span>"),d=null==d?void 0:d.replace(new RegExp("  ","g")," "),d}const s=["A","ABBR","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","CAPTION","CITE","CODE","COL","COLGROUP","DATA","DATALIST","DD","DEL","DETAILS","DFN","DIALOG","DIV","DL","DT","EM","FIELDSET","FIGCAPTION","FIGURE","FOOTER","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","I","IMG","INS","KBD","LABEL","LEGEND","LI","LINK","MAIN","MARK","MENU","META","METER","NAV","OBJECT","OL","OPTGROUP","OPTION","OUTPUT","P","PICTURE","PRE","PROGRESS","Q","RP","RT","S","SAMP","SECTION","SMALL","SOURCE","SPAN","STRONG","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEMPLATE","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(542),o=n(543),i=n(544),a=n(545),s=n(550);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),u=l(o),d=l(i),p=l(a),f=l(s);function h(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}var m={symbols:{"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:h,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:h,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"}}};var g=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,u.default(n)}return d.default(t,e),t}(p.default(Error)),v=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function y(e,t){var n,r=e.pop();return t.push(r.f.apply(r,(n=[]).concat.apply(n,t.splice(-r.argCount)))),r.precedence}function b(e,t){var n,r=function(e){var t={};return t.symbols=e?c.default({},m.symbols,e.symbols):c.default({},m.symbols),t}(t),o=[r.symbols["("].prefix],i=[],a=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(r.symbols).map((function(e){return r.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");a.lastIndex=0;var s=!1;do{var l=(n=a.exec(e))||[")",void 0],u=l[0],d=l[1],p=r.symbols[u],f=p&&!p.prefix&&!p.func,h=!p||!p.postfix&&!p.infix;if(d||(s?h:f))throw new g(37,n?n.index:e.length,e);if(s){var v=p.postfix||p.infix;do{var b=o[o.length-1];if((v.precedence-b.precedence||b.rightToLeft)>0)break}while(y(o,i));s="postfix"===v.notation,")"!==v.symbol&&(o.push(v),s&&y(o,i))}else if(p){if(o.push(p.prefix||p.func),p.func&&(!(n=a.exec(e))||"("!==n[0]))throw new g(38,n?n.index:e.length,e)}else i.push(+u),s=!0}while(n&&o.length);if(o.length)throw new g(39,n?n.index:e.length,e);if(n)throw new g(40,n?n.index:e.length,e);return i.pop()}function w(e){return e.split("").reverse().join("")}var x=/--[\S]*/g;function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}var S=["Top","Right","Bottom","Left"];function E(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce((function(e,t){return""+e+k(t)}));var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],i=n[1],a=void 0===i?o:i,s=n[2],l=void 0===s?o:s,c=n[3];return function(e,t){for(var n={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(n[E(e,S[r])]=t[r]);return n}(e,[o,a,l,void 0===c?a:c])}function A(e,t){return e.substr(-t.length)===t}var O=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function I(e){return"string"!=typeof e?e:e.match(O)?parseFloat(e):e}var D=function(e){return function(t,n){void 0===n&&(n="16px");var r=t,o=n;if("string"==typeof t){if(!A(t,"px"))throw new g(69,e,t);r=I(t)}if("string"==typeof n){if(!A(n,"px"))throw new g(70,e,n);o=I(n)}if("string"==typeof r)throw new g(71,t,e);if("string"==typeof o)throw new g(72,n,e);return""+r/o+e}},M=D("em"),T=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function _(e){if("string"!=typeof e)return[e,""];var t=e.match(T);return t?[parseFloat(e),t[2]]:[e,void 0]}var R={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};var P=D("rem"),L={back:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",circ:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",cubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",expo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",quad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",quart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",quint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",sine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)"};var N={back:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",circ:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",cubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",expo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",quad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",quart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",quint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",sine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};var j={back:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",cubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",circ:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",expo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",quad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",quart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",quint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",sine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)"};function B(e,t,n,r){void 0===n&&(n="320px"),void 0===r&&(r="1200px");var o=_(e),i=o[0],a=o[1],s=_(t),l=s[0],c=s[1],u=_(n),d=u[0],p=u[1],f=_(r),h=f[0],m=f[1];if("number"!=typeof d||"number"!=typeof h||!p||!m||p!==m)throw new g(47);if("number"!=typeof i||"number"!=typeof l||a!==c)throw new g(48);if(a!==p||c!==m)throw new g(76);var v=(i-l)/(d-h);return"calc("+(l-v*h).toFixed(2)+(a||"")+" + "+(100*v).toFixed(2)+"vw)"}function F(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,H={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function U(e,t){return t?' format("'+H[e]+'")':""}function W(e,t,n){if(function(e){return!!e.match($)}(e))return'url("'+e+'")'+U(t[0],n);var r=t.map((function(t){return'url("'+e+"."+t+'")'+U(t,n)}));return r.join(", ")}function V(e,t,n,r){var o=[];return t&&o.push(function(e){return e.map((function(e){return'local("'+e+'")'})).join(", ")}(t)),e&&o.push(W(e,n,r)),o.join(", ")}function q(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function G(e){for(var t="",n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0;i<e.length;i+=1)if(t+=e[i],i===r.length-1&&r[i]){var a=r.filter((function(e){return!!e}));a.length>1?(t=t.slice(0,-1),t+=", "+r[i]):1===a.length&&(t+=""+r[i])}else r[i]&&(t+=r[i]+" ");return t.trim()}function Y(){var e=f.default(["linear-gradient(","",")"]);return Y=function(){return e},e}function K(){var e=f.default(["radial-gradient(","","","",")"]);return K=function(){return e},e}var J={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};var X=function(e,t,n){var r=""+n[0]+(n[1]||""),o=""+n[0]/2+(n[1]||""),i=""+t[0]+(t[1]||""),a=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+o+" "+i+" "+o;case"topLeft":return r+" "+i+" 0 0";case"left":return a+" "+r+" "+a+" 0";case"bottomLeft":return r+" 0 0 "+i;case"bottom":return i+" "+o+" 0 "+o;case"bottomRight":return"0 0 "+r+" "+i;case"right":return a+" 0 "+a+" "+r;default:return"0 "+r+" "+i+" 0"}};function Q(e){return Math.round(255*e)}function Z(e,t,n){return Q(e)+","+Q(t)+","+Q(n)}function ee(e,t,n,r){if(void 0===r&&(r=Z),0===t)return r(n,n,n);var o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,l=0,c=0;o>=0&&o<1?(s=i,l=a):o>=1&&o<2?(s=a,l=i):o>=2&&o<3?(l=i,c=a):o>=3&&o<4?(l=a,c=i):o>=4&&o<5?(s=a,c=i):o>=5&&o<6&&(s=i,c=a);var u=n-i/2;return r(s+u,l+u,c+u)}var te={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var ne=/^#[a-fA-F0-9]{6}$/,re=/^#[a-fA-F0-9]{8}$/,oe=/^#[a-fA-F0-9]{3}$/,ie=/^#[a-fA-F0-9]{4}$/,ae=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,se=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,le=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,ce=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function ue(e){if("string"!=typeof e)throw new g(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return te[t]?"#"+te[t]:e}(e);if(t.match(ne))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(re)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(oe))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(ie)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=ae.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=se.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var a=le.exec(t);if(a){var s="rgb("+ee(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=ae.exec(s);if(!l)throw new g(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=ce.exec(t);if(c){var u="rgb("+ee(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=ae.exec(u);if(!d)throw new g(4,t,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])}}throw new g(5)}function de(e){return function(e){var t,n=e.red/255,r=e.green/255,o=e.blue/255,i=Math.max(n,r,o),a=Math.min(n,r,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var l=i-a,c=s>.5?l/(2-i-a):l/(i+a);switch(i){case n:t=(r-o)/l+(r<o?6:0);break;case r:t=(o-n)/l+2;break;default:t=(n-r)/l+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(ue(e))}var pe=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function fe(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function he(e){return fe(Math.round(255*e))}function me(e,t,n){return pe("#"+he(e)+he(t)+he(n))}function ge(e,t,n){return ee(e,t,n,me)}function ve(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return ge(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return ge(e.hue,e.saturation,e.lightness);throw new g(1)}function ye(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?ge(e,t,n):"rgba("+ee(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?ge(e.hue,e.saturation,e.lightness):"rgba("+ee(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new g(2)}function be(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return pe("#"+fe(e)+fe(t)+fe(n));if("object"==typeof e&&void 0===t&&void 0===n)return pe("#"+fe(e.red)+fe(e.green)+fe(e.blue));throw new g(6)}function we(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var o=ue(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?be(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?be(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new g(7)}function xe(e){if("object"!=typeof e)throw new g(8);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha}(e))return we(e);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return be(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha}(e))return ye(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return ve(e);throw new g(8)}function ke(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):ke(e,t,r)}}function Se(e){return ke(e,e.length,[])}function Ee(e,t){if("transparent"===t)return t;var n=de(t);return xe(c.default({},n,{hue:n.hue+parseFloat(e)}))}var Ce=Se(Ee);function Ae(e,t,n){return Math.max(e,Math.min(t,n))}function Oe(e,t){if("transparent"===t)return t;var n=de(t);return xe(c.default({},n,{lightness:Ae(0,1,n.lightness-parseFloat(e))}))}var Ie=Se(Oe);function De(e,t){if("transparent"===t)return t;var n=de(t);return xe(c.default({},n,{saturation:Ae(0,1,n.saturation-parseFloat(e))}))}var Me=Se(De);function Te(e){if("transparent"===e)return 0;var t=ue(e),n=Object.keys(t).map((function(e){var n=t[e]/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)})),r=n[0],o=n[1],i=n[2];return parseFloat((.2126*r+.7152*o+.0722*i).toFixed(3))}function _e(e,t){var n=Te(e),r=Te(t);return parseFloat((n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)).toFixed(2))}function Re(e,t){if("transparent"===t)return t;var n=de(t);return xe(c.default({},n,{lightness:Ae(0,1,n.lightness+parseFloat(e))}))}var Pe=Se(Re);function Le(e,t,n){if("transparent"===t)return n;if("transparent"===n)return t;if(0===e)return n;var r=ue(t),o=c.default({},r,{alpha:"number"==typeof r.alpha?r.alpha:1}),i=ue(n),a=c.default({},i,{alpha:"number"==typeof i.alpha?i.alpha:1}),s=o.alpha-a.alpha,l=2*parseFloat(e)-1,u=((l*s==-1?l:l+s)/(1+l*s)+1)/2,d=1-u;return we({red:Math.floor(o.red*u+a.red*d),green:Math.floor(o.green*u+a.green*d),blue:Math.floor(o.blue*u+a.blue*d),alpha:o.alpha*(parseFloat(e)/1)+a.alpha*(1-parseFloat(e)/1)})}var Ne=Se(Le);function je(e,t){if("transparent"===t)return t;var n=ue(t),r="number"==typeof n.alpha?n.alpha:1;return we(c.default({},n,{alpha:Ae(0,1,(100*r+100*parseFloat(e))/100)}))}var Be=Se(je),Fe="#000",ze="#fff";function $e(e,t){if("transparent"===t)return t;var n=de(t);return xe(c.default({},n,{saturation:Ae(0,1,n.saturation+parseFloat(e))}))}var He=Se($e);function Ue(e,t){return"transparent"===t?t:xe(c.default({},de(t),{hue:parseFloat(e)}))}var We=Se(Ue);function Ve(e,t){return"transparent"===t?t:xe(c.default({},de(t),{lightness:parseFloat(e)}))}var qe=Se(Ve);function Ge(e,t){return"transparent"===t?t:xe(c.default({},de(t),{saturation:parseFloat(e)}))}var Ye=Se(Ge);function Ke(e,t){return"transparent"===t?t:Ne(parseFloat(e),"rgb(0, 0, 0)",t)}var Je=Se(Ke);function Xe(e,t){return"transparent"===t?t:Ne(parseFloat(e),"rgb(255, 255, 255)",t)}var Qe=Se(Xe);function Ze(e,t){if("transparent"===t)return t;var n=ue(t),r="number"==typeof n.alpha?n.alpha:1;return we(c.default({},n,{alpha:Ae(0,1,(100*r-100*parseFloat(e))/100)}))}var et=Se(Ze);var tt=["top","right","bottom","left"];function nt(e,t){return e(t?":"+t:"")}function rt(e,t,n){if(!t)throw new g(67);if(0===e.length)return nt(t,null);for(var r=[],o=0;o<e.length;o+=1){if(n&&n.indexOf(e[o])<0)throw new g(68);r.push(nt(t,e[o]))}return r=r.join(",")}var ot=[void 0,null,"active","focus","hover"];function it(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}var at=["absolute","fixed","relative","static","sticky"];var st=[void 0,null,"active","focus","hover"];function lt(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}t.adjustHue=Ce,t.animation=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0]);if(!r&&t.length>8)throw new g(64);return{animation:t.map((function(e){if(r&&!Array.isArray(e)||!r&&Array.isArray(e))throw new g(65);if(Array.isArray(e)&&e.length>8)throw new g(66);return Array.isArray(e)?e.join(" "):e})).join(", ")}},t.backgroundImages=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{backgroundImage:t.join(", ")}},t.backgrounds=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{background:t.join(", ")}},t.between=B,t.border=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;return"string"==typeof e&&tt.indexOf(e)>=0?((o={})["border"+k(e)+"Width"]=n[0],o["border"+k(e)+"Style"]=n[1],o["border"+k(e)+"Color"]=n[2],o):(n.unshift(e),{borderWidth:n[0],borderStyle:n[1],borderColor:n[2]})},t.borderColor=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,["borderColor"].concat(t))},t.borderRadius=function(e,t){var n,r,o=k(e);if(!t&&0!==t)throw new g(62);if("Top"===o||"Bottom"===o)return(n={})["border"+o+"RightRadius"]=t,n["border"+o+"LeftRadius"]=t,n;if("Left"===o||"Right"===o)return(r={})["borderTop"+o+"Radius"]=t,r["borderBottom"+o+"Radius"]=t,r;throw new g(63)},t.borderStyle=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,["borderStyle"].concat(t))},t.borderWidth=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,["borderWidth"].concat(t))},t.buttons=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rt(t,it,ot)},t.clearFix=function(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t},t.complement=function(e){if("transparent"===e)return e;var t=de(e);return xe(c.default({},t,{hue:(t.hue+180)%360}))},t.cover=function(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}},t.cssVar=function(e,t){if(!e||!e.match(x))throw new g(73);var n;if("undefined"!=typeof document&&null!==document.documentElement&&(n=getComputedStyle(document.documentElement).getPropertyValue(e)),n)return n.trim();if(t)return t;throw new g(74)},t.darken=Ie,t.desaturate=Me,t.directionalProperty=C,t.easeIn=function(e){return L[e.toLowerCase().trim()]},t.easeInOut=function(e){return N[e.toLowerCase().trim()]},t.easeOut=function(e){return j[e.toLowerCase().trim()]},t.ellipsis=function(e,t){void 0===t&&(t=1);var n={display:"inline-block",maxWidth:e||"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"};return t>1?c.default({},n,{WebkitBoxOrient:"vertical",WebkitLineClamp:t,display:"-webkit-box",whiteSpace:"normal"}):n},t.em=M,t.fluidRange=function(e,t,n){if(void 0===t&&(t="320px"),void 0===n&&(n="1200px"),!Array.isArray(e)&&"object"!=typeof e||null===e)throw new g(49);if(Array.isArray(e)){for(var r,o={},i={},a=F(e);!(r=a()).done;){var s,l,u=r.value;if(!u.prop||!u.fromSize||!u.toSize)throw new g(50);i[u.prop]=u.fromSize,o["@media (min-width: "+t+")"]=c.default({},o["@media (min-width: "+t+")"],((s={})[u.prop]=B(u.fromSize,u.toSize,t,n),s)),o["@media (min-width: "+n+")"]=c.default({},o["@media (min-width: "+n+")"],((l={})[u.prop]=u.toSize,l))}return c.default({},i,o)}var d,p,f;if(!e.prop||!e.fromSize||!e.toSize)throw new g(51);return(f={})[e.prop]=e.fromSize,f["@media (min-width: "+t+")"]=((d={})[e.prop]=B(e.fromSize,e.toSize,t,n),d),f["@media (min-width: "+n+")"]=((p={})[e.prop]=e.toSize,p),f},t.fontFace=function(e){var t=e.fontFamily,n=e.fontFilePath,r=e.fontStretch,o=e.fontStyle,i=e.fontVariant,a=e.fontWeight,s=e.fileFormats,l=void 0===s?["eot","woff2","woff","ttf","svg"]:s,c=e.formatHint,u=void 0!==c&&c,d=e.localFonts,p=void 0===d?[t]:d,f=e.unicodeRange,h=e.fontDisplay,m=e.fontVariationSettings,v=e.fontFeatureSettings;if(!t)throw new g(55);if(!n&&!p)throw new g(52);if(p&&!Array.isArray(p))throw new g(53);if(!Array.isArray(l))throw new g(54);var y={"@font-face":{fontFamily:t,src:V(n,p,l,u),unicodeRange:f,fontStretch:r,fontStyle:o,fontVariant:i,fontWeight:a,fontDisplay:h,fontVariationSettings:m,fontFeatureSettings:v}};return JSON.parse(JSON.stringify(y))},t.getContrast=_e,t.getLuminance=Te,t.getValueAndUnit=_,t.grayscale=function(e){return"transparent"===e?e:xe(c.default({},de(e),{saturation:0}))},t.hiDPI=q,t.hideText=function(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}},t.hideVisually=function(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},t.hsl=ve,t.hslToColorString=function(e){if("object"==typeof e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness)return e.alpha&&"number"==typeof e.alpha?ye({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):ve({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new g(45)},t.hsla=ye,t.important=function e(t,n){if("object"!=typeof t||null===t)throw new g(75,typeof t);var r={};return Object.keys(t).forEach((function(o){"object"==typeof t[o]&&null!==t[o]?r[o]=e(t[o],n):!n||n&&(n===o||n.indexOf(o)>=0)?r[o]=t[o]+" !important":r[o]=t[o]})),r},t.invert=function(e){if("transparent"===e)return e;var t=ue(e);return xe(c.default({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))},t.lighten=Pe,t.linearGradient=function(e){var t=e.colorStops,n=e.fallback,r=e.toDirection,o=void 0===r?"":r;if(!t||t.length<2)throw new g(56);return{backgroundColor:n||t[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:G(Y(),o,t.join(", ").replace(/,(?=\S)/g,", "))}},t.margin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,["margin"].concat(t))},t.math=function(e,t){var n=w(e),r=n.match(v);if(r&&!r.every((function(e){return e===r[0]})))throw new g(41);return""+b(w(n.replace(v,"")),t)+(r?w(r[0]):"")},t.meetsContrastGuidelines=function(e,t){var n=_e(e,t);return{AA:n>=4.5,AALarge:n>=3,AAA:n>=7,AAALarge:n>=4.5}},t.mix=Ne,t.modularScale=function(e,t,n){if(void 0===t&&(t="1em"),void 0===n&&(n=1.333),"number"!=typeof e)throw new g(42);if("string"==typeof n&&!R[n])throw new g(43);var r="string"==typeof t?_(t):[t,""],o=r[0],i=r[1],a="string"==typeof n?R[n]:n;if("string"==typeof o)throw new g(44,t);return""+o*Math.pow(a,e)+(i||"")},t.normalize=function(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]},t.opacify=Be,t.padding=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,["padding"].concat(t))},t.parseToHsl=de,t.parseToRgb=ue,t.position=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return at.indexOf(e)>=0&&e?c.default({},C.apply(void 0,[""].concat(n)),{position:e}):C.apply(void 0,["",e].concat(n))},t.radialGradient=function(e){var t=e.colorStops,n=e.extent,r=void 0===n?"":n,o=e.fallback,i=e.position,a=void 0===i?"":i,s=e.shape,l=void 0===s?"":s;if(!t||t.length<2)throw new g(57);return{backgroundColor:o||t[0].split(" ")[0],backgroundImage:G(K(),a,l,r,t.join(", "))}},t.readableColor=function(e,t,n,r){void 0===t&&(t=Fe),void 0===n&&(n=ze),void 0===r&&(r=!0);var o=Te(e)>.179,i=o?t:n;return!r||_e(e,i)>=4.5?i:o?Fe:ze},t.rem=P,t.retinaImage=function(e,t,n,r,o){var i;if(void 0===n&&(n="png"),void 0===o&&(o="_2x"),!e)throw new g(58);var a=n.replace(/^\./,""),s=r?r+"."+a:""+e+o+"."+a;return(i={backgroundImage:"url("+e+"."+a+")"})[q()]=c.default({backgroundImage:"url("+s+")"},t?{backgroundSize:t}:{}),i},t.rgb=be,t.rgbToColorString=function(e){if("object"==typeof e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue)return"number"==typeof e.alpha?we({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):be({red:e.red,green:e.green,blue:e.blue});throw new g(46)},t.rgba=we,t.saturate=He,t.setHue=We,t.setLightness=qe,t.setSaturation=Ye,t.shade=Je,t.size=function(e,t){return void 0===t&&(t=e),{height:e,width:t}},t.stripUnit=I,t.textInputs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rt(t,lt,st)},t.timingFunctions=function(e){return J[e]},t.tint=Qe,t.toColorString=xe,t.transitions=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Array.isArray(t[0])&&2===t.length){var r=t[1];if("string"!=typeof r)throw new g(61);return{transition:t[0].map((function(e){return e+" "+r})).join(", ")}}return{transition:t.join(", ")}},t.transparentize=et,t.triangle=function(e){var t=e.pointingDirection,n=e.height,r=e.width,o=e.foregroundColor,i=e.backgroundColor,a=void 0===i?"transparent":i,s=_(r),l=_(n);if(isNaN(l[0])||isNaN(s[0]))throw new g(60);return c.default({width:"0",height:"0",borderColor:a},function(e,t){switch(e){case"top":case"bottomRight":return{borderBottomColor:t};case"right":case"bottomLeft":return{borderLeftColor:t};case"bottom":case"topLeft":return{borderTopColor:t};case"left":case"topRight":return{borderRightColor:t};default:throw new g(59)}}(t,o),{borderStyle:"solid",borderWidth:X(t,l,s)})},t.wordWrap=function(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function o(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(2),o=n(9);const i={spacing:{none:"0",smallest:"0.25rem",small:"0.5rem",medium:"1rem",large:"1.5rem",larger:"2.5rem",largest:"3rem"},zIndices:{overlay:5e3},fonts:{primary:"Satoshi, sans-serif",secondary:"Satoshi, sans-serif"},borderRadii:{default:"3px"},fontSizes:{header:"20px",listTitle:"16px",url:"14px",text:"12px",smallText:"8px"},lineHeights:{header:"30px",listTitle:"24px",url:"21px",text:"18px",smallText:"12px"}},a=e=>{const{icons:t}=e;return Object.assign(Object.assign({},"dark"===e.variant?Object.assign(Object.assign({},i),{variant:"dark",colors:{black0:"#23242b",black:"#313239",black2:"#12131B",greyScale0_5:"#191a20",greyScale1:"#1E1F26",greyScale1_5:"#24252C",greyScale2:"#303139",greyScale3:"#3E3F47",greyScale4:"#616069",greyScale5:"#85868E",greyScale6:"#A9A9B1",greyScale7:"#CACAD1",greyScale8:"#CACAD1",white:"#FAFAFA",headerGradient:"linear-gradient(266.77deg, #6AE394 -18.13%, #FAFAFA 104.34%)",prime1:"#6AE394",prime2:"#C6F0D4",prime3:"#4B645B",secondary:"#80A0F2",third:"#12131B",twitter:"#1DA1F2",warning:"#FF4D35",transparent:"transparent"},hoverBackgrounds:{primary:"#e0e0e0"},borderStyles:{boxShadowRight:"rgba(178,184,205,.4) 2px 10px 15px -3px",boxShadowLeft:"rgba(178,184,205,.4) -2px -10px 15px -3px",boxShadowDown:"rgba(178,184,205,.4) 0px -10px 15px -3px",borderLineColorBigElements:"#dee1eacc",borderHoverElements:"#5d689026",boxShadowHoverElements:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -2px rgba(0, 0, 0, .1)",boxShadowHoverElementsLighter:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(141 141 141 / 10%), 0 2px 4px -2px rgb(255 255 255 / 10%)"}}):Object.assign(Object.assign({},i),{variant:"light",colors:{black0:"#ededed",black:"#ededed",black2:"#fcfcfc",greyScale8:"#6b7280",greyScale7:"#fafafa",greyScale6:"#303139",greyScale5:"#3E3F47",greyScale4:"#6b7280",greyScale3:"#eddce9",greyScale2:"#e5e7eb",greyScale1_5:"#fcfcfe",greyScale1:"#f9fafb",greyScale0_5:"#e4e4e8",white:"#12131B",headerGradient:"linear-gradient(266.77deg, #6AE394 -38.13%, #2C3C4E 104.34%)",transparent:"transparent",prime1:"#11C278",prime2:"#C6F0D4",prime3:"#4B645B",secondary:"#80A0F2",third:"#12131B",twitter:"#1DA1F2",warning:"#FF4D35"},hoverBackgrounds:{primary:"#e0e0e0"},borderStyles:{boxShadowRight:"rgba(178,184,205,.4) 2px 10px 15px -3px",boxShadowLeft:"rgba(178,184,205,.4) -2px -10px 15px -3px",boxShadowDown:"rgba(178,184,205,.4) 0px -10px 15px -3px",borderLineColorBigElements:"#dee1eacc",borderHoverElements:"#5d689026",boxShadowHoverElements:"0 0 #0000, 0 0 #0000, 0 0px 10px 0px rgba(0,0,0,.1), 0 2px 4px 0px rgba(0,0,0,.1);",boxShadowHoverElementsLighter:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(141 141 141 / 10%), 0 2px 4px -2px rgb(255 255 255 / 10%)"}})),{icons:{addPeople:t.addPeople,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,atSign:t.atSign,backup:t.backup,bell:t.bell,block:t.block,blueRoundCheck:t.blueRoundCheck,boldIcon:t.boldIcon,bulletListIcon:t.bulletListIcon,chatWithUs:t.chatWithUs,check:t.check,checkedRound:t.checkedRound,checkRound:t.checkRound,clock:t.clock,coilIcon:t.coilIcon,collectionsEmpty:t.collectionsEmpty,collectionsFull:t.collectionsFull,command:t.command,comment:t.commentFull,commentAdd:t.commentAdd,commentFull:t.commentFull,compress:t.compress,copy:t.copy,cursor:t.cursor,date:t.date,calendar:t.calendar,discord:t.discord,dots:t.dots,doubleArrow:t.doubleArrow,dropImage:t.dropImage,edit:t.edit,emptyCircle:t.emptyCircle,expand:t.expand,feed:t.feed,file:t.file,filePDF:t.filePDF,filterIcon:t.filterIcon,folder:t.folder,fullPageReading:t.fullPageReading,globe:t.globe,goTo:t.goTo,h1Icon:t.h1Icon,h2Icon:t.h2Icon,hamburger:t.hamburger,heartEmpty:t.heartEmpty,heartFull:t.heartFull,helpIcon:t.helpIcon,highlight:t.highlight,imageIcon:t.imageIcon,imports:t.imports,inbox:t.inbox,info:t.info,integrate:t.integrate,invite:t.invite,italicIcon:t.italicIcon,link:t.link,linuxLogo:t.linuxLogo,lock:t.lock,lockFine:t.lockFine,login:t.login,logout:t.logout,longArrowRight:t.longArrowRight,macLogo:t.macLogo,mail:t.mail,mediumLogo:t.mediumLogo,memexLogoGrey:t.memexLogoGrey,multiEdit:t.multiEdit,newFeed:t.newFeed,numberedListIcon:t.numberedListIcon,pause:t.pause,pdf:t.pdf,peopleFine:t.peopleFine,personFine:t.personFine,phone:t.phone,pin:t.pin,play:t.play,playFull:t.playFull,plus:t.plus,plusIcon:t.plus,quickActionRibbon:t.quickActionRibbon,readwise:t.readwise,redo:t.redo,reload:t.reload,remove:t.remove,removeX:t.removeX,ribbonOff:t.ribbonOff,ribbonOn:t.ribbonOn,sadFace:t.sadFace,saveIcon:t.saveIcon,searchIcon:t.searchIcon,settings:t.settings,share:t.share,shared:t.shared,sharedProtected:t.sharedProtected,shareEmpty:t.shareEmpty,shield:t.shield,sidebarIcon:t.sidebarIcon,sideBySide:t.sideBySide,slack:t.slack,smileFace:t.smileFace,sort:t.sort,spotifyLogo:t.spotifyLogo,stars:t.stars,stop:t.stop,strikethroughIcon:t.strikethroughIcon,substackLogo:t.substackLogo,sunrise:t.sunrise,tagEmpty:t.tagEmpty,tagFull:t.tagFull,threadIcon:t.threadIcon,timestampIcon:t.timestampIcon,tooltipOff:t.tooltipOff,tooltipOn:t.tooltipOn,trash:t.trash,triangle:t.triangle,twitter:t.twitter,telegram:t.telegram,twitterLogo:t.twitterLogo,blueskyLogo:t.blueskyLogo,twitterThin:t.twitterThin,warning:t.warning,webMonetizationLogo:t.webMonetizationLogo,webMonetizationLogoConfirmed:t.webMonetizationLogoConfirmed,winLogo:t.winLogo,youtubeLogo:t.youtubeLogo,reply:t.reply,openAI:t.openAI,openAIicon:t.openAIicon,bulletPoint:t.bulletPoint,googleLogo:t.googleLogo,sun:t.sun,moon:t.moon,cameraIcon:t.cameraIcon,memexIconDarkMode:t.memexIconDarkMode,memexIconLightMode:t.memexIconLightMode,obsidianLogo:t.obsidianLogo,logseqLogo:t.logseqLogo,rectangleDraw:t.rectangleDraw,local:t.local,key:t.key,spread:t.spread,dragList:t.dragList,memexIconOnly:t.memexIconOnly,browserIcon:t.browserIcon,move:t.move,enter:t.enter}})};var s=n(3),l=n.n(s);const c=e=>a({icons:o,variant:e.variant});function u(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{themeVariant:e}=yield l.a.storage.local.get("themeVariant");return e||"dark"}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const r=10,o="430px",i="__memex-annotation-box-",a=["Summarize this page in 2 paragraphs","Make me a list of the chapters and summarise each","Tell me the key take aways of this","What are the actionable items from this page?","Explain me this page like I am a 5 year old"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(7),l=n(4),c=n(28),u=n.n(c),d=n(99),p=n(12);class f extends r.PureComponent{constructor(){super(...arguments),this.tooltipButtonRef=o.a.createRef(),this.handleArrowKeys=e=>{if("Escape"===e.key&&(this.setState({showTutorialBox:!1}),e.preventDefault(),e.stopPropagation()),"ArrowUp"===e.key){e.preventDefault(),e.stopPropagation();const t=y.findIndex((e=>e.id===this.state.tutorialId));if(t>0){const e=y[t-1].id;this.setState({tutorialId:e})}}else if("ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();const t=y.findIndex((e=>e.id===this.state.tutorialId));if(t<y.length-1){const e=y[t+1].id;this.setState({tutorialId:e})}}},this.state={tutorialOption:"video",showTutorialBox:!1,minimizedMode:!1,tutorialId:"all",iframeLoading:!0},this.renderTutorialBox=()=>{var e;const t=null!==(e=y.find((e=>e.id===this.state.tutorialId)))&&void 0!==e?e:y[0];return t?o.a.createElement(h,{onClick:e=>{e.stopPropagation()}},o.a.createElement(g,null,o.a.createElement(v,{src:`https://tutorials.memex.garden/${t.id}`,onLoad:()=>this.setState({iframeLoading:!1}),iframeLoading:this.state.iframeLoading}),o.a.createElement(p.a,{size:40}))):null},this.renderTutorialContainer=()=>{if(this.state.showTutorialBox||this.props.isHeadless){const e=this.props.getRootElement;return e?u.a.createPortal(o.a.createElement(d.a,{onClickAway:()=>{this.setState({showTutorialBox:!1}),this.props.onTutorialClose()},blockedBackground:!0,centeredElement:!0},this.renderTutorialBox()),e?e():document.body):(console.error("Portal root element is not available"),null)}}}componentDidMount(){this.setState({tutorialId:this.props.tutorialId})}componentWillUpdate(e){null==e.tutorialId&&null!=this.props.tutorialId&&document.addEventListener("keydown",this.handleArrowKeys)}componentWillUnmount(){document.removeEventListener("keydown",this.handleArrowKeys)}componentDidUpdate(e,t,n){e.tutorialId!==this.props.tutorialId&&this.setState({tutorialId:this.props.tutorialId})}render(){return this.props.isHeadless?this.renderTutorialContainer():this.props.isSolo?this.renderTutorialBox():o.a.createElement(m,{ref:this.tooltipButtonRef},o.a.createElement(s.a,{tooltipText:"Tutorial",placement:"bottom",getPortalRoot:this.props.getRootElement},o.a.createElement(l.a,{icon:"helpIcon",heightAndWidth:this.props.iconSize||"20px",padding:this.props.iconPadding,onClick:e=>{e.stopPropagation(),this.setState({showTutorialBox:!this.state.showTutorialBox})}}),this.renderTutorialContainer()))}}const h=a.a.div`
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    height: fit-content;
    height: 600px;
    width: 1000px;
    background: ${e=>e.theme.colors.greyScale1};
    border-radius: 10px;
    border: 1px solid ${e=>e.theme.colors.greyScale2};

    transition: width 0.5s ease-in-out;
`,m=(a.a.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    height: 100%;
    width: fill-available;
`,a.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
`),g=(a.a.div`
    display: flex;
    justify-content: space-between;
    grid-gap: 5px;
    width: 100%;
    padding: revert !important;
    padding: 10px 15px !important;
    width: fill-available;
    > div {
        flex: 1;
    }
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    width: fill-available;
    padding: revert !important;
    padding: 10px 20px !important;
    height: 100%;
    overflow: scroll;

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;
`,a.a.div`
    font-size: 18px;
    font-weight: 800;
    background: ${e=>e.theme.colors.headerGradient};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    width: fill-available;
    text-align: left;
    display: flex;
    align-items: center;
    grid-gap: 10px;
`,a.a.div`
    font-size: 16px;
    font-weight: 500;
    color: ${e=>e.theme.colors.greyScale5};
    width: fill-available;
    text-align: left;
`,a.a.iframe`
    width: 100%; // Take the full width of the container
    height: 100%;
    border: none;
    border-radius: 10px;
`,a.a.div`
    width: 100%; // Ensure the container takes the full width of its parent
    position: relative; // Positioning context for the absolute positioned iframe
    padding: revert !important;
    padding-top: 56.25% !important;

    iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
`,a.a.div`
    display: flex;
    flex-direction: column;
    font-size: 14px;
    font-weight: 400;
    color: ${e=>e.theme.colors.greyScale5};
    padding: revert !important;
    margin: revert !important;
    justify-content: flex-start;
    width: 100%;
`,a.a.div`
    display: inline;
    font-weight: 400;
    padding: revert !important;
    margin: revert !important;
    justify-content: flex-start;
    width: 100%;
`,a.a.div`
    display: flex;
    justify-content: flex-end;
    grid-gap: 10px;
`,a.a.div`
    padding: revert !important;
    padding: 20px !important;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    grid-gap: 15px;
    border-bottom: 1px solid ${e=>e.theme.colors.greyScale2};
    width: fill-available;
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    grid-gap: 10px;
    width: fill-available;
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    padding: revert !important;
    padding: 15px !important;
    grid-gap: 5px;
    width: 500px;
    border-right: 1px solid ${e=>e.theme.colors.greyScale2};
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;

    &::-webkit-scrollbar {
        width: 8px; // Width of the scrollbar
    }

    &::-webkit-scrollbar-track {
        background: ${e=>e.theme.colors.greyScale1}; // Background of the scrollbar track
    }

    &::-webkit-scrollbar-thumb {
        background-color: ${e=>e.theme.colors.greyScale4}; // Color of the scrollbar thumb
        border-radius: 10px; // Roundness of the scrollbar thumb
        border: 2px solid ${e=>e.theme.colors.greyScale1}; // Padding around the scrollbar thumb
    }

    scrollbar-width: thin; // For Firefox
    scrollbar-color: ${e=>e.theme.colors.greyScale4}
        ${e=>e.theme.colors.greyScale1}; // For Firefox
`,a.a.div`
    display: flex;

    font-size: 16px;
    font-weight: 300;
    color: ${e=>e.theme.colors.greyScale6};
    width: fill-available;
    text-align: left;
    grid-gap: 10px;
    min-height: 50px;
    height: fit-content;
    align-items: center;
    justify-content: flex-start;
    padding: revert !important;
    padding: 5px 10px !important;
    cursor: pointer;

    &:hover {
        cursor: pointer;
        background: ${e=>e.theme.colors.black};
        border-radius: 5px;
    }

    ${e=>e.selected&&i.css`
            background: ${e=>e.theme.colors.greyScale2};
            border-radius: 5px;
        `}
`,a.a.iframe`
    border: none;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    border: 1px solid ${e=>e.theme.colors.greyScale2};
`,a.a.span`
    display: inline-block;
    align-items: center;
    justify-content: center;
    padding: revert !important;
    padding: 0px 5px !important;
    vertical-align: top;
`,a.a.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    align-items: flex-start;
    color: ${e=>e.theme.colors.greyScale7};
    font-size: 16px;
    font-weight: 400;
    padding: revert !important;
    padding-bottom: 50px !important;
`,a.a.div``,a.a.ul`
    padding: revert !important;
    margin-top: 5px !important;
`,a.a.ol`
    padding: revert !important;
    margin-top: 5px !important;
`,a.a.li`
    padding: revert !important;
    padding-top: 10px !important;
    line-height: 28px;

    &:first-child {
        padding-top: 5px !important;
    }

    a {
        color: ${e=>e.theme.colors.prime1};
        text-decoration: underline;
    }
    strong {
        color: ${e=>e.theme.colors.white};
        font-weight: 500;
    }
    code {
        color: ${e=>e.theme.colors.warning};
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 5px;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        font-weight: 300;
        margin-left: 5px;
        padding: 0 5px;
        white-space: nowrap;
    }
`,a.a.div`
    font-weight: 300;
    padding-top: 30px !important;
    padding-bottom: 10px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 22px;
`,a.a.div`
    font-weight: 300;
    padding-top: 20px !important;
    padding-bottom: 10px;
    color: ${e=>e.theme.colors.greyScale5};
    font-size: 18px;
`,a.a.div`
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    position: relative;
    border-radius: 12px;
    overflow: hidden;
`),v=a.a.iframe`
    height: 100%;
    width: 100%;
    border: none;
    position: absolute;
    z-index: 1;

    ${e=>e.iframeLoading&&i.css`
            z-index: -1;
        `}
`,y=[{id:"memexBasics",videoUrl:"https://share.descript.com/embed/EHlzd48P5pw",title:"Getting the basics",subTitle:"The minimum things you need to navigate Memex and get the basics",icon:"memexIconOnly"},{id:"savePages",videoUrl:"https://share.descript.com/embed/EHlzd48P5pw",title:"Quick Save & Search",subTitle:"How to quickly save anything and find it again with our full-text search",icon:"heartEmpty"},{id:"organiseSpaces",videoUrl:"https://share.descript.com/embed/nUlrcgejwj8",title:"Organise & Share Spaces",subTitle:"Organise things with Spaces. Share or collaboratively curate them with others",icon:"plus"},{id:"annotatePages",videoUrl:"https://share.descript.com/embed/RU3qtAJZyYj",title:"Annotating Pages",subTitle:"Highlight & annotate websites & PDFs",icon:"highlight"},{id:"saveImages",videoUrl:"https://share.descript.com/embed/l0gxoMKTz1E",title:"Working with Images",subTitle:"How to add images to note, or save images from the web",icon:"imageIcon"},{id:"askAI",videoUrl:"https://share.descript.com/embed/pmUXKxzOypM",title:"Summarize & Ask AI",subTitle:"How to use our AI to summarize articles, videos and PDFs",icon:"stars"},{id:"sharePages",videoUrl:"https://share.descript.com/embed/kMfmY5y0h6M",title:"Share annotated pages",subTitle:"Export or share annotated pages with people who do not use Memex",icon:"copy"},{id:"useMobileApp",videoUrl:"https://share.descript.com/embed/Se7kr5yR4ZD",title:"Memex on iOS & Android",subTitle:"Save, annotate & summarise websites & videos on mobile",icon:"phone"},{id:"annotatePDFs",videoUrl:"https://share.descript.com/embed/DikJKfzZqyo",title:"Annotate & Share PDFs",subTitle:"Take notes on and share url-based or local PDFs with others",icon:"filePDF"},{id:"annotateVideos",videoUrl:"https://share.descript.com/embed/ex9smd7BmLt",title:"Video Annotations & Summaries",subTitle:"Annotate, Summarize, Snapshot and take notes on videos",icon:"play"},{id:"useTemplates",videoUrl:"https://share.descript.com/embed/l8j4DPdO0nf",title:"Copy & Paste Templates",subTitle:"Use custom templates to export saved pages and notes",icon:"copy"},{id:"syncWithObsidianLogseq",videoUrl:"https://share.descript.com/embed/ycYm6EaL6oV",title:"Sync to Obsidian & Logseq",subTitle:"Live sync saved pages, notes and Spaces to Obsidian and Logseq",icon:"reload"}]},function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g}));n(2);var r=n(11),o=n(16),i=n.n(o);n(29),n(235);function a(e){return e.public?e.protected?r.a.SHARED_PROTECTED:r.a.SHARED:e.protected?r.a.PROTECTED:r.a.PRIVATE}function s(e){return{protected:e===r.a.PROTECTED||e===r.a.SHARED_PROTECTED,public:e===r.a.SHARED||e===r.a.SHARED_PROTECTED}}function l(){let e="staging";return e="production",function(e){if("production"===e)return"https://memex.social";if("staging"===e)return"https://staging.memex.social";return"http://localhost:3000"}(e)}function c(e){const t=e.collaborationKey?`?key=${e.collaborationKey}`:"";return`${l()}/c/${e.remoteListId}${t}`}function u(e){return`${l()}/p/${e.remotePageInfoId}`}function d(e){const t=e.collaborationKey?`?key=${e.collaborationKey}`:"";return`/c/${e.remoteListId}/p/${e.remoteListEntryId}${t}`}function p(e){return`${l()}/a/${e.remoteAnnotationId}`}function f(){return`${l()}/feed`}const h=(e=new Date)=>i()(e).format("MMMM Do YYYY, h:mma"),m=(...e)=>e.filter((e=>null!=e)).map((e=>e.toString())).reduce(((e,t)=>`${e}${e.length?",":""}${t}`),""),g=(e,t)=>{if(!(null==e?void 0:e.length))return[];const n=e.split(",");return"string"===t?n:n.map((e=>Number(e)))}},function(e,t,n){var r=n(367),o=n(372);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(96),o=n(368),i=n(369),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function s(e){var t=u();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},l(e)}function c(e,t,n){return c=u()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o},c.apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===f(i)?i:String(i)),r)}var o,i}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=n(616);function y(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var a=0;o.text[a]==i.text[a];a++)n++;return n}if(o.content.size||i.content.size){var s=y(o.content,i.content,n+1);if(null!=s)return s}n+=o.nodeSize}else n+=o.nodeSize}}function b(e,t,n,r){for(var o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var a=e.child(--o),s=t.child(--i),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){for(var c=0,u=Math.min(a.text.length,s.text.length);c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){var d=b(a.content,s.content,n-1,r-1);if(d)return d}n-=l,r-=l}else n-=l,r-=l}}var w=function(){function e(t,n){if(h(this,e),this.content=t,this.size=n||0,null==n)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize}return g(e,[{key:"nodesBetween",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=0,a=0;a<t;i++){var s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o||null,i)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),n,r+c)}a=l}}},{key:"descendants",value:function(e){this.nodesBetween(0,this.size,e)}},{key:"textBetween",value:function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,s){var l=a.isText?a.text.slice(Math.max(e,s)-s,t-s):a.isLeaf?r?"function"==typeof r?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&n&&(i?i=!1:o+=n),o+=l}),0),o}},{key:"append",value:function(t){if(!t.size)return this;if(!this.size)return t;var n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new e(o,this.size+t.size)}},{key:"cut",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==t&&n==this.size)return this;var r=[],o=0;if(n>t)for(var i=0,a=0;a<n;i++){var s=this.content[i],l=a+s.nodeSize;l>t&&((a<t||l>n)&&(s=s.isText?s.cut(Math.max(0,t-a),Math.min(s.text.length,n-a)):s.cut(Math.max(0,t-a-1),Math.min(s.content.size,n-a-1))),r.push(s),o+=s.nodeSize),a=l}return new e(r,o)}},{key:"cutByIndex",value:function(t,n){return t==n?e.empty:0==t&&n==this.content.length?this:new e(this.content.slice(t,n))}},{key:"replaceChild",value:function(t,n){var r=this.content[t];if(r==n)return this;var o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new e(o,i)}},{key:"addToStart",value:function(t){return new e([t].concat(this.content),this.size+t.nodeSize)}},{key:"addToEnd",value:function(t){return new e(this.content.concat(t),this.size+t.nodeSize)}},{key:"eq",value:function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}},{key:"maybeChild",value:function(e){return this.content[e]||null}},{key:"forEach",value:function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}}},{key:"findDiffStart",value:function(e){return y(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"findDiffEnd",value:function(e){return b(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0==e)return k(0,e);if(e==this.size)return k(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?k(n+1,o):k(n,r);r=o}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new e(n.map(t.nodeFromJSON))}},{key:"fromArray",value:function(t){if(!t.length)return e.empty;for(var n,r=0,o=0;o<t.length;o++){var i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new e(n||t,r)}},{key:"from",value:function(t){if(!t)return e.empty;if(t instanceof e)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new e([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),e}();w.empty=new w([],0);var x={index:0,offset:0};function k(e,t){return x.index=e,x.offset=t,x}function S(e,t){if(e===t)return!0;if(!e||"object"!=f(e)||!t||"object"!=f(t))return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!S(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!S(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}var E=function(){function e(t,n){h(this,e),this.type=t,this.attrs=n}return g(e,[{key:"addToSet",value:function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}},{key:"eq",value:function(e){return this==e||this.type==e.type&&S(this.attrs,e.attrs)}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));return n.create(t.attrs)}},{key:"sameSet",value:function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}},{key:"setFrom",value:function(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];var n=t.slice();return n.sort((function(e,t){return e.type.rank-t.type.rank})),n}}]),e}();E.none=[];var C=function(e){a(n,e);var t=s(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n)}(l(Error)),A=function(){function e(t,n,r){h(this,e),this.content=t,this.openStart=n,this.openEnd=r}return g(e,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(t,n){var r=I(this.content,t+this.openStart,n);return r&&new e(r,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(t,n){return new e(O(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;var r=n.openStart||0,o=n.openEnd||0;if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new e(w.fromJSON(t,n.content),r,o)}},{key:"maxOpen",value:function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0,o=0,i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(var a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)o++;return new e(t,r,o)}}]),e}();function O(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,a=e.maybeChild(o),s=e.findIndex(n),l=s.index,c=s.offset;if(i==t||a.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy(O(a.content,t-i-1,n-i-1)))}function I(e,t,n,r){var o=e.findIndex(t),i=o.index,a=o.offset,s=e.maybeChild(i);if(a==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var l=I(s.content,t-a-1,n);return l&&e.replaceChild(i,s.copy(l))}function D(e,t,n){if(n.openStart>e.depth)throw new C("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new C("Inconsistent open depths");return M(e,t,n,0)}function M(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var a=M(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var s=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(w.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return L(i,N(e,s.start,s.end,t,r))}var l=e.parent,c=l.content;return L(l,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}return L(i,j(e,t,r))}function T(e,t){if(!t.type.compatibleContent(e.type))throw new C("Cannot join "+t.type.name+" onto "+e.type.name)}function _(e,t,n){var r=e.node(n);return T(r,t.node(n)),r}function R(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function P(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(R(e.nodeAfter,r),i++));for(var s=i;s<a;s++)R(o.child(s),r);t&&t.depth==n&&t.textOffset&&R(t.nodeBefore,r)}function L(e,t){return e.type.checkContent(t),e.copy(t)}function N(e,t,n,r,o){var i=e.depth>o&&_(e,t,o+1),a=r.depth>o&&_(n,r,o+1),s=[];return P(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(T(i,a),R(L(i,N(e,t,n,r,o+1)),s)):(i&&R(L(i,j(e,t,o+1)),s),P(t,n,o,s),a&&R(L(a,j(n,r,o+1)),s)),P(r,null,o,s),new w(s)}function j(e,t,n){var r=[];(P(null,e,n,r),e.depth>n)&&R(L(_(e,t,n+1),j(e,t,n+1)),r);return P(t,null,n,r),new w(r)}A.empty=new A(w.empty,0,0);var B=function(){function e(t,n,r){h(this,e),this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}return g(e,[{key:"resolveDepth",value:function(e){return null==e?this.depth:e<0?this.depth+e:e}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(e){return this.path[3*this.resolveDepth(e)]}},{key:"index",value:function(e){return this.path[3*this.resolveDepth(e)+1]}},{key:"indexAfter",value:function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}},{key:"start",value:function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}},{key:"end",value:function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}},{key:"before",value:function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}},{key:"after",value:function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}},{key:"nodeBefore",get:function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}},{key:"posAtIndex",value:function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r}},{key:"marks",value:function(){var e=this.parent,t=this.index();if(0==e.content.size)return E.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i}},{key:"marksAcross",value:function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}},{key:"sharedDepth",value:function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}},{key:"blockRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new H(this,e,n);return null}},{key:"sameParent",value:function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}},{key:"max",value:function(e){return e.pos>this.pos?e:this}},{key:"min",value:function(e){return e.pos<this.pos?e:this}},{key:"toString",value:function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}}],[{key:"resolve",value:function(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],o=0,i=n,a=t;;){var s=a.content.findIndex(i),l=s.index,c=s.offset,u=i-c;if(r.push(a,l,o+c),!u)break;if((a=a.child(l)).isText)break;i=u-1,o+=c+1}return new e(n,r,i)}},{key:"resolveCached",value:function(t,n){for(var r=0;r<F.length;r++){var o=F[r];if(o.pos==n&&o.doc==t)return o}var i=F[z]=e.resolve(t,n);return z=(z+1)%$,i}}]),e}(),F=[],z=0,$=12,H=function(){function e(t,n,r){h(this,e),this.$from=t,this.$to=n,this.depth=r}return g(e,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),e}(),U=Object.create(null),W=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.none;h(this,e),this.type=t,this.attrs=n,this.marks=o,this.content=r||w.empty}return g(e,[{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(e){return this.content.child(e)}},{key:"maybeChild",value:function(e){return this.content.maybeChild(e)}},{key:"forEach",value:function(e){this.content.forEach(e)}},{key:"nodesBetween",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}},{key:"descendants",value:function(e){this.nodesBetween(0,this.content.size,e)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(e,t,n,r){return this.content.textBetween(e,t,n,r)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}},{key:"sameMarkup",value:function(e){return this.hasMarkup(e.type,e.attrs,e.marks)}},{key:"hasMarkup",value:function(e,t,n){return this.type==e&&S(this.attrs,t||e.defaultAttrs||U)&&E.sameSet(this.marks,n||E.none)}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}},{key:"mark",value:function(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}},{key:"cut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return A.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new A(s,r.depth-i,o.depth-i)}},{key:"replace",value:function(e,t,n){return D(this.resolve(e),this.resolve(t),n)}},{key:"nodeAt",value:function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}}},{key:"childAfter",value:function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}}},{key:"childBefore",value:function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}},{key:"resolve",value:function(e){return B.resolveCached(this,e)}},{key:"resolveNoCache",value:function(e){return B.resolve(this,e)}},{key:"rangeHasMark",value:function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),q(this.marks,e)}},{key:"contentMatchAt",value:function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}},{key:"canReplace",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0}},{key:"canReplaceWith",value:function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}},{key:"canAppend",value:function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}},{key:"check",value:function(){this.type.checkContent(this.content);for(var e=E.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!E.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((function(e){return e.type.name}))));this.content.forEach((function(e){return e.check()}))}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=w.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}]),e}();W.prototype.text=void 0;var V=function(e){a(n,e);var t=s(n);function n(e,r,o,i){var a;if(h(this,n),a=t.call(this,e,r,null,i),!o)throw new RangeError("Empty text nodes are not allowed");return a.text=o,a}return g(n,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):q(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(e,t){return this.text.slice(e,t)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(e){return e==this.marks?this:new n(this.type,this.attrs,this.text,e)}},{key:"withText",value:function(e){return e==this.text?this:new n(this.type,this.attrs,e,this.marks)}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}},{key:"eq",value:function(e){return this.sameMarkup(e)&&this.text==e.text}},{key:"toJSON",value:function(){var e=i(p(n.prototype),"toJSON",this).call(this);return e.text=this.text,e}}]),n}(W);function q(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var G=function(){function e(t){h(this,e),this.validEnd=t,this.next=[],this.wrapCache=[]}return g(e,[{key:"matchType",value:function(e){for(var t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}},{key:"matchFragment",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}},{key:"inlineContent",get:function(){return 0!=this.next.length&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var e=0;e<this.next.length;e++){var t=this.next[e].type;if(!t.isText&&!t.hasRequiredAttrs())return t}return null}},{key:"compatible",value:function(e){for(var t=0;t<this.next.length;t++)for(var n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}},{key:"fillBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function o(i,a){var s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return w.from(a.map((function(e){return e.createAndFill()})));for(var l=0;l<i.next.length;l++){var c=i.next[l],u=c.type,d=c.next;if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var p=o(d,a.concat(u));if(p)return p}}return null}(this,[])}},{key:"findWrapping",value:function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}},{key:"computeWrapping",value:function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<o.next.length;s++){var l=o.next[s],c=l.type,u=l.next;c.isLeaf||c.hasRequiredAttrs()||c.name in t||r.type&&!u.validEnd||(n.push({match:c.contentMatch,type:c,via:r}),t[c.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}},{key:"toString",value:function(){var e=[];return function t(n){e.push(n);for(var r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r})).join("\n")}}],[{key:"parse",value:function(t,n){var r=new Y(t,n);if(null==r.next)return e.empty;var o=K(r);r.next&&r.err("Unexpected trailing text");var i=ne(function(e){var t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"!=e.type){if("star"==e.type){var a=n();return r(t,a),o(i(e.expr,a),a),[r(a)]}if("plus"==e.type){var s=n();return o(i(e.expr,t),s),o(i(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){for(var l=t,c=0;c<e.min;c++){var u=n();o(i(e.expr,l),u),l=u}if(-1==e.max)o(i(e.expr,l),l);else for(var d=e.min;d<e.max;d++){var p=n();r(l,p),o(i(e.expr,l),p),l=p}return[r(l)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(var f=0;;f++){var h=i(e.exprs[f],t);if(f==e.exprs.length-1)return h;o(h,t=n())}}}(o));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s++){var l=o.next[s],c=l.type,u=l.next;a.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i}}]),e}();G.empty=new G(!0);var Y=function(){function e(t,n){h(this,e),this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}return g(e,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(e){return this.next==e&&(this.pos++||!0)}},{key:"err",value:function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}]),e}();function K(e){var t=[];do{t.push(J(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function J(e){var t=[];do{t.push(X(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function X(e){for(var t=function(e){if(e.eat("(")){var t=K(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Z(e,t)}return t}function Q(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function Z(e,t){var n=Q(e),r=n;return e.eat(",")&&(r="}"!=e.next?Q(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ee(e,t){return t-e}function te(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,l=a.to;s||-1!=n.indexOf(l)||t(l)}}(t),n.sort(ee)}function ne(e){var t=Object.create(null);return function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){for(var i,a=0;a<o.length;a++)o[a][0]==n&&(i=o[a][1]);te(e,r).forEach((function(e){i||o.push([n,i=[]]),-1==i.indexOf(e)&&i.push(e)}))}}))}));for(var i=t[r.join(",")]=new G(r.indexOf(e.length-1)>-1),a=0;a<o.length;a++){var s=o[a][1].sort(ee);i.next.push({type:o[a][0],next:t[s.join(",")]||n(s)})}return i}(te(e,0))}function re(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function oe(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function ie(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new se(e[n]);return t}var ae=function(){function e(t,n,r){h(this,e),this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=ie(r.attrs),this.defaultAttrs=re(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}return g(e,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==G.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(e){return this==e||this.contentMatch.compatible(e.contentMatch)}},{key:"computeAttrs",value:function(e){return!e&&this.defaultAttrs?this.defaultAttrs:oe(this.attrs,e)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new W(this,this.computeAttrs(e),w.from(t),E.setFrom(n))}},{key:"createChecked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=w.from(t),this.checkContent(t),new W(this,this.computeAttrs(e),t,E.setFrom(n))}},{key:"createAndFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),(t=w.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t),i=o&&o.fillBefore(w.empty,!0);return i?new W(this,e,t.append(i),E.setFrom(n)):null}},{key:"validContent",value:function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}},{key:"checkContent",value:function(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}},{key:"allowsMarkType",value:function(e){return null==this.markSet||this.markSet.indexOf(e)>-1}},{key:"allowsMarks",value:function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}},{key:"allowedMarks",value:function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:E.none:e}}],[{key:"compile",value:function(t,n){var r=Object.create(null);t.forEach((function(t,o){return r[t]=new e(t,n,o)}));var o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}]),e}(),se=function(){function e(t){h(this,e),this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}return g(e,[{key:"isRequired",get:function(){return!this.hasDefault}}]),e}(),le=function(){function e(t,n,r,o){h(this,e),this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=ie(o.attrs),this.excluded=null;var i=re(this.attrs);this.instance=i?new E(this,i):null}return g(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new E(this,oe(this.attrs,e))}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]}},{key:"excludes",value:function(e){return this.excluded.indexOf(e)>-1}}],[{key:"compile",value:function(t,n){var r=Object.create(null),o=0;return t.forEach((function(t,i){return r[t]=new e(t,o++,n,i)})),r}}]),e}(),ce=function(){function e(t){h(this,e),this.cached=Object.create(null);var n=this.spec={};for(var r in t)n[r]=t[r];n.nodes=v.from(t.nodes),n.marks=v.from(t.marks||{}),this.nodes=ae.compile(this.spec.nodes,this),this.marks=le.compile(this.spec.marks,this);var o=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var a=this.nodes[i],s=a.spec.content||"",l=a.spec.marks;a.contentMatch=o[s]||(o[s]=G.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet="_"==l?null:l?ue(this,l.split(" ")):""!=l&&a.inlineContent?null:[]}for(var c in this.marks){var u=this.marks[c],d=u.spec.excludes;u.excluded=null==d?[u]:""==d?[]:ue(this,d.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return g(e,[{key:"node",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof ae))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}},{key:"text",value:function(e,t){var n=this.nodes.text;return new V(n,n.defaultAttrs,e,E.setFrom(t))}},{key:"mark",value:function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}},{key:"nodeFromJSON",value:function(e){return W.fromJSON(this,e)}},{key:"markFromJSON",value:function(e){return E.fromJSON(this,e)}},{key:"nodeType",value:function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}]),e}();function ue(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var s in e.marks){var l=e.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}var de=function(){function e(t,n){var r=this;h(this,e),this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach((function(e){e.tag?r.tags.push(e):e.style&&r.styles.push(e)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}return g(e,[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new ve(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}},{key:"parseSlice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new ve(this,t,!0);return n.addAll(e,t.from,t.to),A.maxOpen(n.finish())}},{key:"matchTag",value:function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(ye(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i||void 0}return o}}}},{key:"matchStyle",value:function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o],a=i.style;if(!(0!=a.indexOf(e)||i.context&&!n.matchesContext(i.context)||a.length>e.length&&(61!=a.charCodeAt(e.length)||a.slice(e.length+1)!=t))){if(i.getAttrs){var s=i.getAttrs(t);if(!1===s)continue;i.attrs=s||void 0}return i}}}}],[{key:"schemaRules",value:function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=be(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)}))};for(var o in e.marks)r(o);var i=function(t){var r=e.nodes[t].spec.parseDOM;r&&r.forEach((function(e){n(e=be(e)),e.node||e.ignore||e.mark||(e.node=t)}))};for(var a in e.nodes)i(a);return t}},{key:"fromSchema",value:function(t){return t.cached.domParser||(t.cached.domParser=new e(t,e.schemaRules(t)))}}]),e}(),pe={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},fe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},he={ol:!0,ul:!0};function me(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}var ge=function(){function e(t,n,r,o,i,a,s){h(this,e),this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=o,this.solid=i,this.options=s,this.content=[],this.activeMarks=E.none,this.stashMarks=[],this.match=a||(4&s?null:t.contentMatch)}return g(e,[{key:"findWrapping",value:function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(w.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}},{key:"finish",value:function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];if(n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))){var r=n;n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-t[0].length))}}var o=w.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(w.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o}},{key:"popFromStashMark",value:function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}},{key:"applyPending",value:function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):we(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}},{key:"inlineContext",value:function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pe.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}]),e}(),ve=function(){function e(t,n,r){h(this,e),this.parser=t,this.options=n,this.isOpen=r,this.open=0;var o,i=n.topNode,a=me(null,n.preserveWhitespace,0)|(r?4:0);o=i?new ge(i.type,i.attrs,E.none,E.none,!0,n.topMatch||i.type.contentMatch,a):new ge(r?null:t.schema.topNodeType,null,E.none,E.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}return g(e,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}},{key:"withStyleRules",value:function(e,t){var n=e.getAttribute("style");if(!n)return t();var o=this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(n));if(o){for(var i=r(o,2),a=i[0],s=i[1],l=this.top,c=0;c<s.length;c++)this.removePendingMark(s[c],l);for(var u=0;u<a.length;u++)this.addPendingMark(a[u]);t();for(var d=0;d<a.length;d++)this.removePendingMark(a[d],l);for(var p=0;p<s.length;p++)this.addPendingMark(s[p])}}},{key:"addTextNode",value:function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}},{key:"addElement",value:function(e,t){var n,r=this,o=e.nodeName.toLowerCase();he.hasOwnProperty(o)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&he.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:fe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);var a,s=this.top,l=this.needsBlock;if(pe.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);i&&i.skip?this.addAll(e):this.withStyleRules(e,(function(){return r.addAll(e)})),a&&this.sync(s),this.needsBlock=l}else this.withStyleRules(e,(function(){r.addElementByRule(e,i,!1===i.consuming?n:void 0)}))}},{key:"leafFallback",value:function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}},{key:"ignoreFallback",value:function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}},{key:"readStyles",value:function(e){for(var t=this,n=E.none,r=E.none,o=0;o<e.length;o+=2)for(var i,a=function(i){var a=t.parser.matchStyle(e[o],e[o+1],t,i);return a?a.ignore?{v:null}:(a.clearMark?t.top.pendingMarks.concat(t.top.activeMarks).forEach((function(e){a.clearMark(e)&&(r=e.addToSet(r))})):n=t.parser.schema.marks[a.mark].create(a.attrs).addToSet(n),!1!==a.consuming?(s=i,0):void(s=i=a)):(s=i,0)},s=void 0;0!==(i=a(s));)if(i)return i.v;return[n,r]}},{key:"addElementByRule",value:function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var l=e;"string"==typeof t.contentElement?l=e.querySelector(t.contentElement):"function"==typeof t.contentElement?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}r&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}},{key:"addAll",value:function(e,t,n){for(var r=t||0,o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}},{key:"findPlace",value:function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0}},{key:"insertNode",value:function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}},{key:"enter",value:function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}},{key:"enterInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);var i=me(e,r,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new ge(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}},{key:"closeExtra",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}},{key:"sync",value:function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}},{key:"findAtPoint",value:function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}},{key:"findInside",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}},{key:"findAround",value:function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}},{key:"findInText",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}},{key:"matchesContext",value:function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1);return function e(a,s){for(;a>=0;a--){var l=n[a];if(""==l){if(a==n.length-1||0==a)continue;for(;s>=i;s--)if(e(a-1,s))return!0;return!1}var c=s>0||0==s&&o?t.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0}(n.length-1,this.open)}},{key:"textblockFromContext",value:function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}}},{key:"addPendingMark",value:function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}},{key:"removePendingMark",value:function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}}}]),e}();function ye(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function be(e){var t={};for(var n in e)t[n]=e[n];return t}function we(e,t){var n,r=t.schema.nodes,o=function(){var n=r[i];if(!n.allowsMarkType(e))return 0;var o=[];return function e(n){o.push(n);for(var r=0;r<n.edgeCount;r++){var i=n.edge(r),a=i.type,s=i.next;if(a==t)return!0;if(o.indexOf(s)<0&&e(s))return!0}}(n.contentMatch)?{v:!0}:void 0};for(var i in r)if(0!==(n=o())&&n)return n.v}var xe=function(){function e(t,n){h(this,e),this.nodes=t,this.marks=n}return g(e,[{key:"serializeFragment",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;r||(r=Se(n).createDocumentFragment());var o=r,i=[];return e.forEach((function(e){if(i.length||e.marks.length){for(var r=0,a=0;r<i.length&&a<e.marks.length;){var s=e.marks[a];if(t.marks[s.type.name]){if(!s.eq(i[r][0])||!1===s.type.spec.spanning)break;r++,a++}else a++}for(;r<i.length;)o=i.pop()[1];for(;a<e.marks.length;){var l=e.marks[a++],c=t.serializeMark(l,e.isInline,n);c&&(i.push([l,o]),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(t.serializeNodeInner(e,n))})),r}},{key:"serializeNodeInner",value:function(t,n){var r=e.renderSpec(Se(n),this.nodes[t.type.name](t)),o=r.dom,i=r.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return o}},{key:"serializeNode",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}},{key:"serializeMark",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.marks[t.type.name];return o&&e.renderSpec(Se(r),o(t,n))}}],[{key:"renderSpec",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;var o,i=n[0],a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));var s=r?t.createElementNS(r,i):t.createElement(i),l=n[1],c=1;if(l&&"object"==f(l)&&null==l.nodeType&&!Array.isArray(l))for(var u in c=2,l)if(null!=l[u]){var d=u.indexOf(" ");d>0?s.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):s.setAttribute(u,l[u])}for(var p=c;p<n.length;p++){var h=n[p];if(0===h){if(p<n.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var m=e.renderSpec(t,h,r),g=m.dom,v=m.contentDOM;if(s.appendChild(g),v){if(o)throw new RangeError("Multiple content holes");o=v}}return{dom:s,contentDOM:o}}},{key:"fromSchema",value:function(t){return t.cached.domSerializer||(t.cached.domSerializer=new e(this.nodesFromSchema(t),this.marksFromSchema(t)))}},{key:"nodesFromSchema",value:function(e){var t=ke(e.nodes);return t.text||(t.text=function(e){return e.text}),t}},{key:"marksFromSchema",value:function(e){return ke(e.marks)}}]),e}();function ke(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Se(e){return e.document||window.document}t.ContentMatch=G,t.DOMParser=de,t.DOMSerializer=xe,t.Fragment=w,t.Mark=E,t.MarkType=le,t.Node=W,t.NodeRange=H,t.NodeType=ae,t.ReplaceError=C,t.ResolvedPos=B,t.Schema=ce,t.Slice=A},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));const r=10,o="ignore-react-onclickoutside",i="@onboarding-nudges",a={enabled:!0,bookmarksCount:4,youtubeSummaryCount:4,youtubeTimestampCount:0,pageSummaryCount:0},s={bookmarksCount:5,youtubeSummaryCount:5,youtubeTimestampCount:0,pageSummaryCount:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(18);const o=e=>e===r.a.Commenter?"Read & Reply":e===r.a.ReadWrite?"Contribute & Reply":e===r.a.Owner?"Owner":e===r.a.Admin?"Admin":""},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(2);function o(e){i(e)}function i({cb:e,root:t,getChildren:n,strategy:r="bfs"}){const o=[],i=[t];let a=0;for(;i.length;){const t="bfs"===r?i.shift():i.pop();o.push(e(t,a++));const s=n(t);i.push(...s)}return o}function a(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield function({cb:e,root:t,concurrent:n,getChildren:o,strategy:i="bfs"}){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const r=[],a=[t];let s=0;for(;a.length;){const t="bfs"===i?a.shift():a.pop(),l=e(t,s++);r.push(n?l:yield l);const c=yield o(t);a.push(...c)}return Promise.all(r)}))}(e)}))}const s=20231213},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(25);const o="memex-keyboardshortcuts",i=Object(r.a)({key:"alt"}),a={shortcutsEnabled:!0,openDashboardShortcut:i+"+f",toggleSidebarShortcut:i+"+d",toggleHighlightsShortcut:i+"+r",createAnnotationShortcut:i+"+a",copyCurrentLinkShortcut:i+"+l",createHighlightShortcut:i+"+w",createBookmarkShortcut:i+"+q",addToCollectionShortcut:i+"+s",sharePageShortcut:i+"+c",askAIShortcut:i+"+y",addCommentShortcut:i+"+e",toggleSidebarShortcutEnabled:!0,toggleHighlightsShortcutEnabled:!0,askAIShortcutEnabled:!0,createAnnotationShortcutEnabled:!0,createBookmarkShortcutEnabled:!0,createHighlightShortcutEnabled:!0,copyCurrentLinkShortcutEnabled:!0,addToCollectionShortcutEnabled:!0,addCommentShortcutEnabled:!0,openDashboardShortcutEnabled:!0,sharePageShortcutEnabled:!0}},function(e,t,n){var r=n(40).Symbol;e.exports=r},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(200);class c extends i.a.Component{constructor(){super(...arguments),this.options={capture:!0},this.options2={capture:!0,once:!0},this.handleRef=e=>{var t;this.thisNode=e,this.rootNode=null===(t=null==e?void 0:e.getRootNode)||void 0===t?void 0:t.call(e)},this.handleDrag=e=>{const t=this.props.getDocument();t.addEventListener("mousemove",this.hasMouseMoved),t.addEventListener("mouseup",this.cancelMouseMoveTracking)},this.cancelMouseMoveTracking=()=>{const e=this.props.getDocument();e.removeEventListener("mousemove",this.hasMouseMoved),e.removeEventListener("mouseup",this.cancelMouseMoveTracking)},this.hasMouseMoved=e=>{const t=this.props.getDocument();0===e.movementX&&0===e.movementY||(this.handleOutsideShadowDomClick(e),t.removeEventListener("mousemove",this.hasMouseMoved))},this.handleOutsideShadowDomClick=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.props.getDocument(),n=t.getElementById("memex-sidebar-container"),r=t.getElementById("memex-ribbon-container"),o=t.getElementById(l.a);(n||r||o)&&(e.composedPath().includes(n)||e.composedPath().includes(r)||e.composedPath().includes(o)?this.handleClick(e,!1):this.handleClick(e,!0))})),this.handleKeyPress=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if("Escape"===e.key)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.props.onClickAway()})),this.handleClick=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;const r=e.target.classList.contains("hypothesis-highlight");if(this.props.clickThrough||r)return;if(!this.thisNode)return;const o=this.rootNode.querySelectorAll(".clickAwayWrapper"),i=o[o.length-1];if(this.thisNode!==i)return;if(t&&!e.composedPath().includes(this.thisNode))return e.preventDefault(),e.stopPropagation(),this.props.onClickAway();let a=!1;e.composedPath().forEach((e=>{"DIV"===e.nodeName&&(e.classList.contains("PrimaryAction")||e.classList.contains("MemexIcons"))&&(a=!0)}));const s=e.composedPath().includes(this.props.targetElementRef),l=e.composedPath().some((e=>{var t;return null===(t=e.classList)||void 0===t?void 0:t.contains("clickAwayWrapper")}));if(l&&null==this.props.blockedBackground)return null;const c=null===(n=this.thisNode)||void 0===n?void 0:n.firstElementChild;return e.composedPath().includes(this.thisNode)&&null==this.props.blockedBackground||e.composedPath().includes(c)?null:(this.props.passthroughClick||a||this.props.allowDefaultClickOutside?(s||s&&a)&&(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),e.stopPropagation()),this.props.onClickAway())}))}componentDidMount(){var e,t,n,r,o;null===(t=null===(e=this.rootNode)||void 0===e?void 0:e.addEventListener)||void 0===t||t.call(e,this.props.instaClose?"mousedown":"click",this.handleClick,this.options);const i=this.props.getDocument();null===(n=i.addEventListener)||void 0===n||n.call(i,"keydown",this.handleKeyPress,this.options2),null===(r=i.addEventListener)||void 0===r||r.call(i,this.props.instaClose?"mousedown":"click",this.handleOutsideShadowDomClick,this.options),null===(o=i.addEventListener)||void 0===o||o.call(i,"mousedown",this.handleDrag,this.options)}componentWillUnmount(){this.listenerTearDown()}listenerTearDown(){var e;null===(e=this.rootNode)||void 0===e||e.removeEventListener("click",this.handleClick,this.options),this.props.getDocument().removeEventListener("keydown",this.handleKeyPress,this.options2),this.props.getDocument().removeEventListener("mousedown",this.handleDrag,this.options),this.props.getDocument().removeEventListener("mousemove",this.hasMouseMoved)}render(){return i.a.createElement(u,{className:"clickAwayWrapper",ref:this.handleRef,blockedBackground:this.props.blockedBackground,blockedBackgroundTransparent:this.props.blockedBackgroundTransparent,centeredElement:this.props.centeredElement},this.props.children)}}c.defaultProps={getDocument:()=>document};const u=s.a.div`
    display: flex;
    ${e=>e.blockedBackground&&a.css`
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 100vw;
            z-index: 999999999999;
            backdrop-filter: blur(3px);
        `}
    ${e=>e.blockedBackground&&a.css`
            backdrop-filter: unset;
        `}
    ${e=>e.centeredElement&&a.css`
            display: flex;
            justify-content: center;
            align-items: center;
        `}

        * {
        font-family: 'Satoshi', sans-serif;
        font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on,
            'ss04' on, 'liga' off;
    }
`},,,function(e,t,n){"use strict";function r(e,t){let n="";if(t.includes("/k/")){const t=e.getElementsByClassName("peer-title");for(let e of Array.from(t)){e.parentElement.classList.contains("row-title")||(n=e.innerText)}}else if(t.includes("/a/")){const t=e.getElementsByClassName("fullName");for(let e of Array.from(t)){e.parentElement.parentElement.classList.contains("info-row")||(n=e.innerText)}}return n}function o(e){return e.replace("?user=","/#@")}function i(e){let t=e;if(e.includes("?")){const n=new URL(e),r=[];n.searchParams.forEach(((e,t)=>{"user"!==t&&r.push(t)}));for(let e of r)n.searchParams.delete(e);t=n.toString()}return e.includes("/#@")?t=t.replace("/#@","?user="):e.includes("/#-")&&!e.includes("@")?t=t.replace("/#-","?user="):e.includes("/#")&&!e.includes("@")?t=t.replace("/#","?user="):e.includes("#@")&&(t=t.replace("#@","?user=")),t}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(2),o=n(158);const i=(e,t)=>t.runtimeAPI.getURL(o.a)+"?file="+encodeURIComponent(e)+"#pagemode=none",a=(e,t)=>{const n=t.runtimeAPI.getURL(o.a);return e.includes(n)};function s(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=i(e,{runtimeAPI:t.runtimeAPI});yield t.tabsAPI.create({url:n})}))}},,function(e,t,n){var r=n(48),o=n(576),i=n(289),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,f,h=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-h>=u}function w(){var e=o();if(b(e))return x(e);p=setTimeout(w,function(e){var n=t-(e-f);return g?s(n,u-(e-h)):n}(e))}function x(e){return p=void 0,v&&l?y(e):(l=c=void 0,d)}function k(){var e=o(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(w,t),m?y(e):d}(f);if(g)return clearTimeout(p),p=setTimeout(w,t),y(f)}return void 0===p&&(p=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},k.flush=function(){return void 0===p?d:x(o())},k}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i);const s=a.a.div`
    background: linear-gradient(
        221deg,
        rgba(201, 255, 220, 0.4),
        rgba(90, 91, 97, 0.196)
    );
    height: calc(${e=>e.heightAndWidth} + 2px);
    width: calc(${e=>e.heightAndWidth} + 2px);
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 8px;
`,l=a.a.div`
    display: flex;
    background: ${e=>e.theme.colors.greyScale2};
    border-radius: 8px;
    height: ${e=>e.heightAndWidth};
    width: ${e=>e.heightAndWidth};
    display: flex;
    justify-content: center;
    align-items: center;

    ${e=>"light"===e.background&&i.css`
            background-color: ${e=>e.theme.colors.greyScale2};
        `}
    ${e=>e.clickable&&i.css`
            cursor: pointer;
            background: ${e=>e.theme.colors.greyScale2};

            * {
                cursor: pointer;
            }
        `}
`;function c(e){return o.a.createElement(s,{heightAndWidth:e.heightAndWidth},o.a.createElement(l,{heightAndWidth:e.heightAndWidth,background:e.background,onClick:e.onClick,clickable:!!e.onClick},e.children))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h}));var r=n(2),o=n(38),i=n(32),a=n(3),s=n.n(a);const l=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(i.a)(o.f.onboardingFlows[e],o.e.unvisited)})),c=(e,t)=>Object(i.b)(o.f.onboardingFlows[e],t),u=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const e=o.f.onboardingFlows,t=yield s.a.storage.local.get(Object.values(e));return{annotationStage:t[e.annotation],powerSearchStage:t[e.powerSearch],taggingStage:t[e.tagging],backupStage:t[e.backup]}})),d=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){yield l(o.b.powerSearch)})),p=(e=window.location)=>e.href.includes(o.d.NEW_USER),f=()=>({x:window.innerWidth/2,y:window.innerHeight/2-200}),h=()=>window.location.href===o.a},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l}));const r=!0,o="text",i=!0,a="memex_link_highlights",s="memex_link_tooltip",l="memex_link_position"},function(e,t,n){var r=n(115);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),o=n(32),i=n(95),a=n(278);function s(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=yield Object(o.a)(i.b,i.a);return Object(a.c)(e)}))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(0);class i extends o.Component{constructor(e,t={}){if(super(e),this.logic=t.logic,this.logic){this.logic.events.addListener("mutation",(e=>this.processMutation(e)));this.logic.getInitialState()&&(this.state=this.newestState=this.logic.getInitialState())}}processEvent(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!this.logic)throw new Error("Tried to process event in UIElement without logic");const r=yield this.logic.processUIEvent(e,{previousState:this.newestState||this.state,event:t,direct:!0,optional:n&&n.optional});r&&this.processMutation(r)}))}processMutation(e){this.logic&&(this.newestState=this.logic.withMutation(this.newestState||this.state,e),this.setState(this.newestState))}get elementName(){return Object.getPrototypeOf(this).constructor.name}componentDidMount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.logic&&(yield this.processEvent("init",void 0,{optional:!0}))}))}componentWillUnmount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.logic&&(this.logic.events.removeAllListeners(),yield this.processEvent("cleanup",void 0,{optional:!0}))}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>(t.preventDefault(),t.stopPropagation(),e(t))},function(e,t,n){var r=n(88),o=n(50);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(262),o=n(263),i=n(134);e.exports=function(e){return i(e)?r(e):o(e)}},,function(e,t,n){var r=n(219),o=n(139);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?o(n,c,u):r(n,c,u)}return n}},function(e,t,n){var r=n(431),o=n(180),i=n(432),a=n(433),s=n(247),l=n(88),c=n(249),u="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=c(r),g=c(o),v=c(i),y=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=h||o&&w(new o)!=u||i&&w(i.resolve())!=d||a&&w(new a)!=p||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case g:return u;case v:return d;case y:return p;case b:return f}return t}),e.exports=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(39);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return i(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},o(e)}function i(e,t,n){return i=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o},i.apply(null,arguments)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=c();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var h=n(89),m=Math.pow(2,16);function g(e){return 65535&e}var v=function(){function e(t,n,r){d(this,e),this.pos=t,this.delInfo=n,this.recover=r}return f(e,[{key:"deleted",get:function(){return(8&this.delInfo)>0}},{key:"deletedBefore",get:function(){return(5&this.delInfo)>0}},{key:"deletedAfter",get:function(){return(6&this.delInfo)>0}},{key:"deletedAcross",get:function(){return(4&this.delInfo)>0}}]),e}(),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d(this,e),this.ranges=t,this.inverted=n,!t.length&&e.empty)return e.empty}return f(e,[{key:"recover",value:function(e){var t=0,n=g(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/m}(e)}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}},{key:"_map",value:function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;var l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(e<=u){var d=s+r+((l?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return d;var p=e==(t<0?s:u)?null:a/3+(e-s)*m,f=e==s?2:e==u?1:4;return(t<0?e!=s:e!=u)&&(f|=8),new v(d,f,p)}r+=c-l}return n?e+r:new v(e+r,0,null)}},{key:"touches",value:function(e,t){for(var n=0,r=g(t),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>e)break;var l=this.ranges[a+o];if(e<=s+l&&a==3*r)return!0;n+=this.ranges[a+i]-l}return!1}},{key:"forEach",value:function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}}},{key:"invert",value:function(){return new e(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(t){return 0==t?e.empty:new e(t<0?[0,-t,0]:[0,0,t])}}]),e}();y.empty=new y([]);var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;d(this,e),this.maps=t,this.mirror=n,this.from=r,this.to=o}return f(e,[{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new e(this.maps,this.mirror,t,n)}},{key:"copy",value:function(){return new e(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}},{key:"appendMap",value:function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}},{key:"appendMapping",value:function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}},{key:"getMirror",value:function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}},{key:"setMirror",value:function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}},{key:"appendMappingInverted",value:function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}},{key:"invert",value:function(){var t=new e;return t.appendMappingInverted(this),t}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"_map",value:function(e,t,n){for(var r=0,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new v(e,r,null)}}]),e}(),w=Object.create(null),x=function(){function e(){d(this,e)}return f(e,[{key:"getMap",value:function(){return y.empty}},{key:"merge",value:function(e){return null}}],[{key:"fromJSON",value:function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=w[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in w)throw new RangeError("Duplicate use of step JSON ID "+e);return w[e]=t,t.prototype.jsonID=e,t}}]),e}(),k=function(){function e(t,n){d(this,e),this.doc=t,this.failed=n}return f(e,null,[{key:"ok",value:function(t){return new e(t,null)}},{key:"fail",value:function(t){return new e(null,t)}},{key:"fromReplace",value:function(t,n,r,o){try{return e.ok(t.replace(n,r,o))}catch(t){if(t instanceof h.ReplaceError)return e.fail(t.message);throw t}}}]),e}();function S(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var i=e.child(o);i.content.size&&(i=i.copy(S(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return h.Fragment.fromArray(r)}var E=function(e){a(n,e);var t=l(n);function n(e,r,o){var i;return d(this,n),(i=t.call(this)).from=e,i.to=r,i.mark=o,i}return f(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new h.Slice(S(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return k.fromReplace(e,this.from,this.to,i)}},{key:"invert",value:function(){return new C(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(x);x.jsonID("addMark",E);var C=function(e){a(n,e);var t=l(n);function n(e,r,o){var i;return d(this,n),(i=t.call(this)).from=e,i.to=r,i.mark=o,i}return f(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=new h.Slice(S(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))}),e),n.openStart,n.openEnd);return k.fromReplace(e,this.from,this.to,r)}},{key:"invert",value:function(){return new E(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(x);x.jsonID("removeMark",C);var A=function(e){a(n,e);var t=l(n);function n(e,r){var o;return d(this,n),(o=t.call(this)).pos=e,o.mark=r,o}return f(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return k.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return k.fromReplace(e,this.pos,this.pos+1,new h.Slice(h.Fragment.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);if(t){var r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(var o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new n(this.pos,t.marks[o]);return new n(this.pos,this.mark)}}return new O(this.pos,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(x);x.jsonID("addNodeMark",A);var O=function(e){a(n,e);var t=l(n);function n(e,r){var o;return d(this,n),(o=t.call(this)).pos=e,o.mark=r,o}return f(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return k.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return k.fromReplace(e,this.pos,this.pos+1,new h.Slice(h.Fragment.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new A(this.pos,this.mark):this}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(x);x.jsonID("removeNodeMark",O);var I=function(e){a(n,e);var t=l(n);function n(e,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return d(this,n),(i=t.call(this)).from=e,i.to=r,i.slice=o,i.structure=a,i}return f(n,[{key:"apply",value:function(e){return this.structure&&M(e,this.from,this.to)?k.fail("Structure replace would overwrite content"):k.fromReplace(e,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new y([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(e){return new n(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new n(t.pos,Math.max(t.pos,r.pos),this.slice)}},{key:"merge",value:function(e){if(!(e instanceof n)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var t=this.slice.size+e.slice.size==0?h.Slice.empty:new h.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new n(e.from,this.to,t,this.structure)}var r=this.slice.size+e.slice.size==0?h.Slice.empty:new h.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new n(this.from,this.to+(e.to-e.from),r,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(t.from,t.to,h.Slice.fromJSON(e,t.slice),!!t.structure)}}]),n}(x);x.jsonID("replace",I);var D=function(e){a(n,e);var t=l(n);function n(e,r,o,i,a,s){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return d(this,n),(l=t.call(this)).from=e,l.to=r,l.gapFrom=o,l.gapTo=i,l.slice=a,l.insert=s,l.structure=c,l}return f(n,[{key:"apply",value:function(e){if(this.structure&&(M(e,this.from,this.gapFrom)||M(e,this.gapTo,this.to)))return k.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return k.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?k.fromReplace(e,this.from,this.to,n):k.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new y([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(e){var t=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||i>r.pos?null:new n(t.pos,r.pos,o,i,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(t.from,t.to,t.gapFrom,t.gapTo,h.Slice.fromJSON(e,t.slice),t.insert,!!t.structure)}}]),n}(x);function M(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function T(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function _(e){return{type:e,attrs:null}}function R(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function P(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}return null}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.Slice.empty;if(t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return N(o,i,r)?new I(t,n,r):new j(o,i,r).fit()}function N(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}x.jsonID("replaceAround",D);var j=function(){function e(t,n,r){d(this,e),this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=h.Fragment.empty;for(var o=0;o<=t.depth;o++){var i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(var a=t.depth;a>0;a--)this.placed=h.Fragment.from(t.node(a).copy(this.placed))}return f(e,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,a=r.depth,s=o.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var l=new h.Slice(i,a,s);return t>-1?new D(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new I(r.pos,o.pos,l):null}},{key:"findFittable",value:function(){for(var e=this.unplaced.openStart,t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){var o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(var i=1;i<=2;i++)for(var a=1==i?e:this.unplaced.openStart;a>=0;a--)for(var s=null,l=(a?(s=z(this.unplaced.content,a-1).firstChild).content:this.unplaced.content).firstChild,c=this.depth;c>=0;c--){var u=this.frontier[c],d=u.type,p=u.match,f=void 0,m=null;if(1==i&&(l?p.matchType(l.type)||(m=p.fillBefore(h.Fragment.from(l),!1)):s&&d.compatibleContent(s.type)))return{sliceDepth:a,frontierDepth:c,parent:s,inject:m};if(2==i&&l&&(f=p.findWrapping(l.type)))return{sliceDepth:a,frontierDepth:c,parent:s,wrap:f};if(s&&p.matchType(s.type))break}}},{key:"openMore",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=z(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new h.Slice(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}},{key:"dropNode",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=z(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new h.Slice(B(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new h.Slice(B(t,n,1),n,r)}},{key:"placeNodes",value:function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var s=this.unplaced,l=r?r.content:s.content,c=s.openStart-t,u=0,d=[],p=this.frontier[n],f=p.match,m=p.type;if(o){for(a=0;a<o.childCount;a++)d.push(o.child(a));f=f.matchFragment(o)}for(var g=l.size+t-(s.content.size-s.openEnd);u<l.childCount;){var v=l.child(u),y=f.matchType(v.type);if(!y)break;(++u>1||0==c||v.content.size)&&(f=y,d.push($(v.mark(m.allowedMarks(v.marks)),1==u?c:0,u==l.childCount?g:-1)))}var b=u==l.childCount;b||(g=-1),this.placed=F(this.placed,n,h.Fragment.from(d)),this.frontier[n].match=f,b&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,x=l;w<g;w++){var k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=b?0==t?h.Slice.empty:new h.Slice(B(s.content,t-1,1),t-1,g<0?s.openEnd:t-1):new h.Slice(B(s.content,t,u),s.openStart,s.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!H(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r}},{key:"findCloseLevel",value:function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=H(e,t,o,r,i);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=H(e,s,l.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}}},{key:"close",value:function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=F(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e}},{key:"openFrontierNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=F(this.placed,this.depth,h.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}},{key:"closeFrontierNode",value:function(){var e=this.frontier.pop().match.fillBefore(h.Fragment.empty,!0);e.childCount&&(this.placed=F(this.placed,this.frontier.length,e))}}]),e}();function B(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(B(e.firstChild.content,t-1,n)))}function F(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(F(e.lastChild.content,t-1,n)))}function z(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function $(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,$(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(h.Fragment.empty,!0)))),e.copy(r)}function H(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function U(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(U(i.content,t+1,n,r,i)))}if(t>r){var a=o.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(h.Fragment.empty,!0))}return e}function W(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}var V=function(e){a(n,e);var t=l(n);function n(e,r,o){var i;return d(this,n),(i=t.call(this)).pos=e,i.attr=r,i.value=o,i}return f(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return k.fail("No node at attribute step's position");var n=Object.create(null);for(var r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;var o=t.type.create(n,null,t.marks);return k.fromReplace(e,this.pos,this.pos+1,new h.Slice(h.Fragment.from(o),0,t.isLeaf?0:1))}},{key:"getMap",value:function(){return y.empty}},{key:"invert",value:function(e){return new n(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new n(t.pos,t.attr,t.value)}}]),n}(x);x.jsonID("attr",V);var q=function(e){a(n,e);var t=l(n);function n(e,r){var o;return d(this,n),(o=t.call(this)).attr=e,o.value=r,o}return f(n,[{key:"apply",value:function(e){var t=Object.create(null);for(var n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;var r=e.type.create(t,e.content,e.marks);return k.ok(r)}},{key:"getMap",value:function(){return y.empty}},{key:"invert",value:function(e){return new n(this.attr,e.attrs[this.attr])}},{key:"map",value:function(e){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new n(t.attr,t.value)}}]),n}(x);x.jsonID("docAttr",q),t.TransformError=function(e){a(n,e);var t=l(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n)}(o(Error)),t.TransformError=function e(t){var n=Error.call(this,t);return n.__proto__=e.prototype,n},t.TransformError.prototype=Object.create(Error.prototype),t.TransformError.prototype.constructor=t.TransformError,t.TransformError.prototype.name="TransformError";var G=function(){function e(t){d(this,e),this.doc=t,this.steps=[],this.docs=[],this.mapping=new b}return f(e,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(e){var n=this.maybeStep(e);if(n.failed)throw new t.TransformError(n.failed);return this}},{key:"maybeStep",value:function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.Slice.empty,r=L(this.doc,e,t,n);return r&&this.step(r),this}},{key:"replaceWith",value:function(e,t,n){return this.replace(e,t,new h.Slice(h.Fragment.from(n),0,0))}},{key:"delete",value:function(e,t){return this.replace(e,t,h.Slice.empty)}},{key:"insert",value:function(e,t){return this.replaceWith(e,e,t)}},{key:"replaceRange",value:function(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);var o=e.doc.resolve(t),i=e.doc.resolve(n);if(N(o,i,r))return e.step(new I(t,n,r));var a=W(o,e.doc.resolve(n));0==a[a.length-1]&&a.pop();var s=-(o.depth+1);a.unshift(s);for(var l=o.depth,c=o.pos-1;l>0;l--,c--){var u=o.node(l).type.spec;if(u.defining||u.definingAsContext||u.isolating)break;a.indexOf(l)>-1?s=l:o.before(l)==c&&a.splice(1,0,-l)}for(var d,p=a.indexOf(s),f=[],m=r.openStart,g=r.content,v=0;;v++){var y=g.firstChild;if(f.push(y),v==r.openStart)break;g=y.content}for(var b=m-1;b>=0;b--){var w=f[b],x=(d=w.type).spec.defining||d.spec.definingForContent;if(x&&!w.sameMarkup(o.node(Math.abs(s)-1)))m=b;else if(x||!w.type.isTextblock)break}for(var k=r.openStart;k>=0;k--){var S=(k+m+1)%(r.openStart+1),E=f[S];if(E)for(var C=0;C<a.length;C++){var A=a[(C+p)%a.length],O=!0;A<0&&(O=!1,A=-A);var D=o.node(A-1),M=o.index(A-1);if(D.canReplaceWith(M,M,E.type,E.marks))return e.replace(o.before(A),O?i.after(A):n,new h.Slice(U(r.content,0,r.openStart,S),S,r.openEnd))}}for(var T=e.steps.length,_=a.length-1;_>=0&&(e.replace(t,n,r),!(e.steps.length>T));_--){var R=a[_];R<0||(t=o.before(R),n=i.after(R))}}(this,e,t,n),this}},{key:"replaceRangeWith",value:function(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){var o=P(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new h.Slice(h.Fragment.from(r),0,0))}(this,e,t,n),this}},{key:"deleteRange",value:function(e,t){return function(e,t,n){for(var r=e.doc.resolve(t),o=e.doc.resolve(n),i=W(r,o),a=0;a<i.length;a++){var s=i[a],l=a==i.length-1;if(l&&0==s||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),o.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),o.indexAfter(s-1))))return e.delete(r.before(s),o.after(s))}for(var c=1;c<=r.depth&&c<=o.depth;c++)if(t-r.start(c)==r.depth-c&&n>r.end(c)&&o.end(c)-n!=o.depth-c)return e.delete(r.before(c),n);e.delete(t,n)}(this,e,t),this}},{key:"lift",value:function(e,t){return function(e,t,n){for(var r=t.$from,o=t.$to,i=t.depth,a=r.before(i+1),s=o.after(i+1),l=a,c=s,u=h.Fragment.empty,d=0,p=i,f=!1;p>n;p--)f||r.index(p)>0?(f=!0,u=h.Fragment.from(r.node(p).copy(u)),d++):l--;for(var m=h.Fragment.empty,g=0,v=i,y=!1;v>n;v--)y||o.after(v+1)<o.end(v)?(y=!0,m=h.Fragment.from(o.node(v).copy(m)),g++):c++;e.step(new D(l,c,a,s,new h.Slice(u.append(m),d,g),u.size-d,!0))}(this,e,t),this}},{key:"join",value:function(e){return function(e,t,n){var r=new I(t-n,t+n,h.Slice.empty,!0);e.step(r)}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this}},{key:"wrap",value:function(e,t){return function(e,t,n){for(var r=h.Fragment.empty,o=n.length-1;o>=0;o--){if(r.size){var i=n[o].type.contentMatch.matchFragment(r);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=h.Fragment.from(n[o].type.create(n[o].attrs,r))}var a=t.start,s=t.end;e.step(new D(a,s,a,s,new h.Slice(r,0,0),n.length,!0))}(this,e,t),this}},{key:"setBlockType",value:function(e){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=e.steps.length;e.doc.nodesBetween(t,n,(function(t,n){if(t.isTextblock&&!t.hasMarkup(r,o)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){e.clearIncompatible(e.mapping.slice(i).map(n,1),r);var a=e.mapping.slice(i),s=a.map(n,1),l=a.map(n+t.nodeSize,1);return e.step(new D(s,l,s+1,l-1,new h.Slice(h.Fragment.from(r.create(o,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2?arguments[2]:void 0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this}},{key:"setNodeMarkup",value:function(e,t){return function(e,t,n,r,o){var i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);var a=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new D(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new h.Slice(h.Fragment.from(a),0,0),1,!0))}(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0),this}},{key:"setNodeAttribute",value:function(e,t,n){return this.step(new V(e,t,n)),this}},{key:"setDocAttribute",value:function(e,t){return this.step(new q(e,t)),this}},{key:"addNodeMark",value:function(e,t){return this.step(new A(e,t)),this}},{key:"removeNodeMark",value:function(e,t){if(!(t instanceof h.Mark)){var n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new O(e,t)),this}},{key:"split",value:function(e){return function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.doc.resolve(t),i=h.Fragment.empty,a=h.Fragment.empty,s=o.depth,l=o.depth-n,c=n-1;s>l;s--,c--){i=h.Fragment.from(o.node(s).copy(i));var u=r&&r[c];a=h.Fragment.from(u?u.type.create(u.attrs,a):o.node(s).copy(a))}e.step(new I(t,t,new h.Slice(i.append(a),n,n),!0))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0),this}},{key:"addMark",value:function(e,t,n){return function(e,t,n,r){var o,i,a=[],s=[];e.doc.nodesBetween(t,n,(function(e,l,c){if(e.isInline){var u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){for(var d=Math.max(l,t),p=Math.min(l+e.nodeSize,n),f=r.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(o&&o.to==d&&o.mark.eq(u[h])?o.to=p:a.push(o=new C(d,p,u[h])));i&&i.to==d?i.to=p:s.push(i=new E(d,p,r))}}})),a.forEach((function(t){return e.step(t)})),s.forEach((function(t){return e.step(t)}))}(this,e,t,n),this}},{key:"removeMark",value:function(e,t,n){return function(e,t,n,r){var o=[],i=0;e.doc.nodesBetween(t,n,(function(e,a){if(e.isInline){i++;var s=null;if(r instanceof h.MarkType)for(var l,c=e.marks;l=r.isInSet(c);)(s||(s=[])).push(l),c=l.removeFromSet(c);else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length)for(var u=Math.min(a+e.nodeSize,n),d=0;d<s.length;d++){for(var p=s[d],f=void 0,m=0;m<o.length;m++){var g=o[m];g.step==i-1&&p.eq(o[m].style)&&(f=g)}f?(f.to=u,f.step=i):o.push({style:p,from:Math.max(a,t),to:u,step:i})}}})),o.forEach((function(t){return e.step(new C(t.from,t.to,t.style))}))}(this,e,t,n),this}},{key:"clearIncompatible",value:function(e,t,n){return function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,o=e.doc.nodeAt(t),i=[],a=t+1,s=0;s<o.childCount;s++){var l=o.child(s),c=a+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(var d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||e.step(new C(a,c,l.marks[d]));if(l.isText&&!n.spec.code)for(var p=void 0,f=/\r?\n|\r/g,m=void 0;p=f.exec(l.text);)m||(m=new h.Slice(h.Fragment.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),i.push(new I(a+p.index,a+p.index+p[0].length,m))}else i.push(new I(a,c,h.Slice.empty));a=c}if(!r.validEnd){var g=r.fillBefore(h.Fragment.empty,!0);e.replace(a,a,new h.Slice(g,0,0))}for(var v=i.length-1;v>=0;v--)e.step(i[v])}(this,e,t,n),this}}]),e}();t.AddMarkStep=E,t.AddNodeMarkStep=A,t.AttrStep=V,t.DocAttrStep=q,t.MapResult=v,t.Mapping=b,t.RemoveMarkStep=C,t.RemoveNodeMarkStep=O,t.ReplaceAroundStep=D,t.ReplaceStep=I,t.Step=x,t.StepMap=y,t.StepResult=k,t.Transform=G,t.canJoin=function(e,t){var n=e.resolve(t),r=n.index();return R(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)},t.canSplit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=r&&r[l+1];p&&(d=d.replaceChild(0,p.type.create(p.attrs)));var f=r&&r[l]||c;if(!c.canReplace(u+1,c.childCount)||!f.type.validContent(d))return!1}var h=o.indexAfter(i),m=r&&r[0];return o.node(i).canReplaceWith(h,h,m?m.type:o.node(i+1).type)},t.dropPoint=function(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),u=r.node(s),d=!1;if(1==a)d=u.canReplace(c,c,o);else{var p=u.contentMatchAt(c).findWrapping(o.firstChild.type);d=p&&u.canReplaceWith(c,c,p[0])}if(d)return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null},t.findWrapping=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}(r,t);return i?o.map(_).concat({type:t,attrs:n}).concat(i.map(_)):null},t.insertPoint=P,t.joinPoint=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&R(i,a)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}},t.liftTarget=function(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!T(r,o,i))break}return null},t.replaceStep=L},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=r(n(648)),s=r(n(649)),l=n(650),c=n(653),u=n(673),d=n(674),p=r(n(676)),f=r(n(677)),h=r(n(28));function m(e,t){}m.bind(null,"warn"),m.bind(null,"error");function g(){}function v(e,t,n){var r=t.map((function(t){var r=function(e,t){return s({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var y="Invariant failed";function b(e){this.message=e}function w(e,t){if(!e)throw new b(y)}b.prototype.toString=function(){return this.message};var x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=g,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof b&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=v(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof b))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),k=function(e){return e+1},S=function(e,t){var n=e.droppableId===t.droppableId,r=k(e.index),o=k(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},E=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},C=function(e){return"\n  The item has returned to its starting position\n  of "+k(e.index)+"\n"},A="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",O=function(e){return"\n  You have lifted an item in position "+k(e.source.index)+"\n"},I=function(e){var t=e.destination;if(t)return S(e.source,t);var n=e.combine;return n?E(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},D=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+C(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+S(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+E(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+C(e.source)+"\n  "},M={x:0,y:0},T=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},_=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},R=function(e,t){return e.x===t.x&&e.y===t.y},P=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},L=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},N=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},j=function(e,t){return Math.min.apply(Math,t.map((function(t){return N(e,t)})))},B=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},F=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},z=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},$=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=d.getRect({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):d.getRect(e)},H=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?F(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,n){var r;return n&&n.increasedBy?s({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:$(a,o)}},U=function(e,t){e.frame||w(!1);var n=e.frame,r=_(t,n.scroll.initial),o=P(r),i=s({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}}),a=H({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return s({},e,{frame:i,subject:a})};function W(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function V(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function q(e,t){if(e.find)return e.find(t);var n=V(e,t);return-1!==n?e[n]:void 0}var G=p((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Y=p((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),K=p((function(e){return W(e)})),J=p((function(e){return W(e)})),X=p((function(e,t){var n=J(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function Q(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Z(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ee=p((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),te=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ne={point:M,value:0},re={invisible:{},visible:{},all:[]},oe={displaced:re,displacedBy:ne,at:null},ie=function(e,t){return function(n){return e<=n&&n<=t}},ae=function(e){var t=ie(e.top,e.bottom),n=ie(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},se=function(e){var t=ie(e.top,e.bottom),n=ie(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},le={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ce={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ue=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:M;return F(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},de=function(e){return ue(s({},e,{isVisibleThroughFrameFn:ae}))},pe=function(e){return ue(s({},e,{isVisibleThroughFrameFn:se}))};function fe(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return d.getRect(d.expand(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!de({target:s,destination:n,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function he(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:re,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function me(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=te(t,r);if(null==s)return he({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=q(n,(function(e){return e.descriptor.index===s}));if(!u)return he({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=ee(t,n),p=n.indexOf(u);return{displaced:fe({afterDragging:d.slice(p),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function ge(e,t){return Boolean(t.effected[e])}var ve=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||w(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:me({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,o=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var a=o.draggableId,s=r[a].descriptor.index;return ge(a,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==p?null:me({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},ye=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=Z(n);o||w(!1);var i=o.draggableId,a=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return ge(r,n)?i?M:P(o.point):i?o.point:M}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return T(a,s)},be=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},we=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},xe=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return L(t.line,n.marginBox[t.end]+be(t,r),we(t,n.marginBox,r))},ke=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return L(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),we(t,n.marginBox,r))},Se=function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=X(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return L(t.line,n.contentBox[t.start]+be(t,r),we(t,n.contentBox,r))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,p=c.all[0];if(p){var f=r[p];if(ge(p,i))return ke({axis:l,moveRelativeTo:f.page,isMoving:s});var h=d.offset(f.page,u.point);return ke({axis:l,moveRelativeTo:h,isMoving:s})}var m=a[a.length-1];if(m.descriptor.id===n.descriptor.id)return s.borderBox.center;if(ge(m.descriptor.id,i)){var g=d.offset(m.page,P(i.displacedBy.point));return xe({axis:l,moveRelativeTo:g,isMoving:s})}return xe({axis:l,moveRelativeTo:m.page,isMoving:s})},Ee=function(e,t){var n=e.frame;return n?T(t,n.scroll.diff.displacement):t},Ce=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?Se({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):ye({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?Ee(n,t):t},Ae=function(e,t){var n=_(t,e.scroll.initial),r=P(n);return{frame:d.getRect({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Oe(e,t){return e.map((function(e){return t[e]}))}var Ie=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return T(e.scroll.diff.displacement,t)}(e.viewport,t),o=_(r,n.page.borderBox.center);return T(n.client.borderBox.center,o)},De=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,c=_(r,t.page.borderBox.center),u={target:F(t.page.borderBox,c),destination:n,withDroppableDisplacement:i,viewport:o};return l?function(e){return ue(s({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=ie(e.top,e.bottom),r=ie(e.left,e.right);return function(e){return t===le?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):pe(u)},Me=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var d=X(r.descriptor.id,o),p=te(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Q(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return s({},i,{at:t})}var l=i.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var u=ee(n,o);if(!c)return u.length?a(u[u.length-1].descriptor.id):null;var d=V(u,(function(e){return e.descriptor.id===c}));-1===d&&w(!1);var p=d-1;return p<0?null:a(u[p].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:i})||ve({isMovingForward:t,isInHomeList:p,draggable:n,draggables:o,destination:r,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!f)return null;var h=Ce({impact:f,draggable:n,droppable:r,draggables:o,afterCritical:u});if(De({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ie({pageBorderBoxCenter:h,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null};var m=_(h,l),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=Ae(n,T(n.scroll.current,i)),l=r.frame?U(r,T(r.frame.scroll.current,i)):r,c=t.displaced,u=fe({afterDragging:Oe(c.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),d=fe({afterDragging:Oe(c.all,o),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),p={},f={},h=[c,u,d];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:p[e]=!0})),s({},t,{displaced:{all:c.all,invisible:p,visible:f}})}({impact:f,viewport:a,destination:r,draggables:o,maxScrollChange:m});return{clientSelection:c,impact:g,scrollJumpRequest:m}},Te=function(e){var t=e.subject.active;return t||w(!1),t},_e=function(e,t){var n=e.page.borderBox.center;return ge(e.descriptor.id,t)?_(n,t.displacedBy.point):n},Re=function(e,t){var n=e.page.borderBox;return ge(e.descriptor.id,t)?F(n,P(t.displacedBy.point)):n},Pe=p((function(e,t){var n=t[e.line];return{value:n,point:L(e.line,n)}})),Le=function(e,t){return s({},e,{scroll:s({},e.scroll,{max:t})})},Ne=function(e,t,n){var r=e.frame;te(t,e)&&w(!1),e.subject.withPlaceholder&&w(!1);var o=Pe(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return L(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=X(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:L(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var l=H({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return s({},e,{subject:l})}var c=i?T(r.scroll.max,i):r.scroll.max,u=Le(r,c),d=H({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:u});return s({},e,{subject:d,frame:u})},je=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=ie(a[s.start],a[s.end]),c=K(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ae(i.frame)(Te(e))})).filter((function(e){var n=Te(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Te(e),n=ie(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=Te(e)[s.crossAxisStart],o=Te(n)[s.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Te(e)[s.crossAxisStart]===Te(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return ie(Te(e)[s.start],Te(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Te(e)[s.start]-Te(t)[s.start]}))[0]:c.sort((function(e,t){var r=j(n,z(Te(e))),o=j(n,z(Te(t)));return r!==o?r-o:Te(e)[s.start]-Te(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;var u=X(c.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.insideDestination,i=e.afterCritical,a=o.filter((function(e){return pe({target:Re(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=N(t,Ee(r,_e(e,i))),a=N(t,Ee(r,_e(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:re,displacedBy:ne,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Ce({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=te(o,a)?a:Ne(a,o,i);return De({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=(p=n.descriptor.index,n.descriptor.id===o.descriptor.id||f?p:p+1),m=Pe(a.axis,o.displaceBy);return me({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:m,last:re,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!p)return null;var f=Ce({impact:p,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Ie({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:p,scrollJumpRequest:null}},Be=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Fe=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Be(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?Me({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):je({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function ze(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function $e(e){var t=ie(e.top,e.bottom),n=ie(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function He(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=K(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if($e(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=ie(o[i.crossAxisStart],o[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,o=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=L(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:N(o,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}var Ue=function(e,t){return d.getRect(F(e,t))};function We(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Ve=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Ue(n.page.borderBox,t),c=He({pageBorderBox:l,draggable:n,droppables:o});if(!c)return oe;var u=o[c],d=X(u.descriptor.id,r),p=function(e,t){var n=e.frame;return n?Ue(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=Pe(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],p=q(ee(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=ge(t,a),l=We({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o}));return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=Pe(r.axis,n.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:q(ee(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=ge(t,s),o=We({displaced:i,id:t});return r?o?p<=n:d<n-u:o?p<=n+u:d<n})),inHomeList:te(n,r)});return me({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},qe=function(e,t){var n;return s({},e,((n={})[t.descriptor.id]=t,n))},Ge=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=Be(t),i=Be(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||w(!1);var n=e.frame;if(!n){var r=H({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return s({},e,{subject:r})}var o=t.oldFrameMaxScroll;o||w(!1);var i=Le(n,o),a=H({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return s({},e,{subject:a,frame:i})}(a);return qe(r,l)},Ye=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,c=r||t.dimensions,u=n||t.current.client.selection,d=_(u,t.initial.client.selection),p={offset:d,selection:u,borderBoxCenter:T(t.initial.client.borderBoxCenter,d)},f={selection:T(p.selection,l.scroll.current),borderBoxCenter:T(p.borderBoxCenter,l.scroll.current),offset:T(p.offset,l.scroll.diff.value)},h={client:p,page:f};if("COLLECTING"===t.phase)return s({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:h});var m=c.draggables[t.critical.draggable.id],g=i||Ve({pageOffset:f.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),v=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.previousImpact,i=e.impact,a=Ge({previousImpact:o,impact:i,droppables:r}),s=Be(i);if(!s)return a;var l=r[s];if(te(t,l))return a;if(l.subject.withPlaceholder)return a;var c=Ne(l,t,n);return qe(a,c)}({draggable:m,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return s({},t,{current:h,dimensions:{draggables:c.draggables,droppables:v},impact:g,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var Ke=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r),c=fe({afterDragging:l,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a});return s({},t,{displaced:c})},Je=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Ce({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return Ie({pageBorderBoxCenter:s,draggable:n,viewport:i})},Xe=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&w(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Be(o);u||w(!1);var d=l[u],p=Ke({impact:o,viewport:i,destination:d,draggables:s}),f=Je({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Ye({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},Qe=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Pe(n.axis,t.displaceBy),a=X(n.descriptor.id,r),s=a.indexOf(t);-1===s&&w(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:fe({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},Ze=function(e){0},et=function(e){0},tt=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||w(!1),t}(n[t]),a=i.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=d.offset(t.client,n),i=d.withScroll(o,r);return s({},t,{placeholder:s({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:T(o,a),initialWindowScroll:r.scroll.initial});return l}))},nt=function(e){return"SNAP"===e.movementMode},rt=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:qe(e.droppables,t)}}(e.dimensions,t);return!nt(e)||n?Ye({state:e,dimensions:r}):Xe({state:e,dimensions:r})};function ot(e){return e.isDragging&&"SNAP"===e.movementMode?s({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var it={phase:"IDLE",completed:null,shouldFlush:!1},at=function(e,t){if(void 0===e&&(e=it),"FLUSH"===t.type)return s({},it,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&w(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,l=n.movementMode,c=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],d={selection:o,borderBoxCenter:c.client.borderBox.center,offset:M},p={client:d,page:{selection:T(d.selection,i.scroll.initial),borderBoxCenter:T(d.selection,i.scroll.initial),offset:T(d.selection,i.scroll.diff.value)}},f=K(a.droppables).every((function(e){return!e.isFixedOnPage})),h=Qe({draggable:c,home:u,draggables:a.draggables,viewport:i}),m=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:p,current:p,isWindowScrollAllowed:f,impact:m,afterCritical:h.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&w(!1),s({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&w(!1),function(e){var t=e.state,n=e.published;Ze();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return U(n,e.scroll)})),o=s({},t.dimensions.droppables,{},G(r)),i=Y(tt({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=s({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete a[e]}));var l={droppables:o,draggables:a},c=Be(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],f=Qe({draggable:d,home:p,draggables:a,viewport:t.viewport}),h=f.impact,m=f.afterCritical,g=u&&u.isCombineEnabled?t.impact:h,v=Ve({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m});et();var y=s({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?y:s({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;ze(e)||w(!1);var g=t.payload.client;return R(g,e.current.client.selection)?e:Ye({state:e,clientSelection:g,impact:nt(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ot(e);if("COLLECTING"===e.phase)return ot(e);ze(e)||w(!1);var v=t.payload,y=v.id,b=v.newScroll,x=e.dimensions.droppables[y];if(!x)return e;var k=U(x,b);return rt(e,k,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ze(e)||w(!1);var S=t.payload,E=S.id,C=S.isEnabled,A=e.dimensions.droppables[E];A||w(!1),A.isEnabled===C&&w(!1);var O=s({},A,{isEnabled:C});return rt(e,O,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ze(e)||w(!1);var I=t.payload,D=I.id,_=I.isCombineEnabled,P=e.dimensions.droppables[D];P||w(!1),P.isCombineEnabled===_&&w(!1);var L=s({},P,{isCombineEnabled:_});return rt(e,L,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;ze(e)||w(!1),e.isWindowScrollAllowed||w(!1);var N=t.payload.newScroll;if(R(e.viewport.scroll.current,N))return ot(e);var j=Ae(e.viewport,N);return nt(e)?Xe({state:e,viewport:j}):Ye({state:e,viewport:j})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!ze(e))return e;var B=t.payload.maxScroll;if(R(B,e.viewport.scroll.max))return e;var F=s({},e.viewport,{scroll:s({},e.viewport.scroll,{max:B})});return s({phase:"DRAGGING"},e,{viewport:F})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&w(!1);var z=Fe({state:e,type:t.type});return z?Ye({state:e,impact:z.impact,clientSelection:z.clientSelection,scrollJumpRequest:z.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var $=t.payload.reason;return"COLLECTING"!==e.phase&&w(!1),s({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:$})}if("DROP_ANIMATE"===t.type){var H=t.payload,W=H.completed,V=H.dropDuration,q=H.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&w(!1),{phase:"DROP_ANIMATING",completed:W,dropDuration:V,newHomeClientOffset:q,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},st=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},lt=function(){return{type:"COLLECTION_STARTING",payload:null}},ct=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},ut=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},dt=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},pt=function(e){return{type:"MOVE",payload:e}},ft=function(){return{type:"MOVE_UP",payload:null}},ht=function(){return{type:"MOVE_DOWN",payload:null}},mt=function(){return{type:"MOVE_RIGHT",payload:null}},gt=function(){return{type:"MOVE_LEFT",payload:null}},vt=function(e){return{type:"DROP_COMPLETE",payload:e}},yt=function(e){return{type:"DROP",payload:e}},bt=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var wt="cubic-bezier(.2,1,.1,1)",xt={drop:0,combining:.7},kt={drop:.75},St=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Et={fluid:"opacity "+St,snap:"transform "+St+", opacity "+St,drop:function(e){var t=e+"s "+wt;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+St,placeholder:"height "+St+", width "+St+", margin "+St},Ct=function(e){return R(e,M)?null:"translate("+e.x+"px, "+e.y+"px)"},At=Ct,Ot=function(e,t){var n=Ct(e);return n?t?n+" scale("+kt.drop+")":n:null},It=.33,Dt=.55,Mt=Dt-It,Tt=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&w(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&w(!1);var a=o.critical,l=o.dimensions,c=l.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:s({},r,{displaced:re}),didDropInsideDroppable:!0}:{impact:Ke({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=u.impact,p=u.didDropInsideDroppable,f=p?Q(d):null,h=p?Z(d):null,m={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:f,combine:h},v=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,s=r.droppables,l=Be(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=Je({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return _(d,n.client.borderBox.center)}({impact:d,draggable:c,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),y={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:d};if(!R(o.current.client.offset,v)||Boolean(g.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,o=N(t,n);if(o<=0)return It;if(o>=1500)return Dt;var i=It+Mt*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:v,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:v,dropDuration:b,completed:y}))}else n(vt({completed:y}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},_t=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Rt(e){var t=e.onWindowScroll;var n=f((function(){t(_t())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),o=g;function i(){return o!==g}return{start:function(){i()&&w(!1),o=v(window,[r])},stop:function(){i()||w(!1),n.cancel(),o(),o=g},isActive:i}}var Pt=function(e){var t=Rt({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Lt=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=V(e,(function(e){return e.timerId===t}));-1===n&&w(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Nt=function(e,t){Ze(),t(),et()},jt=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Bt=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Ft=function(e,t){var n=function(e,t){var n=Lt(),r=null,o=function(n){r||w(!1),r=null,Nt(0,(function(){return Bt(e().onDragEnd,n,t,D)}))};return{beforeCapture:function(t,n){r&&w(!1),Nt(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&w(!1),Nt(0,(function(){var r=e().onBeforeDragStart;r&&r(jt(t,n))}))},start:function(o,i){r&&w(!1);var a=jt(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((function(){Nt(0,(function(){return Bt(e().onDragStart,a,t,O)}))}))},update:function(o,i){var a=Q(i),l=Z(i);r||w(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(o,r.lastCritical);c&&(r.lastCritical=o);var u,d,p=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));p&&(r.lastLocation=a);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(f&&(r.lastCombine=l),c||p||f){var h=s({},jt(o,r.mode),{combine:l,destination:a});n.add((function(){Nt(0,(function(){return Bt(e().onDragUpdate,h,t,I)}))}))}},flush:function(){r||w(!1),n.flush()},drop:o,abort:function(){if(r){var e=s({},jt(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},zt=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&w(!1),e.dispatch(vt({completed:r.completed}))}else t(n)}}},$t=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=v(window,[i])}))}}}},Ht=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(yt({reason:r.reason})))}}}},Ut=l.compose,Wt=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return l.createStore(at,Ut(l.applyMiddleware((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(vt({completed:c.completed})),"IDLE"!==n().phase&&w(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}})}else t(o)}}}}(n),Tt,zt,$t,Ht,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&w(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(s),Pt,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Ft(i,a))))};var Vt=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=_({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},qt=function(){var e=document.documentElement;return e||w(!1),e},Gt=function(){var e=qt();return Vt({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Yt=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;Ze();var o=function(){var e=_t(),t=Gt(),n=e.y,r=e.x,o=qt(),i=r+o.clientWidth,a=n+o.clientHeight;return{frame:d.getRect({top:n,left:r,right:i,bottom:a}),scroll:{initial:e,current:e,max:t,diff:{value:M,displacement:M}}}}(),i=o.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)})),c={draggables:Y(l),droppables:G(s)};return et(),{dimensions:c,critical:t,viewport:o}};function Kt(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Jt,Xt,Qt=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null,Ze();var e=r,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(M)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},et(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||w(!1);var o=n.critical.draggable;"ADDITION"===t.type&&Kt(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Kt(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||w(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||w(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||w(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&w(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},Yt({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return i},Zt=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},en=function(e){window.scrollBy(e.x,e.y)},tn=p((function(e){return K(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),nn=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){var n=q(tn(t),(function(t){return t.frame||w(!1),$e(t.frame.pageMarginBox)(e)}));return n}(t,r);return i},rn=.25,on=.05,an=28,sn=function(e){return Math.pow(e,2)},ln={stopDampeningAt:1200,accelerateAt:360},cn=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},un=ln.accelerateAt,dn=ln.stopDampeningAt,pn=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return an;if(e===t.startScrollingFrom)return 1;var n=cn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=an*sn(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=dn,o=Date.now()-n;if(o>=dn)return e;if(o<un)return 1;var i=cn({startOfRange:un,endOfRange:r,current:o}),a=e*sn(i);return Math.ceil(a)}(i,r),1):i},fn=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*rn,maxScrollValueAt:e[t.size]*on}}(t,o);return n[o.end]<n[o.start]?pn({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*pn({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},hn=B((function(e){return 0===e?0:e})),mn=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},s=fn({container:n,distanceToEdges:a,dragStartTime:t,axis:le,shouldUseTimeDampening:i}),l=fn({container:n,distanceToEdges:a,dragStartTime:t,axis:ce,shouldUseTimeDampening:i}),c=hn({x:l,y:s});if(R(c,M))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?R(u,M)?null:u:null},gn=B((function(e){return 0===e?0:e>0?1:-1})),vn=(Jt=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=T(t,r),i={x:Jt(o.x,n.x),y:Jt(o.y,n.y)};return R(i,M)?null:i}),yn=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=gn(r),a=vn({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},bn=function(e,t){return yn({current:e.scroll.current,max:e.scroll.max,change:t})},wn=function(e,t){var n=e.frame;return!!n&&yn({current:n.scroll.current,max:n.scroll.max,change:t})},xn=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=mn({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return a&&bn(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void o(l)}var c=nn({center:a,destination:Be(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=mn({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&wn(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&i(c.descriptor.id,u)}},kn=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,o=function(e,t){if(!wn(e,t))return t;var r=function(e,t){var n=e.frame;return n&&wn(e,t)?vn({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=_(t,r);return n(e.descriptor.id,o),_(t,o)},i=function(e,t,n){if(!e)return n;if(!bn(t,n))return n;var o=function(e,t){if(!bn(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return vn({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=_(n,o);return r(i),_(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Be(e.impact);r||w(!1);var a=o(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=T(e.current.client.selection,n);t({client:r})}(e,l)}}}},Sn=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=f(t),o=f(n),i=null,a=function(e){i||w(!1);var t=i,n=t.shouldUseTimeDampening,a=t.dragStartTime;xn({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){Ze(),i&&w(!1);var t=Date.now(),n=!1,r=function(){n=!0};xn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},et(),n&&a(e)},stop:function(){i&&(r.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),i=kn({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},En="data-rbd",Cn={base:Xt=En+"-drag-handle",draggableId:Xt+"-draggable-id",contextId:Xt+"-context-id"},An=function(){var e=En+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),On=function(){var e=En+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),In={contextId:En+"-scroll-container-context-id"},Dn=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Mn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,Tn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function _n(e,t,n){var r=u.useMemo((function(){return function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(Cn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+Et.outOfTheWay+";\n    ",{selector:o(An.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(On.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body, :host",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Dn(a,"always"),resting:Dn(a,"resting"),dragging:Dn(a,"dragging"),dropAnimating:Dn(a,"dropAnimating"),userCancel:Dn(a,"userCancel")}}(e)}),[e]),i=o.useRef(null),a=o.useRef(null),s=u.useCallback(p((function(e){var t=a.current;t||w(!1),t.textContent=e})),[]),l=u.useCallback((function(e){var t=i.current;t||w(!1),t.textContent=e}),[]);Mn((function(){(i.current||a.current)&&w(!1);var o=Tn(t),c=Tn(t);i.current=o,a.current=c,o.setAttribute(En+"-always",e),c.setAttribute(En+"-dynamic",e);var u=function(e){var t=e||document.querySelector("head");return t||w(!1),t}(n);return u.appendChild(o),u.appendChild(c),l(r.always),s(r.resting),function(){var e=function(e){var t=e.current;t||w(!1),u.removeChild(t),e.current=null};e(i),e(a)}}),[t,l,s,r.always,r.resting,e,n]);var c=u.useCallback((function(){return s(r.dragging)}),[s,r.dragging]),d=u.useCallback((function(e){s("DROP"!==e?r.userCancel:r.dropAnimating)}),[s,r.dropAnimating,r.userCancel]),f=u.useCallback((function(){a.current&&s(r.resting)}),[s,r.resting]);return u.useMemo((function(){return{dragging:c,dropping:d,resting:f}}),[c,d,f])}function Rn(e){return e.composedPath&&e.composedPath()[0]||e.target}function Pn(e,t,n){var r,o=e&&e.getRootNode(),i=o&&o.querySelectorAll?o:document,a=q((r=i.querySelectorAll(t),Array.prototype.slice.call(r)),n);return!a&&i.host?Pn(i.host,t,n):a}var Ln=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Nn(e){return e instanceof Ln(e).HTMLElement}function jn(e,t,n){var r=Pn(n,"["+Cn.contextId+'="'+e+'"]',(function(e){return e.getAttribute(Cn.draggableId)===t}));return r&&Nn(r)?r:null}function Bn(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||w(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return W(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||w(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return W(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Fn=i.createContext(null),zn=function(){var e=document.body;return e||w(!1),e},$n={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Hn=0,Un={separator:"::"};function Wn(e,t){return void 0===t&&(t=Un),u.useMemo((function(){return""+e+t.separator+Hn++}),[t.separator,e])}var Vn=i.createContext(null);function qn(e){0}function Gn(e,t){qn()}function Yn(){Gn()}function Kn(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),t}var Jn,Xn=((Jn={})[13]=!0,Jn[9]=!0,Jn),Qn=function(e){Xn[e.keyCode]&&e.preventDefault()},Zn=function(){var e="visibilitychange";return"undefined"==typeof document?e:q([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var er,tr={type:"IDLE"};function nr(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&w(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Qn(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&w(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Zn,fn:t}]}function rr(e){var t=o.useRef(tr),n=o.useRef(g),r=u.useMemo((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),d(o,i)}}}}}}),[e]),i=u.useMemo((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=u.useCallback((function(){n.current=v(window,[i,r],{passive:!1,capture:!0})}),[i,r]),s=u.useCallback((function(){"IDLE"!==t.current.type&&(t.current=tr,n.current(),a())}),[a]),l=u.useCallback((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=u.useCallback((function(){var e=nr({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=v(window,e,{capture:!0,passive:!1})}),[l,s]),d=u.useCallback((function(e,n){"IDLE"!==t.current.type&&w(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Mn((function(){return a(),function(){n.current()}}),[a])}function or(){}var ir=((er={})[34]=!0,er[33]=!0,er[36]=!0,er[35]=!0,er);function ar(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(ir[r.keyCode]?r.preventDefault():Qn(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Zn,fn:n}]}function sr(e){var t=o.useRef(or),n=u.useMemo((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var o=e.findClosestDraggableId(n);if(o){var i=e.tryGetLock(o,l,{sourceEvent:n});if(i){n.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=v(window,ar(s,l),{capture:!0,passive:!1})}}}function l(){a||w(!1),a=!1,t.current(),r()}}}}),[e]),r=u.useCallback((function(){t.current=v(window,[n],{passive:!1,capture:!0})}),[n]);Mn((function(){return r(),function(){t.current()}}),[r])}var lr={type:"IDLE"};function cr(e){var t=o.useRef(lr),n=o.useRef(g),r=u.useCallback((function(){return t.current}),[]),i=u.useCallback((function(e){t.current=e}),[]),a=u.useMemo((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),f(o,a)}}}}}}),[e]),s=u.useCallback((function(){n.current=v(window,[a],{capture:!0,passive:!1})}),[a]),l=u.useCallback((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(lr),n.current(),s())}),[s,i]),c=u.useCallback((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),d=u.useCallback((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},o=v(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&w(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Zn,fn:t}]}(t),e),i=v(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Zn,fn:t}]}(t),e);n.current=function(){o(),i()}}),[c,r,l]),p=u.useCallback((function(){var e=r();"PENDING"!==e.type&&w(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),f=u.useCallback((function(e,t){"IDLE"!==r().type&&w(!1);var n=setTimeout(p,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,r,i,p]);Mn((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(lr))}}),[r,s,i]),Mn((function(){return v(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var ur={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function dr(e,t){if(null==t)return!1;if(Boolean(ur[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&dr(e,t.parentElement)}function pr(e,t){var n=Rn(t);return!!Nn(n)&&dr(e,n)}var fr=function(e){return d.getRect(e.getBoundingClientRect()).center};var hr=function(){var e="matches";return"undefined"==typeof document?e:q([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function mr(e,t){return null==e?null:e[hr](t)?e:mr(e.parentElement,t)}function gr(e,t){return e.closest?e.closest(t):mr(e,t)}function vr(e,t){if(!e||e===document||e===window)return null;var n=gr(e,t);return n||vr(e.getRootNode().host,t)}function yr(e,t){var n,r=Rn(t);if(!((n=r)instanceof Ln(n).Element))return null;var o=function(e){return"["+Cn.contextId+'="'+e+'"]'}(e),i=vr(r,o);return i&&Nn(i)?i:null}function br(e){e.preventDefault()}function wr(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function xr(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!Zt(n.getState(),o))}function kr(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!xr({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var c,u,d=o.draggable.getById(i),p=function(e,t,n){var r=Pn(n,"["+An.contextId+'="'+e+'"]',(function(e){return e.getAttribute(An.id)===t}));return r&&Nn(r)?r:null}(n,d.descriptor.id,(u=(c=l)&&c.composedPath&&c.composedPath()[0])&&u.getRootNode()||document);if(!p)return null;if(l&&!d.options.canDragInteractiveElements&&pr(p,l))return null;var h=t.claim(a||g),m="PRE_DRAG";function y(){return d.options.shouldRespectForcePress}function b(){return t.isActive(h)}var x=function(e,t){wr({expected:e,phase:m,isLockActive:b,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function k(e){function n(){t.release(),m="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=v(window,[{eventName:"click",fn:br,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(yt({reason:t}))}return"PRE_DRAG"!==m&&(n(),"PRE_DRAG"!==m&&w(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),m="DRAGGING",s({isActive:function(){return wr({expected:"DRAGGING",phase:m,isLockActive:b,shouldWarn:!1})},shouldRespectForcePress:y,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return wr({expected:"PRE_DRAG",phase:m,isLockActive:b,shouldWarn:!1})},shouldRespectForcePress:y,fluidLift:function(e){var t=f((function(e){x((function(){return pt({client:e})}))})),n=k({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return s({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return x(ft)},moveRight:function(){return x(mt)},moveDown:function(){return x(ht)},moveLeft:function(){return x(gt)}};return k({liftActionArgs:{id:i,clientSelection:fr(p),movementMode:"SNAP"},cleanup:g,actions:e})},abort:function(){wr({expected:"PRE_DRAG",phase:m,isLockActive:b,shouldWarn:!0})&&t.release()}}}var Sr=[rr,sr,cr];function Er(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Sr:[],i||[]),l=o.useState((function(){return function(){var e=null;function t(){e||w(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&w(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=u.useCallback((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Mn((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Mn((function(){return l.tryAbandon}),[l.tryAbandon]);var d=u.useCallback((function(e){return xr({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),p=u.useCallback((function(e,o,i){return kr({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:o,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,r,n]),f=u.useCallback((function(e){return function(e,t){var n=yr(e,t);return n?n.getAttribute(Cn.draggableId):null}(t,e)}),[t]),h=u.useCallback((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),m=u.useCallback((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=u.useCallback(l.isClaimed,[l]),v=u.useMemo((function(){return{canGetLock:d,tryGetLock:p,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:g}}),[d,p,f,h,m,g]);qn();for(var y=0;y<s.length;y++)s[y](v)}function Cr(e){return e.current||w(!1),e.current}function Ar(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,d=e.dragHandleUsageInstructions,p=o.useRef(null);Yn();var f=Kn(e),h=u.useCallback((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(f.current)}),[f]),m=function(e){var t=u.useMemo((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=o.useRef(null);return o.useEffect((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),s(e.style,$n),zn().appendChild(e),function(){setTimeout((function(){var t=zn();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),u.useCallback((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),g=function(e){var t=e.contextId,n=e.text,r=Wn("hidden-text",{separator:"-"}),i=u.useMemo((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return o.useEffect((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",zn().appendChild(e),function(){var t=zn();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:d}),v=_n(t,a,e.stylesInsertionPoint),y=u.useCallback((function(e){Cr(p).dispatch(e)}),[]),b=u.useMemo((function(){return l.bindActionCreators({publishWhileDragging:st,updateDroppableScroll:ct,updateDroppableIsEnabled:ut,updateDroppableIsCombineEnabled:dt,collectionStarting:lt},y)}),[y]),w=function(){var e=u.useMemo(Bn,[]);return o.useEffect((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),x=u.useMemo((function(){return Qt(w,b)}),[w,b]),k=u.useMemo((function(){return Sn(s({scrollWindow:en,scrollDroppable:x.scrollDroppable},l.bindActionCreators({move:pt},y)))}),[x.scrollDroppable,y]),S=function(e){var t=o.useRef({}),n=o.useRef(null),r=o.useRef(null),i=o.useRef(!1),a=u.useCallback((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=u.useCallback((function(t){var n=jn(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=u.useCallback((function(e,t){n.current===e&&(n.current=t)}),[]),c=u.useCallback((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),d=u.useCallback((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Cn.draggableId)===e&&(n.current=e)}),[]);return Mn((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),u.useMemo((function(){return{register:a,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,d,c,l])}(t),E=u.useMemo((function(){return Wt({announce:m,autoScroller:k,dimensionMarshal:x,focusMarshal:S,getResponders:h,styleMarshal:v})}),[m,k,x,S,h,v]);p.current=E;var C=u.useCallback((function(){var e=Cr(p);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),A=u.useCallback((function(){var e=Cr(p).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(u.useMemo((function(){return{isDragging:A,tryAbort:C}}),[A,C]));var O=u.useCallback((function(e){return Zt(Cr(p).getState(),e)}),[]),I=u.useCallback((function(){return ze(Cr(p).getState())}),[]),D=u.useMemo((function(){return{marshal:x,focus:S,contextId:t,canLift:O,isMovementAllowed:I,dragHandleUsageInstructionsId:g,registry:w}}),[t,x,g,S,O,I,w]);return Er({contextId:t,store:E,registry:w,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),o.useEffect((function(){return C}),[C]),i.createElement(Vn.Provider,{value:D},i.createElement(c.Provider,{context:Fn,store:E},e.children))}var Or=0;var Ir=function(e){return function(t){return e===t}},Dr=Ir("scroll"),Mr=Ir("auto"),Tr=(Ir("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),_r=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Tr(n,Dr)||Tr(n,Mr)},Rr=function e(t){return null==t||t===document.body||t===document.documentElement?null:_r(t)?t:e(t.parentElement)},Pr=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Lr=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Nr=function(e){return{closestScrollable:Rr(e),isFixedOnPage:Lr(e)}},jr=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=d.getBox(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a={top:r,right:o+t.scrollWidth,bottom:i,left:o},s=d.expand(a,n.border);return d.createBox({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),p=d.withScroll(u,o),f=function(){if(!c)return null;var e=d.getBox(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:d.withScroll(e,o),scroll:Pr(c),scrollSize:t,shouldClipSubject:l}}(),h=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Vt({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:M,displacement:M}}}}(),u="vertical"===i?le:ce;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:H({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:p,closest:f});return h},Br={passive:!1},Fr={passive:!0},zr=function(e){return e.shouldPublishImmediately?Br:Fr};function $r(e){var t=o.useContext(e);return t||w(!1),t}var Hr=function(e){return e&&e.env.closestScrollable||null};function Ur(){}var Wr={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Vr=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Wr:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Et.placeholder:null}};var qr=i.memo((function(e){var t=o.useRef(null),n=u.useCallback((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=o.useState("open"===e.animate),d=c[0],p=c[1];o.useEffect((function(){return d?"open"!==r?(n(),p(!1),Ur):t.current?Ur:(t.current=setTimeout((function(){t.current=null,p(!1)})),n):Ur}),[r,d,n]);var f=u.useCallback((function(e){"height"===e.propertyName&&(a(),"close"===r&&s())}),[r,s,a]),h=Vr({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":l,onTransitionEnd:f,ref:e.innerRef})})),Gr=i.createContext(null);var Yr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return a(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),Kr=5e3,Jr=4500,Xr=function(e,t){return t?Et.drop(t.duration):e?Et.snap:Et.fluid},Qr=function(e,t){return e?t?xt.drop:xt.combining:null};function Zr(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,o=n.offset,i=n.combineWith,a=n.dropping,s=Boolean(i),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),c=Boolean(a),u=c?Ot(o,s):At(o),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Xr(l,a),transform:u,opacity:Qr(s,c),zIndex:c?Jr:Kr,pointerEvents:"none"}):{transform:At((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,o,i,a,s,l,c,u}function eo(e){var t=Wn("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=u.useMemo((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),p=u.useCallback((function(e){var t=i();return t||w(!1),function(e,t,n){void 0===n&&(n=M);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=d.calculateBox(o,r),a=d.withScroll(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),f=u.useMemo((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:p}}),[n,p,c,t]),h=o.useRef(f),m=o.useRef(!0);Mn((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),Mn((function(){if(m.current)m.current=!1;else{var e=h.current;h.current=f,r.draggable.update(f,e)}}),[f,r.draggable])}function to(e,t,n){Gn()}function no(e){e.preventDefault()}var ro=function(e,t){return e===t},oo=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function io(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ao={mapped:{type:"SECONDARY",offset:M,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:io(null)}};var so={dropAnimationFinished:bt},lo=c.connect((function(){var e,t,n,r=(e=p((function(e,t){return{x:e,y:t}})),t=p((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=p((function(e,n,r,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=Be(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=r.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,g=oo(h),v=function(e){return e.combine?e.combine.draggableId:null}(h),y={duration:r.dropDuration,curve:wt,moveTo:r.newHomeClientOffset,opacity:v?xt.drop:null,scale:v?kt.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,v,y)}}}return null}),o=function(){var e=p((function(e,t){return{x:e,y:t}})),t=p(io),n=p((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(M,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Z(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;var d=P(a.displacedBy.point),p=e(d.x,d.y);return n(p,u,!0)}if(l)return r(u);var f=i.displacedBy.point,h=e(f.x,f.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||ao}}),so,null,{context:Fn,pure:!0,areStatePropsEqual:ro})((function(e){var t=o.useRef(null),n=u.useCallback((function(e){t.current=e}),[]),r=u.useCallback((function(){return t.current}),[]),i=$r(Vn),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=$r(Gr),d=c.type,p=c.droppableId,f=u.useMemo((function(){return{id:e.draggableId,index:e.index,type:d,droppableId:p}}),[e.draggableId,e.index,d,p]),h=e.children,m=e.draggableId,g=e.isEnabled,v=e.shouldRespectForcePress,y=e.canDragInteractiveElements,b=e.isClone,w=e.mapped,x=e.dropAnimationFinished;to(),qn(),b||eo(u.useMemo((function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:v,isEnabled:g}}),[f,l,r,y,v,g]));var k=u.useMemo((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:no}:null}),[a,s,m,g]),S=u.useCallback((function(e){"DRAGGING"===w.type&&w.dropping&&"transform"===e.propertyName&&x()}),[x,w]),E=u.useMemo((function(){var e=Zr(w),t="DRAGGING"===w.type&&w.dropping?S:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:k}}),[a,k,m,w,S,n]),C=u.useMemo((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return h(E,w.snapshot,C)}));function co(e){return $r(Gr).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(lo,e):null}var uo=function(e,t){return e===t.droppable.type},po=function(e,t){return t.draggables[e.draggable.id]},fo={updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}};var ho={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||w(!1),document.body}},mo=c.connect((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=s({},e,{shouldAnimatePlaceholder:!1}),n=p((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=p((function(r,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(n.isDragging){var c=n.critical;if(!uo(a,c))return t;var u=po(c,n.dimensions),d=Be(n.impact)===i;return r(i,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!uo(a,p.critical))return t;var f=po(p.critical,n.dimensions);return r(i,s,oo(p.result)===i,Be(p.impact)===i,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!uo(a,h.critical))return t;var m=Be(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),v=h.critical.droppable.id===i;return m?g?e:t:v?e:t}return t}}),fo,null,{context:Fn,pure:!0,areStatePropsEqual:ro})((function(e){var t=o.useContext(Vn);t||w(!1);var n=t.contextId,r=t.isMovementAllowed,a=o.useRef(null),s=o.useRef(null),l=e.children,c=e.droppableId,d=e.type,m=e.mode,g=e.direction,v=e.ignoreContainerClipping,y=e.isDropDisabled,b=e.isCombineEnabled,x=e.snapshot,k=e.useClone,S=e.updateViewportMaxScroll,E=e.getContainerForClone,C=u.useCallback((function(){return a.current}),[]),A=u.useCallback((function(e){a.current=e}),[]),O=(u.useCallback((function(){return s.current}),[]),u.useCallback((function(e){s.current=e}),[]));Gn();var I=u.useCallback((function(){r()&&S({maxScroll:Gt()})}),[r,S]);!function(e){var t=o.useRef(null),n=$r(Vn),r=Wn("droppable"),i=n.registry,a=n.marshal,s=Kn(e),l=u.useMemo((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=o.useRef(l),d=u.useMemo((function(){return p((function(e,n){t.current||w(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),h=u.useCallback((function(){var e=t.current;return e&&e.env.closestScrollable?Pr(e.env.closestScrollable):M}),[]),m=u.useCallback((function(){var e=h();d(e.x,e.y)}),[h,d]),g=u.useMemo((function(){return f(m)}),[m]),v=u.useCallback((function(){var e=t.current,n=Hr(e);e&&n||w(!1),e.scrollOptions.shouldPublishImmediately?m():g()}),[g,m]),y=u.useCallback((function(e,r){t.current&&w(!1);var o=s.current,i=o.getDroppableRef();i||w(!1);var a=Nr(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=jr({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(In.contextId,n.contextId),d.addEventListener("scroll",v,zr(c.scrollOptions))),u}),[n.contextId,l,v,s]),b=u.useCallback((function(){var e=t.current,n=Hr(e);return e&&n||w(!1),Pr(n)}),[]),x=u.useCallback((function(){var e=t.current;e||w(!1);var n=Hr(e);t.current=null,n&&(g.cancel(),n.removeAttribute(In.contextId),n.removeEventListener("scroll",v,zr(e.scrollOptions)))}),[v,g]),k=u.useCallback((function(e){var n=t.current;n||w(!1);var r=Hr(n);r||w(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),S=u.useMemo((function(){return{getDimensionAndWatchScroll:y,getScrollWhileDragging:b,dragStopped:x,scroll:k}}),[x,y,b,k]),E=u.useMemo((function(){return{uniqueId:r,descriptor:l,callbacks:S}}),[S,l,r]);Mn((function(){return c.current=E.descriptor,i.droppable.register(E),function(){t.current&&x(),i.droppable.unregister(E)}}),[S,l,x,E,a,i.droppable]),Mn((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Mn((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:d,mode:m,direction:g,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:v,getDroppableRef:C});var D=i.createElement(Yr,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(qr,{placeholder:r,onClose:t,innerRef:O,animate:o,contextId:n,onTransitionEnd:I})})),T=u.useMemo((function(){return{innerRef:A,placeholder:D,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,D,A]),_=k?k.dragging.draggableId:null,R=u.useMemo((function(){return{droppableId:c,type:d,isUsingCloneFor:_}}),[c,_,d]);return i.createElement(Gr.Provider,{value:R},l(T,x),function(){if(!k)return null;var e=k.dragging,t=k.render,n=i.createElement(co,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return h.createPortal(n,E())}())}));mo.defaultProps=ho,t.DragDropContext=function(e){var t=u.useMemo((function(){return""+Or++}),[]),n=e.dragHandleUsageInstructions||A;return i.createElement(x,null,(function(r){return i.createElement(Ar,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,stylesInsertionPoint:e.stylesInsertionPoint},e.children)}))},t.Draggable=function(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(co,s({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))},t.Droppable=mo,t.resetServerContext=function(){Or=0,Hn=0},t.useKeyboardSensor=sr,t.useMouseSensor=rr,t.useTouchSensor=cr},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return m}));var r=n(2),o=n(3),i=n.n(o),a=n(32),s=n(108);const l=(e,t)=>{let n=null;const r=()=>{n&&clearTimeout(n),n=null};return(...o)=>{r(),n=setTimeout((()=>{e(...o),r()}),t)}},c=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(a.a)(s.f,s.e)})),u=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(a.a)(s.b,s.a)})),d=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.b)(s.b,e)})),p=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.b)(s.f,e)})),f=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.a)(s.d,s.c)})),h=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return Object(a.b)(s.d,e)}));function m(e){const t=`destroy-${i.a.runtime.id}`;document.dispatchEvent(new CustomEvent(t)),document.addEventListener(t,(function(){document.removeEventListener(t,this),e()}))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(262),o=n(426),i=n(134);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=/(\[|\]|\(|\)|\{|\})/,o=(e,t,n={})=>{const o=e.trim();return o.length?r.test(o)?{valid:!1,reason:"Space name cannot contain any of the characters: [] () {}"}:{valid:!0,reason:"valid"}:{valid:!1,reason:"Space name cannot be empty"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(99),l=n(28),c=n.n(l);const u=({children:e,width:t,closeComponent:n,targetElementRef:r,mode:i,noStyles:a,onMouseEnter:l,onMouseLeave:u,instaClose:d,disableBlur:h,getPortalRoot:m,blockedBackground:g,positioning:v,getDocument:y=()=>document})=>{var b;const w=()=>{n()},x=()=>o.a.createElement(s.a,{instaClose:d,getDocument:y,onClickAway:w,targetElementRef:r,blockedBackground:g,centeredElement:"centerCenter"===v},o.a.createElement(f,{noStyles:a,disableBlur:h,mode:i},o.a.createElement(p,{onMouseEnter:l,onMouseLeave:u,width:t,mode:i},e)));if(null===m)return x();const k=null!==(b=null==m?void 0:m())&&void 0!==b?b:y().querySelector("body");return c.a.createPortal(x(),k)},d=i.keyframes`
 0% { max-height: 0px; max-width: 0px; opacity: 0 }
 100% { max-height: 800px; max-width: 800px; opacity: 1 }
`,p=(i.keyframes`
 0% { opacity: 0 }
 100% { opacity: 1 }
`,a.a.div`
    /* animation-name: ${d}; */
    animation-duration: 0.15s;
    animation-timing-function: ease-in-out;
    animation-fill-mode: forwards;
    width: ${e=>e.width?e.width:"fit-content"};
    max-height: 100%;
    max-width: 100%;
    /* box-shadow: 0px 14px 140px 10px ${e=>e.theme.colors.black2}c2; */
    border-radius: 12px;
    overflow-y: auto;
    display: flex;
    justify-content: center;

    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }

    /* ${e=>"light"===e.theme.variant&&i.css`
            box-shadow: ${e=>e.theme.borderStyles.boxShadowHoverElements};
            border: 1px solid
                ${e=>e.theme.borderStyles.borderHoverElements};
        `}; */
`),f=a.a.div`
    width: ${e=>e.width?e.width:"fit-content"};
    z-index: 300000000000;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    box-shadow: 0px 8px 26px 4px ${e=>e.theme.colors.black2}c2;
    background: ${e=>e.theme.colors.black};

    &::-webkit-scrollbar {
        display: none;
    }
    scrollbar-width: none;
    overflow: scroll;
    border-radius: 12px;
    max-height: 100vh;
    max-width: 100vw;

    ${e=>e.noStyles&&i.css`
            border: none;
            background: none;
            box-shadow: none;
        `}
    ${e=>e.disableBlur&&i.css`
            background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
            backdrop-filter: none;
        `}

        ${e=>"image-preview"===e.mode&&i.css`
            max-width: 80%;
            max-height: 80%;
        `}
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={r:198,g:240,b:212,a:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(3),o=n.n(r),i=n(103);const a=(e,t={runtimeAPI:o.a.runtime})=>Object(i.b)(e,t)?new URL(e).searchParams.get("file"):e,s=e=>(e&&(e.url=a(e.url)),e)},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(3),c=n.n(l),u=n(10),d=n(33),p=n(127),f=n(42),h=n(8),m=n(37);const g=(e,t)=>"page-links"===t.currentTab?Object(h.c)(t.pageLinkEntries).filter((t=>!e.normalizedPageUrlToFilterPageLinksBy||t.normalizedPageUrl===e.normalizedPageUrlToFilterPageLinksBy)):Object(h.c)(t.listEntries),v=(e,t)=>t?`${b}-${e.unifiedId}-${t.unifiedId}`:e.unifiedId,y=e=>{if(!(e=>e.startsWith(b))(e))return{baseUnifiedId:e};let t=e.match(new RegExp(`^${b}-(\\d+)-(\\d+)$`));if(!t||!t[1]&&!t[2])throw new Error(`Failed to extract unified ID from rendered ID for space picker entry: ${e}`);return{baseUnifiedId:t[1],treeNodeUnifiedId:t[2]}},b="tree-node";var w=n(36),x=n(34),k=n(152);const S=(e,t)=>(n,r)=>{const o=e.indexOf(n.localId)+1,i=e.indexOf(r.localId)+1;if(o||i)return o&&!i?-1:!o&&i?1:o-i;const a=t.indexOf(n.localId)+1,s=t.indexOf(r.localId)+1;return a&&!s?-1:!a&&s?1:a-s},E=(e,{annotationsCache:t},n)=>{const r=t.getListByLocalId(e),o=(null==n?void 0:n.source)?`for ${n.source} `:"";if(!r)throw new Error(`Specified list data ${o}could not be found`);if((null==n?void 0:n.mustBeLocal)&&null==r.localId)throw new Error(`Specified list data ${o}could not be found locally`);return r};class C extends d.a{constructor(e){super(),this.dependencies=e,this.selectedListIds=[],this.localListIdsMRU=[],this.getInitialState=()=>({query:"",newEntryName:[],currentTab:"user-lists",currentUser:null,focusedListRenderedId:null,listEntries:Object(h.a)(),pageLinkEntries:Object(h.a)(),selectedListIds:[],filteredListIds:null,loadState:"pristine",spaceCreateState:"pristine",spaceAddRemoveState:"pristine",spaceWriteError:null,renameListErrorMessage:null,contextMenuListId:null,listIdsShownAsTrees:[],listIdToShowNewChildInput:null,addedToAllIds:[],editMenuListId:null,blockMouseOver:!1}),this.cacheAnnotationUpdatedSubscription=e=>{},this.initCacheListsSubscription=e=>t=>{const{myLists:n,joinedLists:r,pageLinkLists:o}=Object(f.j)(Object(h.c)(t),e),i=S(this.selectedListIds,this.localListIdsMRU),a=Object(h.a)({getId:e=>e.unifiedId,seedData:[...n,...r].filter((e=>"user-list"===e.type&&null!=e.localId)).sort(i)});this.emitMutation({listEntries:{$set:a},pageLinkEntries:{$set:Object(h.a)({getId:e=>e.unifiedId,seedData:o.filter((e=>null!=e.localId)).sort(i)})}})},this.init=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(u.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t,n,r,o,i;const a=yield this.dependencies.authBG.getCurrentUser(),s=a?{type:"user-reference",id:a.id}:void 0;this.emitMutation({currentUser:{$set:null!=s?s:null}}),this.localListIdsMRU=null!==(e=yield this.localStorage.get("suggestionIds"))&&void 0!==e?e:[],this.dependencies.initialSelectedListIds&&(this.selectedListIds=(null!==(t=yield this.dependencies.initialSelectedListIds())&&void 0!==t?t:[]).filter((e=>!Object.values(x.c).includes(e))),this.emitMutation({selectedListIds:{$set:[...this.selectedListIds]}})),this.cacheListsSubscription=this.initCacheListsSubscription(s),this.dependencies.annotationsCache.events.addListener("newListsState",this.cacheListsSubscription),this.dependencies.annotationsCache.events.addListener("updatedAnnotation",this.cacheAnnotationUpdatedSubscription),this.dependencies.shouldHydrateCacheOnInit?yield Object(f.f)({user:s,cache:this.dependencies.annotationsCache,bgModules:{bgScript:this.dependencies.bgScriptBG,customLists:this.dependencies.spacesBG,contentSharing:this.dependencies.contentSharingBG,pageActivityIndicator:this.dependencies.pageActivityIndicatorBG}}):this.cacheListsSubscription(this.dependencies.annotationsCache.lists),this.selectedListIds.length>0?this.emitMutation({focusedListRenderedId:{$set:null!==(r=null===(n=this.dependencies.annotationsCache.getListByLocalId(this.selectedListIds[0]))||void 0===n?void 0:n.unifiedId)&&void 0!==r?r:null}}):this.emitMutation({focusedListRenderedId:{$set:null!==(i=null===(o=this.dependencies.annotationsCache.getListByLocalId(this.localListIdsMRU[0]))||void 0===o?void 0:o.unifiedId)&&void 0!==i?i:null}})}))))})),this.cleanup=({})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.cacheListsSubscription&&this.dependencies.annotationsCache.events.removeListener("newListsState",this.cacheListsSubscription),this.dependencies.annotationsCache.events.removeListener("updatedAnnotation",this.cacheAnnotationUpdatedSubscription)})),this.setSearchInputRef=({event:{ref:e},previousState:t})=>{this.searchInputRef=e},this.toggleListShownAsTree=({event:e,previousState:t})=>{let{baseUnifiedId:n,treeNodeUnifiedId:r}=y(e.listRenderedId);if(!r)return void this.emitMutation({listIdsShownAsTrees:{$apply:e=>e.includes(n)?e:[...e,n]},listIdToShowNewChildInput:{$set:e.shouldShowNewChildInput?n:null}});let o=this.dependencies.annotationsCache.lists.byId[r];if(!o)throw new Error("Attempted to toggle tree view for list ID that does not exist in cache");null==o.parentUnifiedId&&this.emitMutation({listIdToShowNewChildInput:{$set:null},listIdsShownAsTrees:{$set:t.listIdsShownAsTrees.filter((e=>e!==n))}})},this.focusInput=()=>{var e;null===(e=this.searchInputRef)||void 0===e||e.focus()},this.switchTab=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){t.currentTab!==e.tab&&(this.emitMutation({currentTab:{$set:e.tab}}),this.calcNextFocusedEntry(t))})),this.handleMouseOver=()=>{this.emitMutation({blockMouseOver:{$set:!1}}),document.removeEventListener("mousemove",this.handleMouseOver)},this.keyPress=({event:{event:e},previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r;if(e.stopPropagation(),"Enter"!==e.key){if("ArrowUp"===e.key){e.preventDefault();let r=this.calcNextFocusedEntry(t,-1);return null===(n=this.dependencies.getEntryRowRefs()[r])||void 0===n||n.scrollIntoView(),this.emitMutation({blockMouseOver:{$set:!0}}),void document.addEventListener("mousemove",this.handleMouseOver)}if("ArrowDown"===e.key){e.preventDefault();let n=this.calcNextFocusedEntry(t,1);return null===(r=this.dependencies.getEntryRowRefs()[n])||void 0===r||r.scrollIntoView(),this.emitMutation({blockMouseOver:{$set:!0}}),void document.addEventListener("mousemove",this.handleMouseOver)}"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||null==t.focusedListRenderedId?"Escape"!==e.key||this.dependencies.closePicker(e):yield this.handleLeftRightArrowKeyPress(t,e.key)}else{const n=e.metaKey||e.ctrlKey;yield this.handleEnterKeyPress(t,n)}})),this.openListInWebUI=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.dependencies.annotationsCache.lists.byId[e.unifiedListId];if(!(null==t?void 0:t.remoteId))throw new Error("Cannot open Space in web UI - not tracked in UI state OR not shared");const n="page-link"===t.type?Object(w.g)({remoteListId:t.remoteId,remoteListEntryId:t.sharedListEntryId}):Object(w.e)({remoteListId:t.remoteId});window.open(n,"_blank")})),this.toggleEntryContextMenu=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=t.contextMenuListId===e.listId?null:e.listId;this.emitMutation({contextMenuListId:{$set:n}})})),this.toggleEntryEditMenu=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=t.editMenuListId===e.listId?null:e.listId;this.emitMutation({editMenuListId:{$set:n}})})),this.onOpenInTabGroupPress=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.dependencies.spacesBG.createTabGroup(e.listId)})),this.setListPrivacy=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;const{annotationsCache:n,contentSharingBG:r}=this.dependencies,o=null===(t=n.getListByLocalId(e.listId))||void 0===t?void 0:t.unifiedId;if(null==o)throw new Error("Tried to set privacy for non-cached list");n.updateList({unifiedId:o,isPrivate:e.isPrivate}),yield r.updateListPrivacy({localListId:e.listId,isPrivate:e.isPrivate})})),this.renameList=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=e.name.trim(),n=E(e.listId,this.dependencies,{source:"renameList",mustBeLocal:!0});if(n.name===t)return;const r=this.validateSpaceName(t,e.listId);!1!==r.valid?(this.dependencies.annotationsCache.updateList({unifiedId:n.unifiedId,name:t}),yield this.dependencies.spacesBG.updateListName({id:n.localId,oldName:n.name,newName:t})):this.emitMutation({renameListErrorMessage:{$set:r.reason}})})),this.deleteList=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=E(e.listId,this.dependencies,{source:"deleteList",mustBeLocal:!0});this.dependencies.annotationsCache.removeList(t),this.emitMutation({contextMenuListId:{$set:null},editMenuListId:{$set:null}})})),this.searchInputChanged=({event:{query:e},previousState:t})=>{var n;if(this.emitMutation({query:{$set:e}}),t.query.trim()===e.trim())return;if(0===e.trim().length)return void this.emitMutation({newEntryName:{$set:null},query:{$set:""},filteredListIds:{$set:null}});const r=[...Object(h.c)(t.listEntries),...Object(h.c)(t.pageLinkEntries)];let o=null!==(n=t.newEntryName)&&void 0!==n?n:[],i=e;const a=i.split(/\s+/).filter(Boolean);let s=t.focusedListRenderedId,l=[];l=r.filter((e=>a.reduce(((t,n)=>t&&e.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())),!0)));let c=l.flatMap((e=>[e.unifiedId]));s=c[0];const u={filteredListIds:{$set:c},focusedListRenderedId:{$set:s}};this.emitMutation(u);const d=this.withMutation(t,u);if(c&&c.length>0){let t=c[0];l.some((t=>t.name.toLowerCase()===e.toLowerCase()))?this.emitMutation({newEntryName:{$set:null}}):(0===l.length&&i.length>0&&(t="-1"),o=[{unifiedId:null,name:e}],this.emitMutation({newEntryName:{$set:o}})),this.calcNextFocusedEntry(d,null,t)}else o=[{unifiedId:null,name:e}],this.emitMutation({newEntryName:{$set:o}});if(t.query.length>0&&0===d.query.length){this.emitMutation({newEntryName:{$set:null},query:{$set:""}});const e=this.dependencies.annotationsCache.lists,n=Object(h.c)(e),r=S(this.selectedListIds.reverse(),this.localListIdsMRU),o=Object(h.a)({getId:e=>e.unifiedId,seedData:[...n].filter((e=>"user-list"===e.type&&null!=e.localId)).sort(r)}),i={selectedListIds:{$set:this.selectedListIds},filteredListIds:{$set:null},listEntries:{$set:o}};this.emitMutation(i);const a=o.byId[0].unifiedId,s=this.withMutation(t,i);this.calcNextFocusedEntry(s,null,a)}},this.maybeSetCreateEntryDisplay=(e,t)=>{const n=e.trim();if(Object(h.c)(t.listEntries).reduce(((e,t)=>e||t.name===n),!1))this.calcNextFocusedEntry(t);else{if(t.query.length>0){const{valid:e}=this.validateSpaceName(n);if(!e)return}this.calcNextFocusedEntry(t)}},this.convertQueryIntoEntryNameObject=e=>{e.split("/")},this.pressEntry=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._pressEntry(e.entry.localId,t)})),this.resultEntryAllPress=({event:{entry:e},previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(u.d)(this,"spaceAddRemoveState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;this.processingUpstreamOperation=this.dependencies.actOnAllTabs(e.localId);const r=[e.localId,...t.selectedListIds];let o=[parseFloat(e.unifiedId),...null!==(n=t.addedToAllIds)&&void 0!==n?n:[]];this.emitMutation({selectedListIds:{$set:r},addedToAllIds:{$set:o}}),this.selectedListIds=r;try{yield this.processingUpstreamOperation}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}}))))})),this.setSpaceWriteError=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({spaceWriteError:{$set:e.error}})})),this.pressNewEntry=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._pressNewEntry(e)})),this.newEntryAllPress=({event:{entry:e},previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let n;const{success:o}=yield Object(u.d)(this,"spaceCreateState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{n=yield this.createAndDisplayNewList(e,t)}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}}))));o&&(yield Object(u.d)(this,"spaceAddRemoveState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.processingUpstreamOperation=this.dependencies.actOnAllTabs(n);try{yield this.processingUpstreamOperation}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}})))))})),this.focusListEntry=({event:e})=>{this.emitMutation({focusedListRenderedId:{$set:e.listRenderedId}})},this.localStorage=new m.a(e.localStorageAPI,{prefix:"custom-lists_"})}deriveFlatListOfRenderedEntries(e){let t=this.dependencies.getListTreeRefs(),n=e.query.trim().length>0,r=g(this.dependencies,e);return n&&(r=r.filter((t=>{var n,r;return null===(r=null===(n=e.filteredListIds)||void 0===n?void 0:n.includes(t.unifiedId))||void 0===r||r}))),r.flatMap((r=>{var o,i;if(!e.listIdsShownAsTrees.includes(r.unifiedId))return Object.assign(Object.assign({},r),{renderedId:v(r)});let a=null===(o=t[r.unifiedId])||void 0===o?void 0:o.state;if(!a)return[];let s=this.dependencies.annotationsCache.getAllListsInTreeByRootId(null!==(i=r.pathUnifiedIds[0])&&void 0!==i?i:r.unifiedId);return Object(k.a)(s,a,{areListsBeingFiltered:n}).map((e=>Object.assign(Object.assign({},e),{renderedId:v(r,e)})))}))}calcNextFocusedEntry(e,t=null,n){var r;let o=this.deriveFlatListOfRenderedEntries(e),i=-1;null!=e.focusedListRenderedId&&(i=o.findIndex((t=>t.renderedId===e.focusedListRenderedId))),n&&(i=o.findIndex((e=>e.renderedId===n)));let a=-1===i?0:i+t;a<0?a=o.length-1:a>=o.length&&(a=0);let s=null===(r=o[a])||void 0===r?void 0:r.renderedId;return null!=s&&this.emitMutation({focusedListRenderedId:{$set:s}}),s}handleLeftRightArrowKeyPress(e,t){var n,o,i,a;return Object(r.__awaiter)(this,void 0,void 0,(function*(){let{baseUnifiedId:r,treeNodeUnifiedId:s}=y(e.focusedListRenderedId),l=null!==(o=null===(n=e.listEntries.byId[s])||void 0===n?void 0:n.pathUnifiedIds[0])&&void 0!==o?o:s,c=l===s;if(null==s){if("ArrowRight"===t){if(l=null!==(a=null===(i=e.listEntries.byId[r])||void 0===i?void 0:i.pathUnifiedIds[0])&&void 0!==a?a:r,null==l)return;let t=v({unifiedId:r},{unifiedId:l});this.emitMutation({focusedListRenderedId:{$set:t},listIdsShownAsTrees:{$push:[r]}})}return}let u=this.dependencies.getListTreeRefs()[r];if(!u)throw new Error("Attempted to toggle list tree with KB arrows, though ref cannot be found.");let d=u.state.listTrees.byId[s];"ArrowLeft"===t&&!0===(null==d?void 0:d.areChildrenShown)&&!c||"ArrowRight"===t&&!1===(null==d?void 0:d.areChildrenShown)?yield u.processEvent("toggleShowChildren",{listId:s}):"ArrowLeft"===t&&c&&this.emitMutation({focusedListRenderedId:{$set:r},listIdsShownAsTrees:{$apply:e=>e.filter((e=>e!==r))}})}))}handleEnterKeyPress(e,t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null!=e.newEntryName&&t)yield this._pressNewEntry(e);else if(null!=e.newEntryName&&null==e.focusedListRenderedId)yield this._pressNewEntry(e);else if(null!=e.focusedListRenderedId){let{baseUnifiedId:t,treeNodeUnifiedId:r}=y(e.focusedListRenderedId),o=null!=r?r:t,i=null===(n=e.listEntries.byId[o])||void 0===n?void 0:n.localId;if(null==i)return;yield this._pressEntry(i,e)}}))}validateSpaceName(e,t){const n=Object(p.a)(e,Object(h.c)(this.dependencies.annotationsCache.lists).map((e=>({id:e.localId,name:e.name}))),{listIdToSkip:t});return this.emitMutation({renameListErrorMessage:{$set:!1===n.valid?n.reason:null}}),n}_pressEntry(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let n;const o=E(e,this.dependencies,{source:"pressEntry"});yield Object(u.d)(this,"spaceAddRemoveState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{let r;t.selectedListIds.includes(e)?(this.selectedListIds=t.selectedListIds.filter((t=>t!==e)),r=this.dependencies.unselectEntry(e)):(this.localListIdsMRU=Array.from(new Set([o.localId,...this.localListIdsMRU])),this.selectedListIds=Array.from(new Set([o.localId,...t.selectedListIds])),r=this.dependencies.selectEntry(e)),n=this.applyAndEmitMutation(t,{selectedListIds:{$set:this.selectedListIds}});let i=null;r instanceof Promise&&(i=yield r),!1===i&&(n=this.applyAndEmitMutation(t,{selectedListIds:{$set:t.selectedListIds}}))}catch(e){throw this.selectedListIds=t.selectedListIds,n=this.applyAndEmitMutation(t,{spaceWriteError:{$set:e.message},selectedListIds:{$set:this.selectedListIds}}),e}})))),this.searchInputChanged({event:{query:t.query},previousState:n})}))}createAndDisplayNewList(e,t,n=null,o=!1){var i,a,s,l;return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(this.dependencies.filterMode)return;let r=null;null!=n&&(r=null===(i=this.dependencies.annotationsCache.getListByLocalId(n))||void 0===i?void 0:i.pathLocalIds);const{collabKey:c,localListId:u,remoteListId:d}=yield this.dependencies.spacesBG.createCustomList({name:e,parentListId:n});this.dependencies.annotationsCache.addList({name:e,collabKey:c,localId:u,remoteId:d,hasRemoteAnnotationsToLoad:!1,type:"user-list",unifiedAnnotationIds:[],creator:null!==(a=t.currentUser)&&void 0!==a?a:void 0,parentLocalId:n,isPrivate:!0,pathLocalIds:r?[...r,n]:[]}),this.localListIdsMRU.unshift(u),o||(this.selectedListIds.unshift(u),null===(l=(s=this.dependencies).onSpaceCreate)||void 0===l||l.call(s,{name:e,localListId:u,collabKey:c,remoteListId:d}));const p=this.dependencies.annotationsCache.lists,f=Object(h.c)(p),m=S(this.selectedListIds,this.localListIdsMRU),g=Object(h.a)({getId:e=>e.unifiedId,seedData:[...f].filter((e=>"user-list"===e.type&&null!=e.localId)).sort(m)});this.emitMutation({query:{$set:""},newEntryName:{$set:[]}});const v={selectedListIds:{$set:this.selectedListIds},filteredListIds:{$set:null},listEntries:{$set:g}};this.emitMutation(v);const y=this.withMutation(t,v);return this.calcNextFocusedEntry(y),this.dependencies.selectEntry(u),u}))}_pressNewEntry(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=e.newEntryName;yield Object(u.d)(this,"spaceCreateState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r,o,i;if(null!=e.contextMenuListId)return;let a=null;for(let s=0;s<t.length;s++){const l=t[s],{valid:c}=this.validateSpaceName(l.name);if(!c)return;if(null==l.unifiedId)try{a=null===(r=this.dependencies.annotationsCache.lists.byId[null===(n=t[s-1])||void 0===n?void 0:n.unifiedId])||void 0===r?void 0:r.localId;const c=yield this.createAndDisplayNewList(l.name,e,a,s!==t.length-1),u=null===(o=this.dependencies.annotationsCache.getListByLocalId(c))||void 0===o?void 0:o.unifiedId;null===(i=this.dependencies.getListTreeRefs()[u])||void 0===i||i.processEvent("toggleShowChildren",{listId:u})}catch(e){throw this.emitMutation({spaceWriteError:{$set:e.message}}),e}}}))))}))}}var A=n(27);c.a.runtime.getURL("/img/search.svg");class O extends i.a.Component{constructor(){super(...arguments),this.state={isFocused:!1},this.onChange=e=>this.props.onChange(e.target.value)}render(){return i.a.createElement(D,{placeholder:this.props.searchInputPlaceholder?this.props.searchInputPlaceholder:"Search & Add Spaces",value:this.props.value,onChange:this.onChange,onKeyDown:e=>{e.stopPropagation(),this.props.onKeyDown(e)},onKeyUp:e=>{e.stopPropagation()},type:"input",componentRef:this.props.searchInputRef,icon:"searchIcon",autoFocus:null==this.props.autoFocus||this.props.autoFocus,id:"pickerSearchBox",borderRadius:this.props.borderRadius})}}const I=s.a.div.withConfig({displayName:"SearchBox",componentId:"sc-10kpint-0"})(["align-items:center;background-color:",";color:",";display:flex;flex-wrap:wrap;font-size:1rem;padding:10px;transition:border 0.1s;margin-bottom:4px;grid-gap:5px;min-height:20px;margin:10px 10px 0px 10px;",""],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.white),(e=>e.isFocused&&Object(a.css)(["outline:1px solid ",";"],(e=>e.theme.colors.lineGrey)))),D=s()(A.a).withConfig({displayName:"SearchInput",componentId:"sc-10kpint-1"})(["border:none;background-image:none;background-color:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;display:flex;flex:1;color:",";font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-size:14px;height:fill-available;width:fill-available;& *{font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;}&:focus{border:none;outline:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;}&:focus ","{border:1px solid ",";}"],(e=>e.theme.colors.white),I,(e=>e.theme.colors.lineGrey));var M=n(69),T=n(13),_=e=>{const t=e.resultItem.map(((t,n)=>n===e.resultItem.length-1?t.name:e.resultItem.length>1?t.name+"/":t.name));return i.a.createElement(R,{onClick:e.onPress},i.a.createElement(P,null,i.a.createElement(L,null,'Create "',t,'"'),0===e.resultsCount&&i.a.createElement(T.a,{getRootElement:e.getRootElement,size:"small",keys:["Enter"]}),e.resultsCount>0&&i.a.createElement(T.a,{size:"small",keys:[e.commandKey,"Enter"],getRootElement:e.getRootElement})),e.children)};s.a.div.withConfig({displayName:"Flex",componentId:"tu6ktc-0"})(["flex:1;"]);const R=s.a.div.withConfig({displayName:"AddNew",componentId:"tu6ktc-1"})(["align-items:start;display:flex;justify-content:center;align-items:center;color:",";background:",";font-size:","px;font-weight:500;min-height:20px;height:fit-content;padding:8px 20px;word-break:break-word;cursor:pointer;border-radius:5px;margin:10px;& *{cursor:pointer;}"],(e=>e.theme.colors.black),(e=>e.theme.colors.white),M.m),P=s.a.div.withConfig({displayName:"ContentBox",componentId:"tu6ktc-2"})(["display:flex;flex-direction:row;grid-gap:10px;font-size:14px;align-items:center;color:",";"],(e=>e.theme.colors.white)),L=s.a.span.withConfig({displayName:"Title",componentId:"tu6ktc-3"})(["color:",";font-size:14px;display:flex;flex:1;"],(e=>e.theme.colors.black));var N=n(12),j=n(9),B=n(4),F=n(7),z=n(22),$=n(5);class H extends i.a.PureComponent{constructor(){super(...arguments),this.resultEntryRef=Object(o.createRef)(),this.pressAllButtonRef=Object(o.createRef)(),this.addSubSpaceIconRef=i.a.createRef(),this.state={checkBoxHover:!1,mouseOverItem:!1,showExtraMenu:!1,confirmOpenAll:!1},this.handleActOnAllPress=e=>{var t,n;return null===(n=(t=this.props).onPressActOnAll)||void 0===n||n.call(t),e.stopPropagation(),!1},this.handleContextMenuBtnPress=e=>(this.props.onContextMenuBtnPress(),e.preventDefault(),e.stopPropagation(),!1),this.handleEditMenuBtnPress=e=>(this.props.onEditMenuBtnPress(),e.preventDefault(),e.stopPropagation(),!1),this.handleOpenInTabGroup=e=>(e.preventDefault(),e.stopPropagation(),this.state.confirmOpenAll?(this.props.onOpenInTabGroupPress(),e.preventDefault(),e.stopPropagation(),setTimeout((()=>{this.setState({confirmOpenAll:!1})}),2e3)):(this.setState({confirmOpenAll:!0}),e.preventDefault(),e.stopPropagation()),!1),this.handleResultPress=e=>{var t,n,r,o,i,a,s,l,c,u,d,p;if(e.shiftKey)this.props.onListFocus(this.props.id);else{if((null===(n=null===(t=this.props.contextMenuBtnRef)||void 0===t?void 0:t.current)||void 0===n?void 0:n.contains(e.target))||(null===(o=null===(r=this.props.goToButtonRef)||void 0===r?void 0:r.current)||void 0===o?void 0:o.contains(e.target))||(null===(a=null===(i=this.props.editMenuBtnRef)||void 0===i?void 0:i.current)||void 0===a?void 0:a.contains(e.target))||(null===(l=null===(s=this.props.extraMenuBtnRef)||void 0===s?void 0:s.current)||void 0===l?void 0:l.contains(e.target))||(null===(u=null===(c=this.props.openInTabGroupButtonRef)||void 0===c?void 0:c.current)||void 0===u?void 0:u.contains(e.target))||this.state.showExtraMenu)return;if(this.props.onPressActOnAll&&null!=this.pressAllButtonRef&&(null===(p=null===(d=this.pressAllButtonRef)||void 0===d?void 0:d.current)||void 0===p?void 0:p.contains(e.target)))return;this.props.onPress()}this.setState({checkBoxHover:!1}),this.props.keepScrollPosition(),e.stopPropagation()},this.scrollIntoView=()=>{var e;null===(e=this.resultEntryRef)||void 0===e||e.current.scrollIntoView({block:"center"})},this.handleOpenSpaceFromPicker=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.props.bgScriptBG.openOverviewTab({selectedSpace:this.props.localId}),e.preventDefault(),e.stopPropagation()}))}renderShowExtraMenu(e){var t,n;return this.state.showExtraMenu?i.a.createElement(z.a,{targetElementRef:null===(t=this.props.extraMenuBtnRef)||void 0===t?void 0:t.current,placement:"top-end",offsetX:10,closeComponent:()=>{this.setState({showExtraMenu:!1})},getPortalRoot:this.props.getRootElement,blockedBackground:!0},i.a.createElement(V,null,i.a.createElement($.a,{onClick:this.handleOpenSpaceFromPicker,icon:"goTo",size:"medium",type:"tertiary",fullWidth:!0,label:"Go to Space",innerRef:this.props.goToButtonRef,width:"100%"}),i.a.createElement($.a,{onClick:this.handleEditMenuBtnPress,icon:"edit",size:"medium",type:"tertiary",fullWidth:!0,label:"Rename & Delete",innerRef:this.props.editMenuBtnRef,width:"100%"}),i.a.createElement($.a,{onClick:this.handleOpenInTabGroup,icon:"goTo",size:"medium",type:"tertiary",fullWidth:!0,label:this.state.confirmOpenAll?"Confirm opening all urls":"Open all pages in new window",innerRef:this.props.openInTabGroupButtonRef,width:"100%"}),this.props.addedToAllIds.includes(e)?i.a.createElement(F.a,{tooltipText:i.a.createElement(i.a.Fragment,null,"All open tabs in this window",i.a.createElement("br",null)," have been added to this Space"),placement:"top",getPortalRoot:this.props.getRootElement},i.a.createElement($.a,{icon:"checkRound",size:"medium",type:"tertiary",fullWidth:!0,label:"Added all tabs in window",innerRef:this.pressAllButtonRef,onClick:null,width:"100%"})):i.a.createElement(F.a,{tooltipText:null!==(n=this.props.actOnAllTooltipText)&&void 0!==n?n:"",placement:"bottom",getPortalRoot:this.props.getRootElement},i.a.createElement($.a,{icon:"multiEdit",size:"medium",type:"tertiary",fullWidth:!0,label:"Add all tabs in window",innerRef:this.pressAllButtonRef,onClick:this.handleActOnAllPress,width:"100%"})))):null}render(){var e,t,n,r,o;const{id:a,focused:s,selected:l,resultItem:c,contextMenuBtnRef:u,shareState:d,dndActions:p}=this.props;let f=parseInt(a.split("ListKeyName-")[1]);return i.a.createElement(Y,{onDragStart:null==p?void 0:p.onDragStart,onDragEnd:null==p?void 0:p.onDragEnd,draggable:!0,onClick:this.handleResultPress,ref:this.resultEntryRef,onMouseOver:()=>{this.props.blockMouseOver||(this.setState({mouseOverItem:!0}),this.props.onFocus())},onMouseEnter:()=>{this.props.blockMouseOver||(this.setState({mouseOverItem:!0}),this.props.onFocus())},onMouseLeave:()=>{this.props.blockMouseOver||this.setState({mouseOverItem:!1})},isFocused:s||this.state.showExtraMenu,id:a,zIndex:1e4-this.props.index,indentSteps:null!==(e=this.props.indentSteps)&&void 0!==e?e:0},i.a.createElement(U,null,null===(n=(t=this.props).renderLeftSideIcon)||void 0===n?void 0:n.call(t)),i.a.createElement(K,null,(null===(r=this.props.ancestryPath)||void 0===r?void 0:r.length)>0&&i.a.createElement(F.a,{tooltipText:"Toggle Path",placement:"bottom",getPortalRoot:this.props.getRootElement,width:""},i.a.createElement(J,{onClick:this.props.onAncestryPathClick},this.props.ancestryPath," ")),i.a.createElement(X,null,c,"shared"===d&&i.a.createElement(F.a,{tooltipText:"Shared Space",placement:"bottom",getPortalRoot:this.props.getRootElement},i.a.createElement(B.a,{heightAndWidth:"14px",icon:"peopleFine",hoverOff:!0,color:"greyScale5"})))),i.a.createElement(G,{mouseOverResult:s||this.state.mouseOverItem},((s||this.state.mouseOverItem)&&null!=this.props.onContextMenuBtnPress||this.state.showExtraMenu)&&i.a.createElement(i.a.Fragment,null,this.renderShowExtraMenu(f),i.a.createElement(F.a,{tooltipText:"Add Sub-Space",placement:"right",targetElementRef:this.addSubSpaceIconRef.current,getPortalRoot:this.props.getRootElement},i.a.createElement(B.a,{containerRef:this.addSubSpaceIconRef,icon:"plus",heightAndWidth:"18px",color:"greyScale5",onClick:e=>{var t,n;e.stopPropagation(),null===(n=(t=this.props).toggleShowNewChildInput)||void 0===n||n.call(t)}})),i.a.createElement(F.a,{tooltipText:"More Options",placement:"bottom",targetElementRef:null===(o=this.props.extraMenuBtnRef)||void 0===o?void 0:o.current,getPortalRoot:this.props.getRootElement},i.a.createElement(W,{ref:this.props.extraMenuBtnRef},i.a.createElement(B.a,{filePath:j.dots,heightAndWidth:"18px",onClick:()=>this.setState({showExtraMenu:!0}),background:this.state.showExtraMenu?"greyScale3":null}))),i.a.createElement(F.a,{tooltipText:"Share Space",placement:"bottom",targetElementRef:null==u?void 0:u.current,getPortalRoot:this.props.getRootElement},i.a.createElement(W,{ref:u},i.a.createElement(B.a,{filePath:j.invite,heightAndWidth:"18px",onClick:this.handleContextMenuBtnPress})))),l&&i.a.createElement(W,null,i.a.createElement(q,{onMouseEnter:()=>this.setState({checkBoxHover:!0}),onMouseLeave:()=>this.setState({checkBoxHover:!1}),selected:l},i.a.createElement(B.a,{icon:j.check,heightAndWidth:"16px",hoverOff:!0,color:this.state.checkBoxHover?"greyScale5":"black"}))),!l&&s&&i.a.createElement(W,null,i.a.createElement(q,{onMouseEnter:()=>this.setState({checkBoxHover:!0}),onMouseLeave:()=>this.setState({checkBoxHover:!1}),selected:l},i.a.createElement(B.a,{icon:j.check,heightAndWidth:"16px",hoverOff:!0,color:this.state.checkBoxHover?"white":"greyScale1"})))))}}const U=s.a.div.withConfig({displayName:"LeftSideIconContainer",componentId:"sc-13vd0hv-0"})([""]),W=(s.a.div.withConfig({displayName:"ActOnAllTabsButton",componentId:"sc-13vd0hv-1"})(["pointer-events:auto !important;"]),s.a.div.withConfig({displayName:"ButtonContainer",componentId:"sc-13vd0hv-2"})(["height:20px;width:20px;display:flex;justify-content:center;border-radius:5px;align-items:center;cursor:pointer;*{cursor:pointer;}"])),V=s.a.div.withConfig({displayName:"ExtraMenuContainer",componentId:"sc-13vd0hv-3"})(["display:flex;flex-direction:column;align-items:flex-start;padding:10px;grid-gap:6px;& > div{width:100%;}"]),q=s.a.div.withConfig({displayName:"SelectionBox",componentId:"sc-13vd0hv-4"})(["height:20px;width:20px;display:flex;justify-content:center;align-items:center;border-radius:5px;background:",";",";"],(e=>e.selected?e.theme.colors.greyScale7:e.theme.colors.greyScale3),(e=>"light"===e.theme.variant&&Object(a.css)(["background:",";"],(e=>e.selected?e.theme.colors.greyScale4:e.theme.colors.greyScale3)))),G=s.a.div.withConfig({displayName:"IconStyleWrapper",componentId:"sc-13vd0hv-5"})(["display:flex;grid-gap:10px;align-items:center;justify-content:flex-end;height:fit-content;position:absolute;right:5px;padding:5px 5px 5px 5px;box-sizing:border-box;",""],(e=>e.mouseOverResult&&Object(a.css)(["border-radius:6px;background:",";"],(e=>e.theme.colors.greyScale2)))),Y=s.a.div.withConfig({displayName:"Row",componentId:"sc-13vd0hv-6"})(["align-items:center;display:flex;justify-content:flex-start;transition:background 0.3s;height:60px;width:fill-available;cursor:pointer;padding:0px 0px 0 ","px;box-sizing:border-box;margin:0 0px;overflow:visible;color:",";z-index:",";&:last-child{border-bottom:none;}"," &:focus{outline:1px solid ",";background:transparent;}",";"],(({indentSteps:e})=>9+15*e),(e=>e.isFocused&&e.theme.colors.greyScale6),(e=>e.isFocused?e.zIndex+1e3:e.zIndex),(e=>e.isFocused&&Object(a.css)(["outline:1px solid ",";background:transparent;"],(e=>e.theme.colors.greyScale4))),(e=>e.theme.colors.greyScale4),(e=>"light"===e.theme.variant&&Object(a.css)(["&:focus{outline:1px solid ",";}&:hover{outline:1px solid ",";background:transparent;}",""],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale2),(e=>e.isFocused&&Object(a.css)(["outline:1px solid ",";background:transparent;"],(e=>e.theme.colors.greyScale2)))))),K=s.a.div.withConfig({displayName:"NameWrapper",componentId:"sc-13vd0hv-7"})(["display:flex;flex-direction:column;align-items:flex-start;padding-left:10px;grid-gap:2px;max-width:80%;font-size:14px;width:100%;min-width:50px;flex:1;"]),J=s.a.div.withConfig({displayName:"PathBox",componentId:"sc-13vd0hv-8"})(["display:flex;justify-content:flex-start;font-size:12px;color:",";grid-gap:0px;padding:0 3px;margin:0 -3px;border-radius:5px;align-items:center;white-space:nowrap;width:fit-content;box-sizing:border-box;&:hover{outline:1px solid ",";cursor:pointer;color:",";}"],(e=>e.theme.colors.greyScale5),(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale7)),X=s.a.div.withConfig({displayName:"NameRow",componentId:"sc-13vd0hv-9"})(["display:flex;align-items:center;grid-gap:5px;width:100%;text-align:left;justify-content:flex-start;"]);var Q=H,Z=n(35);const ee=s.a.div.withConfig({displayName:"ListResultItem",componentId:"sc-1jr6mth-0"})(["display:block;border-radius:4px;color:",";padding:0 0px 0 0;margin:2px 4px 2px 0;font-weight:400;font-size:14px;transition:all 0.1s;word-break:break-word;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;max-width:90%;&:hover{cursor:pointer;}"],(e=>e.theme.colors.greyScale6));var te=n(47),ne=n(194),re=n(195),oe=n(106),ie=n(25),ae=n(209),se=n(191),le=n(6),ce=n(241),ue=n(240);class de extends u.a{constructor(e){super(e,new C(Object.assign(Object.assign({},e),{getListTreeRefs:()=>this.listTreesRefs,getEntryRowRefs:()=>this.entryRowRefs}))),this.displayListRef=i.a.createRef(),this.contextMenuRef=i.a.createRef(),this.editMenuRef=i.a.createRef(),this.contextMenuBtnRef=i.a.createRef(),this.editMenuBtnRef=i.a.createRef(),this.extraMenuBtnRef=i.a.createRef(),this.goToButtonRef=i.a.createRef(),this.openInTabGroupButtonRef=i.a.createRef(),this.searchInputRef=i.a.createRef(),this.listTreesRefs={},this.entryRowRefs={},this.handleSetSearchInputRef=e=>this.processEvent("setSearchInputRef",{ref:e}),this.handleOuterSearchBoxClick=()=>this.processEvent("focusInput",{}),this.handleSearchInputChanged=e=>this.processEvent("searchInputChanged",{query:e}),this.handleNewListAllPress=e=>{e.stopPropagation()},this.handleKeyPress=e=>{e.stopPropagation(),this.processEvent("keyPress",{event:e})},this.keepScrollPosition=()=>{const e=this.displayListRef.current,t=e.scrollTop;null!=e&&0===t&&e.scroll({top:0})},this.handleSpaceContextMenuClose=e=>()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;const n=null===(t=this.props.annotationsCache.getListByLocalId(e))||void 0===t?void 0:t.name;null!=n&&(yield this.processEvent("renameList",{listId:e,name:n})),yield this.processEvent("toggleEntryContextMenu",{listId:e})}))}get shouldShowAddNewEntry(){var e,t,n;if(this.props.filterMode||"running"===this.state.loadState||"page-links"===this.state.currentTab)return!1;const r=null!==(n=null===(t=null===(e=this.state.newEntryName)||void 0===e?void 0:e[this.state.newEntryName.length-1])||void 0===t?void 0:t.name)&&void 0!==n?n:"";return Object(p.a)(r,[]).valid}get selectedCacheListIds(){return this.state.selectedListIds.map((e=>{var t;return null===(t=this.props.annotationsCache.getListByLocalId(e))||void 0===t?void 0:t.unifiedId})).filter(Boolean)}renderEmptyList(){var e,t;return(null===(e=this.state.newEntryName)||void 0===e?void 0:e.length)>0&&!this.props.filterMode||this.state.query.trim().length>0&&0===(null===(t=this.state.filteredListIds)||void 0===t?void 0:t.length)?i.a.createElement(Se,null,i.a.createElement(oe.a,{heightAndWidth:"30px"},i.a.createElement(B.a,{filePath:j.collectionsEmpty,heightAndWidth:"16px",color:"prime1",hoverOff:!0})),i.a.createElement(be,null,"No Space found")):this.state.query.trim().length||this.state.filteredListIds||"page-links"!==this.state.currentTab?this.state.query.trim().length||this.state.filteredListIds?void 0:i.a.createElement(Se,null,i.a.createElement(ve,null,i.a.createElement(B.a,{filePath:j.collectionsEmpty,heightAndWidth:"16px",color:"prime1",hoverOff:!0})),i.a.createElement(be,null,"Create your first Space"),i.a.createElement(ye,null,this.props.filterMode?"to use as a search filter":"by typing into the search field")):i.a.createElement(Se,null,i.a.createElement(ve,null,i.a.createElement(B.a,{filePath:j.collectionsEmpty,heightAndWidth:"16px",color:"prime1",hoverOff:!0})),i.a.createElement(be,null,"Create your first page link"),i.a.createElement(ye,null,'by clicking on "Share Page" ',i.a.createElement("br",null),"in the top right of the sidebar."))}renderListEntries(){let e=this.state.query.trim().length>0,t=g(this.props,this.state);if(e&&(t=t.filter((e=>{var t,n;return null===(n=null===(t=this.state.filteredListIds)||void 0===t?void 0:t.includes(e.unifiedId))||void 0===n||n}))),!t.length)return this.renderEmptyList();const n=(e,t)=>{if(!t)return e;const n=e.split(t);return n.map(((e,r)=>i.a.createElement(i.a.Fragment,{key:r},e,r<n.length-1&&i.a.createElement(Ce,null,t))))};return t.map(((t,r)=>{var o,a,s,l,c,u,d;if(this.state.listIdsShownAsTrees.includes(t.unifiedId)){let s=this.props.annotationsCache.getAllListsInTreeByRootId(null!==(o=t.pathUnifiedIds[0])&&void 0!==o?o:t.unifiedId);return i.a.createElement(Ie,{active:!0,key:t.unifiedId},i.a.createElement(ce.a,{lists:s,ref:e=>this.listTreesRefs[t.unifiedId]=e,authBG:this.props.authBG,listsBG:this.props.spacesBG,cache:this.props.annotationsCache,initListsToDisplayUnfolded:[...this.selectedCacheListIds,...s.map((e=>e.unifiedId))],areListsBeingFiltered:e,initListToDisplayNewChildInput:null!==(a=this.state.listIdToShowNewChildInput)&&void 0!==a?a:void 0},((e,o,a,s)=>{var l,c,u,d,p;return i.a.createElement(Ee,{onDragEnter:s.onDragEnter,onDragLeave:s.onDragLeave,onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:s.onDrop,key:v(t,e)},i.a.createElement(Q,Object.assign({blockMouseOver:this.state.blockMouseOver,id:`ListKeyName-${e.unifiedId}`,ref:n=>this.entryRowRefs[v(t,e)]=n,indentSteps:e.pathUnifiedIds.length,dndActions:s,onPress:()=>{this.processEvent("pressEntry",{entry:e})},onListFocus:()=>this.props.onListFocus(e.localId),addedToAllIds:this.state.addedToAllIds,keepScrollPosition:this.keepScrollPosition,onPressActOnAll:this.props.actOnAllTabs?()=>this.processEvent("resultEntryAllPress",{entry:e}):void 0,bgScriptBG:this.props.bgScriptBG,onFocus:()=>this.processEvent("focusListEntry",{listRenderedId:v(t,e)}),onUnfocus:()=>this.processEvent("focusListEntry",{listRenderedId:null}),index:r,selected:this.state.selectedListIds.includes(e.localId),focused:this.state.focusedListRenderedId===v(t,e),resultItem:i.a.createElement(ee,null,n(e.name,this.state.query)),contextMenuBtnRef:this.contextMenuBtnRef,goToButtonRef:this.goToButtonRef,editMenuBtnRef:this.editMenuBtnRef,extraMenuBtnRef:this.extraMenuBtnRef,openInTabGroupButtonRef:this.openInTabGroupButtonRef,onContextMenuBtnPress:(null===(l=e.creator)||void 0===l?void 0:l.id)===(null===(c=this.state.currentUser)||void 0===c?void 0:c.id)?()=>this.processEvent("toggleEntryContextMenu",{listId:e.localId}):void 0,onEditMenuBtnPress:(null===(u=e.creator)||void 0===u?void 0:u.id)===(null===(d=this.state.currentUser)||void 0===d?void 0:d.id)?()=>this.processEvent("toggleEntryEditMenu",{listId:e.localId}):void 0,onOpenInTabGroupPress:()=>this.processEvent("onOpenInTabGroupPress",{listId:e.localId}),actOnAllTooltipText:"Add all tabs in window to Space",shareState:null===(p=null==e?void 0:e.isPrivate)||void 0===p||p?"private":"shared",getRootElement:this.props.getRootElement},e,{toggleShowNewChildInput:a.toggleShowNewChildInput,renderLeftSideIcon:()=>i.a.createElement(ue.a,{getRootElement:this.props.getRootElement,treeState:o,actions:Object.assign(Object.assign({},a),{toggleShowChildren:()=>{null==e.parentUnifiedId?this.processEvent("toggleListShownAsTree",{listRenderedId:v(t,e)}):a.toggleShowChildren()}})})})))})))}let p=t.pathUnifiedIds.map(((e,t)=>{let n=this.props.annotationsCache.lists.byId[e];return n?{unifiedId:n.unifiedId,name:n.name}:null})).filter(Boolean);const f=p.reduce(((e,t)=>e+t.name.length),0)>30;if(f){const e=p[0];if(p.length>1){const t=p[p.length-1];let n=p.slice(1,-1);for(let e of n)e.name="...";n.length>2&&(n=n.slice(0,2));const r=30-e.name.length-t.name.length-2*n.length;p[p.length-1].name=p[p.length-1].name.slice(0,Math.floor(r/2)),p[0].name=p[0].name.slice(0,Math.floor(r/2))}else p[0].name=p[0].name.slice(0,Math.floor(30))}let h=p.map(((e,t)=>i.a.createElement(Ae,{shouldShorten:f&&p.length>1,key:e.unifiedId},t>0&&i.a.createElement(B.a,{filePath:"arrowRight",heightAndWidth:"14px",color:"greyScale4",hoverOff:!0}),i.a.createElement(Oe,null,e.name))));return i.a.createElement(Ie,{active:!1,key:t.unifiedId},i.a.createElement(Ee,null,i.a.createElement(Q,Object.assign({blockMouseOver:this.state.blockMouseOver,ancestryPath:h,onAncestryPathClick:e=>{e.stopPropagation(),this.processEvent("toggleListShownAsTree",{listRenderedId:v(t)})},id:`ListKeyName-${t.unifiedId}`,ref:e=>this.entryRowRefs[v(t)]=e,onPress:()=>{this.processEvent("pressEntry",{entry:t})},onListFocus:()=>this.props.onListFocus(t.localId),addedToAllIds:this.state.addedToAllIds,keepScrollPosition:this.keepScrollPosition,onPressActOnAll:this.props.actOnAllTabs?()=>this.processEvent("resultEntryAllPress",{entry:t}):void 0,bgScriptBG:this.props.bgScriptBG,onFocus:()=>this.processEvent("focusListEntry",{listRenderedId:v(t)}),onUnfocus:()=>this.processEvent("focusListEntry",{listRenderedId:null}),index:r,selected:this.state.selectedListIds.includes(t.localId),focused:this.state.focusedListRenderedId===v(t),resultItem:i.a.createElement(ee,null,n(t.name,this.state.query)),contextMenuBtnRef:this.contextMenuBtnRef,goToButtonRef:this.goToButtonRef,editMenuBtnRef:this.editMenuBtnRef,extraMenuBtnRef:this.extraMenuBtnRef,openInTabGroupButtonRef:this.openInTabGroupButtonRef,onContextMenuBtnPress:(null===(s=t.creator)||void 0===s?void 0:s.id)===(null===(l=this.state.currentUser)||void 0===l?void 0:l.id)?()=>this.processEvent("toggleEntryContextMenu",{listId:t.localId}):void 0,onEditMenuBtnPress:(null===(c=t.creator)||void 0===c?void 0:c.id)===(null===(u=this.state.currentUser)||void 0===u?void 0:u.id)?()=>this.processEvent("toggleEntryEditMenu",{listId:t.localId}):void 0,onOpenInTabGroupPress:()=>this.processEvent("onOpenInTabGroupPress",{listId:t.localId}),actOnAllTooltipText:"Add all tabs in window to Space",shareState:null===(d=null==t?void 0:t.isPrivate)||void 0===d||d?"private":"shared",getRootElement:this.props.getRootElement,toggleShowNewChildInput:()=>this.processEvent("toggleListShownAsTree",{listRenderedId:v(t),shouldShowNewChildInput:!0})},t,{renderLeftSideIcon:()=>{var e;const n=(null===(e=this.props.annotationsCache.getListsByParentId(t.unifiedId))||void 0===e?void 0:e.length)>0;return i.a.createElement(F.a,{tooltipText:n?"Show Sub-Spaces":"Add Subspace",placement:"bottom",getPortalRoot:this.props.getRootElement,hideTooltip:n},i.a.createElement(B.a,{icon:n?"arrowRight":"plus",color:n?"greyScale5":"greyScale4",heightAndWidth:"18px",padding:"1px",onClick:e=>{e.stopPropagation(),this.processEvent("toggleListShownAsTree",{listRenderedId:v(t),shouldShowNewChildInput:!n})}}))}}))))}))}renderMainContent(){var e,t,n,o,a;if("running"===this.state.loadState)return i.a.createElement(we,null,i.a.createElement(N.a,{size:30}));if(null!=this.state.contextMenuListId){const n=this.props.annotationsCache.getListByLocalId(this.state.contextMenuListId);return i.a.createElement(i.a.Fragment,null,i.a.createElement(me,null,i.a.createElement($.a,{type:"tertiary",size:"small",label:"Go back",icon:"arrowLeft",onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.processEvent("toggleEntryContextMenu",{listId:n.localId})}))}),null!=n.remoteId&&i.a.createElement($.a,{type:"tertiary",size:"small",label:"Open Space",icon:"globe",onClick:()=>this.processEvent("openListInWebUI",{unifiedListId:n.unifiedId}),padding:"3px 6px"})),i.a.createElement(ne.a,{isCreator:(null===(e=n.creator)||void 0===e?void 0:e.id)===(null===(t=this.state.currentUser)||void 0===t?void 0:t.id),listData:n,ref:this.contextMenuRef,contentSharingBG:this.props.contentSharingBG,analyticsBG:this.props.analyticsBG,errorMessage:this.state.renameListErrorMessage,onSetSpacePrivate:e=>this.processEvent("setListPrivacy",{listId:n.localId,isPrivate:e}),getRootElement:this.props.getRootElement}))}if(null!=this.state.editMenuListId){const e=this.props.annotationsCache.getListByLocalId(this.state.editMenuListId);return i.a.createElement(i.a.Fragment,null,i.a.createElement(me,null,i.a.createElement($.a,{type:"tertiary",size:"small",label:"Go back",icon:"arrowLeft",onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.processEvent("toggleEntryEditMenu",{listId:e.localId})}))})),i.a.createElement(re.a,{loadOwnershipData:!0,isCreator:(null===(n=e.creator)||void 0===n?void 0:n.id)===(null===(o=this.state.currentUser)||void 0===o?void 0:o.id),listData:e,ref:this.editMenuRef,contentSharingBG:this.props.contentSharingBG,analyticsBG:this.props.analyticsBG,spacesBG:this.props.spacesBG,onDeleteSpaceConfirm:()=>{this.processEvent("deleteList",{listId:e.localId})},errorMessage:this.state.renameListErrorMessage,onConfirmSpaceNameEdit:t=>{this.processEvent("renameList",{listId:e.localId,name:t})},onCancelEdit:this.handleSpaceContextMenuClose(e.localId),getRootElement:this.props.getRootElement}))}return i.a.createElement(ke,null,i.a.createElement(he,null,i.a.createElement(O,{searchInputRef:this.searchInputRef,searchInputPlaceholder:this.props.searchInputPlaceholder?this.props.searchInputPlaceholder:this.props.filterMode?"Search for Spaces to filter":"Search & Add Spaces",showPlaceholder:0===this.state.selectedListIds.length,onChange:this.handleSearchInputChanged,onKeyDown:e=>{this.handleKeyPress(e)},value:this.state.query,autoFocus:!(this.state.listIdToShowNewChildInput||this.state.listIdsShownAsTrees.length>0),borderRadius:"12px 12px 0 0"})),i.a.createElement(ge,{shouldScroll:this.state.listEntries.allIds.length<5,ref:this.displayListRef,context:this.props.context},this.props.showPageLinks&&i.a.createElement(pe,null,i.a.createElement(fe,{active:"user-lists"===this.state.currentTab,onClick:()=>this.processEvent("switchTab",{tab:"user-lists"})},"Spaces"),i.a.createElement(fe,{active:"page-links"===this.state.currentTab,onClick:()=>this.processEvent("switchTab",{tab:"page-links"})},"Page Links")),this.renderListEntries()),this.shouldShowAddNewEntry&&i.a.createElement(_,{resultItem:this.state.newEntryName,onPress:()=>this.processEvent("pressNewEntry",null),resultsCount:null===(a=this.state.filteredListIds)||void 0===a?void 0:a.length,commandKey:de.MOD_KEY,getRootElement:this.props.getRootElement}))}render(){return i.a.createElement(a.ThemeProvider,{theme:Z.h},this.state.spaceWriteError&&i.a.createElement(se.a,{closeComponent:()=>{this.processEvent("setSpaceWriteError",{error:null})},getPortalRoot:this.props.getRootElement,blockedBackground:!0,positioning:"centerCenter",title:"Error saving note",errorMessage:this.state.spaceWriteError}),i.a.createElement(xe,{onClick:this.handleOuterSearchBoxClick,width:this.props.width,context:this.props.context},this.renderMainContent()))}}de.defaultProps={authBG:te.b,spacesBG:te.d,analyticsBG:te.a,bgScriptBG:Object(le.k)(),contentSharingBG:te.e,localStorageAPI:c.a.storage.local,pageActivityIndicatorBG:te.h,annotationsCache:new ae.a({})},de.MOD_KEY=Object(ie.a)({key:"mod"});const pe=s.a.div.withConfig({displayName:"OutputSwitcherContainer",componentId:"srir6-0"})(["display:flex;border-radius:6px;margin-bottom:10px;width:fill-available;"]),fe=s.a.div.withConfig({displayName:"OutputSwitcher",componentId:"srir6-1"})(["display:flex;color:",";padding:5px 10px;font-size:12px;cursor:pointer;justify-content:center;width:50%;border-radius:4px;",""],(e=>"light"===e.theme.variant?e.theme.colors.greyScale5:e.theme.colors.greyScale7),(e=>e.active&&Object(a.css)(["outline:1px solid ",";"],(e=>e.theme.colors.greyScale2)))),he=s.a.div.withConfig({displayName:"SearchContainer",componentId:"srir6-2"})(["border-radius:12px 12px 0 0;"]),me=s.a.div.withConfig({displayName:"PrimaryActionBox",componentId:"srir6-3"})(["padding:2px 9px 5px 5px;margin-bottom:5px;border-bottom:1px solid ",";display:flex;align-items:center;justify-content:space-between;"],(e=>e.theme.colors.greyScale3)),ge=s.a.div.withConfig({displayName:"EntryList",componentId:"srir6-4"})(["position:relative;height:100%;padding:5px 0px 10px 0px;overflow:scroll;max-height:300px;scrollbar-width:none;&::-webkit-scrollbar{display:none;}",";",";"],(e=>"popup"===e.context&&Object(a.css)(["width:fill-available;height:100%;max-height:400px;"])),(e=>e.shouldScroll&&Object(a.css)(["overflow:visible;"]))),ve=s.a.div.withConfig({displayName:"SectionCircle",componentId:"srir6-5"})(["background:",";border:1px solid ",";border-radius:8px;height:30px;width:30px;display:flex;justify-content:center;align-items:center;",";"],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale6),(e=>"light"===e.theme.variant&&Object(a.css)(["border-color:",";"],e.theme.colors.greyScale3))),ye=s.a.div.withConfig({displayName:"InfoText",componentId:"srir6-6"})(["color:",";font-size:14px;font-weight:300;text-align:center;"],(e=>e.theme.colors.greyScale5)),be=s.a.div.withConfig({displayName:"SectionTitle",componentId:"srir6-7"})(["color:",";font-size:14px;font-weight:400;margin-top:10px;"],(e=>e.theme.colors.greyScale6)),we=s.a.div.withConfig({displayName:"LoadingBox",componentId:"srir6-8"})(["display:flex;align-items:center;justify-content:center;height:130px;width:100%;"]),xe=s.a.div.withConfig({displayName:"OuterSearchBox",componentId:"srir6-9"})(["border-radius:12px;width:",";min-height:300px;background:",";",";"],(e=>e.width?e.width:"300px"),(e=>e.theme.colors.black1),(e=>"popup"===e.context&&Object(a.css)(["width:fill-available;"]))),ke=s.a.div.withConfig({displayName:"PickerContainer",componentId:"srir6-10"})(["border-radius:12px;width:fill-available;"]),Se=s.a.div.withConfig({displayName:"EmptyListsView",componentId:"srir6-11"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;grid-gap:5px;padding:20px 15px;"]),Ee=s.a.div.withConfig({displayName:"EntryRowContainer",componentId:"srir6-12"})(["display:flex;flex-direction:row;align-items:center;position:relative;"]),Ce=s.a.span.withConfig({displayName:"HighlightedTextSpan",componentId:"srir6-13"})(["background:",";border-radius:4px;margin:0 2px;color:",";white-space:nowrap;"],(e=>e.theme.colors.prime1),(e=>e.theme.colors.black)),Ae=s.a.div.withConfig({displayName:"PathElementBox",componentId:"srir6-14"})(["overflow:hidden;display:flex;align-items:center;"]),Oe=s.a.div.withConfig({displayName:"BreadCrumbItem",componentId:"srir6-15"})(["font-size:12px;color:",";max-width:fit-content;margin-right:5px;cursor:pointer;white-space:nowrap;width:fit-content;text-overflow:ellipsis;overflow:hidden;"],(e=>e.theme.colors.greyScale5)),Ie=s.a.div.withConfig({displayName:"EntryOuterContainer",componentId:"srir6-16"})(["border-bottom:1px solid ",";",";&:last-child{border-bottom:none;}"],(e=>e.theme.colors.greyScale2),(e=>e.active&&Object(a.css)(["background:",";"],(e=>e.theme.colors.black2))));t.a=de},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(51),o=n(102);const i=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e));function a(e,t){if(t=Object.assign({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),Reflect.has(t,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");const n=(e=e.trim()).startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const a=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");t.forceHttp&&"https:"===a.protocol&&(a.protocol="http:"),t.forceHttps&&"http:"===a.protocol&&(a.protocol="https:"),t.stripAuthentication&&(a.username="",a.password="");if(t.stripHash&&!["web.telegram.org","mail.google.com"].includes(a.hostname)&&(a.hash=""),a.pathname&&(a.pathname=a.pathname.replace(/((?!:).|^)\/{2,}/g,((e,t)=>/^(?!\/)/g.test(t)?`${t}/`:"/"))),a.pathname&&(a.pathname=decodeURI(a.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=a.pathname.split("/");const n=e[e.length-1];i(n,t.removeDirectoryIndex)&&(e=e.slice(0,e.length-1),a.pathname=e.slice(1).join("/")+"/")}if(a.hostname&&(a.hostname=a.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(a.hostname)&&(a.hostname=a.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters)&&a.searchParams)for(const e of[...a.searchParams.keys()])i(e,t.removeQueryParameters)&&a.searchParams.delete(e);if(t.sortQueryParameters&&a.searchParams&&a.searchParams.sort(),t.removeTrailingSlash&&(a.pathname=a.pathname.replace(/\/$/,"")),e=a.toString(),!t.removeTrailingSlash&&"/"!==a.pathname||""!==a.hash||(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),Object(r.e)(e)){const t=new URL(e);let n;if(e.includes("/live/")){const e=t.pathname.split("/");n=e[e.length-1]}else if(n=t.searchParams.get("v"),!n){const e=t.pathname.split("/");n=e[e.length-1]}e=`https://youtube.com/watch?v=${n}`}return e.includes("web.telegram.org/")&&(e=Object(o.b)(e)),e.includes("mail.google.com/mail")&&(e=function(e){let t=e;if(e.includes("#search")||e.includes("#inbox")||e.includes("#sent")||e.includes("#snoozed")||e.includes("#drafts")||e.includes("#imp")||e.includes("#scheduled")){const n=e.split("/");t=`https://mail.google.com/mail/#inbox/${n[n.length-1]}`}return t}(e)),e.endsWith("/")&&(e=e.slice(0,-1)),e}function s(e){return/^(https?|file):\/\//i.test(e)}function l(e){return e.startsWith("file://")||e.startsWith("blob:")}},function(e,t,n){var r=n(148),o=n(177);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var o=r(n(0)).default.createContext(null);t.ReactReduxContext=o;var i=o;t.default=i},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(12);class l extends r.PureComponent{render(){const{size:e,className:t,width:n,height:r}=this.props;return o.a.createElement(c,{width:n,height:r},o.a.createElement(s.a,{size:e}))}}const c=a.a.div`
    display: flex;
    justify-content: center;
    align-items: center;
    width: ${e=>e.width||"100%"};
    height: ${e=>e.height||"100%"};
`;t.a=l},,function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(259);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(142),o=n(48);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},function(e,t,n){var r=n(48),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(403),o=n(404),i=n(405),a=n(406),s=n(407);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(125);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(87)(Object,"create");e.exports=r},function(e,t,n){var r=n(421);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},,function(e,t,n){var r=n(88),o=n(48);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(398),o=n(50),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(40),o=n(399),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(this,n(111)(e))},function(e,t,n){var r=n(143),o=n(408),i=n(409),a=n(410),s=n(411),l=n(412);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(93);function o(e,{listTrees:t},n){let o=new Map;return e.filter((e=>null==e.parentUnifiedId)).flatMap((i=>Object(r.d)({root:i,strategy:"dfs",getChildren:t=>e.filter((e=>e.parentUnifiedId===t.unifiedId)).reverse(),cb:e=>{let r=t.byId[e.parentUnifiedId];if(null==t.byId[e.unifiedId])return null;if(null!=e.parentUnifiedId){let t=o.get(e.parentUnifiedId);if(!(n.areListsBeingFiltered||t&&(null==r?void 0:r.areChildrenShown)))return null}return o.set(e.unifiedId,!0),e}}))).filter(Boolean)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(76);const o=(e,t)=>{const n=a(e),o=a(t);return n||o?n?o?Object(r.b)(n,"TextPositionSelector").start-Object(r.b)(o,"TextPositionSelector").start:1e5:-1e5:0},i=(e,t)=>new Date(e.createdWhen).getTime()-new Date(t.createdWhen).getTime(),a=({selector:e})=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){return null}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4);class l extends r.Component{constructor(e){super(e),this.textAreaRef=o.a.createRef(),this.adjustHeight=()=>{const e=this.textAreaRef.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},this.state={numberOfLines:1}}componentDidMount(){this.props.autoFocus&&setTimeout((()=>{var e,t,n;const r=this.textAreaRef.current;if(r){const o=null!==(n=(null===(e=this.props.value)||void 0===e?void 0:e.length)||(null===(t=r.value)||void 0===t?void 0:t.length))&&void 0!==n?n:0;r.setSelectionRange(o,o)}}),50),this.adjustHeight()}componentDidUpdate(e){this.adjustHeight()}render(){var e;const{numberOfLines:t}=this.state,{icon:n,placeholder:r,value:i,onChange:a,onKeyDown:l,onKeyUp:p,disabled:f,notResizable:h,textColor:m,height:g,autoFocus:v,onClick:y,minHeight:b,actionButton:w,borderColor:x}=this.props;return o.a.createElement(c,{onClick:y,hasIcon:!!n,background:this.props.background,borderColor:x},n&&o.a.isValidElement(n)&&o.a.createElement(d,null,n),n&&"string"==typeof n&&!o.a.isValidElement(n)&&o.a.createElement(d,null,o.a.createElement(s.a,{filePath:n,heightAndWidth:"20px",hoverOff:!0})),o.a.createElement(u,{ref:null!==(e=this.props.ref)&&void 0!==e?e:this.textAreaRef,rows:t,placeholder:r,value:i,onChange:a,onKeyDown:l,autoComplete:"off",disabled:f,onKeyUp:p,notResizable:h,textColor:m,contentEditable:!0,hasIcon:!!n,autoFocus:v,morethanOneLine:t>1,height:g,minHeight:this.props.minHeight,maxHeight:this.props.maxHeight,defaultValue:this.props.defaultValue}),w&&w)}}const c=a.a.div`
    width: fill-available;
    width: -moz-available;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    background-color: ${e=>e.theme.colors.greyScale2};
    border-radius: 8px;
    height: ${e=>e.height?e.height:"fit-content"};

    flex: 1;
    position: relative;

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;

    &:focus-within {
        outline: 1px solid ${e=>e.theme.colors.greyScale4};
    }

    ${e=>"light"===e.theme.variant&&i.css`
            &:focus-within {
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};

    ${e=>e.hasIcon&&i.css`
            padding: 0 0 0 15px;
        `};
    ${e=>e.background&&i.css`
            background-color: ${e=>e.theme.colors[e.background]};
        `};
    ${e=>e.borderColor&&i.css`
            outline: 1px solid
                ${e=>e.theme.colors[e.borderColor]};
        `};
`,u=a.a.textarea`
    resize: vertical;

    ${e=>e.notResizable&&i.css`
            resize: none;
        `}

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;
    display: flex;
    align-items: center;
    overflow: scroll;
    width: inherit;
    font-size: 14px;
    white-space: pre-wrap;
    line-height: 22px;
    border: none;
    background-color: transparent;
    color: ${e=>e.textColor?e.theme.colors[e.textColor]:e.theme.colors.white};
    font-weight: 400;
    font-family: ${e=>e.theme.fonts.primary};
    min-height: ${e=>e.minHeight?e.minHeight:"24px"};
    max-height: ${e=>e.maxHeight&&e.maxHeight};

    padding: 10px;
    &::placeholder {
        color: ${e=>e.theme.colors.greyScale5};
        align-self: center;
        vertical-align: middle;
    }

    &:focus {
        outline: none;
    }

    &:focus ${c} {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
    }

    ${e=>"light"===e.theme.variant&&i.css`
            &:focus {
                outline: 1px solid ${e=>e.theme.colors.greyScale2};
            }
        `};
    ${e=>e.hasIcon&&i.css`
            padding: 10px 10px 10px 10px;
        `};
    ${e=>e.hasIcon&&e.morethanOneLine&&i.css`
            padding-bottom: 10px;
        `};
`,d=a.a.div`
    display: flex;
    margin-top: 8px;
`},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(51);function o(e,t,n){if("A"===e.target.nodeName){e.stopPropagation();let o=e.target.href,i=new URL(o),a=i.origin+i.pathname,s=i.searchParams,l=s.get("t");if("dashboard"===t||"webUI"===t)if(Object(r.e)(o)&&s.get("t")){const t=n();if(t){let n=Object(r.c)(o),i=s.get("t").toString();if(i.includes("s")){let e=i.replace("s","");i=e}t.playerInfo.videoData.video_id===n&&(t.seekTo(i),e.preventDefault())}}else if(o.includes("https://vimeo.com/")&&o.includes("#t=")){const t=document.getElementsByClassName("videoFrame");for(const n of Object(t)){const t=n.getAttribute("src"),r=new URL(t),o=r.origin+r.pathname,s=a.split("vimeo.com/")[1],l=o.split("video/")[1],c=o+"?autoplay=1"+i.hash;l===s&&(n.setAttribute("src",c),e.preventDefault())}}else window.open(o,"_blank");else if("in-page"===t){let t=e.target.baseURI;const n=new URLSearchParams(new URL(t).search);n.forEach(((e,t)=>{"v"!==t&&n.delete(t)})),t=t.split("?")[0]+"?"+n.toString();let i=new URL(t),c=(i.origin+i.pathname).toString();if(Object(r.e)(t)&&s.get("t")){if(Object(r.c)(o)===Object(r.c)(t)){document.getElementsByTagName("video")[0].currentTime=parseInt(l.replace("s","")),e.preventDefault(),e.stopPropagation()}}else if(t.includes("vimeo.com/")&&o.includes("https://vimeo.com/")&&o.includes("#t=")){let n=o.split("#t=")[1],r=60*parseInt(n.split("m")[0])+parseInt(n.split("m")[1].replace("s"));if(o.split("#t=")[0]===t.split("#t=")[0]){const t=document.getElementsByTagName("video")[0];t.play(),t.currentTime=r,e.preventDefault()}}else if(a===c&&(o.includes("?t=")||o.includes("&t="))){const t=document.getElementsByTagName("video")[0],n=document.getElementById("player");null!=t&&(t.currentTime=parseInt(l)),null!=n&&(n.currentTime=parseInt(l)),e.preventDefault()}else window.open(o,"_blank")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n};t.default=r,e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="pdfjs/viewer.html"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Popper",{enumerable:!0,get:function(){return r.Popper}}),Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return o.Manager}}),Object.defineProperty(t,"Reference",{enumerable:!0,get:function(){return i.Reference}}),Object.defineProperty(t,"usePopper",{enumerable:!0,get:function(){return a.usePopper}});var r=n(537),o=n(205),i=n(540),a=n(300)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4);class l extends o.a.PureComponent{constructor(){super(...arguments),this.state={isOpen:!1,selected:this.props.keepSelectedState?this.props.initSelectedIndex:-1,isOpened:!1},this.lastToggleCall=0,this.toggleMenu=()=>{const e=Date.now();e-this.lastToggleCall<100||(this.lastToggleCall=e,this.props.toggleOpen?this.props.toggleOpen():this.setState((e=>({isOpen:!e.isOpen}))))},this.handleItemClick=(e,t)=>n=>{e.isDisabled?n.preventDefault():(this.setState({isOpen:this.props.keepSelectedState,selected:t,isOpened:!1}),this.props.onMenuItemClick(e,t))}}get theme(){return Object.assign(Object.assign({},this.props.theme),{isMenuOpen:this.state.isOpen})}get isOpen(){var e;return null!==(e=this.props.isOpen)&&void 0!==e?e:this.state.isOpen}renderMenuItems(){const e=this.props.menuItems[this.state.selected];return this.state.isOpened?o.a.createElement(h,{isOpen:this.state.isOpened},this.props.menuItems.map(((e,t)=>o.a.createElement(u,{key:t,onClick:this.handleItemClick(e,t),isSelected:this.state.selected===t,backgroundColor:this.props.backgroundColor,elementHeight:this.props.elementHeight,isOpened:this.state.isOpened},o.a.createElement(d,{isSelected:this.state.selected===t},o.a.createElement(c,null,o.a.createElement(d,{isSelected:this.state.selected===t},e.name),e.info&&o.a.createElement(p,null,e.info)),this.state.selected===t&&o.a.createElement(s.a,{filePath:"check",color:"prime1",heightAndWidth:"18px",hoverOff:!0})))))):o.a.createElement(u,{key:this.state.selected,onClick:()=>{this.setState({isOpened:!0})},isSelected:!0,backgroundColor:this.props.backgroundColor,elementHeight:this.props.elementHeight,isOpened:this.state.isOpened},o.a.createElement(d,{isSelected:!0},o.a.createElement(c,null,e.name,e.info&&o.a.createElement(p,null,e.info)),o.a.createElement(s.a,{filePath:"arrowDown",color:"greyScale7",heightAndWidth:"18px",hoverOff:!0})))}render(){var e;return o.a.createElement(i.ThemeProvider,{theme:this.theme},o.a.createElement(f,{elementHeight:this.props.elementHeight,onMouseEnter:e=>{e.preventDefault(),e.stopPropagation},onMouseLeave:e=>{e.preventDefault(),e.stopPropagation},width:this.props.width,isOpen:this.state.isOpened},null!==(e=this.props.children)&&void 0!==e?e:this.renderMenuItems()))}}l.defaultProps={initSelectedIndex:0};const c=a.a.div.withConfig({displayName:"MenuItemBox",componentId:"ajtzd0-0"})(["display:flex;align-items:flex-start;justify-content:center;flex-direction:column;grid-gap:5px;"]),u=a.a.div.withConfig({displayName:"MenuItem",componentId:"ajtzd0-1"})(["background:",";padding:0px 10px 0px 15px;line-height:20px;width:fill-available;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;white-space:nowrap;border-radius:6px;cursor:pointer;height:",";",";",";"],(e=>e.backgroundColor&&e.theme.colors[e.backgroundColor]),(e=>e.elementHeight?e.elementHeight:"60px"),(e=>!e.isSelected&&Object(i.css)(["cursor:pointer;&:hover{outline:1px solid ",";}& *{cursor:pointer;}"],(e=>e.theme.colors.greyScale3))),(e=>!e.isOpened&&Object(i.css)(["&:hover{outline:1px solid ",";}& *{cursor:pointer;}"],(e=>e.theme.colors.greyScale3)))),d=(a.a.div.withConfig({displayName:"MenuTitle",componentId:"ajtzd0-2"})(["padding:8px 15px 0px 15px;margin-bottom:10px;font-size:14px;"]),a.a.div.withConfig({displayName:"MenuItemName",componentId:"ajtzd0-3"})(["color:",";font-size:14px;display:flex;align-items:center;grid-gap:5px;justify-content:space-between;width:-webkit-fill-available;"],(e=>e.theme.colors.white))),p=a.a.div.withConfig({displayName:"MenuItemInfo",componentId:"ajtzd0-4"})(["font-weight:400;font-size:12px;color:",";"],(e=>e.theme.colors.greyScale5)),f=a.a.div.withConfig({displayName:"Menu",componentId:"ajtzd0-5"})(["list-style:none;border-radius:6px;width:",";flex-direction:column;z-index:1000;width:100%;position:relative;height:",";overflow:visible;margin-bottom:10px;"],(e=>{var t;return null!==(t=e.width)&&void 0!==t?t:"max-content"}),(e=>{var t;return null!==(t=e.elementHeight)&&void 0!==t?t:"60px"})),h=a.a.div.withConfig({displayName:"MenuItemContainerUnfolded",componentId:"ajtzd0-6"})(["display:flex;position:absolute;flex-direction:column;width:100%;border-radius:6px;background:",";",""],(e=>e.theme.colors.greyScale2),(e=>e.isOpen&&Object(i.css)(["outline:1px solid ",";"],(e=>e.theme.colors.greyScale3))))},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(59),c=n(60),u=n(228),d=n.n(u),p=n(311),f=n.n(p),h=n(229),m=n.n(h),g=n(188),v=n.n(g),y=n(17);const b=y.Node.create({name:"wikiLinks",group:"inline",inline:!0,content:"inline*",selectable:!1,addAttributes:()=>({class:{default:null}}),parseHTML:()=>[{tag:"span.memex-wikilink",getAttrs:e=>{const t=e;return{id:t.getAttribute("id"),class:t.getAttribute("class"),content:t.getAttribute("content")}}},{tag:"span.memex-wikilink-delimiter",getAttrs:e=>{const t=e;return{id:t.getAttribute("id"),class:t.getAttribute("class"),content:t.getAttribute("content")}}}],renderHTML:({HTMLAttributes:e})=>["span",Object(y.mergeAttributes)(e),0],addCommands(){return{insertWikiLinkNode:e=>({tr:t,state:n,commands:r})=>{const{id:o,content:i,delimiter:a}=e,{selection:s}=n,{from:l,to:c}=s;let u=l-2,d=c+2;return u=Math.max(u,0),d=Math.min(d,t.doc.content.size),"wikilink"===a&&(r.deleteRange({from:u+1,to:d}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink-delimiter"},content:[{type:"text",text:"[["}]}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink"},content:[{type:"text",text:i}]}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink-delimiter"},content:[{type:"text",text:"]]"}]})),"hashtag"===a&&(r.deleteRange({from:u+2,to:d}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink-delimiter"},content:[{type:"text",text:"#"}]}),r.insertContent({type:this.name,attrs:{class:"memex-wikilink"},content:[{type:"text",text:i}]})),!0}}}});var w=n(497),x=n.n(w),k=n(498),S=n.n(k),E=n(499),C=n.n(E),A=n(500),O=n.n(A),I=n(224),D=n.n(I),M=n(225),T=n.n(M),_=n(501),R=n.n(_),P=n(312),L=n.n(P),N=n(72),j=n(4),B=n(7),F=n(22),z=n(27),$=n(215),H=n(309),U=n.n(H),W=n(314),V=n(39);const q=y.Extension.create({name:"no_new_line",addProseMirrorPlugins:()=>[new V.Plugin({key:new V.PluginKey("eventHandler"),props:{handleKeyDown:(e,t)=>{const n="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey;if("Enter"===t.key&&n)return!0}}})]});var G=n(156),Y=n(105),K=n.n(Y),J=n(189);const X=()=>{const e=document.getElementsByTagName("video")[0],t=document.getElementById("player");if(e||t)return!0},Q=s.a.div`
    display: flex;
    align-items: center;
    grid-gap: 10px;

    white-space: nowrap;
`,Z=s.a.div`
    color: ${e=>e.theme.colors.greyScale5};
    font-size: 12px;
    width: 100%;
    height: -webkit-fill-available;
    margin-top: 1px;
    width: 100%;
`,ee=s.a.div`
    display: flex;
    align-items: center;
    justify-content: flex-start;
    width: fill-available;
    width: -moz-available;
    grid-gap: 20px;
    padding: 0 10px;
    color: ${e=>e.theme.colors.greyScale7};
    flex-direction: row;
    border-radius: 6px;
    &:hover {
        background-color: ${e=>e.theme.colors.greyScale2};
    }
    grid-gap: 10px;
`,te=s.a.div`
    height: fit-content;
`,ne=s.a.div`
    display: flex;
    flex-direction: column;
    grid-gap: 5px;
    justify-content: space-between;
    max-height: 400px;
    overflow: scroll;
    padding: 10px;
    width: 350px;
    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }
`,re=s.a.div`
    display: flex;
    justify-content: space-between;
    border-radius: 5px;
    color: ${e=>e.theme.colors.greyScale7};
    height: 34px;
    font-size: 14px;
    align-items: center;
    padding: 0 10px;
    &:hover {
        background-color: ${e=>e.theme.colors.greyScale2};
    }

    ${e=>e.isSelected&&a.css`
            background-color: ${e=>e.theme.colors.greyScale2};
        `}
`,oe=s.a.div`
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 30px;
    background-color: ${e=>e.theme.colors.black};
    position: sticky;
    bottom: 0;
    cursor: pointer;
    box-sizing: border-box;

    &:hover {
        cursor: pointer;
    }
`,ie=a.keyframes`
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
`,ae=(s.a.span`
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    border-top-color: black;
    animation: ${ie} 1s linear infinite;
`,s.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    grid-gap: 5px;
    padding: 5px;
`),se=s.a.div`
    color: ${e=>e.theme.colors.greyScale5};
    font-size: 12px;
    padding: 0 10px 5px 10px;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
`,le=(a.keyframes`
  0% {
    transform: translateY(50%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
`,s.a.div`
    display: flex;
    width: fill-available;
    height: fit-content;
    grid-gap: 10px;
    padding: 5px 10px;
    justify-content: space-between;
    // border-top: 1px solid ${e=>e.theme.colors.greyScale3};
    overflow: scroll;

    &::-webkit-scrollbar {
        display: none;
    }

    scrollbar-width: none;

    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }

    @keyframes slideInFromBottom {
        0% {
            transform: translateY(50%);
            opacity: 0;
        }
        100% {
            transform: translateY(0);
            opacity: 1;
        }
    }

    ${e=>!e.hasAlreadyRendered&&a.css`
            animation: slideInFromBottom 100ms ease-in-out;
        `}
`),ce=s.a.div`
    display: flex;
    justify-content: flex-end;
    grid-gap: 10px;
    align-items: center;
`,ue=s.a.div`
    display: flex;
    justify-content: flex-end;
    grid-gap: 5px;
    align-items: center;
`,de=s.a.div`
    position: relative;
    display: flex;
    flex-direction: column;
    flex: 1;


    ${e=>e.height&&a.css`
            height: ${e.height};
        `}
    ${e=>e.isEmpty&&a.css`
            min-height: 50px;
        `}
        ${e=>e.truncateEditor&&a.css`
                max-height: 400px;
                height: fit-content;
                overflow: hidden;
            `}
            
            
            
    ${e=>!e.isEditable&&!e.readOnly&&a.css`
            &:hover {
                background-color: ${e=>e.theme.colors.greyScale3}20;
            }
        `}
    // General Editor Stylings
    min-height: fit-content;
    border-radius: 8px;
    width: 100%;
    transition: height 150ms ease-in-out;
    ${e=>e.isEditable&&a.css`
            background-color: ${e=>e.theme.colors.greyScale3}30;
        `}
    outline: none;

    // Font Base Styles
    color: ${e=>e.theme.colors.greyScale7};
    line-height: 22px;
    word-break: break-word;
    hyphens: none;
    font-size: 14px;
    letter-spacing: 0.8px;
    font-weight: ${e=>(e.theme.variant,400)};


    // Wikilinks
    .memex-wikilink {
        color: ${e=>e.theme.colors.white};
    }

    .memex-wikilink-delimiter {
        color: ${e=>e.theme.colors.greyScale4};
    }
    // Element Type STyles

    .ProseMirror p.placeholder-empty:first-child::before {
        content: attr(data-placeholder);
        float: left;
        color: ${e=>e.theme.colors.greyScale4};
        pointer-events: none;
        height: 0;
    }

    .ProseMirrorContainer {

        ${e=>e.height&&a.css`
                height: ${e.height};
            `}
        flex: 1;

        font-family: 'Satoshi', sans-serif;
font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on, 'liga' off;
        min-height: fit-content;
        resize: vertical;
        font-family: 'Satoshi', sans-serif;
font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on, 'liga' off;
        width: 100%;
        color: ${e=>e.theme.colors.white};
        display: flex;
        flex-direction: column-reverse;

        scrollbar-width: none;

        outline: none;

    &::-webkit-scrollbar {
        display: none;
    }


    .ProseMirror {
        outline: none;
        padding: 10px 10px;
        width: fill-available;
        border-radius: 3px;
        min-height: fit-content;
        white-space: pre-wrap;
        overflow: hidden;
        outline: none;
        flex: 1;

    }

    ${e=>e.isEmpty&&a.css`
            .ProseMirror {
                min-height: 50px;
            }
        `}

        ${e=>e.defaultMinimized&&e.isEmpty&&a.css`
                min-height: 24px;

                .ProseMirror {
                    min-height: 24px;
                }
            `}
    // Headers
    & h1 {
        font-size: 20px;
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        line-height: 22px;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
        }
        & * {
            font-weight: 600;
            font-size: 18px;
        }
    }

    & h2 {
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        line-height: 22px;
        font-size: 18px;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
        }
        & * {
            font-weight: 600;
            font-size: 17px;
        }
    }

    & h3 {
        font-size: 16px;
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        line-height: 22px;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
            font-size: 16px;
        }
        & * {
            font-weight: 600;
            font-size: 16px;
        }
    }

    & h4 {
        margin-block-start: 1em;
        margin-block-end: 0.5em;
        font-weight: 600;

        &:first-child {
            margin-top: 5px;
        }
    }

    & h5 {
        margin-block-start: 1em;
        margin-block-end: 0.5em;

        &:first-child {
            margin-top: 5px;
        }
    }
    // Lists
    & li {
        line-height: 20px;
        margin-left: -15px;
    }

    & ul {
        margin-block-start: 0.5em;
        margin-block-end: 0.5em;
    }

    // Paragraphs

    & p {
        margin-block-start: 0.5em;
        margin-block-end: 0.5em;
        hyphens: none;
        font-size: 14px;
        font-weight: ${e=>(e.theme.variant,400)};

        & img {
            height: auto;
            max-width: fill-available;
            width: auto;
            background: white;
            max-height: 250px;
        }
    }

    // Links

    & a {
        color: ${e=>e.theme.colors.prime1};
        text-decoration: none;

        &:visited {
            color: ${e=>e.theme.colors.prime1};
        }
        &:hover {
            text-decoration: underline;
        }
    }

    // Images
    & img {
        max-width: fill-available;
        width: auto;
        height: auto;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        border-radius: 6px;
        max-height: 400px;
        background: #f1f1f1;
    }

    & * {
        line-height: 22px;
        word-break: break-word;
        hyphens: none;
        letter-spacing: 0.8px;

        font-size: 14px;

        :first-child {
            margin-block-start: 0em;
        }
        :last-child {
            margin-block-end: 0em;
        }
    }

    & sup {
        vertical-align: baseline;
    }

    // Tables
    .table-container {
        border-radius: 8px;
        border: 1px solid ${e=>e.theme.colors.greyScale2};
    }

    & table {
        width: fit-available;
        border-spacing: 0px;
        max-width: 100%;
        width: fill-available;
        border-collapse: collapse;

        & * {
            padding-top: unset;
        }
    }

    & tbody {
        background: ${e=>e.theme.colors.greyScale1_5};
    }

    & td {
        border: 1px solid ${e=>e.theme.colors.greyScale2};
        border: 1px solid ${e=>e.theme.colors.greyScale2};
        padding: 8px 10px;
        text-align: left;
        vertical-align: middle;
        font-weight: 300;
        color: ${e=>e.theme.colors.greyScale6};
    }

    & th {
        border: 1px solid ${e=>e.theme.colors.greyScale2};
        padding: 8px 10px;
        text-align: left;
        vertical-align: middle;
        background-color: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale3+60:e.theme.colors.greyScale2};
        font-weight: 500;
    }

    & tr {
        width: fill-available;
        &:first-child {
            & *:first-child {
                border-left: none;
                border-top-left-radius: 7px;
            }

            & * {
                border-top: none;
            }

            & *:last-child {
                border-left: none;
                border-top-right-radius: 7px;
            }
        }

        *:first-child {
            border-left: none;
        }
        *:last-child {
            border-right: none;
        }

        &:last-child {
            & *:first-child {
                border-left: none;
                border-bottom-left-radius: 7px;
            }

            & * {
                border-bottom: none;
            }

            & *:last-child {
                border-right: none;
                border-bottom-right-radius: 7px;
            }
        }
    }

    // Special Syntax
    & blockquote {
        border-left: #5cd9a6 3px solid;
        margin-inline-start: 10px;
        padding-left: 10px;
    }

    & code {
        font-size: inherit;
        padding: 2px 2px 1px;
        border-radius: 3px;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        background-color: ${e=>e.theme.colors.greyScale2};
        color: ${e=>e.theme.colors.greyScale6};
        font-family: 'Courier New' !important;
        white-space: nowrap;
        overflow: auto;

        & * {
            font-family: 'Courier New' !important;
        }


        // Custom scrollbar styles
        &::-webkit-scrollbar {
            width: 12px;
        }

        &::-webkit-scrollbar-track {
            background: ${e=>e.theme.colors.greyScale2};
            border-radius: 10px;
        }

        &::-webkit-scrollbar-thumb {
            background-color: ${e=>e.theme.colors.greyScale4};
            border-radius: 10px;
            border: 3px solid ${e=>e.theme.colors.greyScale2};
        }

        &::-webkit-scrollbar-thumb:hover {
            background-color: ${e=>e.theme.colors.greyScale5};
        }

        &::-webkit-scrollbar-thumb:active {
            background-color: ${e=>e.theme.colors.greyScale6};
        }

    }

    & pre {
        width: fill-available;
        border-radius: 3px;
        border: 1px solid ${e=>e.theme.colors.greyScale3};
        background-color: ${e=>e.theme.colors.greyScale2};
        color: ${e=>e.theme.colors.greyScale6};
        padding: 10px;
        font-family: 'Courier New' !important;
        overflow: auto;

        & code {
            width: 100%;
            padding: unset;
            border: none;
            border-radius: unset;
            background-color: unset;
            color: inherit;
            white-space: pre-wrap;  

    width: max-content;
    display: flex;
        }
        & * {
            font-family: 'Courier New' !important;
        }


        // Custom scrollbar styles
        &::-webkit-scrollbar {
            width: 12px;
        }

        &::-webkit-scrollbar-track {
            background: ${e=>e.theme.colors.greyScale2};
            border-radius: 10px;
        }

        &::-webkit-scrollbar-thumb {
            background-color: ${e=>e.theme.colors.greyScale4};
            border-radius: 10px;
            border: 3px solid ${e=>e.theme.colors.greyScale2};
        }

        &::-webkit-scrollbar-thumb:hover {
            background-color: ${e=>e.theme.colors.greyScale5};
        }

        &::-webkit-scrollbar-thumb:active {
            background-color: ${e=>e.theme.colors.greyScale6};
        }
    }

    // Highlights
    strong {
        font-weight: 700 !important;

        .inHighlight-highlight {
            & strong {
                font-weight: 700 !important;
            }
        }
    }

    .inHighlight-highlight {
        background-color: #6ae394 !important;

        & strong {
            font-weight: 700;
        }
        & i {
            font-weight: 700;
        }
    }

    // Apply to everything

    & > * {
        & > * {
            &:first-child {
                margin-block-start: 0em !important;
            }
        }
    }

    & > * {
        & > * {
            &:last-child {
                margin-block-end: 0em !important;
            }
        }
    }

    // SPECIAL CSS RULES

            /// Math
    .Tiptap-mathematics-editor {
    background: #202020;
    color: #fff;
    font-family: monospace;
    padding: 0.2rem 0.5rem;
  }

  .Tiptap-mathematics-render {
    padding: 0 0.25rem;

    &--editable {
      cursor: pointer;
      transition: background 0.2s;

      &:hover {
        background: ${e=>e.theme.colors.greyScale3};
      }
    }
  }

  .Tiptap-mathematics-editor,
  .Tiptap-mathematics-render {
    border-radius: 0.25rem;
    display: inline-block;
  }

  .katex-html{
    display: none;
  }


`;t.a=e=>{var t,n,a,s,u;const[p,h]=Object(o.useState)(null),[g,y]=Object(o.useState)(null),[w,k]=Object(o.useState)(null),[E,A]=Object(o.useState)([null,null]),I=Object(o.useRef)(E),[M,_]=Object(o.useState)(null),P=Object(o.useRef)(M),[H,V]=Object(o.useState)(null),[Y,ie]=Object(o.useState)(0),[pe,fe]=Object(o.useState)(null),[he,me]=Object(o.useState)(null),[ge,ve]=Object(o.useState)(null),ye=Object(o.useRef)(),be=Object(o.useRef)(),[we,xe]=Object(o.useState)(e.editable),ke=Object(o.useRef)(),Se=Object(o.useRef)();let Ee=!1,Ce=!1;const Ae={image:e=>`![](${e})`};l.marked.use({renderer:Ae});const Oe=v.a.extend({addKeyboardShortcuts(){const t=()=>{const t=Object(N.d)({youtubePlayer:e.getYoutubePlayer()}),n=Object(N.b)(t);return this.editor.chain().insertContent(l.marked.parseInline(n)+" ").run()};return{"Mod-y":t,"Alt-w":t,"Mod-w":t}},addOptions:()=>({openOnClick:!1,linkOnPaste:!0,HTMLAttributes:{href:null},isAllowedUri:e=>!0,shouldAutoLink:e=>!0,autolink:!0,protocols:["http","https"],defaultProtocol:"https",validate:e=>/^https?:\/\//.test(e)})}),Ie=c.Mark.create({name:"loadingMark",parseHTML:()=>[{tag:"span[loading-mark]"}],renderHTML:()=>["span",{"loading-mark":"true"},0]});function De(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield e.imageSupport.generateImageId()}))}const Me=K()((({editor:t})=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var n;let r=t.getHTML();r=null===(n=null==r?void 0:r.replace(/^<p><\/p>/,""))||void 0===n?void 0:n.replace(/<p><\/p>$/,""),r===e.markdownContent&&""!==r||e.onContentUpdate(r,t.state.selection.anchor),e.setDebouncingSaveBlock(!1)}))),200),Te=K()((t=>{e.updateSpacesSearchSuggestions(t)}),150),_e=({editor:t})=>{e.setDebouncingSaveBlock(!0),Me({editor:t})},Re=c.Extension.create({addKeyboardShortcuts(){return{Enter:e=>null!=I.current[0]&&(Le.current(e,this.editor.view),!0),Escape:e=>null!=I.current[0]&&(Le.current(e,this.editor.view),!0),ArrowDown:e=>null!=I.current[0]&&(Le.current(e,this.editor.view),!0),ArrowUp:e=>null!=I.current[0]&&(Le.current(e,this.editor.view),!0)}}}),Pe=Object(c.useEditor)({editable:we,extensions:[v.a.configure({openOnClick:!1,linkOnPaste:!0,HTMLAttributes:{href:null}}),d.a.configure({heading:!1}),R.a.configure({HTMLAttributes:{class:"inHighlight-highlight"}}),U.a.configure({color:"#616069",width:4}),f.a,D.a.configure({HTMLAttributes:{class:"CodeBlock"}}),T.a.configure({levels:[1,2]}),Oe,m.a.configure({emptyEditorClass:"placeholder-empty",placeholder:e.promptPlaceholder,showOnlyWhenEditable:!1}),L.a,Ie,q,Object(W.a)((()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield De()}))),(t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.imageSupport.uploadImage(t)}))),!1,(t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.openImageInPreview(t)})))),Re,b,x.a,S.a,C.a,O.a],onCreate:({editor:t})=>{var n,r;if(xe(e.editable),!e.editable&&(null===(n=e.searchTerms)||void 0===n?void 0:n.length)>0){const n=e.searchTerms,r=e.markdownContent;t.commands.setContent(r),n.forEach((e=>{const n=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(n,"gi");t.state.doc.descendants(((e,n)=>{if(e.isText){let o;for(;null!==(o=r.exec(e.text));){const e=n+o.index,r=e+o[0].length,i=t.state.tr.addMark(e,r,t.schema.marks.highlight.create());t.view.dispatch(i)}}}))}))}else{if(e.markdownContent){let n=e.markdownContent;(null===(r=e.markdownContent)||void 0===r?void 0:r.startsWith("<div>"))||(n=l.marked.parseInline(e.markdownContent)),n=Object(J.a)(n,"production"),t.commands.clearContent(),t.commands.setContent(n),t.state.doc.textContent.length>500&&fe(!0)}t.view.dom.addEventListener("keydown",(e=>{"Meta"!==e.key&&"Control"!==e.key||(Ce=!0),Ce&&"Enter"!==e.key&&(e.stopPropagation(),e.stopImmediatePropagation())})),t.view.dom.addEventListener("keyup",(e=>{e.stopPropagation(),e.stopImmediatePropagation(),"Meta"!==e.key&&"Control"!==e.key||(Ce=!1),e.stopPropagation(),e.stopImmediatePropagation()})),e.autoFocus&&we&&(null==t||t.commands.focus()),Ee=!0}},onUpdate:_e,editorProps:{handleKeyDown:(t,n)=>{"MacIntel"===navigator.platform?n.metaKey:n.ctrlKey;if(Le.current&&Le.current(t,n),e.onKeyDown){if("Escape"===n.key&&null!=I.current[0])return null;e.onKeyDown(n)}return null}}}),Le=Object(o.useRef)();Le.current=(t,n)=>{if(n instanceof KeyboardEvent&&e.updateSpacesSearchSuggestions){if(" "===n.key&&null==H||"#"===n.key&&"#"===ge&&null==H)return void Ne();if("#"===n.key&&null==E[0]){if(e.updateSpacesSearchSuggestions(""),me(0),t){const{state:e}=t,{selection:n}=e,r=t.coordsAtPos(n.$anchor.pos);A([r.left,r.top])}ve("#")}if("["===n.key){if(e.updateSpacesSearchSuggestions(""),me(0),t){const{state:e}=t,{selection:n}=e,r=t.coordsAtPos(n.$anchor.pos);A([r.left,r.top]),ve("[")}setTimeout((()=>ye.current.insertWikiLink(t.state.selection.anchor,"]")),10)}let r;if(null!=E[0])if("ArrowDown"===n.key&&he+1<e.spaceSearchSuggestions.length)me(he+1);else if("ArrowUp"===n.key&&he+1>=0)me(he-1);else if("Backspace"===n.key){let e=t.state.selection.anchor;if(n.altKey){const t=H.slice(0,e).lastIndexOf(" ");-1!==t?(r=H.slice(0,t)+H.slice(e),e=t):(r=H.slice(e),e=0)}else H&&(null==H?void 0:H.length)>0&&(r=H.slice(0,-1),Te(r),V(r));V(r)}else if(n.ctrlKey||n.metaKey||n.altKey||"Enter"===n.key||"ArrowDown"===n.key||"ArrowUp"===n.key||"ArrowLeft"===n.key||"ArrowRight"===n.key||"Shift"===n.key||"Escape"===n.key||" "===n.key||"Delete"===n.key){if("Enter"===n.key){null!=I.current[0]&&(n.preventDefault(),n.stopPropagation());let t="";e.spaceSearchSuggestions.length>0?(e.selectSpace(e.spaceSearchSuggestions[he].id),t=e.spaceSearchSuggestions[he].name):(e.addNewSpaceViaWikiLinks(H),t=H),Be(n,Pe,ge,t)}else if("Escape"===n.key)n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault(),Ne();else if(" "===n.key){if("#"===ge&&null==H)return void Ne();let t=H+n.key;if(Te(t),me(0),V(t),"#"===ge&&0===e.spaceSearchSuggestions.length&&H.length>0&&!P.current)return _(!0),void(P.current=!0);if("#"===ge&&e.spaceSearchSuggestions.length>0&&H.trim().toLowerCase()===e.spaceSearchSuggestions[0].name.trim().toLowerCase())return n.preventDefault(),e.selectSpace(e.spaceSearchSuggestions[0].id),Be(n,Pe,ge,e.spaceSearchSuggestions[0].name),void Ne();if(H.length&&!0===P.current)return n.preventDefault(),Be(n,Pe,ge,H.trim()),e.addNewSpaceViaWikiLinks(H),void Ne()}}else _(!1),P.current=!1,r=/^[a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`]+$/.test(n.key)?null!=H?H+n.key:n.key:H,Te(r),me(0),V(r)}};const Ne=()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){V(null),ve(null),me(0),_(!1),P.current=!1,Te(""),yield new Promise((e=>setTimeout(e,50))),Pe.commands.focus(),A([null,null])}));function je(e,t){return Pe.commands.insertWikiLinkNode({id:t,content:t,delimiter:e})}function Be(e,t,n,r){var o;const i=t.state.selection.anchor,a=null!==(o=null==H?void 0:H.length)&&void 0!==o?o:0;"["===n?(t.commands.deleteRange({from:i-(a+1),to:i}),je("wikilink",r)):r.includes(" ")&&"#"===n?(t.commands.deleteRange({from:i-a,to:i}),je("wikilink",r)):"#"===n&&(t.commands.deleteRange({from:i-(a+1),to:i}),je("hashtag",r)),t.commands.insertContent(" "),Ne()}Object(o.useEffect)((()=>{var t;ye.current={addVideoSnapshotToEditor:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const n=Object(N.b)(Object(N.d)({youtubePlayer:e.getYoutubePlayer()})),r=yield De();Pe.chain().insertContent(l.marked.parseInline(n+" ")).run(),Pe.chain().setImage({src:t,remoteid:r}).run();const o=Pe.state.selection.anchor;Pe.chain().setTextSelection(o+2).focus().run()})),addImageToEditor:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const t=yield De();yield Pe.chain().setImage({src:e,remoteid:t}).run();const n=Pe.state.selection.anchor;Pe.chain().setTextSelection(n+2).focus().run()})),resetState:()=>{setTimeout((()=>{Pe.commands.clearContent()}),10)},checkIfHasContent:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){let e;for(;!Ee;)yield new Promise((e=>setTimeout(e,50)));return e=!!((null==Pe?void 0:Pe.state.doc.textContent.length)>0||(null==Pe?void 0:Pe.getHTML().includes("<img"))),e})),checkIfReady:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){let e=!1;return Pe&&(e=!0),e})),updateContentExternally:e=>{Pe.commands.clearContent(),Pe.commands.setContent(Object(J.a)(e,"production"))},setEditable:e=>{null==Pe||Pe.setOptions({editable:e})},focus:()=>{Pe.commands.focus()},insertContentAt:(e,t)=>{let n=null!=e?e:Pe.state.selection.anchor;Pe.chain().insertContentAt(n,t).setTextSelection(n+t.length).run()},insertWikiLink:(e,t)=>{let n=null!=e?e:Pe.state.selection.anchor;Pe.chain().insertContentAt(n,t).setTextSelection(n+t.length-1).run()},addYoutubeTimestamp:()=>{const t=Object(N.b)(Object(N.d)({youtubePlayer:e.getYoutubePlayer()})).replace(/\\/g,"");Pe.chain().insertContentAt(Pe.state.selection.anchor,l.marked.parseInline(t)+" ").focus().run()},addYoutubeTimestampWithText:(e,t)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){if(t)return null==Pe||Pe.setOptions({editable:!1}),null==Pe||Pe.chain().focus().insertContentAt(Pe.state.selection.anchor,[{type:"text",text:"Loading Summary...",marks:[{type:"loadingMark"}]}]).insertContentAt(Pe.state.selection.anchor,l.marked.parseInline(e)+" ").run(),!0;{null==Pe||Pe.setOptions({editable:!0}),Pe.commands.clearContent();const t=new l.marked.Renderer;t.paragraph=e=>`<p>${e}</p>`;const n=Object(l.marked)(e,{renderer:t,breaks:!0});return Pe.commands.setContent(n),_e({editor:Pe}),!0}}))},null===(t=e.setEditorInstanceRef)||void 0===t||t.call(e,ye.current),xe(e.editable),null==Pe||Pe.setOptions({editable:e.editable}),I.current=E}),[Pe,e.editable,e.autoFocus,e.markdownContent,E,P]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(de,{readOnly:e.readOnly,onClick:t=>{var n;"A"===t.target.nodeName&&(t.preventDefault(),Object(G.a)(t,null!==(n=e.contextLocation)&&void 0!==n?n:"in-page",e.getYoutubePlayer),t.stopPropagation())},onMouseDown:t=>{e.readOnly||(t=>{const n=Date.now();n-Y<=300?(we||e.setEditing(t),ie(0)):ie(n)})(t)},isEditable:we,ref:be,truncateEditor:pe&&!we,height:null!==(t=e.height)&&void 0!==t?t:"auto",promptPlaceholder:e.promptPlaceholder,isEmpty:0===(null===(n=e.markdownContent)||void 0===n?void 0:n.length),defaultMinimized:e.defaultMinimized},i.a.createElement(c.EditorContent,{lang:"en",className:"ProseMirrorContainer",editor:Pe}),we&&!(e.defaultMinimized&&0===(null===(a=e.markdownContent)||void 0===a?void 0:a.length))&&i.a.createElement(le,null,i.a.createElement(ue,null,!e.slimEditorActions&&i.a.createElement(B.a,{placement:"bottom",tooltipText:X()||(null===(s=e.getYoutubePlayer)||void 0===s?void 0:s.call(e))?"Add video timestamp":"Video time stamp not available",getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"timestampIcon",padding:"4px",heightAndWidth:"16px",disabled:!X()&&!(null===(u=e.getYoutubePlayer)||void 0===u?void 0:u.call(e)),onClick:()=>{const t=Object(N.b)(Object(N.d)({youtubePlayer:e.getYoutubePlayer()}));Pe.chain().insertContent(l.marked.parseInline(t+" ")).focus().run()}})),i.a.createElement(B.a,{placement:"bottom",tooltipText:i.a.createElement(i.a.Fragment,null,"Highlight"),getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"highlight",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleHighlight().run()})),i.a.createElement(B.a,{placement:"bottom",tooltipText:i.a.createElement(i.a.Fragment,null,"Bold"),getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"boldIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleBold().run()})),i.a.createElement(B.a,{placement:"bottom",tooltipText:"Italic",getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"italicIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleItalic().run()})),i.a.createElement(B.a,{placement:"bottom",tooltipText:i.a.createElement(i.a.Fragment,null,"Heading 1"),getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"h1Icon",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleHeading({level:1}).run()})),i.a.createElement(B.a,{placement:"bottom",tooltipText:i.a.createElement(i.a.Fragment,null,"Heading 2"),getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"h2Icon",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleHeading({level:2}).run()})),i.a.createElement(B.a,{placement:"bottom",tooltipText:"Bullet List",getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"bulletListIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleBulletList().run()})),i.a.createElement(B.a,{placement:"bottom",tooltipText:"Numberd List",getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"numberedListIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleOrderedList().run()})),!e.slimEditorActions&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a,{placement:"bottom",tooltipText:"Strike Through",getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"strikethroughIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>Pe.chain().focus().toggleStrike().run()})),i.a.createElement(B.a,{placement:"bottom",tooltipText:"Add image from url",getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"imageIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>h(!0),containerRef:ke,active:p})))),i.a.createElement(ce,null,i.a.createElement(B.a,{placement:"bottom-end",tooltipText:"Formatting Help",getPortalRoot:e.getRootElement},i.a.createElement(j.a,{filePath:"helpIcon",padding:"4px",heightAndWidth:"16px",onClick:()=>k(!0),containerRef:Se,active:w})))),null!=pe&&!we&&i.a.createElement(oe,{onClick:()=>{fe(!pe)}},i.a.createElement(j.a,{filePath:pe?"expand":"compress",heightAndWidth:"18px",hoverOff:!0}),pe?"Show More":"Show Less"),(t=>p?i.a.createElement(F.a,{targetElementRef:ke.current,placement:"bottom-end",closeComponent:()=>{h(!1)},offsetX:5,getPortalRoot:e.getRootElement},i.a.createElement(ae,null,i.a.createElement(z.a,{placeholder:"Add Image URL",value:g,onChange:e=>{y(e.target.value)},onClick:e=>{e.stopPropagation()},onKeyDown:e=>{"Enter"===e.key&&(t.chain().focus().setImage({src:g}).insertContent([{type:"paragraph"}]).run(),h(!1),y(""))}}),i.a.createElement(j.a,{icon:"plus",onClick:e=>{t.chain().focus().setImage({src:g}).insertContent([{type:"paragraph"}]).run(),h(!1),y("")},heightAndWidth:"26px",color:"prime1"})),i.a.createElement(se,null,"You can also paste or drop any image into the editor")):null)(Pe),w?i.a.createElement(F.a,{targetElementRef:Se.current,placement:"bottom-end",closeComponent:()=>{k(!1)},strategy:"fixed",offsetX:5,getPortalRoot:e.getRootElement},i.a.createElement($.a,{hideShortCutSection:!0,getRootElement:e.getRootElement})):null,(()=>{var t,n;return E[0]?i.a.createElement(F.a,{targetElementRef:Se.current,placement:"bottom-end",closeComponent:()=>{A([null,null])},strategy:"fixed",getPortalRoot:e.getRootElement},i.a.createElement(ne,null,i.a.createElement(te,null,0===(null===(t=e.spaceSearchSuggestions)||void 0===t?void 0:t.length)&&(null==H?void 0:H.length)>0?i.a.createElement(ee,{onClick:()=>{e.addNewSpaceViaWikiLinks(H)}},i.a.createElement(Q,null,i.a.createElement(j.a,{icon:"plus",heightAndWidth:"16px",color:"prime1"}),H),i.a.createElement(Z,null,"Press"," ",P.current&&'"Space" or '," ",'"Enter" to confirm')):null===(n=e.spaceSearchSuggestions)||void 0===n?void 0:n.map(((t,n)=>i.a.createElement(re,{isSelected:n===he,onClick:t=>{t.preventDefault(),(t=>{null!=I.current[0]&&(t.preventDefault(),t.stopPropagation());let n="";e.spaceSearchSuggestions.length>0?(e.selectSpace(e.spaceSearchSuggestions[he].id),n=e.spaceSearchSuggestions[he].name):(e.addNewSpaceViaWikiLinks(H),n=H),Be(0,Pe,ge,n)})(t)},onMouseEnter:()=>{me(n)}},t.name)))))):null})()))}},,,function(e,t){e.exports={}},,,,function(e,t){e.exports=function(e){return function(t){return e(t)}}},,function(e,t,n){var r=n(245),o=n(373),i=n(374),a=n(250),s=n(392),l=n(254),c=n(393),u=n(256),d=n(258),p=n(236),f=Math.max;e.exports=function(e,t,n,h,m,g,v,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var w=h?h.length:0;if(w||(t&=-97,h=m=void 0),v=void 0===v?v:f(p(v),0),y=void 0===y?y:p(y),w-=m?m.length:0,64&t){var x=h,k=m;h=m=void 0}var S=b?void 0:l(e),E=[e,t,n,h,m,x,k,g,v,y];if(S&&c(E,S),e=E[0],t=E[1],n=E[2],h=E[3],m=E[4],!(y=E[9]=void 0===E[9]?b?0:e.length:f(E[9]-w,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||16==t?i(e,t,y):32!=t&&33!=t||m.length?a.apply(void 0,E):s(e,t,n,h);else var C=o(e,t,n);return d((S?r:u)(C,E),e,t)}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(142),o=n(173);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(383),o=n(257)(r);e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[i++]=r)}return a}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var r=n(248),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(111)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(87)(n(40),"Map");e.exports=r},function(e,t,n){var r=n(413),o=n(420),i=n(422),a=n(423),s=n(424);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(429),o=n(265),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(264)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(269);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(41),o=n(115),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(642),i=n(120);const a=r.Mark.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach((e=>{"string"!=typeof e?o.registerCustomProtocol(e.scheme,e.optionalSlashes):o.registerCustomProtocol(e)}))},onDestroy(){o.reset()},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:e}){var t;return(null===(t=e.href)||void 0===t?void 0:t.startsWith("javascript:"))?["a",r.mergeAttributes(this.options.HTMLAttributes,{...e,href:""}),0]:["a",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[r.markPasteRule({find:e=>{const t=[];if(e){const n=o.find(e).filter((e=>e.isLink));n.length&&n.forEach((e=>t.push({text:e.value,data:{href:e.href},index:e.start})))}return t},type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];var t;return this.options.autolink&&e.push((t={type:this.type,validate:this.options.validate},new i.Plugin({key:new i.PluginKey("autolink"),appendTransaction:(e,n,i)=>{const a=e.some((e=>e.docChanged))&&!n.doc.eq(i.doc),s=e.some((e=>e.getMeta("preventAutolink")));if(!a||s)return;const{tr:l}=i,c=r.combineTransactionSteps(n.doc,[...e]);return r.getChangedRanges(c).forEach((({newRange:e})=>{const n=r.findChildrenInRange(i.doc,e,(e=>e.isTextblock));let a,s;if(n.length>1?(a=n[0],s=i.doc.textBetween(a.pos,a.pos+a.node.nodeSize,void 0," ")):n.length&&i.doc.textBetween(e.from,e.to," "," ").endsWith(" ")&&(a=n[0],s=i.doc.textBetween(a.pos,e.to,void 0," ")),a&&s){const e=s.split(" ").filter((e=>""!==e));if(e.length<=0)return!1;const n=e[e.length-1],c=a.pos+s.lastIndexOf(n);if(!n)return!1;o.find(n).filter((e=>e.isLink)).map((e=>({...e,from:c+e.start+1,to:c+e.end+1}))).filter((e=>!i.schema.marks.code||!i.doc.rangeHasMark(e.from,e.to,i.schema.marks.code))).filter((e=>!t.validate||t.validate(e.value))).forEach((e=>{r.getMarksBetween(e.from,e.to,i.doc).some((e=>e.mark.type===t.type))||l.addMark(e.from,e.to,t.type.create({href:e.href}))}))}})),l.steps.length?l:void 0}}))),this.options.openOnClick&&e.push(function(e){return new i.Plugin({key:new i.PluginKey("handleClickLink"),props:{handleClick:(t,n,o)=>{var i,a;if(0!==o.button)return!1;let s=o.target;const l=[];for(;"DIV"!==s.nodeName;)l.push(s),s=s.parentNode;if(!l.find((e=>"A"===e.nodeName)))return!1;const c=r.getAttributes(t.state,e.type.name),u=o.target,d=null!==(i=null==u?void 0:u.href)&&void 0!==i?i:c.href,p=null!==(a=null==u?void 0:u.target)&&void 0!==a?a:c.target;return!(!u||!d||(window.open(d,p),0))}}})}({type:this.type})),this.options.linkOnPaste&&e.push(function(e){return new i.Plugin({key:new i.PluginKey("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:a}=i,{empty:s}=a;if(s)return!1;let l="";r.content.forEach((e=>{l+=e.textContent}));const c=o.find(l).find((e=>e.isLink&&e.value===l));return!(!l||!c||(e.editor.commands.setMark(e.type,{href:c.href}),0))}}})}({editor:this.editor,type:this.type})),e}});t.Link=a,t.default=a,t.pasteRegex=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(290);function o(e,t){const n=(new DOMParser).parseFromString(e,"text/html"),o=Array.from(n.querySelectorAll("img"));for(let e of o){const n=e.getAttribute("src");let o=e.getAttribute("remoteid"),i=null;i=n.startsWith("data:")?n:o===n?Object(r.a)({id:o,env:t}):n,e.setAttribute("src",i)}return n.body.innerHTML}function i(e){const t=(new DOMParser).parseFromString(e,"text/html"),n=Array.from(t.querySelectorAll("img"));for(let e of n){let t=e.getAttribute("remoteid");e.setAttribute("src",t)}return t.body.innerHTML}},function(e,t,n){var r=n(400),o=n(168),i=n(178),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(5),l=n(128);const c=a.a.div`
    font-family: ${e=>e.theme.fonts.primary};
    width: 100%;
    padding: 20px 20px;
    display: flex;
    justify-content: flex-start;
    flex-direction: column;
    align-items: center;
    grid-gap: 10px;
    width: fit-content;
    min-width: 250px;
    max-width: 400px;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    background: ${e=>"dark"===e.theme.variant?e.theme.colors.greyScale1_5:e.theme.colors.greyScale7};
    &::-webkit-scrollbar {
        display: none;
    }
    border-radius: 12px;
    scrollbar-width: none;
`,u=a.a.div`
    color: ${e=>e.theme.colors.warning};
    font-size: 16px;
    font-weight: 900;
`,d=a.a.div`
    color: ${e=>e.theme.colors.greyScale7};
    font-size: 14px;
    margin-bottom: 10px;
`,p=({title:e,errorMessage:t,closeComponent:n,getPortalRoot:r,blockedBackground:i,positioning:a="centerCenter"})=>o.a.createElement(l.a,{closeComponent:n,getPortalRoot:r,blockedBackground:i,width:"fit-content",positioning:a},o.a.createElement(c,null,o.a.createElement(u,null,e),o.a.createElement(d,null,t),o.a.createElement(s.a,{label:"Contact Support",onClick:()=>{window.open("https://memex.garden/chatSupport","_blank")},type:"secondary",size:"small"})))},,function(e,t,n){var r=n(447),o=n(458),i=n(140),a=n(41),s=n(465);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(33),c=n(10),u=n(36),d=n(18);class p extends l.a{constructor(e){super(),this.dependencies=e,this.getInitialState=()=>({loadState:"pristine",inviteLinksLoadState:"pristine",inviteLinks:[],nameValue:this.dependencies.listData.name,showSuccessMsg:!1,mode:null,showSaveButton:!1,isLocalPDF:!1}),this.init=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){window.location.href.includes("/pdfjs/viewer.html?file=blob")&&this.emitMutation({isLocalPDF:{$set:!0}}),yield Object(c.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.loadInviteLinks()}))))})),this.copyInviteLink=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.dependencies.copyToClipboard(e.link)})),this.updateSpacePrivacy=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.dependencies.onSetSpacePrivate(e.isPrivate)}))}loadInviteLinks(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{listData:e,contentSharingBG:t}=this.dependencies,n=t=>"page-link"===e.type?Object(u.g)({collaborationKey:t,remoteListId:e.remoteId,remoteListEntryId:e.sharedListEntryId}):Object(u.e)({collaborationKey:t,remoteListId:e.remoteId});yield Object(c.d)(this,"inviteLinksLoadState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==e.remoteId)return;if(null!=e.collabKey)return void this.emitMutation({inviteLinks:{$set:[{roleID:d.a.Commenter,link:n()},{roleID:d.a.ReadWrite,link:n(e.collabKey)}]}});const{links:r}=yield t.getExistingKeyLinksForList({listReference:{id:e.remoteId,type:"shared-list-reference"}}),o=r.find((e=>null!=e.keyString)),i=[{roleID:d.a.Commenter,link:n()}];o&&i.push({roleID:d.a.ReadWrite,link:n(o.keyString)}),this.emitMutation({inviteLinks:{$set:i}})}))))}))}}p.MSG_TIMEOUT=2e3;var f=n(5),h=n(54),m=n(160),g=n(227),v=n(114),y=n(226);const b="private-space-selection-state";class w extends c.a{constructor(e){super(e,new p(e)),this.handleWebViewOpen=e=>{const{listData:t}=this.props;null!=t.remoteId&&window.open(Object(u.e)({remoteListId:t.remoteId}))}}get isFollowedSpace(){return null==this.props.listData.localId}renderMainContent(){var e,t;return this.isFollowedSpace?i.a.createElement(E,null,i.a.createElement(f.a,{onClick:Object(v.a)(this.handleWebViewOpen),label:"Go to Space",fontSize:"14px"})):i.a.createElement(k,null,this.state.isLocalPDF&&i.a.createElement(x,null,"The PDF file is not uploaded. Send it separately & recipients must drop it into the web reader."),this.props.isCreator&&null!=this.props.listData.remoteId&&i.a.createElement(m.a,{elementHeight:"60px",backgroundColor:"greyScale2",menuItems:[{id:b,name:"Private",info:"Only visible to you and people invited"},{id:"public-space-selection-state",name:"Shared",info:"Viewable to anyone with the link"}],onMenuItemClick:e=>this.processEvent("updateSpacePrivacy",{isPrivate:e.id===b}),initSelectedIndex:null==(null===(e=this.props.listData)||void 0===e?void 0:e.isPrivate)||(null===(t=this.props.listData)||void 0===t?void 0:t.isPrivate)?0:1,keepSelectedState:!0}),null!=this.props.listData.remoteId&&i.a.createElement(S,null,"Invite Links"),i.a.createElement(y.a,{analyticsBG:this.props.analyticsBG,inviteLinks:this.state.inviteLinks,loadState:this.state.inviteLinksLoadState,copyLink:e=>this.processEvent("copyInviteLink",{link:e}),isPageLink:"page-link"===this.props.listData.type,getRootElement:this.props.getRootElement}),i.a.createElement(g.a,Object.assign({pageLinkLoadingState:this.state.inviteLinksLoadState},this.props)))}render(){return i.a.createElement(C,null,this.renderMainContent())}}w.defaultProps={copyToClipboard:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield Object(h.a)(e),!0}))};const x=s.a.div.withConfig({displayName:"LocalPDFWarning",componentId:"n9smis-0"})(["background:","80;border:1px solid ",";border-radius:8px;padding:10px;display:flex;align-items:center;justify-content:center;width:260px;color:",";margin-bottom:10px;font-size:14px;"],(e=>e.theme.colors.warning),(e=>e.theme.colors.warning),(e=>e.theme.colors.greyScale7)),k=s.a.div.withConfig({displayName:"ContextMenuContainer",componentId:"n9smis-1"})(["display:flex;grid-gap:5px;flex-direction:column;width:fill-available;padding:10px 10px 10px 10px;min-height:fit-content;height:fit-content;justify-content:center;align-items:flex-start;"]),S=s.a.div.withConfig({displayName:"SectionTitle",componentId:"n9smis-2"})(["font-size:14px;color:",";font-weight:400;width:100%;display:flex;justify-content:flex-start;grid-gap:10px;align-items:center;"],(e=>e.theme.colors.greyScale5)),E=s.a.div.withConfig({displayName:"DeleteBox",componentId:"n9smis-3"})(["display:flex;grid-gap:10px;justify-content:center;flex-direction:column;width:fill-available;padding:15px;"]),C=s.a.div.withConfig({displayName:"MenuContainer",componentId:"n9smis-4"})(["display:flex;flex-direction:column;border-radius:12px;width:300px;"])},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(33),c=n(10),u=n(18),d=n(8);class p extends l.a{constructor(e){super(),this.dependencies=e,this.getInitialState=()=>({loadState:"pristine",ownershipLoadState:"pristine",listShareLoadState:"pristine",inviteLinksLoadState:"pristine",emailInvitesLoadState:"pristine",emailInvitesCreateState:"pristine",emailInvitesDeleteState:"pristine",emailInviteInputRole:u.a.Commenter,emailInviteInputValue:"",emailInvites:Object(d.a)(),inviteLinks:[],nameValue:this.dependencies.listData.name,showSuccessMsg:!1,mode:null,showSaveButton:!1}),this.init=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=e;yield Object(c.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.dependencies.loadOwnershipData&&(t=yield this.loadSpaceOwnership(e))}))))})),this.onDeleteSpaceConfirm=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n;const{listData:r}=this.dependencies;r.localId&&(null===(n=(t=this.dependencies).onDeleteSpaceConfirm)||void 0===n||n.call(t,e.reactEvent),yield this.dependencies.contentSharingBG.deleteListAndAllAssociatedData({localListId:r.localId}),this.emitMutation({mode:{$set:null}}))})),this.intendToDeleteSpace=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n;null===(n=(t=this.dependencies).onDeleteSpaceIntent)||void 0===n||n.call(t,e.reactEvent),this.emitMutation({mode:{$set:"confirm-space-delete"}})})),this.cancelDeleteSpace=({})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({mode:{$set:null}})})),this.updateSpaceName=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n;null===(n=(t=this.dependencies).onSpaceNameChange)||void 0===n||n.call(t,e.name),this.emitMutation({nameValue:{$set:e.name},showSaveButton:{$set:!0}})})),this.cancelSpaceNameEdit=({})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t;null===(t=(e=this.dependencies).onCancelEdit)||void 0===t||t.call(e)})),this.confirmSpaceNameEdit=({event:e,previousState:t})=>{const n=this.dependencies.listData.name,r=t.nameValue.trim();this.emitMutation({showSaveButton:{$set:!1}}),r.length&&r!==n&&this.dependencies.onConfirmSpaceNameEdit(r)}}loadSpaceOwnership(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{listData:t,spacesBG:n}=this.dependencies,o={};return yield Object(c.d)(this,"ownershipLoadState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==t.remoteId)return void(o.mode={$set:null});const e=yield n.fetchSharedListDataWithOwnership({remoteListId:t.remoteId});if(null==t)throw new Error("Remote list data not found");o.mode={$set:e.isOwned?null:"followed-space"}})))),this.emitMutation(o),this.withMutation(e,o)}))}}p.MSG_TIMEOUT=2e3;var f=n(27),h=n(4),m=n(5),g=n(7),v=n(54),y=n(13);const b=e=>t=>(t.preventDefault(),t.stopPropagation(),e(t));class w extends c.a{constructor(e){super(e,new p(e)),this.handleNameChange=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=e.target.value;yield this.processEvent("updateSpaceName",{name:t})})),this.handleNameEditInputKeyDown=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if("Escape"===e.key)return this.state.nameValue.trim().length&&e.stopPropagation(),void(yield this.processEvent("cancelSpaceNameEdit",null));"Enter"===e.key&&this.state.nameValue.trim().length>0&&(e.preventDefault(),e.stopPropagation(),yield this.processEvent("confirmSpaceNameEdit",null)),e.stopPropagation()}))}renderMainContent(){var e;if("confirm-space-delete"===this.state.mode&&this.props.isCreator)return i.a.createElement(C,null,i.a.createElement(I,null,"Delete this Space?"),i.a.createElement(D,null,"This does NOT delete the pages in it"),i.a.createElement(k,null,i.a.createElement(m.a,{onClick:b((e=>this.processEvent("onDeleteSpaceConfirm",{reactEvent:e}))),label:"Delete",icon:"trash",type:"secondary",size:"medium"}),i.a.createElement(m.a,{onClick:b((e=>this.processEvent("cancelDeleteSpace",null))),label:"Cancel",type:"tertiary",size:"medium"})));const t="page-link"===this.props.listData.type;return i.a.createElement(S,null,"special-list"!==this.props.listData.type&&this.props.isCreator&&i.a.createElement(i.a.Fragment,null,i.a.createElement(E,null,t?"Edit Page Link Name":"Edit Space Name"),i.a.createElement(A,null,i.a.createElement(_,{onClick:e=>{e.preventDefault(),e.stopPropagation()}},i.a.createElement(M,{onClick:e=>{e.preventDefault(),e.stopPropagation()},value:this.state.nameValue,onChange:this.handleNameChange,disabled:this.props.disableWriteOps,onKeyDown:this.handleNameEditInputKeyDown,onKeyUp:e=>{e.stopPropagation()},autoFocus:!0})),this.props.errorMessage&&i.a.createElement(T,null,this.props.errorMessage))),i.a.createElement(x,null,this.props.isCreator&&i.a.createElement(m.a,{onClick:b((e=>this.processEvent("intendToDeleteSpace",{reactEvent:e}))),disabled:this.props.disableWriteOps,icon:"trash",size:"medium",type:"tertiary",label:"page-link"===this.props.listData.type?"Delete Page Link":"Delete Space"}),i.a.createElement(i.a.Fragment,null,(null===(e=this.state)||void 0===e?void 0:e.showSaveButton)&&this.state.nameValue.length>0&&i.a.createElement(g.a,{tooltipText:i.a.createElement("span",null,i.a.createElement(y.a,{keys:["MOD_KEY","Enter"],getRootElement:()=>this.props.getRootElement()})),placement:"bottom-end",getPortalRoot:this.props.getRootElement},i.a.createElement(h.a,{filePath:"check",color:"prime1",heightAndWidth:"24px",onClick:()=>this.processEvent("confirmSpaceNameEdit",null)})))))}render(){return i.a.createElement(O,null,this.renderMainContent())}}w.defaultProps={copyToClipboard:v.a};const x=s.a.div.withConfig({displayName:"ButtonBox",componentId:"sc-1lt5up5-0"})(["width:fill-available;display:flex;justify-content:space-between;align-items:center;grid-gap:5px;"]),k=s.a.div.withConfig({displayName:"ButtonRow",componentId:"sc-1lt5up5-1"})(["width:fill-available;display:flex;justify-content:center;align-items:center;grid-gap:5px;"]),S=s.a.div.withConfig({displayName:"ContextMenuContainer",componentId:"sc-1lt5up5-2"})(["display:flex;grid-gap:5px;flex-direction:column;width:fill-available;padding:10px 10px 10px 10px;min-height:fit-content;height:fit-content;justify-content:center;align-items:flex-start;"]),E=s.a.div.withConfig({displayName:"SectionTitle",componentId:"sc-1lt5up5-3"})(["font-size:14px;color:",";font-weight:400;width:100%;display:flex;justify-content:flex-start;"],(e=>e.theme.colors.greyScale5)),C=s.a.div.withConfig({displayName:"DeleteBox",componentId:"sc-1lt5up5-4"})(["display:flex;grid-gap:10px;justify-content:center;flex-direction:column;width:fill-available;padding:15px;"]),A=s.a.div.withConfig({displayName:"EditArea",componentId:"sc-1lt5up5-5"})(["color:",";width:fill-available;margin-bottom:3px;"],(e=>e.theme.colors.white)),O=s.a.div.withConfig({displayName:"MenuContainer",componentId:"sc-1lt5up5-6"})(["display:flex;flex-direction:column;border-radius:12px;width:300px;"]),I=s.a.div.withConfig({displayName:"TitleBox",componentId:"sc-1lt5up5-7"})(["display:flex;flex:1;height:100%;align-items:center;font-weight:bold;color:",";justify-content:center;font-size:16px;"],(e=>e.theme.colors.white)),D=s.a.span.withConfig({displayName:"DetailsText",componentId:"sc-1lt5up5-8"})(["opacity:0.8;font-size:14px;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;color:",";margin-bottom:5px;margin-top:-5px;text-align:center;"],(e=>e.theme.colors.greyScale5)),M=s()(f.a).withConfig({displayName:"EditableTextField",componentId:"sc-1lt5up5-9"})(["padding:2px 10px;border-radius:5px;outline:none;flex:2;display:flex;min-width:50px;margin-right:0px;font-size:14px;height:40px;outline:none;border:none;width:fill-available;"]),T=s.a.div.withConfig({displayName:"ErrMsg",componentId:"sc-1lt5up5-10"})(["color:red;width:100%;text-align:center;margin-top:5px;margin-bottom:5px;"]),_=s.a.div.withConfig({displayName:"Container",componentId:"sc-1lt5up5-11"})(["width:fill-available;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;background-color:transparent;grid-gap:2px;"])},,,function(e,t,n){var r=n(41),o=n(186),i=n(273),a=n(203);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r="memex-tooltip-host",o="memex-tooltip-container"},,,function(e,t,n){var r=n(462);e.exports=function(e){return null==e?"":r(e)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=function(e){var t=e.children,n=r.useState(null),o=n[0],s=n[1],l=r.useRef(!1);r.useEffect((function(){return function(){l.current=!0}}),[]);var c=r.useCallback((function(e){l.current||s(e)}),[]);return r.createElement(i.Provider,{value:o},r.createElement(a.Provider,{value:c},t))},t.ManagerReferenceNodeSetterContext=t.ManagerReferenceNodeContext=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var i=r.createContext();t.ManagerReferenceNodeContext=i;var a=r.createContext();t.ManagerReferenceNodeSetterContext=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIsomorphicLayoutEffect=t.fromEntries=t.setRef=t.safeInvoke=t.unwrapArray=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.unwrapArray=function(e){return Array.isArray(e)?e[0]:e};var i=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}};t.safeInvoke=i;t.setRef=function(e,t){if("function"==typeof e)return i(e,t);null!=e&&(e.current=t)};t.fromEntries=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})};var a="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=a},function(e,t,n){"use strict";var r=n(334),o=n(474);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=b(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(475);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&g[x]||(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(S||x&&!v[x])){for(var E,C,A=-1,O=0;O<p.length;O++){-1!==(I=b.indexOf(p[O]))&&(-1===A||I<A)&&(A=I)}-1!==(C=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(E=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(E)),A=-1;for(O=0;O<d.length;O++){var I;-1!==(I=b.indexOf(d[O]))&&(-1===A||I<A)&&(A=I)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var M=this.hostname.split(/\./),T=(O=0,M.length);O<T;O++){var _=M[O];if(_&&!_.match(f)){for(var R="",P=0,L=_.length;P<L;P++)_.charCodeAt(P)>127?R+="x":R+=_[P];if(!R.match(f)){var N=M.slice(0,O),j=M.slice(O+1),B=_.match(h);B&&(N.push(B[1]),j.unshift(B[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+F,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[k])for(O=0,T=u.length;O<T;O++){var $=u[O];if(-1!==b.indexOf($)){var H=encodeURIComponent($);H===$&&(H=escape($)),b=b.split($).join(H)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,k=x,S=n.pathname&&n.pathname.split("/")||[],E=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),x=x&&(""===h[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=S.shift(),(D=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=D.shift(),n.host=n.hostname=D.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],A=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,O=0,I=S.length;I>=0;I--)"."===(C=S[I])?S.splice(I,1):".."===C?(S.splice(I,1),O++):O&&(S.splice(I,1),O--);if(!x&&!k)for(;O--;O)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var D,M=""===S[0]||S[0]&&"/"===S[0].charAt(0);E&&(n.hostname=n.host=M?"":S.length?S.shift():"",(D=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=D.shift(),n.host=n.hostname=D.shift()));return(x=x||n.host&&S.length)&&!M&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r=n(525),o=n(529)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),o=n(53),i=n(153),a=n(8),s=n(11);var l=n(93),c=n(20),u=n(64);class d{constructor(e){var t,n;this.deps=e,this.normalizedPageUrlsToPageLinkListIds=new Map,this.pageListIds=new Map,this.annotations=Object(a.a)(),this.lists=Object(a.a)(),this.annotationIdCounter=0,this.listIdCounter=0,this.localListIdsToCacheIds=new Map,this.remoteListIdsToCacheIds=new Map,this.localAnnotIdsToCacheIds=new Map,this.remoteAnnotIdsToCacheIds=new Map,this.generateAnnotationId=()=>(this.annotationIdCounter++).toString(),this.generateListId=()=>(this.listIdCounter++).toString(),this.isListShared=e=>{var t;return null!=(null===(t=this.lists.byId[e])||void 0===t?void 0:t.remoteId)},this.getLastAssignedAnnotationId=()=>(this.annotationIdCounter-1).toString(),this.getLastAssignedListId=()=>(this.listIdCounter-1).toString(),this.warn=e=>this.deps.debug?console.warn(e):void 0,this.setHighlightColorDictionary=e=>{this.highlightColorDict=e},this.getAnnotationsArray=()=>Object(a.c)(this.annotations),this.getAnnotationByLocalId=e=>{var t;const n=this.localAnnotIdsToCacheIds.get(e);return null==n?null:null!==(t=this.annotations.byId[n])&&void 0!==t?t:null},this.getAnnotationByRemoteId=e=>{var t;const n=this.remoteAnnotIdsToCacheIds.get(e);return null==n?null:null!==(t=this.annotations.byId[n])&&void 0!==t?t:null},this.getListByLocalId=e=>{var t;const n=this.localListIdsToCacheIds.get(e);return null==n?null:null!==(t=this.lists.byId[n])&&void 0!==t?t:null},this.getListByRemoteId=e=>{var t;const n=this.remoteListIdsToCacheIds.get(e);return null==n?null:null!==(t=this.lists.byId[n])&&void 0!==t?t:null},this.getListsByParentId=e=>[...Object(a.c)(this.lists).filter((t=>t.parentUnifiedId===e&&"user-list"===t.type))].sort(c.c),this.getAllListsInTreeByRootId=e=>[...Object(a.c)(this.lists).filter((t=>"user-list"===t.type&&(0===t.pathUnifiedIds.length?t.unifiedId===e:t.pathUnifiedIds[0]===e)))].sort(c.c),this.prepareListForCaching=(e,t)=>{var n,r,o;const i=this.generateListId();if(null!=e.remoteId&&this.remoteListIdsToCacheIds.set(e.remoteId,i),null!=e.localId&&this.localListIdsToCacheIds.set(e.localId,i),null!=e.remoteId&&!(null==t?void 0:t.skipAssociatingAnnotations))for(const t of Object(a.c)(this.annotations))t.privacyLevel<s.a.SHARED||(null===(n=t.creator)||void 0===n?void 0:n.id)!==(null===(r=e.creator)||void 0===r?void 0:r.id)||e.unifiedAnnotationIds.push(t.unifiedId);return e.unifiedAnnotationIds.forEach((e=>{const t=this.annotations.byId[e];t&&!t.unifiedListIds.includes(i)&&t.unifiedListIds.unshift(i)})),Object.assign(Object.assign({},e),{pathLocalIds:null!==(o=e.pathLocalIds)&&void 0!==o?o:[],unifiedId:i})},this.prepareAnnotationForCaching=(e,t)=>{var n,o,i,a,l,c,d,{localListIds:p}=e,f=Object(r.__rest)(e,["localListIds"]);const h=this.generateAnnotationId();null==f.color&&(f.color=null!==(i=null===(o=null===(n=this.highlightColorDict)||void 0===n?void 0:n[0])||void 0===o?void 0:o.id)&&void 0!==i?i:u.a[0].id),null!=f.remoteId&&this.remoteAnnotIdsToCacheIds.set(f.remoteId,h),null!=f.localId&&this.localAnnotIdsToCacheIds.set(f.localId,h);let m=f.privacyLevel;const g=[...new Set([...null!==(a=f.unifiedListIds)&&void 0!==a?a:[],...p.map((e=>{var t;const n=this.localListIdsToCacheIds.get(e);return n?(null!=(null===(t=this.lists.byId[n])||void 0===t?void 0:t.remoteId)&&(m=s.a.PROTECTED),n):(this.warn("No cached list data found for given local list IDs on annotation - did you remember to cache lists before annotations?"),null)}))].filter((e=>null!=e&&null!=this.lists.byId[e])))];return g.forEach((e=>{const t=this.lists.byId[e];t&&!t.unifiedAnnotationIds.includes(h)&&t.unifiedAnnotationIds.unshift(h)})),Object.assign(Object.assign({},f),{privacyLevel:m,unifiedListIds:g,createdWhen:null!==(l=f.createdWhen)&&void 0!==l?l:t.now,lastEdited:null!==(d=null!==(c=f.lastEdited)&&void 0!==c?c:f.createdWhen)&&void 0!==d?d:t.now,unifiedId:h})},this.setPageData=(e,t)=>{var n,r;const o=[...null!==(n=this.pageListIds.get(e))&&void 0!==n?n:[]];this.pageListIds.has(e)&&this.pageListIds.get(e).clear(),this.ensurePageListsSet(e,t),this.events.emit("updatedPageData",e,null!==(r=this.pageListIds.get(e))&&void 0!==r?r:new Set);const i=this.updateSharedAnnotationsWithSharedPageLists();for(const e of[...o,...t]){const t=this.lists.byId[e];if(t)for(const n of i){const r=this.annotations.byId[n];r&&(r.unifiedListIds.includes(e)?t.unifiedAnnotationIds=Array.from(new Set([...t.unifiedAnnotationIds,n])):t.unifiedAnnotationIds=t.unifiedAnnotationIds.filter((e=>e!==n)))}}i.length>0&&this.events.emit("newListsState",this.lists)},this.setAnnotations=(e,{now:t=Date.now(),keepExistingData:n}={now:Date.now()})=>{n||(this.annotationIdCounter=0,this.localAnnotIdsToCacheIds.clear(),this.remoteAnnotIdsToCacheIds.clear());const r=[...e].sort(this.deps.sortingFn).filter((e=>!n||(null!=e.localId?null==this.getAnnotationByLocalId(e.localId):null==e.remoteId||null==this.getAnnotationByRemoteId(e.remoteId)))).map((e=>this.prepareAnnotationForCaching(e,{now:t})));return n&&r.push(...Object(a.c)(this.annotations)),this.annotations=Object(a.a)({seedData:r,getId:e=>e.unifiedId}),this.events.emit("newAnnotationsState",this.annotations),{unifiedIds:r.map((e=>e.unifiedId))}},this.setLists=e=>{var t;this.listIdCounter=0,this.localListIdsToCacheIds.clear(),this.remoteListIdsToCacheIds.clear();const n=new Map,r=[...e].map((e=>{const t=this.prepareListForCaching(e,{skipAssociatingAnnotations:!0});return e.localId&&n.set(e.localId,t.unifiedId),t}));for(const e of r)e.pathUnifiedIds=e.pathLocalIds.map((e=>n.get(e))).filter((e=>null!=e)),"page-link"===e.type&&this.trackPageLinkListForPage(e),"user-list"===e.type&&null!=e.parentLocalId&&(e.parentUnifiedId=null!==(t=n.get(e.parentLocalId))&&void 0!==t?t:null);return this.lists=Object(a.a)({seedData:r,getId:e=>e.unifiedId}),this.events.emit("newListsState",this.lists),{unifiedIds:r.map((e=>e.unifiedId))}},this.sortLists=e=>{throw new Error("List sorting not yet implemented")},this.sortAnnotations=e=>{e&&(this.deps.sortingFn=e),this.annotations.allIds=Object(a.c)(this.annotations).sort(this.deps.sortingFn).map((e=>e.unifiedId)),this.events.emit("newAnnotationsState",this.annotations)},this.addAnnotation=(e,{now:t=Date.now()}={now:Date.now()})=>{if(null!=e.remoteId){const t=this.remoteAnnotIdsToCacheIds.get(e.remoteId);if(null!=t)return{unifiedId:t}}const n=this.prepareAnnotationForCaching(e,{now:t});return n.privacyLevel>=s.a.SHARED&&(n.unifiedListIds=[...new Set([...this.getSharedPageListIds(n.normalizedPageUrl),...n.unifiedListIds])]),this.annotations.allIds=[n.unifiedId,...this.annotations.allIds],this.annotations.byId=Object.assign(Object.assign({},this.annotations.byId),{[n.unifiedId]:n}),this.updateCachedListAnnotationRefsForAnnotationUpdate({unifiedId:n.unifiedId,unifiedListIds:[]},n),this.events.emit("addedAnnotation",n),this.events.emit("newAnnotationsState",this.annotations),{unifiedId:n.unifiedId}},this.addList=(e,t)=>{var n,r,o;const i=this.prepareListForCaching(e);if(i.pathUnifiedIds=i.pathLocalIds.map((e=>{var t;return null===(t=this.getListByLocalId(e))||void 0===t?void 0:t.unifiedId})).filter((e=>null!=e)),"user-list"===i.type&&(null!=i.parentLocalId?(i.parentUnifiedId=null!==(r=null===(n=this.getListByLocalId(i.parentLocalId))||void 0===n?void 0:n.unifiedId)&&void 0!==r?r:null,i.pathUnifiedIds.includes(i.parentUnifiedId)||i.pathUnifiedIds.push(i.parentUnifiedId),i.pathLocalIds.includes(i.parentLocalId)||i.pathLocalIds.push(i.parentLocalId)):i.parentUnifiedId=null,null==i.order)){const e=this.getListsByParentId(null!==(o=i.parentUnifiedId)&&void 0!==o?o:null).map((e=>({id:e.unifiedId,key:e.order})));i.order=e.length>0?Object(c.d)(e,i.unifiedId,0).create.key:Object(c.e)(e,i.unifiedId).create.key}return this.lists.allIds=[i.unifiedId,...this.lists.allIds],this.lists.byId=Object.assign(Object.assign({},this.lists.byId),{[i.unifiedId]:i}),"page-link"===i.type&&(this.trackPageLinkListForPage(i),this.ensurePageListsSet(i.normalizedPageUrl,[i.unifiedId])),(null==t?void 0:t.skipEventEmission)||this.events.emit("addedList",i),this.events.emit("newListsState",this.lists),{unifiedId:i.unifiedId}},this.updateAnnotation=(e,t)=>{var n,r,o,i,a;const l=this.annotations.byId[e.unifiedId];if(!l)throw new Error("No existing cached annotation found to update");let c=[...l.unifiedListIds];(null==t?void 0:t.forceListUpdate)||l.privacyLevel===e.privacyLevel?c=[...e.unifiedListIds]:l.privacyLevel!==s.a.PRIVATE&&e.privacyLevel<=s.a.PRIVATE?(null==t?void 0:t.keepListsIfUnsharing)?e.privacyLevel=s.a.PROTECTED:c=c.filter((e=>!this.isListShared(e))):l.privacyLevel<=s.a.PRIVATE&&e.privacyLevel>=s.a.SHARED&&(c=this.getSharedPageListIds(l.normalizedPageUrl)),l.remoteId!==e.remoteId&&this.remoteAnnotIdsToCacheIds.set(e.remoteId,l.unifiedId);const u=Object.assign(Object.assign({},l),{privacyLevel:e.privacyLevel,unifiedListIds:c,comment:null!==(n=e.comment)&&void 0!==n?n:l.comment,body:null!==(r=e.body)&&void 0!==r?r:l.body,remoteId:null!==(o=e.remoteId)&&void 0!==o?o:l.remoteId,lastEdited:(null==t?void 0:t.updateLastEditedTimestamp)?null!==(i=null==t?void 0:t.now)&&void 0!==i?i:Date.now():l.lastEdited,color:null!==(a=e.color)&&void 0!==a?a:l.color});this.updateCachedListAnnotationRefsForAnnotationUpdate(l,u),this.annotations=Object.assign(Object.assign({},this.annotations),{byId:Object.assign(Object.assign({},this.annotations.byId),{[e.unifiedId]:u})}),this.events.emit("updatedAnnotation",u),this.events.emit("newAnnotationsState",this.annotations)},this.updateList=e=>{var t,n,r,o,i,a,s,c,u,d;const p=this.lists.byId[e.unifiedId];if(!p)throw new Error("No existing cached list found to update");const f=Object.assign(Object.assign({},p),{name:null!==(t=e.name)&&void 0!==t?t:p.name,order:null!==(n=e.order)&&void 0!==n?n:p.order,remoteId:null!==(r=e.remoteId)&&void 0!==r?r:p.remoteId,collabKey:null!==(o=e.collabKey)&&void 0!==o?o:p.collabKey,isPrivate:null!==(i=e.isPrivate)&&void 0!==i?i:p.isPrivate,description:null!==(a=e.description)&&void 0!==a?a:p.description,parentUnifiedId:null===e.parentUnifiedId?e.parentUnifiedId:null!==(s=e.parentUnifiedId)&&void 0!==s?s:p.parentUnifiedId});if("page-link"===p.type&&"page-link"===f.type&&(f.normalizedPageUrl=null!==(c=e.normalizedPageUrl)&&void 0!==c?c:p.normalizedPageUrl,f.sharedListEntryId=null!==(u=e.sharedListEntryId)&&void 0!==u?u:p.sharedListEntryId,f.hasRemoteAnnotationsToLoad=null!==(d=e.hasRemoteAnnotationsToLoad)&&void 0!==d?d:p.hasRemoteAnnotationsToLoad),p.remoteId!==f.remoteId&&this.remoteListIdsToCacheIds.set(f.remoteId,f.unifiedId),this.lists=Object.assign(Object.assign({},this.lists),{byId:Object.assign(Object.assign({},this.lists.byId),{[e.unifiedId]:f})}),p.parentUnifiedId!==f.parentUnifiedId&&Object(l.b)({root:f,getChildren:e=>this.getListsByParentId(e.unifiedId),cb:e=>{var t,n,r;const o=this.lists.byId[e.parentUnifiedId];if(!o)return e.parentUnifiedId=null,e.parentLocalId=null,e.pathUnifiedIds=[],void(e.pathLocalIds=[]);e.parentUnifiedId=o.unifiedId,e.parentLocalId=null!==(t=o.localId)&&void 0!==t?t:null,e.pathUnifiedIds=[...null!==(n=o.pathUnifiedIds)&&void 0!==n?n:[],o.unifiedId],e.pathLocalIds=[...null!==(r=o.pathLocalIds)&&void 0!==r?r:[],o.localId].filter((e=>null!=e))}}),this.events.emit("updatedList",f),this.events.emit("newListsState",this.lists),p.remoteId!==f.remoteId){const e=this.updateSharedAnnotationsWithSharedPageLists();f.unifiedAnnotationIds=Array.from(new Set([...p.unifiedAnnotationIds,...e]))}},this.removeAnnotation=({unifiedId:e,localId:t})=>{let n=e;null!=t&&(n=this.localAnnotIdsToCacheIds.get(t));const r=this.annotations.byId[n];if(!r)throw new Error("No existing cached annotation found to remove");null!=r.remoteId&&this.remoteAnnotIdsToCacheIds.delete(r.remoteId),null!=r.localId&&this.localAnnotIdsToCacheIds.delete(r.localId),delete this.annotations.byId[r.unifiedId],this.annotations.allIds=this.annotations.allIds.filter((e=>e!==n)),this.events.emit("removedAnnotation",r),this.events.emit("newAnnotationsState",this.annotations)},this.removeList=({unifiedId:e},t)=>{const n=this.lists.byId[e];if(!n)throw new Error("No existing cached list found to remove");const r=Object(l.d)({strategy:"dfs",root:n,cb:e=>e,getChildren:e=>this.getListsByParentId(e.unifiedId)}).reverse();for(const e of r)null!=e.remoteId&&this.remoteListIdsToCacheIds.delete(e.remoteId),null!=e.localId&&this.localListIdsToCacheIds.delete(e.localId),this.lists.allIds=this.lists.allIds.filter((t=>t!==e.unifiedId)),delete this.lists.byId[e.unifiedId],(null==t?void 0:t.skipEventEmission)||this.events.emit("removedList",e);this.events.emit("newListsState",this.lists)},e.sortingFn=null!==(t=e.sortingFn)&&void 0!==t?t:i.b,e.events=null!==(n=e.events)&&void 0!==n?n:new o.EventEmitter}get isEmpty(){return 0===this.annotations.allIds.length}get events(){return this.deps.events}ensurePageListsSet(e,t){var n;const r=null!==(n=this.pageListIds.get(e))&&void 0!==n?n:new Set;for(const e of t)this.lists.byId[e]&&!r.has(e)&&r.add(e);this.pageListIds.set(e,r)}trackPageLinkListForPage(e){var t;const n=null!==(t=this.normalizedPageUrlsToPageLinkListIds.get(e.normalizedPageUrl))&&void 0!==t?t:new Set;n.add(e.unifiedId),this.normalizedPageUrlsToPageLinkListIds.set(e.normalizedPageUrl,n)}getSharedPageListIds(e){var t;return[...null!==(t=this.pageListIds.get(e))&&void 0!==t?t:[]].filter(this.isListShared)}updateSharedAnnotationsWithSharedPageLists(){const e=[];let t=!1;return this.annotations=Object(a.a)({getId:e=>e.unifiedId,seedData:Object(a.c)(this.annotations).map((n=>{const r=Array.from(new Set([...this.getSharedPageListIds(n.normalizedPageUrl),...n.unifiedListIds.filter((e=>!this.isListShared(e)))]));return n.privacyLevel<s.a.SHARED||((e,t)=>{const n=new Set(e),r=new Set(t);if(n.size!==r.size)return!1;for(const e of n)if(!r.has(e))return!1;return!0})(n.unifiedListIds,r)?n:(e.push(n.unifiedId),t=!0,Object.assign(Object.assign({},n),{unifiedListIds:r}))}))}),t&&this.events.emit("newAnnotationsState",this.annotations),e}updateCachedListAnnotationRefsForAnnotationUpdate(e,t){const n=e.unifiedListIds.filter((e=>!t.unifiedListIds.includes(e)));for(const t of n){const n=this.lists.byId[t];n&&(n.unifiedAnnotationIds=n.unifiedAnnotationIds.filter((t=>t!==e.unifiedId)))}const r=t.unifiedListIds.filter((t=>!e.unifiedListIds.includes(t)));for(const t of r){const n=this.lists.byId[t];n&&!n.unifiedAnnotationIds.includes(e.unifiedId)&&n.unifiedAnnotationIds.push(e.unifiedId)}}}},,,function(e,t,n){var r=n(88),o=n(184),i=n(50),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},function(e,t,n){var r=n(198),o=n(109);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(1),a=n.n(i),s=n(25),l=n(276),c=n(13),u=n(7),d=n(4);class p extends o.PureComponent{constructor(){super(...arguments),this.state={isLoading:!0,infoModeShortcuts:!0},this.getOnlyShortcut=e=>{var t;if(this.state.isLoading)return null;return(null===(t=this.keyboardShortcuts[e])||void 0===t?void 0:t.shortcut).split("+")},this.handleClickOutside=()=>{this.props.onClickOutside()}}componentDidMount(){var e;return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.props.hideShortCutSection||(this.keyboardShortcuts=null!==(e=yield this.props.getKeyboardShortcutsState())&&void 0!==e?e:void 0),this.setState({isLoading:!1})}))}render(){return o.createElement(E,null,!this.props.hideShortCutSection&&o.createElement(v,null,o.createElement(g,null,o.createElement(b,null,"Keyboard Shortcuts")," ",o.createElement(u.a,{placement:"bottom",tooltipText:"Modify Keyboard Shortcuts",getPortalRoot:this.props.getRootElement},o.createElement(d.a,{onClick:()=>this.props.onSettingsClick(),filePath:"settings",color:"prime1",heightAndWidth:"20px"}))),o.createElement(x,null,o.createElement("tr",null,o.createElement(w,null,"Quick Save & Index Page"),o.createElement("td",null),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("createBookmark"),getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement(w,null,"Highlight selected text"),o.createElement("td",null),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("createHighlight"),optional:"Shift",optionalTooltipText:o.createElement("span",null,"Optional:",o.createElement("br",null)," Immediately make public"),getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement(w,null,"Add note to selected text"),o.createElement("td",null),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("createAnnotation"),optional:"Shift",optionalTooltipText:o.createElement("span",null,"Optional:",o.createElement("br",null)," Immediately make public"),getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement(w,null,"Add page to Spaces"),o.createElement("td",null),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("addToCollection"),getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement(w,null,"Open Sidebar"),o.createElement("td",null," "),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("toggleSidebar"),getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement(w,null,"Summarise page or selected text"),o.createElement("td",null),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("askAI"),getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement(w,null,"Search pages and annotations"),o.createElement("td",null),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("openDashboard"),getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement(w,null,"Toggle highlights on page"),o.createElement("td",null),o.createElement("td",null,o.createElement(c.a,{keys:this.getOnlyShortcut("toggleHighlights"),getRootElement:this.props.getRootElement}))))),!this.props.hideEditorTutorials&&o.createElement(y,{markdownTop:this.props.markdownHelpOnTop},o.createElement(x,null,o.createElement(g,null,o.createElement(b,null,"Editor Formatting"),o.createElement(h,{onClick:()=>this.setState({infoModeShortcuts:!this.state.infoModeShortcuts})},!0===this.state.infoModeShortcuts?o.createElement(o.Fragment,null,o.createElement(m,{active:!0},"Shortcuts"),o.createElement(m,null,"Markdown")):o.createElement(o.Fragment,null,o.createElement(m,null,"Shortcuts"),o.createElement(m,{active:!0},"Markdown")))),o.createElement("tr",null,o.createElement("td",null,o.createElement("b",null,"Bold")),o.createElement(f,{active:!this.state.infoModeShortcuts},"**bold**"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,"B"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("i",null,"Italic")),o.createElement(f,{active:!this.state.infoModeShortcuts},"*italic*"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,"I"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement(S,{href:"https://memex.garden/tutorials",target:"_blank"},"Link")),o.createElement(f,{active:!this.state.infoModeShortcuts},"Highlight text and paste url"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,"V"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,"YouTube timestamp"),o.createElement(f,{active:!this.state.infoModeShortcuts},o.createElement("a",{target:"_blank",href:"https://youtu.be/VIVIegSt81k?t=75"},"[1:15]")),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,"Y"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("img",{height:"20px",width:"20px",src:"https://cdn.wccftech.com/wp-content/uploads/2015/03/Fallout-4-2.png"}),"Images References"),o.createElement(f,{active:!this.state.infoModeShortcuts},"Copy&paste or drag in editor"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,"V"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("ol",null,o.createElement("li",null,"Ordered List"))),o.createElement(f,{active:!this.state.infoModeShortcuts},"1. Item One"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:["shift",p.MOD_KEY,"7"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("ul",null,o.createElement("li",null,"Bullet List"))),o.createElement(f,{active:!this.state.infoModeShortcuts},"- Item One or * Item One"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:["shift",p.MOD_KEY,"8"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("blockquote",null,"Block Quote")),o.createElement(f,{active:!this.state.infoModeShortcuts},">"," this is the quote"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:["shift",p.MOD_KEY,"B"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("h1",null,"Heading 1")),o.createElement(f,{active:!this.state.infoModeShortcuts},"# Heading 1"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,p.ALT_KEY,"1"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("h2",null,"Heading 2")),o.createElement(f,{active:!this.state.infoModeShortcuts},"## Heading 2"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,p.ALT_KEY,"2"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("h3",null,"Heading 3")),o.createElement(f,{active:!this.state.infoModeShortcuts},"### Heading 3"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,p.ALT_KEY,"3"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("code",null,"Inline Code")),o.createElement(f,{active:!this.state.infoModeShortcuts},"`inline Code``"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:["shift",p.MOD_KEY,"E"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement(k,null,"Multi-Line ",o.createElement("br",null),"Code Block")),o.createElement(f,{active:!this.state.infoModeShortcuts},"```code blocks```"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:[p.MOD_KEY,p.ALT_KEY,"C"],getRootElement:this.props.getRootElement}))),o.createElement("tr",null,o.createElement("td",null,o.createElement("s",null,"Strikethrough")),o.createElement(f,{active:!this.state.infoModeShortcuts},"~~Strikethrough~~"),o.createElement(f,{active:this.state.infoModeShortcuts},o.createElement(c.a,{keys:["shift",p.MOD_KEY,"X"],getRootElement:this.props.getRootElement}))))))}}p.MOD_KEY=Object(s.a)({key:"mod"}),p.ALT_KEY=Object(s.a)({key:"alt"}),p.defaultProps={shortcutsData:l.a};a.a.div`
    color: ${e=>e.theme.colors.prime1};
    font-size: 14px;
    cursor: pointer;
`;const f=a.a.div`
    display: ${e=>e.active?"flex":"none"};
`,h=a.a.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    border-radius: 4px;
    width: max-content;
    cursor: pointer;
    height: 20px;
    user-select: none;
`,m=a.a.div`
    color: ${e=>e.theme.colors.white};
    font-size: 12px;
    background: ${e=>e.active&&e.theme.colors.greyScale3};
    width: 70px;
    height: fill-available;
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
`,g=a.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    z-index: 2;
`,v=(a.a.div`
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
    justify-content: center;
`,a.a.div`
    color: ${e=>e.theme.colors.prime1};
    font-size: 14px;
    cursor: pointer;
    font-weight: bold;
`,a.a.div`
    margin: 15px 15px 10px 15px;
    display: flex;
    flex-direction: column;
    order: 2;
`),y=a.a.div`
    margin: 15px 15px 10px 15px;
    display: flex;
    flex-direction: column;
    order: ${e=>!0===e.markdownTop?1:3};
`,b=(a.a.div`
    order: 4;
    padding-bottom: 25px;
`,a.a.div`
    font-size: 16px;
    color: ${e=>e.theme.colors.white};
    display: flex;
    font-weight: bold;
    margin-bottom: 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 15px 0 15px;

    & last-child {
        padding-top: 25px;
    }
`,a.a.div`
    font-size: 16px;
    color: ${e=>e.theme.colors.white};
    display: flex;
    font-weight: bold;
    justify-content: space-between;
    align-items: center;
`),w=(a.a.div`
    all: initial;
    font-family: sans-serif;
    font-size: 12px;
`,a.a.div`
    background: white;
`,a.a.div`
    display: flex;
    justify-content: space-between;
    height: 40px;
    align-items: center;
    cursor: pointer;
    padding: 0 10px;
    margin: 0 5px;
    border-radius: 5px;

    &:hover {
        outline: 1px solid ${e=>e.theme.colors.greyScale3};
    }
`,a.a.div`
    font-size: 14px;
    color: ${e=>e.theme.colors.greyScale6};
`),x=a.a.table`
    width: 100%;
    font-size: 14px;

    & tr {
        height: 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: ${e=>e.theme.colors.white};
    }

    td {
        display: flex;
        flex-direction: flex-start;
        align-items: center;
    }

    td:first-child {
        width: 50px;
        white-space: nowrap;
    }

    td:nth-child(2) {
        white-space: nowrap;
        text-align: center;
    }

    & td:last-child {
        display: flex;
        justify-content: flex-end;
        width: 50px;
        font-size: 14px;
        white-space: nowrap;
        display: flex;
        align-items: center;

        & span {
            margin-right: 5px;
        }
    }

    & code {
        padding: 2px 3px 1px;
        border: 1px solid #e01e5a;
        border-radius: 3px;
        background-color: ${e=>e.theme.colors.greyScale3};
        color: #e01e5a;
        font-size: 14px;
        font-family: Monaco, Menlo, Consolas, Courier New, monospace !important;
    }

    & ul {
        margin-inline-start: -20px;
    }

    & ol {
        margin-inline-start: -20px;
    }

    & h1 {
        font-size: 18px;
    }

    & h2 {
        font-size: 16px;
    }

    & h3 {
        font-size: 14px;
    }

    & blockquote {
        border-left: #5cd9a6 3px solid;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        padding-left: 10px;
    }
`,k=a.a.pre`
    width: fit-content;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    border-radius: 3px;
    background-color: ${e=>e.theme.colors.greyScale3};
    padding: 5px;
    font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace !important;
`,S=(a.a.div`
    background-color: yellow;
`,a.a.a`
    color: ${e=>e.theme.colors.prime1};
`),E=(a.a.div`
    border: 1px solid ${e=>e.theme.colors.prime2};
    border-radius: 3px;
    padding: 2px 5px;
    font-size: 12px;
    width: fit-content;
    align-self: flex-end;
    color: ${e=>e.theme.colors.white};
`,a.a.div`
    font-size: 16px;
    color: #c0c0c0;
    display: flex;
    justify-content: space-between;
    align-items: center;
`,a.a.div`
    display: flex;
    flex-direction: column;
    overflow: scroll;
    height: fit-content;
    padding: 10px;
    width: 380px;

    &:host {
        all: initial;
    }

    ::-webkit-scrollbar {
        background: transparent;
        width: 8px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 2px 0px 2px 0px;
        width: 8px;
        padding: 1px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: ${e=>e.theme.colors.greyScale2};
        border-radius: 10px;
        width: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: ${e=>e.theme.colors.greyScale3};
        cursor: pointer;
    }
`);a.a.span`
    margin-right: 0px;
    font-size: 11px;
`;t.a=p},,,,function(e,t,n){var r=n(139),o=n(125),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var u=0;u<a.length;u++)i.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===d(i)?i:String(i)),r)}var o,i}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=n(39),g=n(89),v=n(121),y=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},b=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},w=null,x=function(e,t,n){var r=w||(w=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},k=function(e,t,n,r){return n&&(E(e,t,n,r,-1)||E(e,t,n,r,1))},S=/^(img|br|input|textarea|hr)$/i;function E(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:C(e))){var i=e.parentNode;if(!i||1!=i.nodeType||A(e)||S.test(e.nodeName)||"false"==e.contentEditable)return!1;t=y(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?C(e):0}}}function C(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function A(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var O=function(e){return e.focusNode&&k(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function I(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}var D="undefined"!=typeof navigator?navigator:null,M="undefined"!=typeof document?document:null,T=D&&D.userAgent||"",_=/Edge\/(\d+)/.exec(T),R=/MSIE \d/.exec(T),P=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(T),L=!!(R||P||_),N=R?document.documentMode:P?+P[1]:_?+_[1]:0,j=!L&&/gecko\/(\d+)/i.test(T);j&&(/Firefox\/(\d+)/.exec(T)||[0,0])[1];var B=!L&&/Chrome\/(\d+)/.exec(T),F=!!B,z=B?+B[1]:0,$=!L&&!!D&&/Apple Computer/.test(D.vendor),H=$&&(/Mobile\/\w+/.test(T)||!!D&&D.maxTouchPoints>2),U=H||!!D&&/Mac/.test(D.platform),W=!!D&&/Win/.test(D.platform),V=/Android \d/.test(T),q=!!M&&"webkitFontSmoothing"in M.documentElement.style,G=q?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Y(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function K(e,t){return"number"==typeof e?e:e[t]}function J(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function X(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=b(a))if(1==a.nodeType){var s=a,l=s==i.body,c=l?Y(i):J(s),u=0,d=0;if(t.top<c.top+K(r,"top")?d=-(c.top-t.top+K(o,"top")):t.bottom>c.bottom-K(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+K(o,"top")-c.top:t.bottom-c.bottom+K(o,"bottom")),t.left<c.left+K(r,"left")?u=-(c.left-t.left+K(o,"left")):t.right>c.right-K(r,"right")&&(u=t.right-c.right+K(o,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{var p=s.scrollLeft,f=s.scrollTop;d&&(s.scrollTop+=d),u&&(s.scrollLeft+=u);var h=s.scrollLeft-p,m=s.scrollTop-f;t={left:t.left-h,top:t.top-m,right:t.right-h,bottom:t.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function Q(e){for(var t=[],n=e.ownerDocument,r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=b(r));return t}function Z(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var ee=null;function te(e,t){for(var n,r,o,i,a=2e8,s=0,l=t.top,c=t.top,u=e.firstChild,d=0;u;u=u.nextSibling,d++){var p=void 0;if(1==u.nodeType)p=u.getClientRects();else{if(3!=u.nodeType)continue;p=x(u).getClientRects()}for(var f=0;f<p.length;f++){var h=p[f];if(h.top<=l&&h.bottom>=c){l=Math.max(h.bottom,l),c=Math.min(h.top,c);var m=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(m<a){n=u,a=m,r=m&&3==n.nodeType?{left:h.right<t.left?h.right:h.left,top:t.top}:t,1==u.nodeType&&m&&(s=d+(t.left>=(h.left+h.right)/2?1:0));continue}}else h.top>t.top&&!o&&h.left<=t.left&&h.right>=t.left&&(o=u,i={left:Math.max(h.left,Math.min(h.right,t.left)),top:h.top});!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(s=d+1)}}return!n&&o&&(n=o,r=i,a=0),n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=ae(r,1);if(i.top!=i.bottom&&ne(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||a&&1==n.nodeType?{node:e,offset:s}:te(n,r)}function ne(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function re(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var a=e.childNodes[i];if(1==a.nodeType)for(var s=a.getClientRects(),l=0;l<s.length;l++){var c=s[l];if(ne(t,c))return re(a,t,c)}if((i=(i+1)%r)==o)break}return e}function oe(e,t){var n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{var r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(e){}if(e.caretRangeFromPoint){var o=e.caretRangeFromPoint(t,n);if(o)return{node:o.startContainer,offset:o.startOffset}}}(r,t.left,t.top);i&&(n=i.node,o=i.offset);var a,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){var l=e.dom.getBoundingClientRect();if(!ne(t,l))return null;if(!(s=re(e.dom,t,l)))return null}if($)for(var c=s;n&&c;c=b(c))c.draggable&&(n=void 0);if(s=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(j&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length))<n.childNodes.length){var u,d=n.childNodes[o];"IMG"==d.nodeName&&(u=d.getBoundingClientRect()).right<=t.left&&u.bottom>t.top&&o++}var p;q&&o&&1==n.nodeType&&1==(p=n.childNodes[o-1]).nodeType&&"false"==p.contentEditable&&p.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(a=function(e,t,n,r){for(var o=-1,i=t,a=!1;i!=e.dom;){var s=e.docView.nearestDesc(i,!0);if(!s)return null;if(1==s.dom.nodeType&&(s.node.isBlock&&s.parent&&!a||!s.contentDOM)){var l=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!a&&(a=!0,l.left>r.left||l.top>r.top?o=s.posBefore:(l.right<r.left||l.bottom<r.top)&&(o=s.posAfter)),!s.contentDOM&&o<0&&!s.node.isText)return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter}i=s.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==a&&(a=function(e,t,n){var r=te(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,s,t));var f=e.docView.nearestDesc(s,!0);return{pos:a,inside:f?f.posAtStart-f.border:-1}}function ie(e){return e.top<e.bottom||e.left<e.right}function ae(e,t){var n=e.getClientRects();if(n.length){var r=n[t<0?0:n.length-1];if(ie(r))return r}return Array.prototype.find.call(n,ie)||e.getBoundingClientRect()}var se=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function le(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,a=r.atom,s=q||j;if(3==o.nodeType){if(!s||!se.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==o.nodeValue.length?(l--,u=1):n<0?l--:c++,ce(ae(x(o,l,c),u),u<0)}var d=ae(x(o,i,i),n);if(j&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=ae(x(o,i-1,i-1),-1);if(p.top==d.top){var f=ae(x(o,i,i+1),-1);if(f.top!=d.top)return ce(f,f.left<p.left)}}return d}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(null==a&&i&&(n<0||i==C(o))){var h=o.childNodes[i-1];if(1==h.nodeType)return ue(h.getBoundingClientRect(),!1)}if(null==a&&i<C(o)){var m=o.childNodes[i];if(1==m.nodeType)return ue(m.getBoundingClientRect(),!0)}return ue(o.getBoundingClientRect(),n>=0)}if(null==a&&i&&(n<0||i==C(o))){var g=o.childNodes[i-1],v=3==g.nodeType?x(g,C(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(v)return ce(ae(v,1),!1)}if(null==a&&i<C(o)){for(var y=o.childNodes[i];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var b=y?3==y.nodeType?x(y,0,s?0:1):1==y.nodeType?y:null:null;if(b)return ce(ae(b,-1),!0)}return ce(ae(3==o.nodeType?x(o):o,-n),n>=0)}function ce(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ue(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function de(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var pe=/[\u0590-\u08ac]/;var fe=null,he=null,me=!1;function ge(e,t,n){return fe==t&&he==n?me:(fe=t,he=n,me="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return de(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.contentDOM||r.dom;break}t=r.dom.parentNode}for(var i=le(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=x(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top+1&&("up"==n?i.top-c.top>2*(c.bottom-i.top):c.bottom-i.bottom>2*(i.bottom-c.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=e.domSelection();return pe.test(r.parent.textContent)&&s.modify?de(e,t,(function(){var t=e.domSelectionRange(),o=t.focusNode,i=t.focusOffset,a=t.anchorNode,l=t.anchorOffset,c=s.caretBidiLevel;s.modify("move",n,"character");var u=r.depth?e.docView.domAfterPos(r.before()):e.dom,d=e.domSelectionRange(),p=d.focusNode,f=d.focusOffset,h=p&&!u.contains(1==p.nodeType?p:p.parentNode)||o==p&&i==f;try{s.collapse(a,l),o&&(o!=a||i!=l)&&s.extend&&s.extend(o,i)}catch(e){}return null!=c&&(s.caretBidiLevel=c),h})):"left"==n||"backward"==n?i:a}(e,t,n))}var ve=function(){function e(t,n,r,o){p(this,e),this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=0,r.pmViewDesc=this}return h(e,[{key:"matchesWidget",value:function(e){return!1}},{key:"matchesMark",value:function(e){return!1}},{key:"matchesNode",value:function(e,t,n){return!1}},{key:"matchesHack",value:function(e){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(e){return!1}},{key:"size",get:function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var e=0;e<this.children.length;e++)this.children[e].destroy()}},{key:"posBeforeChild",value:function(e){for(var t=0,n=this.posAtStart;;t++){var r=this.children[t];if(r==e)return n;n+=r.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(e==this.dom&&this.contentDOM)s=t>y(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(null==s&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.nextSibling)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r),i=void 0;if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}},{key:"getDesc",value:function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t}},{key:"posFromDOM",value:function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}},{key:"descAt",value:function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}},{key:"domFromPos",value:function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};for(var n,r=0,o=0,i=0;r<this.children.length;r++){var a=this.children[r],s=i+a.size;if(s>e||a instanceof Ee){o=e-i;break}i=s}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof ye&&n.side>=0;r--);if(t<=0){for(var l,c=!0;(l=r?this.children[r-1]:null)&&l.dom.parentNode!=this.contentDOM;r--,c=!1);return l&&t&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?y(l.dom)+1:0}}for(var u,d=!0;(u=r<this.children.length?this.children[r]:null)&&u.dom.parentNode!=this.contentDOM;r++,d=!1);return u&&d&&!u.border&&!u.domAtom?u.domFromPos(0,t):{node:this.contentDOM,offset:u?y(u.dom):this.contentDOM.childNodes.length}}},{key:"parseRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],l=i+s.size;if(-1==r&&e<=l){var c=i+s.border;if(e>=c&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=i;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=y(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(var p=a+1;p<this.children.length;p++){var f=this.children[p];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=y(f.dom);break}t+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}},{key:"emptyChildAt",value:function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}},{key:"domAfterPos",value:function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}},{key:"setSelection",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}var u=this.domFromPos(e,e?-1:1),d=t==e?u:this.domFromPos(t,t?-1:1),p=n.getSelection(),f=!1;if((j||$)&&e==t){var h=u,m=h.node,g=h.offset;if(3==m.nodeType){if((f=!(!g||"\n"!=m.nodeValue[g-1]))&&g==m.nodeValue.length)for(var v,b=m;b;b=b.parentNode){if(v=b.nextSibling){"BR"==v.nodeName&&(u=d={node:v.parentNode,offset:y(v)+1});break}var w=b.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{var x=m.childNodes[g-1];f=x&&("BR"==x.nodeName||"false"==x.contentEditable)}}if(j&&p.focusNode&&p.focusNode!=d.node&&1==p.focusNode.nodeType){var S=p.focusNode.childNodes[p.focusOffset];S&&"false"==S.contentEditable&&(r=!0)}if(r||f&&$||!k(u.node,u.offset,p.anchorNode,p.anchorOffset)||!k(d.node,d.offset,p.focusNode,p.focusOffset)){var E=!1;if((p.extend||e==t)&&!f){p.collapse(u.node,u.offset);try{e!=t&&p.extend(d.node,d.offset),E=!0}catch(e){}}if(!E){if(e>t){var C=u;u=d,d=C}var A=document.createRange();A.setEnd(d.node,d.offset),A.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(A)}}}},{key:"ignoreMutation",value:function(e){return!this.contentDOM&&"selection"!=e.type}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}},{key:"markParentsDirty",value:function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}}]),e}(),ye=function(e){a(n,e);var t=l(n);function n(e,r,o,i){var a;p(this,n);var s,l=r.type.toDOM;if("function"==typeof l&&(l=l(o,(function(){return s?s.parent?s.parent.posBeforeChild(s):void 0:i}))),!r.type.spec.raw){if(1!=l.nodeType){var u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}return(a=t.call(this,e,[],l,null)).widget=r,a.widget=r,s=c(a),a}return h(n,[{key:"matchesWidget",value:function(e){return 0==this.dirty&&e.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)}},{key:"ignoreMutation",value:function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),i(u(n.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),n}(ve),be=function(e){a(n,e);var t=l(n);function n(e,r,o,i){var a;return p(this,n),(a=t.call(this,e,[],r,null)).textDOM=o,a.text=i,a}return h(n,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}},{key:"domFromPos",value:function(e){return{node:this.textDOM,offset:e}}},{key:"ignoreMutation",value:function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}]),n}(ve),we=function(e){a(n,e);var t=l(n);function n(e,r,o,i){var a;return p(this,n),(a=t.call(this,e,[],o,i)).mark=r,a}return h(n,[{key:"parseRule",value:function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(e){return 3!=this.dirty&&this.mark.eq(e)}},{key:"markDirty",value:function(e,t){if(i(u(n.prototype),"markDirty",this).call(this,e,t),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}},{key:"slice",value:function(e,t,r){var o=n.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;t<a&&(i=je(i,t,a,r)),e>0&&(i=je(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o}}],[{key:"create",value:function(e,t,r,o){var i=o.nodeViews[t.type.name],a=i&&i(t,o,r);return a&&a.dom||(a=g.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t,r))),new n(e,t,a.dom,a.contentDOM||a.dom)}}]),n}(ve),xe=function(e){a(n,e);var t=l(n);function n(e,r,o,i,a,s,l,c,u){var d;return p(this,n),(d=t.call(this,e,[],a,s)).node=r,d.outerDeco=o,d.innerDeco=i,d.nodeDOM=l,d}return h(n,[{key:"parseRule",value:function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(var n=this.children.length-1;n>=0;n--){var r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=function(){return g.Fragment.empty})}else t.contentElement=this.contentDOM;else t.getContent=function(){return e.node.content};return t}},{key:"matchesNode",value:function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Re(t,this.outerDeco)&&n.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(e,t){var n=this,r=this.node.inlineContent,o=t,i=e.composing?this.localCompositionInfo(e,t):null,a=i&&i.pos>-1?i:null,s=i&&i.pos<0,l=new Le(this,a&&a.node,e);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,o,t.forChild(i,s),a),i+=s.nodeSize}return}for(var l=0,c=[],u=null,d=0;;){for(var p=void 0,f=void 0;l<o.length&&o[l].to==i;){var h=o[l++];h.widget&&(p?(f||(f=[p])).push(h):p=h)}if(p)if(f){f.sort(Ne);for(var m=0;m<f.length;m++)n(f[m],d,!!u)}else n(p,d,!!u);var g=void 0,v=void 0;if(u)v=-1,g=u,u=null;else{if(!(d<e.childCount))break;v=d,g=e.child(d++)}for(var y=0;y<c.length;y++)c[y].to<=i&&c.splice(y--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)c.push(o[l++]);var b=i+g.nodeSize;if(g.isText){var w=b;l<o.length&&o[l].from<w&&(w=o[l].from);for(var x=0;x<c.length;x++)c[x].to<w&&(w=c[x].to);w<b&&(u=g.cut(w-i),g=g.cut(0,w-i),b=w,v=-1)}else for(;l<o.length&&o[l].to<b;)l++;r(g,g.isInline&&!g.isLeaf?c.filter((function(e){return!e.inline})):c.slice(),t.forChild(i,g),v),i=b}}(this.node,this.innerDeco,(function(t,i,a){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!a&&l.syncToMarks(i==n.node.childCount?g.Mark.none:n.node.child(i).marks,r,e),l.placeWidget(t,e,o)}),(function(t,n,a,c){var u;l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,a,c)||s&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(u=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(t,n,a,u,e)||l.updateNextNode(t,n,a,e,c,o)||l.addNode(t,n,a,e,o),o+=t.nodeSize})),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),Ae(this.contentDOM,this.children,e),H&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}},{key:"localCompositionInfo",value:function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(e.state.selection instanceof m.TextSelection)||r<t||o>t+this.node.content.size)return null;var i=e.domSelectionRange(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=C(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){var s=a.nodeValue,l=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var l=a.text;o<e.childCount;){var c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;var u=s<r?l.lastIndexOf(t,r-s-1):-1;if(u>=0&&u+t.length+s>=n)return s+u;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}}return-1}(this.node.content,s,r-t,o-t);return l<0?null:{node:a,pos:l,text:s}}return{node:a,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}var a=new be(this,i,n,o);e.input.compositionNodes.push(a),this.children=je(this.children,r,r+o.length,e,a)}}},{key:"update",value:function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}},{key:"updateInner",value:function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}},{key:"updateOuterDeco",value:function(e){if(!Re(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Me(this.dom,this.nodeDOM,De(this.outerDeco,this.node,t),De(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}}},{key:"selectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(e,t,r,o,i,a){var s,l=i.nodeViews[t.type.name],c=l&&l(t,i,(function(){return s?s.parent?s.parent.posBeforeChild(s):void 0:a}),r,o),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(t.text);else if(!u){var p=g.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t));u=p.dom,d=p.contentDOM}d||t.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));var f=u;return u=_e(u,r,t),c?s=new Ce(e,t,r,o,u,d||null,f,c,i,a+1):t.isText?new Se(e,t,r,o,u,f,i):new n(e,t,r,o,u,d||null,f,i,a+1)}}]),n}(ve);function ke(e,t,n,r,o){_e(r,t,e);var i=new xe(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}var Se=function(e){a(n,e);var t=l(n);function n(e,r,o,i,a,s,l){return p(this,n),t.call(this,e,r,o,i,a,null,s,l,0)}return h(n,[{key:"parseRule",value:function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}},{key:"update",value:function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}},{key:"inParent",value:function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}},{key:"domFromPos",value:function(e){return{node:this.nodeDOM,offset:e}}},{key:"localPosFromDOM",value:function(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):i(u(n.prototype),"localPosFromDOM",this).call(this,e,t,r)}},{key:"ignoreMutation",value:function(e){return"characterData"!=e.type&&"selection"!=e.type}},{key:"slice",value:function(e,t,r){var o=this.node.cut(e,t),i=document.createTextNode(o.text);return new n(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}},{key:"markDirty",value:function(e,t){i(u(n.prototype),"markDirty",this).call(this,e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}},{key:"domAtom",get:function(){return!1}}]),n}(xe),Ee=function(e){a(n,e);var t=l(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(e){return 0==this.dirty&&this.dom.nodeName==e}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return"IMG"==this.dom.nodeName}}]),n}(ve),Ce=function(e){a(n,e);var t=l(n);function n(e,r,o,i,a,s,l,c,u,d){var f;return p(this,n),(f=t.call(this,e,r,o,i,a,s,l,u,d)).spec=c,f}return h(n,[{key:"update",value:function(e,t,r,o){if(3==this.dirty)return!1;if(this.spec.update){var a=this.spec.update(e,t,r);return a&&this.updateInner(e,t,r,o),a}return!(!this.contentDOM&&!e.isLeaf)&&i(u(n.prototype),"update",this).call(this,e,t,r,o)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():i(u(n.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():i(u(n.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r):i(u(n.prototype),"setSelection",this).call(this,e,t,r,o)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),i(u(n.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}},{key:"ignoreMutation",value:function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):i(u(n.prototype),"ignoreMutation",this).call(this,e)}}]),n}(xe);function Ae(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=Pe(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof we){var l=r?r.previousSibling:e.lastChild;Ae(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=Pe(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}var Oe=function(e){e&&(this.nodeName=e)};Oe.prototype=Object.create(null);var Ie=[new Oe];function De(e,t,n){if(0==e.length)return Ie;for(var r=n?Ie[0]:new Oe,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var s in a.nodeName&&o.push(r=new Oe(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==o.length&&o.push(r=new Oe(t.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+l:"style"==s?r.style=(r.style?r.style+";":"")+l:"nodeName"!=s&&(r[s]=l))}}return o}function Me(e,t,n,r){if(n==Ie&&r==Ie)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var l=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(l=o.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(o),s=Ie[0]),o=l}Te(o,s||Ie[0],a)}return o}function Te(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[],s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var l=0;l<a.length;l++)-1==i.indexOf(a[l])&&e.classList.add(a[l]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function _e(e,t,n){return Me(e,e,Ie,De(t,n,1!=e.nodeType))}function Re(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Pe(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Le=function(){function e(t,n,r){p(this,e),this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(e,t){var n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){for(var s=void 0;;)if(r){var l=n.children[r-1];if(!(l instanceof we)){s=l,r--;break}n=l,r=l.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var c=s.node;if(c){if(c!=e.child(o-1))break;--o,i.set(s,o),a.push(s)}}return{index:o,matched:i,matches:a.reverse()}}(t.node.content,t)}return h(e,[{key:"destroyBetween",value:function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++){var l=this.top.children[s];if(l.matchesMark(e[o])&&!this.isLocked(l.dom)){a=s;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=we.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}}},{key:"findNodeMatch",value:function(e,t,n,r){var o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(var a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){var l=this.top.children[a];if(l.matchesNode(e,t,n)&&!this.preMatch.matched.has(l)){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}},{key:"updateNodeAt",value:function(e,t,n,r,o){var i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}},{key:"findIndexWithChild",value:function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}}},{key:"updateNextNode",value:function(e,t,n,r,o,i){for(var a=this.index;a<this.top.children.length;a++){var s=this.top.children[a];if(s instanceof xe){var l=this.preMatch.matched.get(s);if(null!=l&&l!=o)return!1;var c=s.dom,u=void 0,d=this.isLocked(c)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&Re(t,s.outerDeco));if(!d&&s.update(e,t,n,r))return this.destroyBetween(this.index,a),s.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(u=this.recreateWrapper(s,e,t,n,r,i)))return this.top.children[this.index]=u,u.contentDOM&&(u.dirty=2,u.updateChildren(r,i+1),u.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(e,t,n,o,i,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;var s=xe.create(this.top,t,n,o,i,a);if(s.contentDOM){s.children=e.children,e.children=[];var l,c=r(s.children);try{for(c.s();!(l=c.n()).done;){l.value.parent=s}}catch(e){c.e(e)}finally{c.f()}}return e.destroy(),s}},{key:"addNode",value:function(e,t,n,r,o){var i=xe.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}},{key:"placeWidget",value:function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new ye(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}},{key:"addTextblockHacks",value:function(){for(var e=this.top.children[this.index-1],t=this.top;e instanceof we;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof Se)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&(($||F)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{var n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");var r=new Ee(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}},{key:"isLocked",value:function(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}]),e}();function Ne(e,t){return e.type.side-t.type.side}function je(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var l=e[a],c=s,u=s+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;var s,l,c=r.resolve(a);if(O(n)){for(s=c;o&&!o.node;)o=o.parent;var u=o.node;if(o&&u.isAtom&&m.NodeSelection.isSelectable(u)&&o.parent&&(!u.isInline||!function(e,t,n){for(var r=0==t,o=t==C(e);r||o;){if(e==n)return!0;var i=y(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==C(e)}}(n.focusNode,n.focusOffset,o.dom))){var d=o.posBefore;l=new m.NodeSelection(a==d?c:r.resolve(d))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(p<0)return null;s=r.resolve(p)}l||(l=Ge(e,s,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1));return l}function Fe(e){return e.editable?e.hasFocus():Ke(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(Ve(e,n),Fe(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&F){var r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&k(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,y(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&L&&N<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var i,a,s=n.anchor,l=n.head;!$e||n instanceof m.TextSelection||(n.$from.parent.inlineContent||(i=He(e,n.from)),n.empty||n.$from.parent.inlineContent||(a=He(e,n.to))),e.docView.setSelection(s,l,e.root,t),$e&&(i&&We(i),a&&We(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);var n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((function(){Fe(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var $e=$||F&&z<63;function He(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if($&&i&&"false"==i.contentEditable)return Ue(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return Ue(i);if(a)return Ue(a)}}function Ue(e){return e.contentEditable="true",$&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function We(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ve(e,t){if(t instanceof m.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(qe(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else qe(e)}function qe(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Ge(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||m.TextSelection.between(t,n,r)}function Ye(e){return!(e.editable&&!e.hasFocus())&&Ke(e)}function Ke(e){var t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Je(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=t>0?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&m.Selection.findFrom(a,t)}function Xe(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Qe(e,t,n){var r=e.state.selection;if(!(r instanceof m.TextSelection)){if(r instanceof m.NodeSelection&&r.node.isInline)return Xe(e,new m.TextSelection(t>0?r.$to:r.$from));var o=Je(e.state,t);return!!o&&Xe(e,o)}if(n.indexOf("s")>-1){var i=r.$head,a=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;var s=e.state.doc.resolve(i.pos+a.nodeSize*(t<0?-1:1));return Xe(e,new m.TextSelection(r.$anchor,s))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){var l=Je(e.state,t);return!!(l&&l instanceof m.NodeSelection)&&Xe(e,l)}if(!(U&&n.indexOf("m")>-1)){var c,u=r.$head,d=u.textOffset?null:t<0?u.nodeBefore:u.nodeAfter;if(!d||d.isText)return!1;var p=t<0?u.pos-d.nodeSize:u.pos;return!!(d.isAtom||(c=e.docView.descAt(p))&&!c.contentDOM)&&(m.NodeSelection.isSelectable(d)?Xe(e,new m.NodeSelection(t<0?e.state.doc.resolve(u.pos-d.nodeSize):u)):!!q&&Xe(e,new m.TextSelection(e.state.doc.resolve(t<0?p:p+d.nodeSize))))}}function Ze(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function et(e,t){var n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function tt(e,t){return t<0?function(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;var o,i,a=!1;j&&1==n.nodeType&&r<Ze(n)&&et(n.childNodes[r],-1)&&(a=!0);for(;;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(et(s,-1))o=n,i=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(nt(n))break;for(var l=n.previousSibling;l&&et(l,-1);)o=n.parentNode,i=y(l),l=l.previousSibling;if(l)r=Ze(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}a?rt(e,n,r):o&&rt(e,o,i)}(e):function(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;for(var o,i,a=Ze(n);;)if(r<a){if(1!=n.nodeType)break;if(!et(n.childNodes[r],1))break;o=n,i=++r}else{if(nt(n))break;for(var s=n.nextSibling;s&&et(s,1);)o=s.parentNode,i=y(s)+1,s=s.nextSibling;if(s)r=0,a=Ze(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&rt(e,o,i)}(e)}function nt(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function rt(e,t,n){var r,o;3!=t.nodeType&&((o=function(e,t){for(;e&&t==e.childNodes.length&&!A(e);)t=y(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){var n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=o,n=0):(r=function(e,t){for(;e&&!t&&!A(e);)t=y(e),e=e.parentNode;for(;e&&t;){var n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=r,n=r.nodeValue.length));var i=e.domSelection();if(O(i)){var a=document.createRange();a.setEnd(t,n),a.setStart(t,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();var s=e.state;setTimeout((function(){e.state==s&&ze(e)}),50)}function ot(e,t){var n=e.state.doc.resolve(t);if(!F&&!W&&n.parent.inlineContent){var r=e.coordsAtPos(t);if(t>n.start()){var o=e.coordsAtPos(t-1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<n.end()){var a=e.coordsAtPos(t+1),s=(a.top+a.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(a.left-r.left)>1)return a.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function it(e,t,n){var r=e.state.selection;if(r instanceof m.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(U&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=Je(e.state,t);if(a&&a instanceof m.NodeSelection)return Xe(e,a)}if(!o.parent.inlineContent){var s=t<0?o:i,l=r instanceof m.AllSelection?m.Selection.near(s,t):m.Selection.findFrom(s,t);return!!l&&Xe(e,l)}return!1}function at(e,t){if(!(e.state.selection instanceof m.TextSelection))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),e.dispatch(s),!0}return!1}function st(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function lt(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||U&&72==n&&"c"==r)return at(e,-1)||tt(e,-1);if(46==n&&!t.shiftKey||U&&68==n&&"c"==r)return at(e,1)||tt(e,1);if(13==n||27==n)return!0;if(37==n||U&&66==n&&"c"==r){var o=37==n?"ltr"==ot(e,e.state.selection.from)?-1:1:-1;return Qe(e,o,r)||tt(e,o)}if(39==n||U&&70==n&&"c"==r){var i=39==n?"ltr"==ot(e,e.state.selection.from)?1:-1:1;return Qe(e,i,r)||tt(e,i)}return 38==n||U&&80==n&&"c"==r?it(e,-1,r)||tt(e,-1):40==n||U&&78==n&&"c"==r?function(e){if(!$||e.state.selection.$head.parentOffset>0)return!1;var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;st(e,o,"true"),setTimeout((function(){return st(e,o,"false")}),20)}return!1}(e)||it(e,1,r)||tt(e,1):r==(U?"m":"c")&&(66==n||73==n||89==n||90==n)}function ct(e,t){e.someProp("transformCopied",(function(n){t=n(t,e)}));for(var n=[],r=t,o=r.content,i=r.openStart,a=r.openEnd;i>1&&a>1&&1==o.childCount&&1==o.firstChild.childCount;){i--,a--;var s=o.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),o=s.content}var l=e.someProp("clipboardSerializer")||g.DOMSerializer.fromSchema(e.state.schema),c=bt(),u=c.createElement("div");u.appendChild(l.serializeFragment(o,{document:c}));for(var d,p=u.firstChild,f=0;p&&1==p.nodeType&&(d=vt[p.nodeName.toLowerCase()]);){for(var h=d.length-1;h>=0;h--){for(var m=c.createElement(d[h]);u.firstChild;)m.appendChild(u.firstChild);u.appendChild(m),f++}p=u.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice","".concat(i," ").concat(a).concat(f?" -".concat(f):""," ").concat(JSON.stringify(n))),{dom:u,text:e.someProp("clipboardTextSerializer",(function(n){return n(t,e)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function ut(e,t,n,r,o){var i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",(function(n){t=n(t,s||r,e)})),s)return t?new g.Slice(g.Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):g.Slice.empty;var c=e.someProp("clipboardTextParser",(function(n){return n(t,o,r,e)}));if(c)a=c;else{var u=o.marks(),d=e.state.schema,p=g.DOMSerializer.fromSchema(d);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=i.appendChild(document.createElement("p"));e&&t.appendChild(p.serializeNode(d.text(e,u)))}))}}else e.someProp("transformPastedHTML",(function(t){n=t(n,e)})),i=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=bt().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&vt[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),q&&function(e){for(var t=e.querySelectorAll(F?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);var f=i&&i.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(var m=+h[3];m>0;m--){for(var v=i.firstChild;v&&1!=v.nodeType;)v=v.nextSibling;if(!v)break;i=v}if(!a){var y=e.someProp("clipboardParser")||e.someProp("domParser")||g.DOMParser.fromSchema(e.state.schema);a=y.parseSlice(i,{preserveWhitespace:!(!l&&!h),context:o,ruleFromNode:function(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||dt.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(h)a=function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var o=e.content,i=e.openStart,a=e.openEnd,s=n.length-2;s>=0;s-=2){var l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;o=g.Fragment.from(l.create(n[s+1],o)),i++,a++}return new g.Slice(o,i,a)}(gt(a,+h[1],+h[2]),h[4]);else if(a=g.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n,r=function(){var n,r=t.node(o).contentMatchAt(t.index(o)),i=[];if(e.forEach((function(e){if(i){var t,o=r.findWrapping(e.type);if(!o)return i=null;if(t=i.length&&n.length&&ft(o,n,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=ht(i[i.length-1],n.length));var a=pt(e,o);i.push(a),r=r.matchType(a.type),n=o}}})),i)return{v:g.Fragment.from(i)}},o=t.depth;o>=0;o--)if(n=r())return n.v;return e}(a.content,o),!0),a.openStart||a.openEnd){for(var b=0,w=0,x=a.content.firstChild;b<a.openStart&&!x.type.spec.isolating;b++,x=x.firstChild);for(var k=a.content.lastChild;w<a.openEnd&&!k.type.spec.isolating;w++,k=k.lastChild);a=gt(a,b,w)}return e.someProp("transformPasted",(function(t){a=t(a,e)})),a}var dt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length-1;r>=n;r--)e=t[r].create(null,g.Fragment.from(e));return e}function ft(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var i=ft(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(g.Fragment.from(pt(n,e,o+1))))}}function ht(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,ht(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(g.Fragment.empty,!0);return e.copy(n.append(r))}function mt(e,t,n,r,o,i){var a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(i=0),o<r-1&&(s=mt(s,t,n,r,o+1,i)),o>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(g.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function gt(e,t,n){return t<e.openStart&&(e=new g.Slice(mt(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new g.Slice(mt(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var vt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},yt=null;function bt(){return yt||(yt=document.implementation.createHTMLDocument("title"))}var wt={},xt={},kt={touchstart:!0,touchmove:!0},St=h((function e(){p(this,e),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}));function Et(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Ct(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=function(t){return At(e,t)})}))}function At(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Ot(e){return{left:e.clientX,top:e.clientY}}function It(e,t,n,r,o){if(-1==r)return!1;for(var i,a=e.state.doc.resolve(r),s=function(r){if(e.someProp(t,(function(t){return r>a.depth?t(e,n,a.nodeAfter,a.before(r),o,!0):t(e,n,a.node(r),a.before(r),o,!1)})))return{v:!0}},l=a.depth+1;l>0;l--)if(i=s(l))return i.v;return!1}function Dt(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Mt(e,t,n,r,o){return It(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?function(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof m.NodeSelection&&(n=o.node);for(var i=e.state.doc.resolve(t),a=i.depth+1;a>0;a--){var s=a>i.depth?i.nodeAfter:i.node(a);if(m.NodeSelection.isSelectable(s)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(Dt(e,m.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&m.NodeSelection.isSelectable(r))&&(Dt(e,new m.NodeSelection(n),"pointer"),!0)}(e,n))}function Tt(e,t,n,r){return It(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function _t(e,t,n,r){return It(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t,n){if(0!=n.button)return!1;var r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Dt(e,m.TextSelection.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(t),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),s=o.before(i);if(a.inlineContent)Dt(e,m.TextSelection.create(r,s+1,s+1+a.content.size),"pointer");else{if(!m.NodeSelection.isSelectable(a))continue;Dt(e,m.NodeSelection.create(r,s),"pointer")}return!0}}(e,n,r)}function Rt(e){return zt(e)}xt.keydown=function(e,t){var n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Nt(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!V||!F||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!H||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(function(t){return t(e,n)}))||lt(e,n)?n.preventDefault():Et(e,"key");else{var r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout((function(){e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})),e.input.lastIOSEnter=0)}),200)}},xt.keyup=function(e,t){16==t.keyCode&&(e.input.shiftKey=!1)},xt.keypress=function(e,t){var n=t;if(!(Nt(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||U&&n.metaKey))if(e.someProp("handleKeyPress",(function(t){return t(e,n)})))n.preventDefault();else{var r=e.state.selection;if(!(r instanceof m.TextSelection&&r.$from.sameParent(r.$to))){var o=String.fromCharCode(n.charCode);/[\r\n]/.test(o)||e.someProp("handleTextInput",(function(t){return t(e,r.$from.pos,r.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}}};var Pt=U?"metaKey":"ctrlKey";wt.mousedown=function(e,t){var n=t;e.input.shiftKey=n.shiftKey;var r=Rt(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[Pt]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};var a=e.posAtCoords(Ot(n));a&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Lt(e,a,n,!!r)):("doubleClick"==i?Tt:_t)(e,a.pos,a.inside,n)?n.preventDefault():Et(e,"pointer"))};var Lt=function(){function e(t,n,r,o){var i,a,s=this;if(p(this,e),this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Pt],this.allowDefault=r.shiftKey,n.inside>-1)i=t.state.doc.nodeAt(n.inside),a=n.inside;else{var l=t.state.doc.resolve(n.pos);i=l.parent,a=l.depth?l.before():0}var c=o?null:r.target,u=c?t.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var d=t.state.selection;(0==r.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||d instanceof m.NodeSelection&&d.from<=a&&d.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!j||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.input.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Et(t,"pointer")}return h(e,[{key:"done",value:function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return ze(e.view)})),this.view.input.mouseDown=null}},{key:"up",value:function(e){if(this.done(),this.view.dom.contains(e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ot(e))),this.updateAllowDefault(e),this.allowDefault||!t?Et(this.view,"pointer"):Mt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||$&&this.mightDrag&&!this.mightDrag.node.isAtom||F&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Dt(this.view,m.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Et(this.view,"pointer")}}},{key:"move",value:function(e){this.updateAllowDefault(e),Et(this.view,"pointer"),0==e.buttons&&this.done()}},{key:"updateAllowDefault",value:function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}]),e}();function Nt(e,t){return!!e.composing||!!($&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}wt.touchstart=function(e){e.input.lastTouch=Date.now(),Rt(e),Et(e,"pointer")},wt.touchmove=function(e){e.input.lastTouch=Date.now(),Et(e,"pointer")},wt.contextmenu=function(e){return Rt(e)};var jt=V?5e3:-1;function Bt(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((function(){return zt(e)}),t))}function Ft(e){var t;for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function zt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(V&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Ft(e),t||e.docView&&e.docView.dirty){var n=Be(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}xt.compositionstart=xt.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),zt(e,!0),e.markCursor=null;else if(zt(e),j&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.domSelectionRange(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){e.domSelection().collapse(a,a.nodeValue.length);break}o=a,i=-1}e.input.composing=!0}Bt(e,jt)},xt.compositionend=function(e,t){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionPendingChanges&&Promise.resolve().then((function(){return e.domObserver.flush()})),e.input.compositionID++,Bt(e,20))};var $t=L&&N<15||H&&G<604;function Ht(e,t,n,r,o){var i=ut(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,o,i||g.Slice.empty)})))return!0;if(!i)return!1;var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ut(e){var t=e.getData("text/plain")||e.getData("Text");if(t)return t;var n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}wt.copy=xt.cut=function(e,t){var n=t,r=e.state.selection,o="cut"==n.type;if(!r.empty){var i=$t?null:n.clipboardData,a=ct(e,r.content()),s=a.dom,l=a.text;i?(n.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",l)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,s),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},xt.paste=function(e,t){var n=t;if(!e.composing||V){var r=$t?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&Ht(e,Ut(r),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();var o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ht(e,r.value,null,o,t):Ht(e,r.textContent,r.innerHTML,o,t)}),50)}}(e,n)}};var Wt=h((function e(t,n,r){p(this,e),this.slice=t,this.move=n,this.node=r})),Vt=U?"altKey":"ctrlKey";for(var qt in wt.dragstart=function(e,t){var n=t,r=e.input.mouseDown;if(r&&r.done(),n.dataTransfer){var o,i=e.state.selection,a=i.empty?null:e.posAtCoords(Ot(n));if(a&&a.pos>=i.from&&a.pos<=(i instanceof m.NodeSelection?i.to-1:i.to));else if(r&&r.mightDrag)o=m.NodeSelection.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){var s=e.docView.nearestDesc(n.target,!0);s&&s.node.type.spec.draggable&&s!=e.docView&&(o=m.NodeSelection.create(e.state.doc,s.posBefore))}var l=(o||e.state.selection).content(),c=ct(e,l),u=c.dom,d=c.text;n.dataTransfer.clearData(),n.dataTransfer.setData($t?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",$t||n.dataTransfer.setData("text/plain",d),e.dragging=new Wt(l,!n[Vt],o)}},wt.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},xt.dragover=xt.dragenter=function(e,t){return t.preventDefault()},xt.drop=function(e,t){var n=t,r=e.dragging;if(e.dragging=null,n.dataTransfer){var o=e.posAtCoords(Ot(n));if(o){var i=e.state.doc.resolve(o.pos),a=r&&r.slice;a?e.someProp("transformPasted",(function(t){a=t(a,e)})):a=ut(e,Ut(n.dataTransfer),$t?null:n.dataTransfer.getData("text/html"),!1,i);var s=!(!r||n[Vt]);if(e.someProp("handleDrop",(function(t){return t(e,n,a||g.Slice.empty,s)})))n.preventDefault();else if(a){n.preventDefault();var l=a?v.dropPoint(e.state.doc,i.pos,a):i.pos;null==l&&(l=i.pos);var c=e.state.tr;if(s){var u=r.node;u?u.replace(c):c.deleteSelection()}var d=c.mapping.map(l),p=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,f=c.doc;if(p?c.replaceRangeWith(d,d,a.content.firstChild):c.replaceRange(d,d,a),!c.doc.eq(f)){var h=c.doc.resolve(d);if(p&&m.NodeSelection.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new m.NodeSelection(h));else{var y=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((function(e,t,n,r){return y=r})),c.setSelection(Ge(e,h,c.doc.resolve(y)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}},wt.focus=function(e){e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ze(e)}),20))},wt.blur=function(e,t){var n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},wt.beforeinput=function(e,t){if(F&&V&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();var n=e.input.domChangeCount;setTimeout((function(){if(e.input.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,I(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},xt)wt[qt]=xt[qt];function Gt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var Yt=function(){function e(t,n){p(this,e),this.toDOM=t,this.spec=n||Zt,this.side=this.spec.side||0}return h(e,[{key:"map",value:function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Xt(i-n,i-n,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(t){return this==t||t instanceof e&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Gt(this.spec,t.spec))}},{key:"destroy",value:function(e){this.spec.destroy&&this.spec.destroy(e)}}]),e}(),Kt=function(){function e(t,n){p(this,e),this.attrs=t,this.spec=n||Zt}return h(e,[{key:"map",value:function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Xt(o,i,this)}},{key:"valid",value:function(e,t){return t.from<t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&Gt(this.attrs,t.attrs)&&Gt(this.spec,t.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(t){return t.type instanceof e}}]),e}(),Jt=function(){function e(t,n){p(this,e),this.attrs=t,this.spec=n||Zt}return h(e,[{key:"map",value:function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Xt(o.pos-n,i.pos-n,this)}},{key:"valid",value:function(e,t){var n,r=e.content.findIndex(t.from),o=r.index,i=r.offset;return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&Gt(this.attrs,t.attrs)&&Gt(this.spec,t.spec)}},{key:"destroy",value:function(){}}]),e}(),Xt=function(){function e(t,n,r){p(this,e),this.from=t,this.to=n,this.type=r}return h(e,[{key:"copy",value:function(t,n){return new e(t,n,this.type)}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}},{key:"map",value:function(e,t,n){return this.type.map(e,this,t,n)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof Kt}},{key:"widget",get:function(){return this.type instanceof Yt}}],[{key:"widget",value:function(t,n,r){return new e(t,t,new Yt(n,r))}},{key:"inline",value:function(t,n,r,o){return new e(t,n,new Kt(r,o))}},{key:"node",value:function(t,n,r,o){return new e(t,n,new Jt(r,o))}}]),e}(),Qt=[],Zt={},en=function(){function e(t,n){p(this,e),this.local=t.length?t:Qt,this.children=n.length?n:Qt}return h(e,[{key:"find",value:function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}},{key:"findInner",value:function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,r+l,o)}}},{key:"map",value:function(e,t,n){return this==tn||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Zt)}},{key:"mapInner",value:function(t,n,r,o,i){for(var a,s=0;s<this.local.length;s++){var l=this.local[s].map(t,r,o);l&&l.type.valid(n,l)?(a||(a=[])).push(l):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?rn(this.children,a||[],t,n,r,o,i):a?new e(a.sort(cn),Qt):tn}},{key:"add",value:function(t,n){return n.length?this==tn?e.create(t,n):this.addInner(t,n,0):this}},{key:"addInner",value:function(t,n,r){var o,i=this,a=0;t.forEach((function(e,t){var s,l=t+r;if(s=an(n,e,l)){for(o||(o=i.children.slice());a<o.length&&o[a]<t;)a+=3;o[a]==t?o[a+2]=o[a+2].addInner(e,s,l+1):o.splice(a,0,t,t+e.nodeSize,ln(s,e,l+1,Zt)),a+=3}}));for(var s=on(a?sn(n):n,-r),l=0;l<s.length;l++)s[l].type.valid(t,s[l])||s.splice(l--,1);return new e(s.length?this.local.concat(s).sort(cn):this.local,o||this.children)}},{key:"remove",value:function(e){return 0==e.length||this==tn?this:this.removeInner(e,0)}},{key:"removeInner",value:function(t,n){for(var r=this.children,o=this.local,i=0;i<r.length;i+=3){for(var a,s=void 0,l=r[i]+n,c=r[i+1]+n,u=0;u<t.length;u++)(a=t[u])&&a.from>l&&a.to<c&&(t[u]=null,(s||(s=[])).push(a));if(s){r==this.children&&(r=this.children.slice());var d=r[i+2].removeInner(s,l+1);d!=tn?r[i+2]=d:(r.splice(i,3),i-=3)}}if(o.length)for(var p,f=0;f<t.length;f++)if(p=t[f])for(var h=0;h<o.length;h++)o[h].eq(p,n)&&(o==this.local&&(o=this.local.slice()),o.splice(h--,1));return r==this.children&&o==this.local?this:o.length||r.length?new e(o,r):tn}},{key:"forChild",value:function(t,n){if(this==tn)return this;if(n.isLeaf)return e.empty;for(var r,o,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(r=this.children[i+2]);break}for(var a=t+1,s=a+n.content.size,l=0;l<this.local.length;l++){var c=this.local[l];if(c.from<s&&c.to>a&&c.type instanceof Kt){var u=Math.max(a,c.from)-a,d=Math.min(s,c.to)-a;u<d&&(o||(o=[])).push(c.copy(u,d))}}if(o){var p=new e(o.sort(cn),Qt);return r?new nn([p,r]):p}return r||tn}},{key:"eq",value:function(t){if(this==t)return!0;if(!(t instanceof e)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}},{key:"locals",value:function(e){return un(this.localsInner(e))}},{key:"localsInner",value:function(e){if(this==tn)return Qt;if(e.inlineContent||!this.local.some(Kt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Kt||t.push(this.local[n]);return t}}],[{key:"create",value:function(e,t){return t.length?ln(t,e,0,Zt):tn}}]),e}();en.empty=new en([],[]),en.removeOverlap=un;var tn=en.empty,nn=function(){function e(t){p(this,e),this.members=t}return h(e,[{key:"map",value:function(t,n){var r=this.members.map((function(e){return e.map(t,n,Zt)}));return e.from(r)}},{key:"forChild",value:function(t,n){if(n.isLeaf)return en.empty;for(var r=[],o=0;o<this.members.length;o++){var i=this.members[o].forChild(t,n);i!=tn&&(i instanceof e?r=r.concat(i.members):r.push(i))}return e.from(r)}},{key:"eq",value:function(t){if(!(t instanceof e)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}},{key:"locals",value:function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?un(n?t:t.sort(cn)):Qt}}],[{key:"from",value:function(t){switch(t.length){case 0:return tn;case 1:return t[0];default:return new e(t.every((function(e){return e instanceof en}))?t:t.reduce((function(e,t){return e.concat(t instanceof en?t:t.members)}),[]))}}}]),e}();function rn(e,t,n,r,o,i,a){for(var s=e.slice(),l=function(e){var t=0;n.maps[c].forEach((function(n,r,o,i){for(var a=i-o-(r-n),l=0;l<s.length;l+=3){var c=s[l+1];if(!(c<0||n>c+e-t)){var u=s[l]+e-t;r>=u?s[l+1]=n<=u?-2:-1:n>=e&&a&&(s[l]+=a,s[l+1]+=a)}}t+=a})),e=n.maps[c].map(e,-1),u=e},c=0,u=i;c<n.maps.length;c++)l(u);for(var d=!1,p=0;p<s.length;p+=3)if(s[p+1]<0){if(-2==s[p+1]){d=!0,s[p+1]=-1;continue}var f=n.map(e[p]+i),h=f-o;if(h<0||h>=r.content.size){d=!0;continue}var m=n.map(e[p+1]+i,-1)-o,g=r.content.findIndex(h),v=g.index,y=g.offset,b=r.maybeChild(v);if(b&&y==h&&y+b.nodeSize==m){var w=s[p+2].mapInner(n,b,f+1,e[p]+i+1,a);w!=tn?(s[p]=h,s[p+1]=m,s[p+2]=w):(s[p+1]=-2,d=!0)}else d=!0}if(d){var x=function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var l=e.local[i].map(r,o,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[i].spec)}for(var c=0;c<e.children.length;c+=3)s(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+i+1);return n}(s,e,t,n,o,i,a),k=ln(x,r,0,a);t=k.local;for(var S=0;S<s.length;S+=3)s[S+1]<0&&(s.splice(S,3),S-=3);for(var E=0,C=0;E<k.children.length;E+=3){for(var A=k.children[E];C<s.length&&s[C]<A;)C+=3;s.splice(C,0,k.children[E],k.children[E+1],k.children[E+2])}}return new en(t.sort(cn),s)}function on(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new Xt(o.from+t,o.to+t,o.type))}return n}function an(e,t,n){if(t.isLeaf)return null;for(var r,o=n+t.nodeSize,i=null,a=0;a<e.length;a++)(r=e[a])&&r.from>n&&r.to<o&&((i||(i=[])).push(r),e[a]=null);return i}function sn(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function ln(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=an(e,t,a+n);if(s){i=!0;var l=ln(s,t,n+a+1,r);l!=tn&&o.push(a,a+t.nodeSize,l)}}));for(var a=on(i?sn(e):e,-n).sort(cn),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new en(a,o):tn}function cn(e,t){return e.from-t.from||e.to-t.to}function un(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),dn(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),dn(t,o+1,i.copy(r.to,i.to)))}}return t}function dn(e,t,n){for(;t<e.length&&cn(n,e[t])>0;)t++;e.splice(t,0,n)}function pn(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=tn&&t.push(r)})),e.cursorWrapper&&t.push(en.create(e.state.doc,[e.cursorWrapper.deco])),nn.from(t)}var fn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},hn=L&&N<=11,mn=function(){function e(){p(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return h(e,[{key:"set",value:function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}]),e}(),gn=function(){function e(t,n){var r=this;p(this,e),this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new mn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)r.queue.push(e[t]);L&&N<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?r.flushSoon():r.flush()})),hn&&(this.onCharData=function(e){r.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return h(e,[{key:"flushSoon",value:function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,fn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)}},{key:"onSelectionChange",value:function(){if(Ye(this.view)){if(this.suppressingSelectionUpdates)return ze(this.view);if(L&&N<=11&&!this.view.state.selection.empty){var e=this.view.domSelectionRange();if(e.focusNode&&k(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(e){if(!e.focusNode)return!0;for(var t,n=new Set,r=e.focusNode;r;r=b(r))n.add(r);for(var o=e.anchorNode;o;o=b(o))if(n.has(o)){t=o;break}var i=t&&this.view.docView.nearestDesc(t);return i&&i.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}},{key:"pendingRecords",value:function(){if(this.observer){var e,t=r(this.observer.takeRecords());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.queue.push(n)}}catch(e){t.e(e)}finally{t.f()}}return this.queue}},{key:"flush",value:function(){var e=this.view;if(e.docView&&!(this.flushingSoon>-1)){var t=this.pendingRecords();t.length&&(this.queue=[]);var n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Ye(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,a=!1,s=[];if(e.editable)for(var l=0;l<t.length;l++){var c=this.registerMutation(t[l],s);c&&(o=o<0?c.from:Math.min(c.from,o),i=i<0?c.to:Math.max(c.to,i),c.typeOver&&(a=!0))}if(j&&s.length>1){var u=s.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var d=u[0],p=u[1];d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}}var f=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&O(n)&&(f=Be(e))&&f.eq(m.Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ze(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(vn.has(e))return;if(vn.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=j,yn)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yn=!0}}(e)),this.handleDOMChange(o,i,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ze(e),this.currentSelection.set(n))}}},{key:"registerMutation",value:function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(L&&N<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var s=e.addedNodes[a],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(o=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c)}var u=o&&o.parentNode==e.target?y(o)+1:0,d=n.localPosFromDOM(e.target,u,-1),p=i&&i.parentNode==e.target?y(i):e.target.childNodes.length;return{from:d,to:n.localPosFromDOM(e.target,p,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}]),e}(),vn=new WeakMap,yn=!1;function bn(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if($&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||$&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}var wn=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function xn(e,t,n,r,o){var i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){var a=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,s=Be(e,a);if(s&&!e.state.selection.eq(s)){if(F&&V&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})))return;var l=e.state.tr.setSelection(s);"pointer"==a?l.setMeta("pointer",!0):"key"==a&&l.scrollIntoView(),i&&l.setMeta("composition",i),e.dispatch(l)}}else{var c=e.state.doc.resolve(t),u=c.sharedDepth(n);t=c.before(u+1),n=e.state.doc.resolve(n).after(u+1);var d,p,f=e.state.selection,h=function(e,t,n){var r,o=e.docView.parseRange(t,n),i=o.node,a=o.fromOffset,s=o.toOffset,l=o.from,c=o.to,u=e.domSelectionRange(),d=u.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:u.anchorOffset}],O(u)||r.push({node:u.focusNode,offset:u.focusOffset})),F&&8===e.input.lastKeyCode)for(var p=s;p>a;p--){var f=i.childNodes[p-1],h=f.pmViewDesc;if("BR"==f.nodeName&&!h){s=p;break}if(!h||h.size)break}var m=e.state.doc,v=e.someProp("domParser")||g.DOMParser.fromSchema(e.state.schema),y=m.resolve(l),b=null,w=v.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=y.parent.type.whitespace||"full",findPositions:r,ruleFromNode:bn,context:y});if(r&&null!=r[0].pos){var x=r[0].pos,k=r[1]&&r[1].pos;null==k&&(k=x),b={anchor:x+l,head:k+l}}return{doc:w,sel:b,from:l,to:c}}(e,t,n),v=e.state.doc,y=v.slice(h.from,h.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(d=e.state.selection.to,p="end"):(d=e.state.selection.from,p="start"),e.input.lastKeyCode=null;var b=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;if("end"==o){r-=s+Math.max(0,i-Math.min(s,l))-i}if(s<i&&e.size<t.size){var c=r<=i&&r>=s?i-r:0;(i-=c)&&i<t.size&&En(t.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-s),s=i}else if(l<i){var u=r<=i&&r>=l?i-r:0;(i-=u)&&i<e.size&&En(e.textBetween(i-1,i+1))&&(i+=u?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}(y.content,h.doc.content,h.from,d,p);if((H&&e.input.lastIOSEnter>Date.now()-225||V)&&o.some((function(e){return 1==e.nodeType&&!wn.test(e.nodeName)}))&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})))e.input.lastIOSEnter=0;else{if(!b){if(!(r&&f instanceof m.TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){var w=kn(e,e.state.doc,h.sel);if(w&&!w.eq(e.state.selection)){var x=e.state.tr.setSelection(w);i&&x.setMeta("composition",i),e.dispatch(x)}}return}b={start:f.from,endA:f.to,endB:f.to}}if(F&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from&&h.sel.head==h.sel.anchor){var k=b.endB-b.start;h.sel={anchor:h.sel.anchor+k,head:h.sel.anchor+k}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof m.TextSelection&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=h.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=h.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),L&&N<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>h.from&&" \xa0"==h.doc.textBetween(b.start-h.from-1,b.start-h.from+1)&&(b.start--,b.endA--,b.endB--);var S,E=h.doc.resolveNoCache(b.start-h.from),C=h.doc.resolveNoCache(b.endB-h.from),A=v.resolve(b.start),D=E.sameParent(C)&&E.parent.inlineContent&&A.end()>=b.endA;if((H&&e.input.lastIOSEnter>Date.now()-225&&(!D||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!D&&E.pos<h.doc.content.size&&!E.sameParent(C)&&(S=m.Selection.findFrom(h.doc.resolve(E.pos+1),1,!0))&&S.head==C.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))})))e.input.lastIOSEnter=0;else if(e.state.selection.anchor>b.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Sn(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Sn(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Sn(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(v,b.start,b.endA,E,C)&&e.someProp("handleKeyDown",(function(t){return t(e,I(8,"Backspace"))})))V&&F&&e.domObserver.suppressSelectionUpdates();else{F&&V&&b.endB==b.start&&(e.input.lastAndroidDelete=Date.now()),V&&!D&&E.start()!=C.start()&&0==C.parentOffset&&E.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==b.endA&&(b.endB-=2,C=h.doc.resolveNoCache(b.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,I(13,"Enter"))}))}),20));var M,T,_,R=b.start,P=b.endA;if(D)if(E.pos==C.pos)L&&N<=11&&0==E.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ze(e)}),20)),M=e.state.tr.delete(R,P),T=v.resolve(b.start).marksAcross(v.resolve(b.endA));else if(b.endA==b.endB&&(_=function(e,t){for(var n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,l=a,c=0;c<a.length;c++)s=a[c].removeFromSet(s);for(var u=0;u<i.length;u++)l=i[u].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var d=[],p=0;p<t.childCount;p++)d.push(o(t.child(p)));if(g.Fragment.from(d).eq(e))return{mark:r,type:n}}(E.parent.content.cut(E.parentOffset,C.parentOffset),A.parent.content.cut(A.parentOffset,b.endA-A.start()))))M=e.state.tr,"add"==_.type?M.addMark(R,P,_.mark):M.removeMark(R,P,_.mark);else if(E.parent.child(E.index()).isText&&E.index()==C.index()-(C.textOffset?0:1)){var j=E.parent.textBetween(E.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,R,P,j)})))return;M=e.state.tr.insertText(j,R,P)}if(M||(M=e.state.tr.replace(R,P,h.doc.slice(b.start-h.from,b.endB-h.from))),h.sel){var B=kn(e,M.doc,h.sel);B&&!(F&&V&&e.composing&&B.empty&&(b.start!=b.endB||e.input.lastAndroidDelete<Date.now()-100)&&(B.head==R||B.head==M.mapping.map(P)-1)||L&&B.empty&&B.head==R)&&M.setSelection(B)}T&&M.ensureMarks(T),i&&M.setMeta("composition",i),e.dispatch(M.scrollIntoView())}}}}function kn(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Ge(e,t.resolve(n.anchor),t.resolve(n.head))}function Sn(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function En(e){if(2!=e.length)return!1;var t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}var Cn=ct,An=ut,On=zt,In=function(){function e(t,n){var r=this;p(this,e),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new St,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Rn),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Tn(this),Mn(this),this.nodeViews=_n(this),this.docView=ke(this.state.doc,Dn(this),pn(this),this.dom,this),this.domObserver=new gn(this,(function(e,t,n,o){return xn(r,e,t,n,o)})),this.domObserver.start(),function(e){var t=function(){var t=wt[n];e.dom.addEventListener(n,e.input.eventHandlers[n]=function(n){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,n)||At(e,n)||!e.editable&&n.type in xt||t(e,n)},kt[n]?{passive:!0}:void 0)};for(var n in wt)t();$&&e.dom.addEventListener("input",(function(){return null})),Ct(e)}(this),this.updatePluginViews()}return h(e,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props}},{key:"update",value:function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ct(this);var t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Rn),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}},{key:"setProps",value:function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)}},{key:"updateState",value:function(e){this.updateStateInner(e,this._props)}},{key:"updateStateInner",value:function(e,t){var n,r=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(Ft(this),i=!0),this.state=e;var a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){var s=_n(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Ct(this),this.editable=Tn(this),Mn(this);var l=pn(this),c=Dn(this),u=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",d=o||!this.docView.matchesNode(e.doc,c,l);!d&&e.selection.eq(r.selection)||(i=!0);var p,f,h,m,g,v,y,b,w,x,S,E="preserve"==u&&i&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s&&s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:Q(e.dom)}}(this);if(i){this.domObserver.stop();var C=d&&(L||F)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(m=r.selection,g=e.selection,v=Math.min(m.$anchor.sharedDepth(m.head),g.$anchor.sharedDepth(g.head)),m.$anchor.start(v)!=g.$anchor.start(v));if(d){var A=F?this.trackWrites=this.domSelectionRange().focusNode:null;!o&&this.docView.update(e.doc,c,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ke(e.doc,c,l,this.dom,this)),A&&!this.trackWrites&&(C=!0)}C||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(p=this,f=p.docView.domFromPos(p.state.selection.anchor,0),h=p.domSelectionRange(),k(f.node,f.offset,h.anchorNode,h.anchorOffset)))?ze(this,C):(Ve(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==u?this.dom.scrollTop=0:"to selection"==u?this.scrollToSelection():E&&(b=(y=E).refDOM,w=y.refTop,x=y.stack,S=b?b.getBoundingClientRect().top:0,Z(x,0==S?0:S-w))}},{key:"scrollToSelection",value:function(){var e=this,t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(function(t){return t(e)})));else if(this.state.selection instanceof m.NodeSelection){var n=this.docView.domAfterPos(this.state.selection.from);1==n.nodeType&&X(this,n.getBoundingClientRect(),t)}else X(this,this.coordsAtPos(this.state.selection.head,1),t)}},{key:"destroyPluginViews",value:function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()}},{key:"updatePluginViews",value:function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var a=this.state.plugins[i];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}}},{key:"updateDraggedNode",value:function(e,t){var n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{var o=n.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(r=o)}this.dragging=new Wt(e.slice,e.move,r<0?void 0:m.NodeSelection.create(this.state.doc,r))}},{key:"someProp",value:function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}var a=this.state.plugins;if(a)for(var s=0;s<a.length;s++){var l=a[s].props[e];if(null!=l&&(n=t?t(l):l))return n}}},{key:"hasFocus",value:function(){if(L){var e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(ee)return e.focus(ee);var t=Q(e);e.focus(null==ee?{get preventScroll(){return ee={preventScroll:!0},!0}}:void 0),ee||(ee=!1,Z(t,0))}(this.dom),ze(this),this.domObserver.start()}},{key:"root",get:function(){var e=this,t=this._root;if(null==t)for(var n,r=function(t){if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return t.ownerDocument.getSelection()}),{v:e._root=t}},o=this.dom.parentNode;o;o=o.parentNode)if(n=r(o))return n.v;return t||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(e){return oe(this,e)}},{key:"coordsAtPos",value:function(e){return le(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}},{key:"domAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}},{key:"nodeDOM",value:function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null}},{key:"posAtDOM",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}},{key:"endOfTextblock",value:function(e,t){return ge(this,t||this.state,e)}},{key:"pasteHTML",value:function(e,t){return Ht(this,"",e,!1,t||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(e,t){return Ht(this,e,null,!0,t||new ClipboardEvent("paste"))}},{key:"destroy",value:function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}},{key:"isDestroyed",get:function(){return null==this.docView}},{key:"dispatchEvent",value:function(e){return function(e,t){At(e,t)||!wt[t.type]||!e.editable&&t.type in xt||wt[t.type](e,t)}(this,e)}},{key:"dispatch",value:function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}},{key:"domSelectionRange",value:function(){return $&&11===this.root.nodeType&&function(e){for(var t=e.activeElement;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function(e){var t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,s=e.domAtPos(e.state.selection.anchor);if(k(s.node,s.offset,i,a)){var l=[i,a,r,o];r=l[0],o=l[1],i=l[2],a=l[3]}return{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:a}}(this):this.domSelection()}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),e}();function Dn(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:"style"==r?t.style=(t.style?t.style+";":"")+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),t.translate||(t.translate="no"),[Xt.node(0,e.state.doc.content.size,t)]}function Mn(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Xt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Tn(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function _n(e){var t=Object.create(null);function n(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Rn(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}t.Decoration=Xt,t.DecorationSet=en,t.EditorView=In,t.__endComposition=On,t.__parseFromClipboard=An,t.__serializeForClipboard=Cn},function(e,t,n){var r=n(356);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(120);const i=/^```([a-z]+)?[\s\n]$/,a=/^~~~([a-z]+)?[\s\n]$/,s=r.Node.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,r=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",r.mergeAttributes(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith("\n\n");return!(!i||!a)&&e.chain().command((({tr:e})=>(e.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();if(void 0===a)return!1;return!r.nodeAt(a)&&e.commands.exitCode()}}},addInputRules(){return[r.textblockTypeInputRule({find:i,type:this.type,getAttributes:e=>({language:e[1]})}),r.textblockTypeInputRule({find:a,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new o.Plugin({key:new o.PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=null==i?void 0:i.mode;if(!n||!a)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:a})),s.setSelection(o.TextSelection.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}});t.CodeBlock=s,t.backtickInputRegex=i,t.default=s,t.tildeInputRegex=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,r.mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>r.textblockTypeInputRule({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}})))}});t.Heading=o,t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(4),c=n(18),u=n(7),d=n(92),p=n(114),f=n(65),h=n(136);class m extends i.a.PureComponent{constructor(){super(...arguments),this.state={showCopyMessageIdx:null,selectedLink:0},this.handleKeyDown=e=>{const t=this.props.inviteLinks.length-1;if("ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();const n=this.state.selectedLink+1;this.setState({selectedLink:n>t?t:n})}else if("ArrowUp"===e.key){e.preventDefault(),e.stopPropagation();const t=this.state.selectedLink-1;this.setState({selectedLink:t<0?0:t})}else if("Enter"===e.key){const{link:e}=this.props.inviteLinks[this.state.selectedLink];this.showCopyMessage(this.state.selectedLink),this.props.copyLink(e),this.trackClick("reader")}}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}showCopyMessage(e){this.setState({showCopyMessageIdx:e},(()=>setTimeout((()=>this.setState({showCopyMessageIdx:null})),2e3)))}trackClick(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(this.props.analyticsBG)try{yield Object(f.c)(this.props.analyticsBG,{inviteType:e,linkType:this.props.isPageLink?"page-link":"space-link",source:"extension"})}catch(e){console.error(`Error tracking space create event', ${e}`)}}))}render(){return"running"===this.props.loadState?i.a.createElement(h.a,{height:"90px",size:20}):i.a.createElement(v,null,this.props.inviteLinks.map((({link:e,roleID:t},n)=>i.a.createElement(k,{zIndex:10-n,key:e},i.a.createElement(u.a,{placement:"bottom",tooltipText:t===c.a.ReadWrite?i.a.createElement("span",null,"Permission to add highlights,",i.a.createElement("br",null)," pages & replies"):i.a.createElement("span",null,"Permission to read & reply ",i.a.createElement("br",null),"to highlights & pages"),fullWidthTarget:!0,getPortalRoot:this.props.getRootElement},i.a.createElement(y,{key:t,viewportBreakpoint:"normal"},i.a.createElement(x,null,i.a.createElement(b,{onClick:Object(p.a)((t=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.showCopyMessage(n),this.props.copyLink(e),yield this.trackClick("reader")})))),selected:this.state.selectedLink===n,onMouseEnter:()=>this.setState({selectedLink:n}),onMouseLeave:()=>this.setState({selectedLink:null})},i.a.createElement(w,null,this.state.showCopyMessageIdx===n?"Copied to clipboard":Object(d.a)(t)),i.a.createElement(g,{id:"iconContainer"},i.a.createElement(l.a,{heightAndWidth:"20px",filePath:"copy",onClick:Object(p.a)((()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.showCopyMessage(n),this.props.copyLink(e),yield this.trackClick("reader")}))))}),i.a.createElement(l.a,{heightAndWidth:"20px",filePath:"goTo",onClick:Object(p.a)((()=>{let t=e;t.includes("?")&&this.props.isPageLink?t+="&noAutoOpen=true":this.props.isPageLink&&(t+="?noAutoOpen=true"),window.open(t,"_blank")}))}))))))))))}}const g=s.a.div.withConfig({displayName:"IconContainer",componentId:"sc-18u0b0r-0"})(["flex-direction:row;align-items:center;justify-content:flex-end;grid-gap:5px;display:none;position:absolute;background-color:","90;backdrop-filter:blur(4px);right:0px;height:40px;padding:0 10px;display:none;border-radius:0 6px 6px 0;margin-right:-5px;"],(e=>e.theme.colors.greyScale2)),v=s.a.div.withConfig({displayName:"ShareSectionContainer",componentId:"sc-18u0b0r-1"})(["margin-bottom:10px;width:fill-available;display:flex;flex-direction:column;align-items:center;justify-content:center;height:80px;"]),y=s.a.div.withConfig({displayName:"LinkAndRoleBox",componentId:"sc-18u0b0r-2"})(["width:fill-available;display:flex;flex-direction:column;align-items:flex-start;margin-bottom:5px;grid-gap:5px;height:40px;margin:0 -5px 5px -10px;padding:0px 0px 0 5px;"," &:hover ","{display:flex;}"],(e=>("small"===e.viewportBreakpoint||"mobile"===e.viewportBreakpoint)&&Object(a.css)(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;"])),g),b=s.a.div.withConfig({displayName:"LinkBox",componentId:"sc-18u0b0r-3"})(["width:fill-available;display:flex;font-size:14px;border-radius:3px;text-align:left;margin-left:10spx;height:40px;cursor:pointer;color:",";justify-content:space-between;padding-right:10px;align-items:center;border-radius:5px;",""],(e=>e.theme.colors.greyScale6),(e=>e.selected&&Object(a.css)(["background-color:","90;"],(e=>e.theme.colors.greyScale2)))),w=s.a.span.withConfig({displayName:"Link",componentId:"sc-18u0b0r-4"})(["display:flex;flex-direction:row;width:100%;padding:5px 10px;text-overflow:ellipsis;white-space:nowrap;overflow-x:scroll;scrollbar-width:none;justify-content:space-between;&::-webkit-scrollbar{display:none;}"]),x=s.a.div.withConfig({displayName:"CopyLinkBox",componentId:"sc-18u0b0r-5"})(["display:flex;justify-content:flex-start;align-items:center;width:100%;"]),k=s.a.div.withConfig({displayName:"ListItem",componentId:"sc-18u0b0r-6"})(["display:flex;position:relative;z-index:",";width:100%;"],(e=>e.zIndex))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(10),c=n(33),u=n(18),d=n(8);const p=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;class f extends c.a{constructor(e){super(),this.dependencies=e,this.getInitialState=()=>({loadState:"pristine",emailInvitesLoadState:"pristine",emailInvitesCreateState:"pristine",emailInvitesDeleteState:"pristine",emailInviteInputRole:u.a.Commenter,emailInviteInputValue:"",emailInvites:Object(d.a)(),emailInvitesHoverState:null}),this.init=({previousState:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(l.e)(this,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this._loadEmailInvites(this.dependencies.listData.remoteId)}))))})),this.updateProps=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.dependencies=e.props,this._loadEmailInvites(this.dependencies.listData.remoteId)})),this.reloadEmailInvites=({previousState:e,event:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInvites:{$set:Object(d.a)()}}),yield this._loadEmailInvites(t.remoteListId)})),this.setEmailInvitesHoverState=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInvitesHoverState:{$set:e.id}})})),this.updateEmailInviteInputValue=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInviteInputValue:{$set:e.value}})})),this.updateEmailInviteInputRole=({event:e})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(e.role!==u.a.Commenter&&e.role!==u.a.ReadWrite)throw new Error("Cannot set invite role other than Commenter and ReadWrite");this.emitMutation({emailInviteInputRole:{$set:e.role}})})),this.inviteViaEmail=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.emitMutation({emailInvitesCreateState:{$set:"running"},emailInviteInputValue:{$set:""}});const t=Date.now();let n=e.state.emailInviteInputValue.split(",");n=n.map((e=>e.trim())).filter((e=>{const t=function(e){return p.test(e)}(e);return t})).filter((t=>!e.state.emailInvites.allIds.some((n=>e.state.emailInvites.byId[n].email===t))));const o=e.state.emailInviteInputRole;for(const e of n)Object(l.d)(this,"emailInvitesCreateState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r;this.emitMutation({emailInvites:{allIds:{$push:[e]},byId:{[e]:{$set:{email:e,roleID:o,id:e,createdWhen:t,sharedListKey:null}}}}});let i=null!==(r=null===(n=this.dependencies.listData)||void 0===n?void 0:n.remoteId)&&void 0!==r?r:null;for(;null==i;)i=yield this.dependencies.contentSharingBG.getRemoteListId({localListId:this.dependencies.listData.localId});const a=yield this.dependencies.contentSharingBG.createListEmailInvite({now:t,email:e,roleID:o,listId:i});if("success"===a.status)this.emitMutation({emailInvites:{allIds:{[e]:{$set:a.keyString}},byId:{[e]:{$set:{email:e,roleID:o,createdWhen:t,id:a.keyString,sharedListKey:a.keyString}}}}});else if("permission-denied"===a.status)throw this.emitMutation({emailInvites:{byId:{$unset:[e]},allIds:{$apply:t=>t.filter((t=>t!==e))}}}),new Error(`Email invite for ${e} encountered an error`);0}))));this.emitMutation({emailInviteInputValue:{$set:""},emailInvitesCreateState:{$set:"success"}})})),this.deleteEmailInvite=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(l.d)(this,"emailInvitesDeleteState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==t.emailInvites.byId[e.key])throw new Error("Attempted to delete email invite that is not in state");this.emitMutation({emailInvites:{byId:{$unset:[e.key]},allIds:{$apply:t=>t.filter((t=>t!==e.key))}}});if("success"!==(yield this.dependencies.contentSharingBG.deleteListEmailInvite({keyString:e.key})).status)throw new Error("Email invite deletion encountered a server-side error")}))))}))}_loadEmailInvites(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield Object(l.d)(this,"emailInvitesLoadState",(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(null==e)return;const t=yield this.dependencies.contentSharingBG.loadListEmailInvites({listReference:{type:"shared-list-reference",id:e}});if("success"!==t.status)throw new Error("Failed to load email invites for list");this.emitMutation({emailInvites:{$set:Object(d.a)({seedData:t.data,getId:e=>e.email})},emailInvitesLoadState:{$set:"success"}})}))))}))}}f.MSG_TIMEOUT=2e3;var h=n(160),m=n(27),g=n(5),v=n(92),y=n(12);const b="50px";class w extends l.a{constructor(e){super(e,new f(e)),this.handleInviteInputChange=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=e.target.value;yield this.processEvent("updateEmailInviteInputValue",{value:t})})),this.handleAddInviteInputKeyDown=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){"Enter"===e.key&&this.state.emailInviteInputValue.trim().length>0&&(e.preventDefault(),e.stopPropagation(),yield this.processEvent("inviteViaEmail",{state:this.state,remoteId:this.props.listData.remoteId})),e.stopPropagation()}))}componentDidUpdate(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){e.listData.unifiedId!==this.props.listData.unifiedId&&null!=this.props.listData.remoteId&&(yield this.processEvent("reloadEmailInvites",{remoteListId:this.props.listData.remoteId}),this.processEvent("updateProps",{props:this.props}))}))}get shouldShowInviteBtn(){return 0!==this.state.emailInviteInputValue.split(",").map((e=>e.trim())).filter((e=>e.length>0)).length}render(){var e;return i.a.createElement(i.a.Fragment,null,i.a.createElement(A,null,"Invite via Email"," ","running"===this.state.emailInvitesLoadState&&i.a.createElement(y.a,{size:18})),"running"===this.props.pageLinkLoadingState?i.a.createElement(O,null,"Available once links loaded"):i.a.createElement(D,{onClick:e=>{e.preventDefault(),e.stopPropagation()}},i.a.createElement(I,{onClick:e=>{e.preventDefault(),e.stopPropagation()},value:this.state.emailInviteInputValue,onChange:this.handleInviteInputChange,disabled:this.props.disableWriteOps||"running"===this.state.emailInvitesCreateState,placeholder:"running"===this.state.emailInvitesCreateState?"Adding new emails...":"Add address(es) with comma",element:"running"===this.state.emailInvitesCreateState?i.a.createElement(y.a,{size:18}):null,icon:"running"!==this.state.emailInvitesCreateState?"mail":null,onKeyDown:this.handleAddInviteInputKeyDown,onKeyUp:e=>{e.stopPropagation()}}),this.shouldShowInviteBtn&&"running"!==this.state.emailInvitesCreateState&&"running"!==this.state.emailInvitesLoadState&&i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{elementHeight:"40px",backgroundColor:"greyScale1_5",menuItems:[{id:u.a.Commenter,name:Object(v.a)(u.a.Commenter)},{id:u.a.ReadWrite,name:Object(v.a)(u.a.ReadWrite)}],onMenuItemClick:e=>this.processEvent("updateEmailInviteInputRole",{role:null==e?void 0:e.id}),initSelectedIndex:this.state.emailInviteInputRole===u.a.Commenter?0:1,keepSelectedState:!0}),i.a.createElement(g.a,{onClick:()=>this.processEvent("inviteViaEmail",{state:this.state,remoteId:this.props.listData.remoteId}),label:"Invite",type:"secondary",size:"medium",fullWidth:!0})),(null===(e=Object(d.c)(this.state.emailInvites))||void 0===e?void 0:e.length)>0&&i.a.createElement(x,null,Object(d.c)(this.state.emailInvites).slice().reverse().map((e=>i.a.createElement(k,{onMouseEnter:()=>{this.processEvent("setEmailInvitesHoverState",{id:null==e?void 0:e.email})},onMouseLeave:()=>{this.processEvent("setEmailInvitesHoverState",{id:null})},key:null==e?void 0:e.email},i.a.createElement(S,null,i.a.createElement(E,null,null==e?void 0:e.email)),null==(null==e?void 0:e.sharedListKey)?i.a.createElement(y.a,{size:14}):this.state.emailInvitesHoverState===(null==e?void 0:e.email)?i.a.createElement(g.a,{onClick:()=>this.processEvent("deleteEmailInvite",{key:null==e?void 0:e.email}),disabled:null==(null==e?void 0:e.sharedListKey),type:"tertiary",label:"Remove",icon:"removeX",fontSize:"12px",iconSize:"16px",iconColor:"greyScale5",padding:"0px 5px 0px 0px"}):i.a.createElement(C,null,Object(v.a)(e.roleID))))))))}}const x=s.a.div.withConfig({displayName:"EmailListContainer",componentId:"sc-1lm62rq-0"})(["width:fill-available;display:block;flex-direction:column;align-items:flex-start;max-height:150px;overflow-y:scroll;&::-webkit-scrollbar{display:none;}scrollbar-width:none;"]),k=s.a.div.withConfig({displayName:"InviteItemContainer",componentId:"sc-1lm62rq-1"})(["height:40px;padding:0 5px;display:flex;justify-content:space-between;align-items:center;grid-gap:5px;width:fill-available;width:-moz-available;border-bottom:1px solid ",";&:last-child{border-bottom:none;}"],(e=>e.theme.colors.greyScale2)),S=s.a.div.withConfig({displayName:"InvitedBox",componentId:"sc-1lm62rq-2"})(["display:flex;flex-direction:column;justify-content:center;grid-gap:3px;"]),E=s.a.div.withConfig({displayName:"InvitedEmail",componentId:"sc-1lm62rq-3"})(["color:",";font-size:14px;"],(e=>e.theme.colors.greyScale5)),C=s.a.div.withConfig({displayName:"InvitedPermission",componentId:"sc-1lm62rq-4"})(["color:",";font-size:12px;"],(e=>e.theme.colors.greyScale4)),A=s.a.div.withConfig({displayName:"SectionTitle",componentId:"sc-1lm62rq-5"})(["font-size:14px;color:",";font-weight:400;width:100%;display:flex;justify-content:flex-start;grid-gap:10px;align-items:center;"],(e=>e.theme.colors.greyScale5)),O=s.a.div.withConfig({displayName:"WaitingDescription",componentId:"sc-1lm62rq-6"})(["font-size:14px;color:",";background:",";font-weight:400;width:fill-available;width:-moz-available;padding:20px;box-sizing:border-box;display:flex;border-radius:8px;justify-content:center;align-items:center;height:",";"],(e=>e.theme.colors.greyScale5),(e=>e.theme.colors.greyScale2),b),I=s()(m.a).withConfig({displayName:"EditableTextField",componentId:"sc-1lm62rq-7"})(["padding:2px 10px;border-radius:5px;outline:none;flex:2;display:flex;min-width:50px;margin-right:0px;font-size:14px;height:40px;outline:none;border:none;width:fill-available;"]),D=s.a.div.withConfig({displayName:"Container",componentId:"sc-1lm62rq-8"})(["width:fill-available;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;background-color:transparent;grid-gap:2px;min-height:",";height:fit-content;"],b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(624),i=n(625),a=n(626),s=n(627),l=n(224),c=n(493),u=n(309),d=n(630),p=n(633),f=n(225),h=n(634),m=n(638),g=n(639),v=n(494),y=n(640),b=n(495),w=n(641),x=n(496);const k=r.Extension.create({name:"starterKit",addExtensions(){var e,t,n,r,k,S,E,C,A,O,I,D,M,T,_,R,P,L;const N=[];return!1!==this.options.blockquote&&N.push(o.Blockquote.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&N.push(i.Bold.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&N.push(a.BulletList.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&N.push(s.Code.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&N.push(l.CodeBlock.configure(null===(k=this.options)||void 0===k?void 0:k.codeBlock)),!1!==this.options.document&&N.push(c.Document.configure(null===(S=this.options)||void 0===S?void 0:S.document)),!1!==this.options.dropcursor&&N.push(u.Dropcursor.configure(null===(E=this.options)||void 0===E?void 0:E.dropcursor)),!1!==this.options.gapcursor&&N.push(d.Gapcursor.configure(null===(C=this.options)||void 0===C?void 0:C.gapcursor)),!1!==this.options.hardBreak&&N.push(p.HardBreak.configure(null===(A=this.options)||void 0===A?void 0:A.hardBreak)),!1!==this.options.heading&&N.push(f.Heading.configure(null===(O=this.options)||void 0===O?void 0:O.heading)),!1!==this.options.history&&N.push(h.History.configure(null===(I=this.options)||void 0===I?void 0:I.history)),!1!==this.options.horizontalRule&&N.push(m.HorizontalRule.configure(null===(D=this.options)||void 0===D?void 0:D.horizontalRule)),!1!==this.options.italic&&N.push(g.Italic.configure(null===(M=this.options)||void 0===M?void 0:M.italic)),!1!==this.options.listItem&&N.push(v.ListItem.configure(null===(T=this.options)||void 0===T?void 0:T.listItem)),!1!==this.options.orderedList&&N.push(y.OrderedList.configure(null===(_=this.options)||void 0===_?void 0:_.orderedList)),!1!==this.options.paragraph&&N.push(b.Paragraph.configure(null===(R=this.options)||void 0===R?void 0:R.paragraph)),!1!==this.options.strike&&N.push(w.Strike.configure(null===(P=this.options)||void 0===P?void 0:P.strike)),!1!==this.options.text&&N.push(x.Text.configure(null===(L=this.options)||void 0===L?void 0:L.text)),N}});t.StarterKit=k,t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(120),i=n(481);const a=r.Extension.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,considerAnyAsEmpty:!1,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new o.Plugin({key:new o.PluginKey("placeholder"),props:{decorations:({doc:e,selection:t})=>{var n;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=t,a=[];if(!r)return null;const{firstChild:s}=e.content,l=s&&s.type.isLeaf,c=s&&s.isAtom,u=!!this.options.considerAnyAsEmpty||s&&s.type.name===(null===(n=e.type.contentMatch.defaultType)||void 0===n?void 0:n.name),d=e.content.childCount<=1&&s&&u&&s.nodeSize<=2&&(!l||!c);return e.descendants(((e,t)=>{const n=o>=t&&o<=t+e.nodeSize,r=!e.isLeaf&&!e.childCount;if((n||!this.options.showOnlyCurrent)&&r){const r=[this.options.emptyNodeClass];d&&r.push(this.options.emptyEditorClass);const o=i.Decoration.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});a.push(o)}return this.options.includeChildren})),i.DecorationSet.create(e,a)}}})]}});t.Placeholder=a,t.default=a},,,function(e,t,n){var r=n(363),o=n(365);e.exports=function(e,t,n){return r(o,e,t,n)}},function(e,t,n){var r=n(151),o=n(175),i=n(219),a=n(261),s=n(425),l=n(283),c=n(124),u=n(428),d=n(430),p=n(267),f=n(329),h=n(119),m=n(434),g=n(435),v=n(285),y=n(41),b=n(150),w=n(439),x=n(48),k=n(441),S=n(116),E=n(126),C="[object Arguments]",A="[object Function]",O="[object Object]",I={};I[C]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[O]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[A]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,D,M,T,_){var R,P=1&n,L=2&n,N=4&n;if(D&&(R=T?D(t,M,T,_):D(t)),void 0!==R)return R;if(!x(t))return t;var j=y(t);if(j){if(R=m(t),!P)return c(t,R)}else{var B=h(t),F=B==A||"[object GeneratorFunction]"==B;if(b(t))return l(t,P);if(B==O||B==C||F&&!T){if(R=L||F?{}:v(t),!P)return L?d(t,s(R,t)):u(t,a(R,t))}else{if(!I[B])return T?t:{};R=g(t,B,P)}}_||(_=new r);var z=_.get(t);if(z)return z;_.set(t,R),k(t)?t.forEach((function(r){R.add(e(r,n,D,r,t,_))})):w(t)&&t.forEach((function(r,o){R.set(o,e(r,n,D,o,t,_))}));var $=j?void 0:(N?L?f:p:L?E:S)(t);return o($||t,(function(r,o){$&&(r=t[o=r]),i(R,o,e(r,n,D,o,t,_))})),R}},function(e,t,n){var r=n(448),o=n(50);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="/get_timestamps",o="/set_timestamps"},function(e,t,n){var r=n(394);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},,function(e,t,n){var r,o,i=n(357),a=n(358),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==p){var f=i();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=o=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=p;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=h/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(44),l=n(9),c=n(4);class u extends o.a.PureComponent{constructor(){super(...arguments),this.state={value:this.props.initValue},this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.target.value),this.setState({value:e.target.value})},this.handleInputKeyDown=e=>{if("Escape"===e.key)return this.state.value.length&&e.stopPropagation(),void this.props.onCancelClick();"Enter"===e.key&&this.props.onConfirmClick(this.state.value),e.stopPropagation()},this.handleConfirm=()=>{this.props.onConfirmClick(this.state.value)},this.handleFocus=()=>{setTimeout((()=>{var e,t;null===(t=(e=this.props).scrollIntoView)||void 0===t||t.call(e)}),0)},this.handleCancel=()=>this.props.onCancelClick()}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,null,o.a.createElement(d,{autoFocus:!0,onChange:this.handleChange,value:this.state.value,onFocus:this.handleFocus,onKeyDown:this.handleInputKeyDown,onClick:this.props.scrollIntoView}),o.a.createElement(p,{right:"5px"},o.a.createElement(c.a,{filePath:l.removeX,heightAndWidth:"18px",onClick:this.handleCancel,padding:"5px"}),o.a.createElement(c.a,{filePath:l.check,heightAndWidth:"18px",onClick:this.handleConfirm,color:"prime1",padding:"4px"}))),this.props.errorMessage&&o.a.createElement(f,null,this.props.errorMessage))}}u.defaultProps={initValue:""};const d=a.a.input.withConfig({displayName:"EditableListTitle",componentId:"sc-1bq1w87-0"})(["padding:2px 10px;border-radius:3px;outline:none;background:white;flex:0 1 100%;display:flex;margin:5px 0 5px 5px;font-size:14px;height:30px;outline:none;border:none;color:",";background-color:",";flex:1;width:-webkit-fill-available;width:-moz-available;&:focus-within{outline:1px solid ",";}"],(e=>e.theme.colors.white),(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale4)),p=a()(s.a).withConfig({displayName:"ActionButtonBox",componentId:"sc-1bq1w87-1"})(["display:grid;grid-gap:5px;justify-content:flex-start;grid-auto-flow:column;width:fit-content;padding:0 5px;box-sizing:border-box;"]),f=a.a.div.withConfig({displayName:"ErrMsg",componentId:"sc-1bq1w87-2"})(["color:red;width:100%;text-align:center;"]),h=a.a.div.withConfig({displayName:"Container",componentId:"sc-1bq1w87-3"})(["min-width:fit-content;max-width:fill-available;max-width:-moz-available;display:flex;grid-gap:5px;justify-content:space-between;align-items:center;background-color:transparent;padding:5px 5px 5px 15px;"])},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n.n(r),i=n(4),a=n(7);class s extends o.a.Component{constructor(){super(...arguments),this.toggleBtnRef=o.a.createRef()}render(){const{treeState:e,actions:t}=this.props;return o.a.createElement(a.a,{tooltipText:e.hasChildren?e.areChildrenShown?"Hide Sub-Spaces":"Show Sub-Spaces":"Add Sub-Space",placement:"bottom",targetElementRef:this.toggleBtnRef.current,getPortalRoot:this.props.getRootElement,hideTooltip:e.hasChildren},o.a.createElement(i.a,{containerRef:this.toggleBtnRef,icon:e.hasChildren?e.areChildrenShown?"arrowDown":"arrowRight":"plus",heightAndWidth:"16px",color:e.hasChildren?"greyScale5":"greyScale3",onClick:n=>{e.hasChildren?t.toggleShowChildren():t.toggleShowNewChildInput(),n.stopPropagation()}}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(10),l=n(2),c=n(33),u=n(8);const d="-reorder-pre",p="-reorder-post";var f=n(20);class h extends c.a{constructor(e){super(),this.deps=e,this.getInitialState=()=>({listTrees:Object(u.a)(),draggedListId:null,dragOverListId:null}),this.init=({event:e,previousState:t})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){this.deps.cache.events.addListener("newListsState",this.cacheListsSubscription),this.cacheListsSubscription(this.deps.cache.lists)})),this.cleanup=({previousState:e})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){this.deps.cache.events.removeListener("newListsState",this.cacheListsSubscription)})),this.cacheListsSubscription=e=>{this.emitMutation({listTrees:{$apply:t=>{let n=new Set,r=Object(u.a)({getId:e=>e.unifiedId,seedData:Object(u.c)(e).map((e=>{var r,o,i;let a=t.byId[e.unifiedId],s=null==a?void 0:a.areChildrenShown;return null==s&&(s=this.deps.initListToDisplayNewChildInput===e.unifiedId||!1,(null===(r=this.deps.initListsToDisplayUnfolded)||void 0===r?void 0:r.includes(e.unifiedId))&&e.pathUnifiedIds.forEach((e=>n.add(e)))),{areChildrenShown:s,unifiedId:e.unifiedId,wasListDropped:!1,isNewChildInputShown:null!==(o=null==a?void 0:a.isNewChildInputShown)&&void 0!==o?o:this.deps.initListToDisplayNewChildInput===e.unifiedId||!1,newChildListCreateState:null!==(i=null==a?void 0:a.newChildListCreateState)&&void 0!==i?i:"pristine",hasChildren:this.deps.cache.getListsByParentId(e.unifiedId).length>0}}))});for(let e of n)r.byId[e].areChildrenShown=!0;return r}}})},this.createNewChildList=({event:e})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){let t=this.deps.cache.lists.byId[e.parentListId],n=e.name.trim();if(!n.length||!(null==t?void 0:t.localId))return;let{localListId:r,remoteListId:o,collabKey:i}=yield this.deps.listsBG.createCustomList({name:n,parentListId:t.localId}),a=yield this.deps.authBG.getCurrentUser();this.deps.cache.addList({type:"user-list",name:n,localId:r,collabKey:i,remoteId:o,creator:{type:"user-reference",id:a.id},unifiedAnnotationIds:[],hasRemoteAnnotationsToLoad:!1,parentLocalId:t.localId,pathLocalIds:[...t.pathLocalIds,t.localId],isPrivate:!0}),this.emitMutation({listTrees:{byId:{[e.parentListId]:{isNewChildInputShown:{$set:!1},newChildListCreateState:{$set:"success"}}}}})})),this.toggleShowChildren=({event:e,previousState:t})=>{let n=t.listTrees.byId[e.listId];this.emitMutation({listTrees:{byId:{[e.listId]:{areChildrenShown:{$set:!n.areChildrenShown}}}}})},this.toggleShowNewChildInput=({event:e,previousState:t})=>{let n=t.listTrees.byId[e.listId];this.emitMutation({listTrees:{byId:{[e.listId]:{isNewChildInputShown:{$set:!n.isNewChildInputShown},areChildrenShown:{$set:!n.isNewChildInputShown||n.areChildrenShown}}}}})},this.setDragOverListId=({event:e})=>{this.emitMutation({dragOverListId:{$set:e.listId}})},this.startListDrag=({event:e})=>{this.emitMutation({draggedListId:{$set:e.listId}})},this.endListDrag=({})=>{this.emitMutation({draggedListId:{$set:null}})},this.dropOnList=({event:e,previousState:t})=>Object(l.__awaiter)(this,void 0,void 0,(function*(){var n,r;this.emitMutation({dragOverListId:{$set:null}});let o=t.draggedListId,i=this.deps.cache.lists.byId[o];if(!i||i.unifiedId===e.dropTargetListId)return;if(e.dropTargetListId.endsWith(p)){let r=e.dropTargetListId.slice(0,e.dropTargetListId.length-13);return void(yield this.handleDropOnReorderLine(o,r,{areTargetListChildrenShown:null===(n=t.listTrees.byId[r])||void 0===n?void 0:n.areChildrenShown}))}if(e.dropTargetListId.endsWith(d)){let n=e.dropTargetListId.slice(0,e.dropTargetListId.length-12);return void(yield this.handleDropOnReorderLine(o,n,{isBeforeFirstRoot:!0,areTargetListChildrenShown:null===(r=t.listTrees.byId[n])||void 0===r?void 0:r.areChildrenShown}))}i.parentUnifiedId!==e.dropTargetListId&&(yield this.performListTreeMove(o,e.dropTargetListId));let a=this.deps.cache.getListsByParentId(e.dropTargetListId).filter((e=>e.unifiedId!==o));a.length>0&&(yield this.performListTreeReorder(o,{targetListId:a[0].unifiedId}))}))}handleDropOnReorderLine(e,t,n){var r;return Object(l.__awaiter)(this,void 0,void 0,(function*(){if(null==e||t===e)return;let{cache:o}=this.deps,i=o.lists.byId[t],a=o.lists.byId[e];if(null==n?void 0:n.isBeforeFirstRoot){let t=o.getListsByParentId(i.parentUnifiedId);a.parentUnifiedId!==i.parentUnifiedId&&(yield this.performListTreeMove(e,i.parentUnifiedId)),t.length&&this.deps.allowRootLevelReordering&&(yield this.performListTreeReorder(e,{targetListId:t[0].unifiedId}))}else if(this.deps.allowRootLevelReordering||null!=i.parentUnifiedId||null==a)if(null==n?void 0:n.areTargetListChildrenShown){let t=o.getListsByParentId(i.unifiedId);a.parentUnifiedId!==i.unifiedId&&(yield this.performListTreeMove(e,i.unifiedId)),t.length&&(yield this.performListTreeReorder(e,{targetListId:t[0].unifiedId}))}else{let t=o.getListsByParentId(i.parentUnifiedId);if(a.parentUnifiedId!==i.parentUnifiedId&&(yield this.performListTreeMove(e,i.parentUnifiedId)),t.length){let n=!1,o=t.findIndex((e=>e.unifiedId===i.unifiedId));o===t.length-1&&(o--,n=!0),yield this.performListTreeReorder(e,{targetListId:null===(r=t[o+1])||void 0===r?void 0:r.unifiedId,isFinalSibling:n})}}else if(a.pathUnifiedIds.includes(i.unifiedId)){let t=o.getListsByParentId(i.unifiedId);a.parentUnifiedId!==i.unifiedId&&(yield this.performListTreeMove(e,i.unifiedId)),yield this.performListTreeReorder(e,{targetListId:t[0].unifiedId})}else null!=a.parentUnifiedId&&(yield this.performListTreeMove(e,null))}))}performListTreeMove(e,t){var n;return Object(l.__awaiter)(this,void 0,void 0,(function*(){let r=null==t,{cache:o}=this.deps,i=o.lists.byId[e],a=r?null:o.lists.byId[t];if(null!=(null==i?void 0:i.localId)&&(r||null!=(null==a?void 0:a.localId))){if(r)return o.updateList({unifiedId:e,parentUnifiedId:null}),void(yield this.deps.listsBG.updateListTreeParent({localListId:i.localId,parentListId:null!==(n=null==a?void 0:a.localId)&&void 0!==n?n:null}));if(a.unifiedId===e||a.pathUnifiedIds.includes(e))throw new Error("Cannot make list a child of a descendent - this would result in a cycle");this.emitMutation({listTrees:{byId:{[t]:{hasChildren:{$set:!0},wasListDropped:{$set:!0}}}}}),o.updateList({unifiedId:e,parentUnifiedId:t}),setTimeout((()=>{this.emitMutation({listTrees:{byId:{[t]:{wasListDropped:{$set:!1}}}}})}),2e3),yield this.deps.listsBG.updateListTreeParent({localListId:i.localId,parentListId:a.localId})}}))}performListTreeReorder(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function*(){let{cache:n}=this.deps,r=n.lists.byId[t.targetListId],o=n.lists.byId[e],i=r?n.getListsByParentId(r.parentUnifiedId):[],a=i.findIndex((e=>e.unifiedId===t.targetListId)),s=i.map((e=>({id:e.unifiedId,key:e.order}))),l=-1===a||t.isFinalSibling?Object(f.e)(s,o.unifiedId).create.key:Object(f.d)(s,o.unifiedId,a).create.key;l!==o.order&&(n.updateList({unifiedId:o.unifiedId,order:l}),yield this.deps.listsBG.updateListTreeOrder({localListId:o.localId,siblingListIds:i.map((e=>e.localId)),intendedIndexAmongSiblings:t.isFinalSibling?i.length:a}))}))}}var m=n(239),g=n(152);class v extends s.a{constructor(e){super(e,new h(e)),this.initDropReceivingState=e=>({isDraggedOver:this.state.dragOverListId===e,onDragEnter:t=>{t.preventDefault(),t.stopPropagation(),setTimeout((()=>this.processEvent("setDragOverListId",{listId:e})),0)},onDragLeave:e=>(e.preventDefault(),e.stopPropagation(),this.processEvent("setDragOverListId",{listId:null})),onDrop:t=>(t.preventDefault(),this.processEvent("dropOnList",{dropTargetListId:e})),onDragStart:t=>this.processEvent("startListDrag",{listId:e}),onDragEnd:e=>this.processEvent("endListDrag",null)}),this.renderReorderLine=(e,t)=>{if(this.props.areListsBeingFiltered)return null;let n=this.initDropReceivingState(`${e}${t?d:p}`);return o.a.createElement(b,{topItem:t,isActive:null!=this.state.draggedListId,onDrop:n.onDrop,isVisible:n.isDraggedOver,onDragEnter:n.onDragEnter,onDragLeave:n.onDragLeave,onDragOver:e=>{e.preventDefault(),e.stopPropagation()}})}}render(){return Object(g.a)(this.props.lists,this.state,this.props).map(((e,t)=>{let n={createChildList:t=>this.processEvent("createNewChildList",{name:t,parentListId:e.unifiedId}),toggleShowChildren:()=>this.processEvent("toggleShowChildren",{listId:e.unifiedId}),toggleShowNewChildInput:()=>this.processEvent("toggleShowNewChildInput",{listId:e.unifiedId})},r=this.state.listTrees.byId[e.unifiedId],i=null;return r.areChildrenShown&&r.isNewChildInputShown&&(i=o.a.createElement(y,{indentSteps:e.pathUnifiedIds.length},o.a.createElement(m.a,{onCancelClick:n.toggleShowNewChildInput,onConfirmClick:n.createChildList}))),o.a.createElement(o.a.Fragment,{key:e.unifiedId},0===t&&this.renderReorderLine(e.unifiedId,!0),this.props.children(e,this.state.listTrees.byId[e.unifiedId],n,this.initDropReceivingState(e.unifiedId)),this.renderReorderLine(e.unifiedId),i)}))}}let y=a.a.div.withConfig({displayName:"ChildListInputContainer",componentId:"pgpl6d-0"})(["width:100%;"]),b=a.a.div.withConfig({displayName:"ReorderLine",componentId:"pgpl6d-1"})(["position:relative;z-index:-1;border-bottom:3px solid ",";&::before{content:'';width:100%;top:-10px;position:absolute;height:10px;z-index:2;background:transparent;}&::after{content:'';width:100%;bottom:-13px;position:absolute;height:10px;z-index:2;background:transparent;}"," ",""],(e=>e.isVisible&&e.isActive?e.theme.colors.prime3:"transparent"),(e=>e.isActive&&Object(i.css)(["z-index:2147483647;"])),(e=>e.topItem&&Object(i.css)(["display:none;&:first-child{display:flex;}"])))},,,,function(e,t,n){var r=n(140),o=n(246),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},function(e,t,n){var r=n(247),o=r&&new r;e.exports=o},function(e,t,n){var r=n(87)(n(40),"WeakMap");e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(61))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(251),o=n(252),i=n(375),a=n(141),s=n(253),l=n(260),c=n(391),u=n(176),d=n(40);e.exports=function e(t,n,p,f,h,m,g,v,y,b){var w=128&n,x=1&n,k=2&n,S=24&n,E=512&n,C=k?void 0:a(t);return function A(){for(var O=arguments.length,I=Array(O),D=O;D--;)I[D]=arguments[D];if(S)var M=l(A),T=i(I,M);if(f&&(I=r(I,f,h,S)),m&&(I=o(I,m,g,S)),O-=T,S&&O<b){var _=u(I,M);return s(t,n,e,A.placeholder,p,I,_,v,y,b-O)}var R=x?p:this,P=k?R[t]:t;return O=I.length,v?I=c(I,v):E&&O>1&&I.reverse(),w&&y<O&&(I.length=y),this&&this!==d&&this instanceof A&&(P=C||a(P)),P.apply(R,I)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var i=-1,a=e.length,s=r.length,l=-1,c=t.length,u=n(a-s,0),d=Array(c+u),p=!o;++l<c;)d[l]=t[l];for(;++i<s;)(p||i<a)&&(d[r[i]]=e[i]);for(;u--;)d[l++]=e[i++];return d}},function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var i=-1,a=e.length,s=-1,l=r.length,c=-1,u=t.length,d=n(a-l,0),p=Array(d+u),f=!o;++i<d;)p[i]=e[i];for(var h=i;++c<u;)p[h+c]=t[c];for(;++s<l;)(f||i<a)&&(p[h+r[s]]=e[i++]);return p}},function(e,t,n){var r=n(376),o=n(256),i=n(258);e.exports=function(e,t,n,a,s,l,c,u,d,p){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var h=[e,t,s,f?l:void 0,f?c:void 0,f?void 0:l,f?void 0:c,u,d,p],m=n.apply(void 0,h);return r(e)&&o(m,h),m.placeholder=a,i(m,e,t)}},function(e,t,n){var r=n(246),o=n(345),i=r?function(e){return r.get(e)}:o;e.exports=i},function(e,t,n){var r=n(142),o=n(173);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){var r=n(245),o=n(257)(r);e.exports=o},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(381),o=n(382),i=n(174),a=n(385);e.exports=function(e,t,n){var s=t+"";return i(e,o(s,a(r(s),n)))}},function(e,t,n){var r=n(87),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(118),o=n(116);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(397),o=n(149),i=n(41),a=n(150),s=n(138),l=n(190),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),p=!n&&!u&&!d&&l(e),f=n||u||d||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},function(e,t,n){var r=n(179),o=n(401),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(183),o=n(184),i=n(182),a=n(265),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t,n){var r=n(268),o=n(182),i=n(116);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(183),o=n(41);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){var r=n(40).Uint8Array;e.exports=r},function(e,t,n){var r=n(449),o=n(452),i=n(453);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(e),f=l.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<u;){var v=e[h],y=t[h];if(a)var b=c?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},function(e,t,n){var r=n(48);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(460),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(171),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),r(e,this,c)}}},function(e,t,n){var r=n(139),o=n(332),i=n(193);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(13);const l=a.a.div`
    color: ${e=>e.theme.colors.greyScale5};
    display: flex;
    grid-gap: 5px;
    align-items: center;
`,c=o.a.createElement(l,null,"optional:"," ",o.a.createElement(s.a,{optionalTooltipText:o.a.createElement("span",null,"Optional:",o.a.createElement("br",null)," Note auto-added to every Space the page is in"),optional:"shift",getRootElement:null})),u=[{id:"open-AI-summaries",name:"askAI",text:"Summarise this page or selected text",tooltip:"Add tags to page"},{id:"highlight-shortcut",name:"createHighlight",text:"Highlight selected text",subText:c},{id:"annotation-shortcut",name:"createAnnotation",text:"Annotate selected text",subText:c},{id:"open-dashboard-shortcut",name:"openDashboard",text:"Open Dashboard",tooltip:"Search Memex"},{id:"copy-highlight-link",name:"copyCurrentLink",text:"Share link to page or highlighted text",tooltip:"Share link to page or highlighted text"},{id:"sidebar-shortcut",name:"toggleSidebar",text:"Open Sidebar",toggleOn:"View Annotations",toggleOff:"Open"},{id:"add-to-coll-shortcut",name:"addToCollection",text:"Add current page (or text, if highlighted) to Space",tooltip:"Add to Spaces",subText:c},{id:"share-page-shortcut",name:"sharePage",text:"Share link to annotations on this page",tooltip:"Share link to annotations on this page"},{id:"create-bm-shortcut",name:"createBookmark",text:"Save & Full-Text Index Page",toggleOn:"Save & Full-Text Index Page",toggleOff:"Save & Full-Text Index Page"},{id:"add-tag-shortcut",name:"addTag",text:"Add tags to current page (opens picker)",tooltip:"Add tags to page"},{id:"ask-ai",name:"askAI",text:"Summarise page",tooltip:"Summarise Page"}]},function(e,t,n){var r=n(232)("mapValues",n(275));r.placeholder=n(164),e.exports=r},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(2),o=n(95),i=n(32),a=n(25);function s(e){const t=o.a,n=["addToCollection","sharePage","addComment","toggleSidebar","toggleHighlights","createAnnotation","createHighlight","createBookmark","openDashboard","shortcutsEnabled","askAI","copyCurrentLink"],r={};for(const o of n){if("shortcutsEnabled"===o){r[o]=e[o]||!1;continue}const n=`${o}ShortcutEnabled`,i=`${o}Shortcut`;r[o]={enabled:null!=e[n]?e[n]:t[n],shortcut:null!=e[i]?e[i]:t[i],altName:"createAnnotation"===o?"createSharedAnnotation":"createHighlight"===o?"createSharedHighlight":"addToCollection"===o?"createSharedAnnotationAndAddToCollection":"openDashboard"===o?"openDashboardInNewTab":"askAI"===o?"instaSummarize":void 0}}return r}const l=e=>{var{shortcutsEnabled:t}=e,n=Object(r.__rest)(e,["shortcutsEnabled"]);const i=o.a,a={shortcutsEnabled:null!=t?t:i.shortcutsEnabled};for(const[e,{enabled:t,shortcut:r}]of Object.entries(n)){const n=`${e}ShortcutEnabled`,o=`${e}Shortcut`;a[n]=null!=t?t:i[n],a[o]=null!=r?r:i[o]}return a};function c(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return Object(i.b)(o.b,l(e))}))}const u=(e,t=e=>String.fromCharCode(e.keyCode))=>{if(!function(e){return e.keyCode>=65&&e.keyCode<=90}(e))return"";const n=Object(a.a)({key:"alt"});return(e.altKey?n+"+":"")+(e.ctrlKey?"ctrl+":"")+(e.metaKey?"meta+":"")+(e.shiftKey?"shift+":"")+t(e).toLowerCase()}},function(e,t,n){"use strict";function r(e,t=null){if(!(t||document).querySelector(`link[href="${e}"]`))return new Promise(((n,r)=>{const o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.onload=n,o.onerror=r,o.href=e;(t||document.body||document.head||document.documentElement).prepend(o)}))}n.d(t,"a",(function(){return r}))},,,,function(e,t,n){(function(e){var r=n(40),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(111)(e))},function(e,t,n){var r=n(185);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(142),o=n(184),i=n(179);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(471)();e.exports=r},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>e[t].bind(e)},function(e,t,n){var r=n(395),o=n(48),i=n(115),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(29),o=n(320);function i(e){return("production"===e.env?r.b.production:r.b.staging)+o.a+"?id="+e.id}},,,,,,,function(e,t,n){var r=n(139),o=n(125);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict";e.exports=n(530)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePopper=void 0;var r,o=u(n(0)),i=u(n(28)),a=n(538),s=(r=n(539))&&r.__esModule?r:{default:r},l=n(206);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var d=[];t.usePopper=function(e,t,n){void 0===n&&(n={});var r=o.useRef(null),c={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||d},u=o.useState({styles:{popper:{position:c.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),p=u[0],f=u[1],h=o.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);i.flushSync((function(){f({styles:(0,l.fromEntries)(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:(0,l.fromEntries)(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),m=o.useMemo((function(){var e={onFirstUpdate:c.onFirstUpdate,placement:c.placement,strategy:c.strategy,modifiers:[].concat(c.modifiers,[h,{name:"applyStyles",enabled:!1}])};return(0,s.default)(r.current,e)?r.current||e:(r.current=e,e)}),[c.onFirstUpdate,c.placement,c.strategy,c.modifiers,h]),g=o.useRef();return(0,l.useIsomorphicLayoutEffect)((function(){g.current&&g.current.setOptions(m)}),[m]),(0,l.useIsomorphicLayoutEffect)((function(){if(null!=e&&null!=t){var r=(n.createPopper||a.createPopper)(e,t,m);return g.current=r,function(){r.destroy(),g.current=null}}}),[e,t,n.createPopper]),{state:g.current?g.current.state:null,styles:p.styles,attributes:p.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var o=l({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var o=l({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderTopWidth),t+=(0,o.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderLeftWidth),t+=(0,o.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingTop),t-=(0,o.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingLeft),t-=(0,o.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:i}},t.createCSSTransform=function(e,t){var n=p(e,t,"px");return c({},(0,i.browserPrefixToKey)("transform",i.default),n)},t.createSVGTransform=function(e,t){return p(e,t,"")},t.getTranslation=p,t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,o.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&f(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=f,t.removeClassName=h;var o=n(221),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(612));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="";function d(e,t){return u||(u=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,o.isFunction)(e[t])}))),!!(0,o.isFunction)(e[u])&&e[u](t)}function p(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(s,")")+i}return i}function f(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(618),o=n(39),i="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function a(e){var t,n,r,o,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(var l=0;l<a.length-1;l++){var c=a[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);i?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function l(e){var t=function(e){var t=Object.create(null);for(var n in e)t[a(n)]=e[n];return t}(e);return function(e,n){var o,i=r.keyName(n),a=t[s(i,n)];if(a&&a(e.state,e.dispatch,e))return!0;if(1==i.length&&" "!=i){if(n.shiftKey){var l=t[s(i,n,!1)];if(l&&l(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=r.base[n.keyCode])&&o!=i){var c=t[s(o,n)];if(c&&c(e.state,e.dispatch,e))return!0}}return!1}}t.keydownHandler=l,t.keymap=function(e){return new o.Plugin({props:{handleKeyDown:l(e)}})}},function(e,t,n){"use strict";t.__esModule=!0,t.createSubscription=function(e,t){var n,i=o;function a(){l.onStateChange&&l.onStateChange()}function s(){var o,s,l;n||(n=t?t.addNestedSub(a):e.subscribe(a),o=(0,r.getBatch)(),s=null,l=null,i={clear:function(){s=null,l=null},notify:function(){o((function(){for(var e=s;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=s;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,n=l={callback:e,next:null,prev:l};return n.prev?n.prev.next=n:s=n,function(){t&&null!==s&&(t=!1,n.next?n.next.prev=n.prev:l=n.prev,n.prev?n.prev.next=n.next:s=n.next)}}})}var l={addNestedSub:function(e){return s(),i.subscribe(e)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:s,tryUnsubscribe:function(){n&&(n(),n=void 0,i.clear(),i=o)},getListeners:function(){return i}};return l};var r=n(484);var o={notify:function(){},get:function(){return[]}}},function(e,t,n){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var r=n(0),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=o},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(628);const i=r.Extension.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[o.dropCursor(this.options)]}});t.Dropcursor=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(199),o=Object.prototype.hasOwnProperty,i=Array.prototype.splice,a=Object.prototype.toString;function s(e){return a.call(e).slice(8,-1)}var l=Object.assign||function(e,t){return c(t).forEach((function(n){o.call(t,n)&&(e[n]=t[n])})),e},c="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function u(e){return Array.isArray(e)?l(e.constructor(e.length),e):"Map"===s(e)?new Map(e):"Set"===s(e)?new Set(e):e&&"object"==typeof e?l(Object.create(Object.getPrototypeOf(e)),e):e}var d=function(){function e(){this.commands=l({},p),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,i="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(i)||r(!Array.isArray(i),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),r("object"==typeof i&&null!==i,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var a=e;return c(i).forEach((function(t){if(o.call(n.commands,t)){var r=e===a;a=n.commands[t](i[t],a,i,e),r&&n.isEquals(a,e)&&(a=e)}else{var l="Map"===s(e)?n.update(e.get(t),i[t]):n.update(e[t],i[t]),c="Map"===s(a)?a.get(t):a[t];n.isEquals(l,c)&&(void 0!==l||o.call(e,t))||(a===e&&(a=u(e)),"Map"===s(a)?a.set(t,l):a[t]=l)}})),a},e}();t.Context=d;var p={$push:function(e,t,n){return h(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return h(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,o){return function(e,t){r(Array.isArray(e),"Expected $splice target to be an array; got %s",e),g(t.$splice)}(t,n),e.forEach((function(e){g(e),t===o&&e.length&&(t=u(o)),i.apply(t,e)})),t},$set:function(e,t,n){return function(e){r(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){m(e,"$toggle");var n=e.length?u(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return m(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=u(r)),delete t[e])})),t},$add:function(e,t,n,r){return v(t,"$add"),m(e,"$add"),"Map"===s(t)?e.forEach((function(e){var n=e[0],o=e[1];t===r&&t.get(n)!==o&&(t=u(r)),t.set(n,o)})):e.forEach((function(e){t!==r||t.has(e)||(t=u(r)),t.add(e)})),t},$remove:function(e,t,n,r){return v(t,"$remove"),m(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=u(r)),t.delete(e)})),t},$merge:function(e,t,n,o){var i,a;return i=t,r((a=e)&&"object"==typeof a,"update(): $merge expects a spec of type 'object'; got %s",a),r(i&&"object"==typeof i,"update(): $merge expects a target of type 'object'; got %s",i),c(e).forEach((function(n){e[n]!==t[n]&&(t===o&&(t=u(o)),t[n]=e[n])})),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),"update(): expected spec of $apply to be a function; got %s.",n),e(t)}},f=new d;function h(e,t,n){r(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),m(t[n],n)}function m(e,t){r(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function g(e){r(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function v(e,t){var n=s(e);r("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}t.isEquals=f.update.isEquals,t.extend=f.extend,t.default=f.update,t.default.default=e.exports=l(t.default,t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=e=>r.textInputRule({find:/--$/,replace:null!=e?e:"\u2014"}),i=e=>r.textInputRule({find:/\.\.\.$/,replace:null!=e?e:"\u2026"}),a=e=>r.textInputRule({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:null!=e?e:"\u201c"}),s=e=>r.textInputRule({find:/"$/,replace:null!=e?e:"\u201d"}),l=e=>r.textInputRule({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:null!=e?e:"\u2018"}),c=e=>r.textInputRule({find:/'$/,replace:null!=e?e:"\u2019"}),u=e=>r.textInputRule({find:/<-$/,replace:null!=e?e:"\u2190"}),d=e=>r.textInputRule({find:/->$/,replace:null!=e?e:"\u2192"}),p=e=>r.textInputRule({find:/\(c\)$/,replace:null!=e?e:"\xa9"}),f=e=>r.textInputRule({find:/\(tm\)$/,replace:null!=e?e:"\u2122"}),h=e=>r.textInputRule({find:/\(sm\)$/,replace:null!=e?e:"\u2120"}),m=e=>r.textInputRule({find:/\(r\)$/,replace:null!=e?e:"\xae"}),g=e=>r.textInputRule({find:/(?:^|\s)(1\/2)\s$/,replace:null!=e?e:"\xbd"}),v=e=>r.textInputRule({find:/\+\/-$/,replace:null!=e?e:"\xb1"}),y=e=>r.textInputRule({find:/!=$/,replace:null!=e?e:"\u2260"}),b=e=>r.textInputRule({find:/<<$/,replace:null!=e?e:"\xab"}),w=e=>r.textInputRule({find:/>>$/,replace:null!=e?e:"\xbb"}),x=e=>r.textInputRule({find:/\d+\s?([*x])\s?\d+$/,replace:null!=e?e:"\xd7"}),k=e=>r.textInputRule({find:/\^2$/,replace:null!=e?e:"\xb2"}),S=e=>r.textInputRule({find:/\^3$/,replace:null!=e?e:"\xb3"}),E=e=>r.textInputRule({find:/(?:^|\s)(1\/4)\s$/,replace:null!=e?e:"\xbc"}),C=e=>r.textInputRule({find:/(?:^|\s)(3\/4)\s$/,replace:null!=e?e:"\xbe"}),A=r.Extension.create({name:"typography",addInputRules(){const e=[];return!1!==this.options.emDash&&e.push(o(this.options.emDash)),!1!==this.options.ellipsis&&e.push(i(this.options.ellipsis)),!1!==this.options.openDoubleQuote&&e.push(a(this.options.openDoubleQuote)),!1!==this.options.closeDoubleQuote&&e.push(s(this.options.closeDoubleQuote)),!1!==this.options.openSingleQuote&&e.push(l(this.options.openSingleQuote)),!1!==this.options.closeSingleQuote&&e.push(c(this.options.closeSingleQuote)),!1!==this.options.leftArrow&&e.push(u(this.options.leftArrow)),!1!==this.options.rightArrow&&e.push(d(this.options.rightArrow)),!1!==this.options.copyright&&e.push(p(this.options.copyright)),!1!==this.options.trademark&&e.push(f(this.options.trademark)),!1!==this.options.servicemark&&e.push(h(this.options.servicemark)),!1!==this.options.registeredTrademark&&e.push(m(this.options.registeredTrademark)),!1!==this.options.oneHalf&&e.push(g(this.options.oneHalf)),!1!==this.options.plusMinus&&e.push(v(this.options.plusMinus)),!1!==this.options.notEqual&&e.push(y(this.options.notEqual)),!1!==this.options.laquo&&e.push(b(this.options.laquo)),!1!==this.options.raquo&&e.push(w(this.options.raquo)),!1!==this.options.multiplication&&e.push(x(this.options.multiplication)),!1!==this.options.superscriptTwo&&e.push(k(this.options.superscriptTwo)),!1!==this.options.superscriptThree&&e.push(S(this.options.superscriptThree)),!1!==this.options.oneQuarter&&e.push(E(this.options.oneQuarter)),!1!==this.options.threeQuarters&&e.push(C(this.options.threeQuarters)),e}});t.Typography=A,t.closeDoubleQuote=s,t.closeSingleQuote=c,t.copyright=p,t.default=A,t.ellipsis=i,t.emDash=o,t.laquo=b,t.leftArrow=u,t.multiplication=x,t.notEqual=y,t.oneHalf=g,t.oneQuarter=E,t.openDoubleQuote=a,t.openSingleQuote=l,t.plusMinus=v,t.raquo=w,t.registeredTrademark=m,t.rightArrow=d,t.servicemark=h,t.superscriptThree=S,t.superscriptTwo=k,t.threeQuarters=C,t.trademark=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,i=r.Node.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",r.mergeAttributes(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[r.nodeInputRule({find:o,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}});t.Image=i,t.default=i,t.inputRegex=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(4),c=n(77),u=n(5);class d extends i.a.Component{constructor(e){super(e)}render(){return i.a.createElement(u.a,{innerRef:this.props.spacePickerButtonRef,type:"tertiary",size:"small",icon:"plus",iconColor:"prime1",onClick:e=>{var t,n;null===(n=(t=this.props).onEditBtnClick)||void 0===n||n.call(t,e)},height:"24px",width:this.props.hasNoLists||!0===this.props.newLineOrientation?"fit-content":"24px",label:(this.props.hasNoLists||!0===this.props.newLineOrientation)&&i.a.createElement(i.a.Fragment,null,"Spaces"),padding:this.props.hasNoLists||!0===this.props.newLineOrientation?"2px 4px 2px 0px":"initial"})}}function p(e){var{lists:t,onListClick:n,onEditBtnClick:o,renderSpacePicker:a,filteredbyListID:s,tabIndex:u,newLineOrientation:p,spacePickerButtonRef:y,removeSpaceForAnnotation:w}=e,x=Object(r.__rest)(e,["lists","onListClick","onEditBtnClick","renderSpacePicker","filteredbyListID","tabIndex","newLineOrientation","spacePickerButtonRef","removeSpaceForAnnotation"]);return i.a.createElement(g,Object.assign({padding:c.padding.toString()},x),i.a.createElement(v,{newLineOrientation:!0===p},i.a.createElement(m,null,t.slice(0).map((e=>{var t;return i.a.createElement(b,{key:e.localId,onClick:t=>{t.stopPropagation(),n(e.localId)},isLoading:null==e.name&&null!=e,title:"string"==typeof e.name?e.name:"",spaceId:null!==(t=e.localId)&&void 0!==t?t:null}," ","page-link"===e.type&&i.a.createElement(l.a,{heightAndWidth:"16px",hoverOff:!0,icon:"link",color:"greyScale5"}),"rss-feed"===e.type&&i.a.createElement(l.a,{heightAndWidth:"16px",hoverOff:!0,icon:"feed",color:"greyScale5"}),e.isShared&&"page-link"!==e.type&&i.a.createElement(l.a,{heightAndWidth:"16px",hoverOff:!0,icon:"peopleFine",color:"greyScale5"}),i.a.createElement(h,null,e.name),i.a.createElement(f,{onClick:t=>{t.stopPropagation(),w(e.localId)}},i.a.createElement(l.a,{icon:"removeX",heightAndWidth:"16px",color:"greyScale6",hoverOff:!0,background:"greyScale3"})))})),a&&i.a.createElement(d,{hasNoLists:0===t.length,onEditBtnClick:o,renderSpacePicker:()=>a(this.props.spacePickerButtonRef),tabIndex:u,newLineOrientation:p,spacePickerButtonRef:y}))))}const f=s.a.div`
    position: absolute;
    right: 2px;
    display: none;
    border-radius: 0 4px 4px 0;
    overflow: hidden;

    & * {
        cursor: pointer;
    }
`,h=s.a.div`
    text-overflow: ellipsis;
    overflow: hidden;
`,m=s.a.div`
    width: fill-available;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
`,g=s.a.div`
    display: flex;
    grid-gap: 10px;
    align-items: flex-start;
    justify-content: flex-start;
    padding: ${e=>e.padding?e.padding:"0px 10px 5px 10px"};
    min-height: 24px;
    height: fit-content;
    grid-auto-flow: column;
    //border-top: 1px solid ${e=>e.theme.colors.greyScale3};
    pointer-events: auto;
    z-index: 1000;
    width: fill-available;
`,v=s.a.div`
    display: flex;
    align-items: ${e=>e.newLineOrientation?" flex-start":"center"};
    flex-direction: ${e=>e.newLineOrientation?"column":"row"};
`,y=a.keyframes`
    0% { background-position: -315px 0, 0 0, 0px 190px, 50px 195px;}
    100% { background-position: 315px 0, 0 0, 0 190px, 50px 195px;}
`,b=s.a.div`
    background: ${e=>"light"===e.theme.variant?e.theme.colors.greyScale1:e.theme.colors.greyScale3};
    color: ${e=>e.theme.colors.greyScale6};
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 0.6px;
    height: 20px;
    margin: 2px 4px 2px 0;
    display: flex;
    cursor: ${e=>e.spaceId?"pointer":"default"};
    align-items: center;
    white-space: nowrap;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    text-overflow: ellipsis;
    max-width: 200px;
    position: relative;

    ${e=>e.isLoading&&a.css`
            width: 50px;
            background: linear-gradient(
                    0.25turn,
                    transparent,
                    ${e=>e.theme.colors.greyScale3},
                    transparent
                ),
                linear-gradient(
                    ${e=>e.theme.colors.greyScale2},
                    ${e=>e.theme.colors.greyScale2}
                ),
                radial-gradient(
                    38px circle at 19px 19px,
                    ${e=>e.theme.colors.greyScale2}50,
                    transparent 51%
                ),
                linear-gradient(
                    ${e=>e.theme.colors.greyScale2},
                    ${e=>e.theme.colors.greyScale2}
                );
            background-repeat: no-repeat;
            background-size: 315px 250px, 315px 180px, 100px 100px, 225px 30px;
            background-position: -315px 0, 0 0, 0px 190px, 50px 195px;
            animation: ${y} 1.5s infinite;
        `};

    &:hover ${f} {
        display: flex;
    }
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(17),o=n(2),i=n(39);const a=(e,t,n)=>{let r=!1,a=null,l=null,c=null;return new i.Plugin({props:{handlePaste(r,i){var a;const l=Array.from((null===(a=i.clipboardData)||void 0===a?void 0:a.items)||[]),{schema:c}=r.state;return i.preventDefault(),l.forEach((a=>Object(o.__awaiter)(this,void 0,void 0,(function*(){const o=a.getAsFile();if(0===a.type.indexOf("image")&&(i.preventDefault(),o)){const i=yield s(o),a=yield e(),l=c.nodes.image.create({src:i,remoteid:a,draggable:!0}),u=r.state.tr.replaceSelectionWith(l);r.dispatch(u),n&&(yield t({id:a,image:i}))}})))),!1},handleDOMEvents:{dragstart:(e,t)=>(l=e.state.selection,l instanceof i.NodeSelection&&(c=l.node,a=c.copy(c.attrs)),r=!0,!1),drop(a,l){var c,u,d;const{schema:p}=a.state,f=a.posAtCoords({left:l.clientX,top:l.clientY});if(r)return;l.preventDefault();let h=[];if(null===(u=null===(c=l.dataTransfer)||void 0===c?void 0:c.files)||void 0===u?void 0:u.length)h=Array.from(l.dataTransfer.files).filter((e=>["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"].includes(e.type)));else{const e=null===(d=l.dataTransfer)||void 0===d?void 0:d.getData("text/html"),t=/src\s*=\s*"(.+?)"/.exec(e);t&&t[1]&&h.push(t[1])}return 0===h.length||(r||h.forEach((r=>Object(o.__awaiter)(this,void 0,void 0,(function*(){if("string"==typeof r)try{const e=yield fetch(r);l(yield e.blob())}catch(e){console.error("Error fetching the image",e)}else r instanceof Blob&&l(r);function l(r){return Object(o.__awaiter)(this,void 0,void 0,(function*(){const o=yield s(r),l=yield e(),c=p.nodes.image.create({src:o,remoteid:l}),u=a.state.tr.insert(-1===f.inside?f.pos:f.inside,c);a.dispatch(u),a.focus(),a.dispatch(a.state.tr.setSelection(i.TextSelection.create(a.state.doc,f.pos))),n&&(yield t({id:l,image:o}))}))}})))),r=!1),!1}}}})};function s(e){return Object(o.__awaiter)(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=function(){t(r.result)},r.onerror=function(e){n(e)},r.readAsDataURL(e)}))}))}const l=/!\[(.+|:?)\]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,c=(e,t,n,o)=>r.Node.create({name:"image",inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},remoteid:{default:null}}),parseHTML:()=>[{tag:"img[src]",getAttrs:e=>{if("string"==typeof e)return{};const t=e;return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt"),remoteid:t.getAttribute("remoteid")}}}],renderHTML:({node:e,HTMLAttributes:t})=>["img",Object.assign(Object.assign({},t),{remoteid:e.attrs.remoteid})],addCommands(){return{setImage:e=>({state:n,dispatch:r,editor:o})=>{const{selection:i,doc:a}=n;let s=i.$head?i.$head.pos:i.$to.pos;0===o.getCharacterCount()?(o.commands.clearNodes(),s=0):s>1&&(s-=1);const l=this.type.create(e),c=n.tr.insert(s,l);return t({id:e.remoteid,image:e.src}),null==r?void 0:r(c)}}},addInputRules(){return[Object(r.nodeInputRule)({find:l,type:this.type,getAttributes:e=>{const[,t,n,r,o]=e;return{src:n,alt:t,title:r,remoteid:o}}})]},addProseMirrorPlugins:()=>[a(e,t,n)],addNodeView:()=>({node:e,getPos:t,editor:n})=>{const r=document.createElement("img");return r.setAttribute("src",e.attrs.src),r.setAttribute("alt",e.attrs.alt),r.setAttribute("title",e.attrs.title),r.setAttribute("remoteid",e.attrs.remoteid),r.addEventListener("click",(()=>{o(e.attrs.src)})),{dom:r}}})},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r="/images/upload",o="/images/get"},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=n(608))&&"object"==typeof r&&"default"in r?r.default:r,a=n(614),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},s(e,t)};var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};var c=i,u={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},d=function(e){function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.refDraggable=function(e){e&&(n.draggable=e)},n.refResizable=function(e){e&&(n.resizable=e,n.resizableElement.current=e.resizable)},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),o=r.x,i=r.y;this.draggable.setState({x:o-t,y:i-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,o=this.getParent(),i=this.props.scale;if("parent"===this.props.bounds)r=o;else{if("body"===this.props.bounds){var a=o.getBoundingClientRect(),s=a.left,l=a.top,c=document.body.getBoundingClientRect(),u=-(s-o.offsetLeft*i-c.left)/i,d=-(l-o.offsetTop*i-c.top)/i,p=(document.body.offsetWidth-this.resizable.size.width*i)/i+u,f=(document.body.offsetHeight-this.resizable.size.height*i)/i+d;return this.setState({bounds:{top:d,right:p,bottom:f,left:u}})}if("window"===this.props.bounds){if(!this.resizable)return;var h=o.getBoundingClientRect(),m=h.left,g=h.top,v=-(m-o.offsetLeft*i)/i,y=-(g-o.offsetTop*i)/i;p=(window.innerWidth-this.resizable.size.width*i)/i+v,f=(window.innerHeight-this.resizable.size.height*i)/i+y;return this.setState({bounds:{top:y,right:p,bottom:f,left:v}})}r=document.querySelector(this.props.bounds)}if(r instanceof HTMLElement&&o instanceof HTMLElement){var b=r.getBoundingClientRect(),w=b.left,x=b.top,k=o.getBoundingClientRect(),S=(w-k.left)/i,E=x-k.top;if(this.resizable){this.updateOffsetFromParent();var C=this.offsetFromParent;this.setState({bounds:{top:E-C.top,right:S+(r.offsetWidth-this.resizable.size.width)-C.left/i,bottom:E+(r.offsetHeight-this.resizable.size.height)-C.top,left:S-C.left/i}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,o=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,l(l({},t),{x:t.x+r,y:this.originalPosition.y+o,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,l(l({},t),{x:this.originalPosition.x+r,y:t.y+o,deltaX:0})):void 0:this.props.onDrag(e,l(l({},t),{x:t.x-r,y:t.y-o}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,o=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,l(l({},t),{x:t.x+r,y:this.originalPosition.y+o,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,l(l({},t),{x:this.originalPosition.x+r,y:t.y+o,deltaX:0})):void 0:this.props.onDragStop(e,l(l({},t),{x:t.x+r,y:t.y+o}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,o=this.offsetFromParent,i=this.getDraggablePosition();if(this.resizingPosition={x:i.x+o.left,y:i.y+o.top},this.originalPosition=i,this.props.bounds){var a=this.getParent(),s=void 0;s="parent"===this.props.bounds?a:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(s instanceof HTMLElement||s===window)&&a instanceof HTMLElement){var c=this.getMaxSizesFromProps(),u=c.maxWidth,d=c.maxHeight,p=this.getParentSize();if(u&&"string"==typeof u)if(u.endsWith("%")){var f=Number(u.replace("%",""))/100;u=p.width*f}else u.endsWith("px")&&(u=Number(u.replace("px","")));if(d&&"string"==typeof d)if(d.endsWith("%")){f=Number(d.replace("%",""))/100;d=p.width*f}else d.endsWith("px")&&(d=Number(d.replace("px","")));var h=l.getBoundingClientRect(),m=h.left,g=h.top,v="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),y=v.left,b=v.top,w=this.getOffsetWidth(s),x=this.getOffsetHeight(s),k=t.toLowerCase().endsWith("left"),S=t.toLowerCase().endsWith("right"),E=t.startsWith("top"),C=t.startsWith("bottom");if((k||E)&&this.resizable){var A=(m-y)/r+this.resizable.size.width;this.setState({maxWidth:A>Number(u)?u:A})}if(S||this.props.lockAspectRatio&&!k&&!E){A=w+(y-m)/r;this.setState({maxWidth:A>Number(u)?u:A})}if((E||k)&&this.resizable){A=(g-b)/r+this.resizable.size.height;this.setState({maxHeight:A>Number(d)?d:A})}if(C||this.props.lockAspectRatio&&!E&&!k){A=x+(b-g)/r;this.setState({maxHeight:A>Number(d)?d:A})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var o={x:this.originalPosition.x,y:this.originalPosition.y},i=-r.width,a=-r.height;-1!==["top","left","topLeft","bottomLeft","topRight"].indexOf(t)&&("bottomLeft"===t?o.x+=i:("topRight"===t||(o.x+=i),o.y+=a)),o.x===this.draggable.state.x&&o.y===this.draggable.state.y||this.draggable.setState(o),this.updateOffsetFromParent();var s=this.offsetFromParent,l=this.getDraggablePosition().x+s.left,c=this.getDraggablePosition().y+s.top;this.resizingPosition={x:l,y:c},this.props.onResize&&this.props.onResize(e,t,n,r,{x:l,y:c})},t.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),i=o.maxWidth,a=o.maxHeight;this.setState({maxWidth:i,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition(),l=t.scrollLeft,c=t.scrollTop;this.offsetFromParent={left:a.left-o+l-s.x*e,top:a.top-i+c-s.y*e}},t.prototype.render=function(){var e=this.props,t=e.disableDragging,n=e.style,r=e.dragHandleClassName,i=e.position,s=e.onMouseDown,d=e.onMouseUp,p=e.dragAxis,f=e.dragGrid,h=e.bounds,m=e.enableUserSelectHack,g=e.cancel,v=e.children,y=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),b=e.resizeHandleClasses,w=e.resizeHandleComponent,x=e.enableResizing,k=e.resizeGrid,S=e.resizeHandleWrapperClass,E=e.resizeHandleWrapperStyle,C=e.scale,A=e.allowAnyClick,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),I=this.props.default?l({},this.props.default):void 0;delete O.default;var D,M=t||r?{cursor:"auto"}:{cursor:"move"},T=l(l(l({},u),M),n),_=this.offsetFromParent,R=_.left,P=_.top;i&&(D={x:i.x-R,y:i.y-P});var L,N=this.state.resizing?void 0:D,j=this.state.resizing?"both":p;return o.createElement(c,{ref:this.refDraggable,handle:r?"."+r:void 0,defaultPosition:I,onMouseDown:s,onMouseUp:d,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:j,disabled:t,grid:f,bounds:h?this.state.bounds:void 0,position:N,enableUserSelectHack:m,cancel:g,scale:C,allowAnyClick:A,nodeRef:this.resizableElement},o.createElement(a.Resizable,l({},O,{ref:this.refResizable,defaultSize:I,size:this.props.size,enable:"boolean"==typeof x?(L=x,{bottom:L,bottomLeft:L,bottomRight:L,left:L,right:L,top:L,topLeft:L,topRight:L}):x,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:T,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:k,handleWrapperClass:S,handleWrapperStyle:E,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:y,handleClasses:b,handleComponent:w,scale:this.props.scale}),v))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(o.PureComponent);t.Rnd=d},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(28),o=n.n(r),i=n(279),a=n(3);function s({containerId:e,rootId:t,cssFile:n,rootClassNames:r,containerClassNames:o}){const s=document.createElement("div");s.setAttribute("id",e),null!=o&&s.classList.add(...o);const{rootElement:l,shadow:u}=function(e,t,n,r){const o=document.createElement("div");o.setAttribute("id",t),null!=n&&o.classList.add(...n);let s=null;if(e.attachShadow){s=e.attachShadow({mode:"open"});const t=a.runtime.getURL("/fonts/Satoshi/satoshi.css"),n=document.createElement("style");n.dataset.description="memex-satoshi-font-faces",n.appendChild(document.createTextNode(c)),document.head.appendChild(n);var l="";l+="<style>",l+=':host {all: initial, font-family: "Satoshi"} :host * {font-family: "Satoshi"; line-height: initial}',l+=`</style> <link rel="stylesheet" href="${t}" />`,s.innerHTML=l,s.appendChild(o),null!=r&&Object(i.a)(r,s)}else e.appendChild(o),null!=r&&Object(i.a)(r);return{rootElement:o,shadow:s}}(s,t,r,n);return document.body.appendChild(s),{rootElement:l,shadowRoot:u}}const l=a.runtime.getURL("/fonts/Satoshi/"),c=`\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-Variable.woff) format('woff'),\n        url(${l}Satoshi-Variable.ttf) format('truetype');\n    font-weight: 300;\n    font-display: swap;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-VariableItalic.woff) format('woff'),\n        url(${l}Satoshi-VariableItalic.ttf) format('truetype');\n    font-weight: 300;\n    font-display: swap;\n    font-style: italic;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-Light.woff) format('woff'),\n        url(${l}Satoshi-Light.ttf) format('truetype');\n    font-weight: 300;\n    font-display: swap;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-LightItalic.woff) format('woff'),\n        url(${l}Satoshi-LightItalic.ttf) format('truetype');\n    font-weight: 300;\n    font-display: swap;\n    font-style: italic;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-Regular.woff) format('woff'),\n        url(${l}Satoshi-Regular.ttf) format('truetype');\n    font-weight: 400;\n    font-display: swap;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-Italic.woff) format('woff'),\n        url(${l}Satoshi-Italic.ttf) format('truetype');\n    font-weight: 400;\n    font-display: swap;\n    font-style: italic;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-Medium.woff) format('woff'),\n        url(${l}Satoshi-Medium.ttf) format('truetype');\n    font-weight: 500;\n    font-display: swap;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-MediumItalic.woff) format('woff'),\n        url(${l}Satoshi-MediumItalic.ttf) format('truetype');\n    font-weight: 500;\n    font-display: swap;\n    font-style: italic;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-Bold.woff) format('woff'),\n        url(${l}Satoshi-Bold.ttf) format('truetype');\n    font-weight: 700;\n    font-display: swap;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-BoldItalic.woff) format('woff'),\n        url(${l}Satoshi-BoldItalic.ttf) format('truetype');\n    font-weight: 700;\n    font-display: swap;\n    font-style: italic;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-Black.woff) format('woff'),\n        url(${l}Satoshi-Black.ttf) format('truetype');\n    font-weight: 900;\n    font-display: swap;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Satoshi';\n    src:\n        url(${l}Satoshi-BlackItalic.woff) format('woff'),\n        url(${l}Satoshi-BlackItalic.ttf) format('truetype');\n    font-weight: 900;\n    font-display: swap;\n    font-style: italic;\n}\n\n`;function u(e,t,n){return s({containerId:`memex-${e}-container`,rootId:`memex-${e}`,rootClassNames:[`memex-${e}`],containerClassNames:n,cssFile:t})}function d(e){return function(e){const t=document.querySelector(`#${e}`);t&&t.remove()}(`memex-${e}-container`)}function p(e,t){o.a.unmountComponentAtNode(e),t?t.removeChild(e):document.body.removeChild(e)}},,function(e,t,n){var r=n(268),o=n(266),i=n(126);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(151),o=n(234);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(i)var h=i(d,p,u,e,t,f);if(!(void 0===h?o(p,d,3,i,f):h))return!1}}return!0}},function(e,t,n){var r=n(271),o=n(116);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(286),o=n(116);e.exports=function(e,t){return e&&r(e,t,o)}},,function(e,t,n){(function(e,r){var o;!function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r&&r;i.global!==i&&i.window!==i&&i.self;var a,s=2147483647,l=36,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(p[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=l)e=f(e/35);return f(r+36*e/(e+38))}function k(e){var t,n,r,o,i,a,c,u,d,p,h,g=[],v=e.length,y=0,w=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(i=y,a=1,c=l;o>=v&&m("invalid-input"),((u=(h=e.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||u>f((s-y)/a))&&m("overflow"),y+=u*a,!(u<(d=c<=k?1:c>=k+26?26:c-k));c+=l)a>f(s/(p=l-d))&&m("overflow"),a*=p;k=x(y-i,t=g.length+1,0==i),f(y/t)>s-w&&m("overflow"),w+=f(y/t),y%=t,g.splice(y++,0,w)}return b(g)}function S(e){var t,n,r,o,i,a,c,u,d,p,g,v,b,k,S,E=[];for(v=(e=y(e)).length,t=128,n=0,i=72,a=0;a<v;++a)(g=e[a])<128&&E.push(h(g));for(r=o=E.length,o&&E.push("-");r<v;){for(c=s,a=0;a<v;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>f((s-n)/(b=r+1))&&m("overflow"),n+=(c-t)*b,t=c,a=0;a<v;++a)if((g=e[a])<t&&++n>s&&m("overflow"),g==t){for(u=n,d=l;!(u<(p=d<=i?1:d>=i+26?26:d-i));d+=l)S=u-p,k=l-p,E.push(h(w(p+S%k,0))),u=f(S/k);E.push(h(w(u,0))),i=x(n,b,r==o),n=0,++r}++n,++t}return E.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:k,encode:S,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return a}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(111)(e),n(61))},,,,,,,,,,,function(e,t){e.exports=function(){}},function(e,t,n){var r=n(223),o=n(274),i=n(174);e.exports=function(e){return i(o(e,void 0,r),e+"")}},function(e,t,n){var r=n(125),o=n(134),i=n(138),a=n(48);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},,,,,,,,function(e,t,n){var r=n(463),o=n(464);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){var r=n(183),o=n(469);e.exports=function e(t,n,i,a,s){var l=-1,c=t.length;for(i||(i=o),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,a,s):r(s,u):a||(s[s.length]=u)}return s}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},,,,function(e,t,n){(function(e){("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.20.14"}}).call(this,n(61))},function(e,t,n){var r=n(364),o=n(164),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,c,u){var d="function"==typeof n,p=n===Object(n);if(p&&(u=c,c=n,n=void 0),null==c)throw new TypeError;u||(u={});var f=!("cap"in u)||u.cap,h=!("curry"in u)||u.curry,m=!("fixed"in u)||u.fixed,g=!("immutable"in u)||u.immutable,v=!("rearg"in u)||u.rearg,y=d?c:o,b="curry"in u&&u.curry,w="fixed"in u&&u.fixed,x="rearg"in u&&u.rearg,k=d?c.runInContext():void 0,S=d?c:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},E=S.ary,C=S.assign,A=S.clone,O=S.curry,I=S.forEach,D=S.isArray,M=S.isError,T=S.isFunction,_=S.isWeakMap,R=S.keys,P=S.rearg,L=S.toInteger,N=S.toPath,j=R(r.aryMethod),B={castArray:function(e){return function(){var t=arguments[0];return D(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return f&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!T(n))return e(n,Object(t));var r=[];return I(R(t),(function(e){T(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),I(r,(function(e){var t=e[1];T(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:L(t)+1;return O(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return O(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),u)}}};function F(e,t){if(f){var n=r.iterateeRearg[e];if(n)return function(e,t){return W(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(P(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return W(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,o)}return t}function z(e,t,n){if(m&&(w||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?E(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function $(e,t,n){return v&&n>1&&(x||!r.skipRearg[e])?P(t,r.methodRearg[e]||r.aryRearg[n]):t}function H(e,t){for(var n=-1,r=(t=N(t)).length,o=r-1,i=A(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],l=a[s];null==l||T(l)||M(l)||_(l)||(a[s]=A(n==o?l:Object(l))),a=a[s]}return i}function U(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=u;return function(t){var r=d?k:S,s=d?k[i]:n,l=C(C({},a),t);return e(r,o,s,l)}}function W(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=v?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function V(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,c=B[i];return c?a=c(t):g&&(r.mutate.array[i]?a=l(t,s):r.mutate.object[i]?a=l(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=l(t,H))),I(j,(function(e){return I(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?z(i,$(i,a,e),e):$(i,z(i,a,e),e),o=function(e,t,n){return b||h&&n>1?O(t,n):t}(0,o=F(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=b?O(o,1):function(){return t.apply(this,arguments)}),o.convert=U(i,t),o.placeholder=t.placeholder=n,o}if(!p)return V(n,c,y);var q=c,G=[];return I(j,(function(e){I(r.aryMethod[e],(function(e){var t=q[r.remap[e]||e];t&&G.push([e,V(e,t,q)])}))})),I(R(q),(function(e){var t=q[e];if("function"==typeof t){for(var n=G.length;n--;)if(G[n][0]==e)return;t.convert=U(e,t),G.push([e,t])}})),I(G,(function(e){q[e[0]]=e[1]})),q.convert=function(e){return q.runInContext.convert(e)(void 0)},q.placeholder=q,I(R(q),(function(e){I(r.realToAlias[e]||[],(function(t){q[t]=q[e]}))})),q}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(366),assign:n(261),clone:n(402),curry:n(443),forEach:n(175),isArray:n(41),isError:n(444),isFunction:n(148),isWeakMap:n(445),iteratee:n(446),keys:n(263),rearg:n(468),toInteger:n(236),toPath:n(470)}},function(e,t,n){var r=n(170);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var r=n(148),o=n(370),i=n(48),a=n(249),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},function(e,t,n){var r=n(96),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(371),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(40)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(141),o=n(40);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},function(e,t,n){var r=n(171),o=n(141),i=n(250),a=n(253),s=n(260),l=n(176),c=n(40);e.exports=function(e,t,n){var u=o(e);return function o(){for(var d=arguments.length,p=Array(d),f=d,h=s(o);f--;)p[f]=arguments[f];var m=d<3&&p[0]!==h&&p[d-1]!==h?[]:l(p,h);return(d-=m.length)<n?a(e,t,i,o.placeholder,void 0,p,m,void 0,void 0,n-d):r(this&&this!==c&&this instanceof o?u:e,this,p)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(172),o=n(254),i=n(377),a=n(379);e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},function(e,t,n){var r=n(378),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(172),o=n(255),i=n(173),a=n(41),s=n(50),l=n(380),c=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(c.call(e,"__wrapped__"))return l(e)}return new o(e)}u.prototype=i.prototype,u.prototype.constructor=u,e.exports=u},function(e,t,n){var r=n(172),o=n(255),i=n(124);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var o=r-1;return t[o]=(r>1?"& ":"")+t[o],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(384),o=n(259),i=n(140),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(175),o=n(386),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,(function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(387);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(388),o=n(389),i=n(390);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(124),o=n(138),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var l=t[a];e[a]=o(l,n)?s[l]:void 0}return e}},function(e,t,n){var r=n(171),o=n(141),i=n(40);e.exports=function(e,t,n,a){var s=1&t,l=o(e);return function t(){for(var o=-1,c=arguments.length,u=-1,d=a.length,p=Array(d+c),f=this&&this!==i&&this instanceof t?l:e;++u<d;)p[u]=a[u];for(;c--;)p[u++]=arguments[++o];return r(f,s?n:this,p)}}},function(e,t,n){var r=n(251),o=n(252),i=n(176),a="__lodash_placeholder__",s=128,l=Math.min;e.exports=function(e,t){var n=e[1],c=t[1],u=n|c,d=u<131,p=c==s&&8==n||c==s&&256==n&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==n;if(!d&&!p)return e;1&c&&(e[2]=t[2],u|=1&n?0:4);var f=t[3];if(f){var h=e[3];e[3]=h?r(h,f,t[4]):f,e[4]=h?i(e[3],a):t[4]}return(f=t[5])&&(h=e[5],e[5]=h?o(h,f,t[6]):f,e[6]=h?i(e[5],a):t[6]),(f=t[7])&&(e[7]=f),c&s&&(e[8]=null==e[8]?t[8]:l(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}},function(e,t,n){var r=n(289),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(396),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(88),o=n(50);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(88),o=n(177),i=n(50),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(264)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(233);e.exports=function(e){return r(e,4)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(144),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(144);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(144);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(144);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(143);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(143),o=n(180),i=n(181);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(414),o=n(143),i=n(180);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(415),o=n(416),i=n(417),a=n(418),s=n(419);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(145);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(145),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(145),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(145);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(146);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(146);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(146);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(146);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(118),o=n(126);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(48),o=n(179),i=n(427),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(118),o=n(182);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(118),o=n(266);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(87)(n(40),"DataView");e.exports=r},function(e,t,n){var r=n(87)(n(40),"Promise");e.exports=r},function(e,t,n){var r=n(87)(n(40),"Set");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(185),o=n(436),i=n(437),a=n(438),s=n(284);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(185);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(96),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(440),o=n(168),i=n(178),a=i&&i.isMap,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(119),o=n(50);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(442),o=n(168),i=n(178),a=i&&i.isSet,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(119),o=n(50);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(170);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},function(e,t,n){var r=n(88),o=n(50),i=n(212);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},function(e,t,n){var r=n(119),o=n(50);e.exports=function(e){return o(e)&&"[object WeakMap]"==r(e)}},function(e,t,n){var r=n(233),o=n(193);e.exports=function(e){return o("function"==typeof e?e:r(e,1))}},function(e,t,n){var r=n(330),o=n(331),i=n(272);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(151),o=n(270),i=n(454),a=n(457),s=n(119),l=n(41),c=n(150),u=n(190),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?p:s(e),x=b?p:s(t),k=(w=w==d?f:w)==f,S=(x=x==d?f:x)==f,E=w==x;if(E&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(E&&!k)return v||(v=new r),y||u(e)?o(e,t,n,m,g,v):i(e,t,w,n,m,g,v);if(!(1&n)){var C=k&&h.call(e,"__wrapped__"),A=S&&h.call(t,"__wrapped__");if(C||A){var O=C?e.value():e,I=A?t.value():t;return v||(v=new r),g(O,I,n,m,v)}}return!!E&&(v||(v=new r),a(e,t,n,m,g,v))}},function(e,t,n){var r=n(181),o=n(450),i=n(451);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(96),o=n(269),i=n(125),a=n(270),s=n(455),l=n(456),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=l),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=a(f(e),f(t),r,c,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(267),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in t:o.call(t,p)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[p=c[d]],y=t[p];if(i)var b=l?i(y,v,p,t,e,s):i(v,y,p,e,t,s);if(!(void 0===b?v===y||a(v,y,n,i,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},function(e,t,n){var r=n(234),o=n(459),i=n(355),a=n(186),s=n(271),l=n(272),c=n(109);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(213);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(461);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(181);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(96),o=n(214),i=n(41),a=n(115),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(198),o=n(149),i=n(41),a=n(138),s=n(177),l=n(109);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(p,u)&&(i(e)||o(e))}},function(e,t,n){var r=n(466),o=n(467),i=n(186),a=n(109);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(213);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(170),o=n(346),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},function(e,t,n){var r=n(96),o=n(149),i=n(41),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(214),o=n(124),i=n(41),a=n(115),s=n(273),l=n(109),c=n(203);e.exports=function(e){return i(e)?r(e,l):a(e)?[e]:o(s(c(e)))}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(140),o=n(274),i=n(174);e.exports=function(e,t){return i(o(e,t,r),e+"")}},,function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(476),t.encode=t.stringify=n(477)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,f,h,m=e[u].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),r(a,f)?o(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){e.exports=n(610)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=i(e);if("string"==typeof a){var l,c=s.ownerDocument,u=c.defaultView;if(!((l="parent"===a?s.parentNode:c.querySelector(a))instanceof u.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var d=u.getComputedStyle(s),p=u.getComputedStyle(l);a={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(d.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(d.marginTop),right:(0,o.innerWidth)(l)-(0,o.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,o.innerHeight)(l)-(0,o.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(d.marginBottom)}}(0,r.isNum)(a.right)&&(t=Math.min(t,a.right));(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom));(0,r.isNum)(a.left)&&(t=Math.max(t,a.left));(0,r.isNum)(a.top)&&(n=Math.max(n,a.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=i(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,s,n.props.scale)},t.createCoreData=function(e,t,n){var o=e.state,a=!(0,r.isNum)(o.lastX),s=i(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n(221),o=n(302);function i(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(222);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(646),o="tippy-content",i="tippy-backdrop",a="tippy-arrow",s="tippy-svg-arrow",l={passive:!0,capture:!0},c=function(){return document.body};function u(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function d(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function p(e,t){return"function"==typeof e?e.apply(void 0,t):e}function f(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function h(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function m(e){return[].concat(e)}function g(e,t){-1===e.indexOf(t)&&e.push(t)}function v(e){return e.split("-")[0]}function y(e){return[].slice.call(e)}function b(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function w(){return document.createElement("div")}function x(e){return["Element","Fragment"].some((function(t){return d(e,t)}))}function k(e){return d(e,"MouseEvent")}function S(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function E(e){return x(e)?[e]:function(e){return d(e,"NodeList")}(e)?y(e):Array.isArray(e)?e:y(document.querySelectorAll(e))}function C(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function A(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function O(e){var t,n=m(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function I(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function D(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var M={isTouch:!1},T=0;function _(){M.isTouch||(M.isTouch=!0,window.performance&&document.addEventListener("mousemove",R))}function R(){var e=performance.now();e-T<20&&(M.isTouch=!1,document.removeEventListener("mousemove",R)),T=e}function P(){var e=document.activeElement;if(S(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var L=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var N={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},j=Object.assign({appendTo:c,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},N,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),B=Object.keys(j);function F(e){var t=(e.plugins||[]).reduce((function(t,n){var r,o=n.name,i=n.defaultValue;o&&(t[o]=void 0!==e[o]?e[o]:null!=(r=j[o])?r:i);return t}),{});return Object.assign({},e,t)}function z(e,t){var n=Object.assign({},t,{content:p(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(F(Object.assign({},j,{plugins:t}))):B).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},j.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function $(e,t){e.innerHTML=t}function H(e){var t=w();return!0===e?t.className=a:(t.className=s,x(e)?t.appendChild(e):$(t,e)),t}function U(e,t){x(t.content)?($(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?$(e,t.content):e.textContent=t.content)}function W(e){var t=e.firstElementChild,n=y(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(o)})),arrow:n.find((function(e){return e.classList.contains(a)||e.classList.contains(s)})),backdrop:n.find((function(e){return e.classList.contains(i)}))}}function V(e){var t=w(),n=w();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=w();function i(n,r){var o=W(t),i=o.box,a=o.content,s=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||U(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild(H(r.arrow))):i.appendChild(H(r.arrow)):s&&i.removeChild(s)}return r.className=o,r.setAttribute("data-state","hidden"),U(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}V.$$tippy=!0;var q=1,G=[],Y=[];function K(e,t){var n,o,i,a,s,d,h,x,S=z(e,Object.assign({},j,F(b(t)))),E=!1,T=!1,_=!1,R=!1,P=[],N=f(we,S.interactiveDebounce),B=q++,$=(x=S.plugins).filter((function(e,t){return x.indexOf(e)===t})),H={id:B,reference:e,popper:w(),popperInstance:null,props:S,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:$,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(i)},setProps:function(t){0;if(H.state.isDestroyed)return;ae("onBeforeUpdate",[H,t]),ye();var n=H.props,r=z(e,Object.assign({},n,b(t),{ignoreAttributes:!0}));H.props=r,ve(),n.interactiveDebounce!==r.interactiveDebounce&&(ce(),N=f(we,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?m(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");le(),ie(),K&&K(n,r);H.popperInstance&&(Ee(),Ae().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));ae("onAfterUpdate",[H,t])},setContent:function(e){H.setProps({content:e})},show:function(){0;var e=H.state.isVisible,t=H.state.isDestroyed,n=!H.state.isEnabled,r=M.isTouch&&!H.props.touch,o=u(H.props.duration,0,j.duration);if(e||t||n||r)return;if(te().hasAttribute("disabled"))return;if(ae("onShow",[H],!1),!1===H.props.onShow(H))return;H.state.isVisible=!0,ee()&&(V.style.visibility="visible");ie(),fe(),H.state.isMounted||(V.style.transition="none");if(ee()){var i=re();C([i.box,i.content],0)}d=function(){var e;if(H.state.isVisible&&!R){if(R=!0,V.offsetHeight,V.style.transition=H.props.moveTransition,ee()&&H.props.animation){var t=re(),n=t.box,r=t.content;C([n,r],o),A([n,r],"visible")}se(),le(),g(Y,H),null==(e=H.popperInstance)||e.forceUpdate(),ae("onMount",[H]),H.props.animation&&ee()&&function(e,t){me(e,t)}(o,(function(){H.state.isShown=!0,ae("onShown",[H])}))}},function(){var e,t=H.props.appendTo,n=te();e=H.props.interactive&&t===c||"parent"===t?n.parentNode:p(t,[n]);e.contains(V)||e.appendChild(V);H.state.isMounted=!0,Ee(),!1}()},hide:function(){0;var e=!H.state.isVisible,t=H.state.isDestroyed,n=!H.state.isEnabled,r=u(H.props.duration,1,j.duration);if(e||t||n)return;if(ae("onHide",[H],!1),!1===H.props.onHide(H))return;H.state.isVisible=!1,H.state.isShown=!1,R=!1,E=!1,ee()&&(V.style.visibility="hidden");if(ce(),he(),ie(!0),ee()){var o=re(),i=o.box,a=o.content;H.props.animation&&(C([i,a],r),A([i,a],"hidden"))}se(),le(),H.props.animation?ee()&&function(e,t){me(e,(function(){!H.state.isVisible&&V.parentNode&&V.parentNode.contains(V)&&t()}))}(r,H.unmount):H.unmount()},hideWithInteractivity:function(e){0;ne().addEventListener("mousemove",N),g(G,N),N(e)},enable:function(){H.state.isEnabled=!0},disable:function(){H.hide(),H.state.isEnabled=!1},unmount:function(){0;H.state.isVisible&&H.hide();if(!H.state.isMounted)return;Ce(),Ae().forEach((function(e){e._tippy.unmount()})),V.parentNode&&V.parentNode.removeChild(V);Y=Y.filter((function(e){return e!==H})),H.state.isMounted=!1,ae("onHidden",[H])},destroy:function(){0;if(H.state.isDestroyed)return;H.clearDelayTimeouts(),H.unmount(),ye(),delete e._tippy,H.state.isDestroyed=!0,ae("onDestroy",[H])}};if(!S.render)return H;var U=S.render(H),V=U.popper,K=U.onUpdate;V.setAttribute("data-tippy-root",""),V.id="tippy-"+H.id,H.popper=V,e._tippy=H,V._tippy=H;var J=$.map((function(e){return e.fn(H)})),X=e.hasAttribute("aria-expanded");return ve(),le(),ie(),ae("onCreate",[H]),S.showOnCreate&&Oe(),V.addEventListener("mouseenter",(function(){H.props.interactive&&H.state.isVisible&&H.clearDelayTimeouts()})),V.addEventListener("mouseleave",(function(){H.props.interactive&&H.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",N)})),H;function Q(){var e=H.props.touch;return Array.isArray(e)?e:[e,0]}function Z(){return"hold"===Q()[0]}function ee(){var e;return!(null==(e=H.props.render)||!e.$$tippy)}function te(){return h||e}function ne(){var e=te().parentNode;return e?O(e):document}function re(){return W(V)}function oe(e){return H.state.isMounted&&!H.state.isVisible||M.isTouch||a&&"focus"===a.type?0:u(H.props.delay,e?0:1,j.delay)}function ie(e){void 0===e&&(e=!1),V.style.pointerEvents=H.props.interactive&&!e?"":"none",V.style.zIndex=""+H.props.zIndex}function ae(e,t,n){var r;(void 0===n&&(n=!0),J.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=H.props)[e].apply(r,t)}function se(){var t=H.props.aria;if(t.content){var n="aria-"+t.content,r=V.id;m(H.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(H.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var o=t&&t.replace(r,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function le(){!X&&H.props.aria.expanded&&m(H.props.triggerTarget||e).forEach((function(e){H.props.interactive?e.setAttribute("aria-expanded",H.state.isVisible&&e===te()?"true":"false"):e.removeAttribute("aria-expanded")}))}function ce(){ne().removeEventListener("mousemove",N),G=G.filter((function(e){return e!==N}))}function ue(t){if(!M.isTouch||!_&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!H.props.interactive||!D(V,n)){if(m(H.props.triggerTarget||e).some((function(e){return D(e,n)}))){if(M.isTouch)return;if(H.state.isVisible&&H.props.trigger.indexOf("click")>=0)return}else ae("onClickOutside",[H,t]);!0===H.props.hideOnClick&&(H.clearDelayTimeouts(),H.hide(),T=!0,setTimeout((function(){T=!1})),H.state.isMounted||he())}}}function de(){_=!0}function pe(){_=!1}function fe(){var e=ne();e.addEventListener("mousedown",ue,!0),e.addEventListener("touchend",ue,l),e.addEventListener("touchstart",pe,l),e.addEventListener("touchmove",de,l)}function he(){var e=ne();e.removeEventListener("mousedown",ue,!0),e.removeEventListener("touchend",ue,l),e.removeEventListener("touchstart",pe,l),e.removeEventListener("touchmove",de,l)}function me(e,t){var n=re().box;function r(e){e.target===n&&(I(n,"remove",r),t())}if(0===e)return t();I(n,"remove",s),I(n,"add",r),s=r}function ge(t,n,r){void 0===r&&(r=!1),m(H.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),P.push({node:e,eventType:t,handler:n,options:r})}))}function ve(){var e;Z()&&(ge("touchstart",be,{passive:!0}),ge("touchend",xe,{passive:!0})),(e=H.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(ge(e,be),e){case"mouseenter":ge("mouseleave",xe);break;case"focus":ge(L?"focusout":"blur",ke);break;case"focusin":ge("focusout",ke)}}))}function ye(){P.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)})),P=[]}function be(e){var t,n=!1;if(H.state.isEnabled&&!Se(e)&&!T){var r="focus"===(null==(t=a)?void 0:t.type);a=e,h=e.currentTarget,le(),!H.state.isVisible&&k(e)&&G.forEach((function(t){return t(e)})),"click"===e.type&&(H.props.trigger.indexOf("mouseenter")<0||E)&&!1!==H.props.hideOnClick&&H.state.isVisible?n=!0:Oe(e),"click"===e.type&&(E=!n),n&&!r&&Ie(e)}}function we(e){var t=e.target,n=te().contains(t)||V.contains(t);if("mousemove"!==e.type||!n){var r=Ae().concat(V).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:S}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,i=e.props.interactiveBorder,a=v(o.placement),s=o.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,d="left"===a?s.right.x:0,p=t.top-r+l>i,f=r-t.bottom-c>i,h=t.left-n+u>i,m=n-t.right-d>i;return p||f||h||m}))})(r,e)&&(ce(),Ie(e))}}function xe(e){Se(e)||H.props.trigger.indexOf("click")>=0&&E||(H.props.interactive?H.hideWithInteractivity(e):Ie(e))}function ke(e){H.props.trigger.indexOf("focusin")<0&&e.target!==te()||H.props.interactive&&e.relatedTarget&&V.contains(e.relatedTarget)||Ie(e)}function Se(e){return!!M.isTouch&&Z()!==e.type.indexOf("touch")>=0}function Ee(){Ce();var t=H.props,n=t.popperOptions,o=t.placement,i=t.offset,a=t.getReferenceClientRect,s=t.moveTransition,l=ee()?W(V).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||te()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(ee()){var n=re().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},p=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},u];ee()&&l&&p.push({name:"arrow",options:{element:l,padding:3}}),p.push.apply(p,(null==n?void 0:n.modifiers)||[]),H.popperInstance=r.createPopper(c,V,Object.assign({},n,{placement:o,onFirstUpdate:d,modifiers:p}))}function Ce(){H.popperInstance&&(H.popperInstance.destroy(),H.popperInstance=null)}function Ae(){return y(V.querySelectorAll("[data-tippy-root]"))}function Oe(e){H.clearDelayTimeouts(),e&&ae("onTrigger",[H,e]),fe();var t=oe(!0),r=Q(),o=r[0],i=r[1];M.isTouch&&"hold"===o&&i&&(t=i),t?n=setTimeout((function(){H.show()}),t):H.show()}function Ie(e){if(H.clearDelayTimeouts(),ae("onUntrigger",[H,e]),H.state.isVisible){if(!(H.props.trigger.indexOf("mouseenter")>=0&&H.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&E)){var t=oe(!1);t?o=setTimeout((function(){H.state.isVisible&&H.hide()}),t):i=requestAnimationFrame((function(){H.hide()}))}}else he()}}function J(e,t){void 0===t&&(t={});var n=j.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",_,l),window.addEventListener("blur",P);var r=Object.assign({},t,{plugins:n}),o=E(e).reduce((function(e,t){var n=t&&K(t,r);return n&&e.push(n),e}),[]);return x(e)?o[0]:o}J.defaultProps=j,J.setDefaultProps=function(e){Object.keys(e).forEach((function(t){j[t]=e[t]}))},J.currentInput=M;var X=Object.assign({},r.applyStyles,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),Q={mouseover:"mouseenter",focusin:"focus",click:"click"};var Z={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return{};var n=W(e.popper),r=n.box,o=n.content,a=e.props.animateFill?function(){var e=w();return e.className=i,A([e],"hidden"),e}():null;return{onCreate:function(){a&&(r.insertBefore(a,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(a){var e=r.style.transitionDuration,t=Number(e.replace("ms",""));o.style.transitionDelay=Math.round(t/10)+"ms",a.style.transitionDuration=e,A([a],"visible")}},onShow:function(){a&&(a.style.transitionDuration="0ms")},onHide:function(){a&&A([a],"hidden")}}}};var ee={clientX:0,clientY:0},te=[];function ne(e){var t=e.clientX,n=e.clientY;ee={clientX:t,clientY:n}}var re={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=O(e.props.triggerTarget||t),r=!1,o=!1,i=!0,a=e.props;function s(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){n.addEventListener("mousemove",d)}function c(){n.removeEventListener("mousemove",d)}function u(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function d(n){var r=!n.target||t.contains(n.target),o=e.props.followCursor,i=n.clientX,a=n.clientY,s=t.getBoundingClientRect(),l=i-s.left,c=a-s.top;!r&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=i,r=a;"initial"===o&&(n=e.left+l,r=e.top+c);var s="horizontal"===o?e.top:r,u="vertical"===o?e.right:n,d="horizontal"===o?e.bottom:r,p="vertical"===o?e.left:n;return{width:u-p,height:d-s,top:s,right:u,bottom:d,left:p}}})}function p(){e.props.followCursor&&(te.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",ne)}(n))}function f(){0===(te=te.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===n})).length&&function(e){e.removeEventListener("mousemove",ne)}(n)}return{onCreate:p,onDestroy:f,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(t,n){var i=n.followCursor;r||void 0!==i&&a.followCursor!==i&&(f(),i?(p(),!e.state.isMounted||o||s()||l()):(c(),u()))},onMount:function(){e.props.followCursor&&!o&&(i&&(d(ee),i=!1),s()||l())},onTrigger:function(e,t){k(t)&&(ee={clientX:t.clientX,clientY:t.clientY}),o="focus"===t.type},onHidden:function(){e.props.followCursor&&(u(),c(),i=!0)}}}};var oe={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t,n=e.reference;var r=-1,o=!1,i=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(o){var a=o.state;e.props.inlinePositioning&&(-1!==i.indexOf(a.placement)&&(i=[]),t!==a.placement&&-1===i.indexOf(a.placement)&&(i.push(a.placement),e.setProps({getReferenceClientRect:function(){return function(e){return function(e,t,n,r){if(n.length<2||null===e)return t;if(2===n.length&&r>=0&&n[0].left>n[1].right)return n[r]||t;switch(e){case"top":case"bottom":var o=n[0],i=n[n.length-1],a="top"===e,s=o.top,l=i.bottom,c=a?o.left:i.left,u=a?o.right:i.right;return{top:s,bottom:l,left:c,right:u,width:u-c,height:l-s};case"left":case"right":var d=Math.min.apply(Math,n.map((function(e){return e.left}))),p=Math.max.apply(Math,n.map((function(e){return e.right}))),f=n.filter((function(t){return"left"===e?t.left===d:t.right===p})),h=f[0].top,m=f[f.length-1].bottom;return{top:h,bottom:m,left:d,right:p,width:p-d,height:m-h};default:return t}}(v(e),n.getBoundingClientRect(),y(n.getClientRects()),r)}(a.placement)}})),t=a.placement)}};function s(){var t;o||(t=function(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(n=e.popperOptions)?void 0:n.modifiers)||[]).filter((function(e){return e.name!==t.name})),[t])})}}(e.props,a),o=!0,e.setProps(t),o=!1)}return{onCreate:s,onAfterUpdate:s,onTrigger:function(t,n){if(k(n)){var o=y(e.reference.getClientRects()),i=o.find((function(e){return e.left-2<=n.clientX&&e.right+2>=n.clientX&&e.top-2<=n.clientY&&e.bottom+2>=n.clientY})),a=o.indexOf(i);r=a>-1?a:r}},onHidden:function(){r=-1}}}};var ie={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(t){return!0===e.props.sticky||e.props.sticky===t}var o=null,i=null;function a(){var s=r("reference")?(e.popperInstance?e.popperInstance.state.elements.reference:t).getBoundingClientRect():null,l=r("popper")?n.getBoundingClientRect():null;(s&&ae(o,s)||l&&ae(i,l))&&e.popperInstance&&e.popperInstance.update(),o=s,i=l,e.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){e.props.sticky&&a()}}}};function ae(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}J.setDefaultProps({render:V}),t.animateFill=Z,t.createSingleton=function(e,t){var n;void 0===t&&(t={});var r,o=e,i=[],a=[],s=t.overrides,l=[],c=!1;function u(){a=o.map((function(e){return m(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function d(){i=o.map((function(e){return e.reference}))}function p(e){o.forEach((function(t){e?t.enable():t.disable()}))}function f(e){return o.map((function(t){var n=t.setProps;return t.setProps=function(o){n(o),t.reference===r&&e.setProps(o)},function(){t.setProps=n}}))}function g(e,t){var n=a.indexOf(t);if(t!==r){r=t;var l=(s||[]).concat("content").reduce((function(e,t){return e[t]=o[n].props[t],e}),{});e.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var e;return null==(e=i[n])?void 0:e.getBoundingClientRect()}}))}}p(!1),d(),u();var v={fn:function(){return{onDestroy:function(){p(!0)},onHidden:function(){r=null},onClickOutside:function(e){e.props.showOnCreate&&!c&&(c=!0,r=null)},onShow:function(e){e.props.showOnCreate&&!c&&(c=!0,g(e,i[0]))},onTrigger:function(e,t){g(e,t.currentTarget)}}}},y=J(w(),Object.assign({},h(t,["overrides"]),{plugins:[v].concat(t.plugins||[]),triggerTarget:a,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[X])})})),b=y.show;y.show=function(e){if(b(),!r&&null==e)return g(y,i[0]);if(!r||null!=e){if("number"==typeof e)return i[e]&&g(y,i[e]);if(o.indexOf(e)>=0){var t=e.reference;return g(y,t)}return i.indexOf(e)>=0?g(y,e):void 0}},y.showNext=function(){var e=i[0];if(!r)return y.show(0);var t=i.indexOf(r);y.show(i[t+1]||e)},y.showPrevious=function(){var e=i[i.length-1];if(!r)return y.show(e);var t=i.indexOf(r),n=i[t-1]||e;y.show(n)};var x=y.setProps;return y.setProps=function(e){s=e.overrides||s,x(e)},y.setInstances=function(e){p(!0),l.forEach((function(e){return e()})),o=e,p(!1),d(),u(),l=f(y),y.setProps({triggerTarget:a})},l=f(y),y},t.default=J,t.delegate=function(e,t){var n=[],r=[],o=!1,i=t.target,a=h(t,["target"]),s=Object.assign({},a,{trigger:"manual",touch:!1}),c=Object.assign({touch:j.touch},a,{showOnCreate:!0}),u=J(e,s);function d(e){if(e.target&&!o){var n=e.target.closest(i);if(n){var a=n.getAttribute("data-tippy-trigger")||t.trigger||j.trigger;if(!n._tippy&&!("touchstart"===e.type&&"boolean"==typeof c.touch||"touchstart"!==e.type&&a.indexOf(Q[e.type])<0)){var s=J(n,c);s&&(r=r.concat(s))}}}}function p(e,t,r,o){void 0===o&&(o=!1),e.addEventListener(t,r,o),n.push({node:e,eventType:t,handler:r,options:o})}return m(u).forEach((function(e){var t=e.destroy,i=e.enable,a=e.disable;e.destroy=function(e){void 0===e&&(e=!0),e&&r.forEach((function(e){e.destroy()})),r=[],n.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)})),n=[],t()},e.enable=function(){i(),r.forEach((function(e){return e.enable()})),o=!1},e.disable=function(){a(),r.forEach((function(e){return e.disable()})),o=!0},function(e){var t=e.reference;p(t,"touchstart",d,l),p(t,"mouseover",d),p(t,"focusin",d),p(t,"click",d)}(e)})),u},t.followCursor=re,t.hideAll=function(e){var t=void 0===e?{}:e,n=t.exclude,r=t.duration;Y.forEach((function(e){var t=!1;if(n&&(t=S(n)?e.reference===n:e.popper===n.popper),!t){var o=e.props.duration;e.setProps({duration:r}),e.hide(),e.state.isDestroyed||e.setProps({duration:o})}}))},t.inlinePositioning=oe,t.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',t.sticky=ie},function(e,t,n){var r=n(656).default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0,t.setBatch=t.getBatch=void 0;var r=function(e){e()};t.setBatch=function(e){return r=e};t.getBatch=function(){return r}},function(e,t,n){"use strict";var r=n(90).default,o=n(483).default;t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,d=n.methodName,k=void 0===d?"connectAdvanced":d,S=n.renderCountProp,E=void 0===S?void 0:S,C=n.shouldHandleStateChanges,A=void 0===C||C,O=n.storeKey,I=void 0===O?"store":O,D=(n.withRef,n.forwardRef),M=void 0!==D&&D,T=n.context,_=void 0===T?p.ReactReduxContext:T,R=(0,a.default)(n,f);0;var P=_;return function(t){var n=t.displayName||t.name||"Component",r=o(n),d=(0,i.default)({},R,{getDisplayName:o,methodName:k,renderCountProp:E,shouldHandleStateChanges:A,storeKey:I,displayName:r,wrappedComponentName:n,WrappedComponent:t}),p=R.pure;var f=p?l.useMemo:function(e){return e()};function S(n){var r=(0,l.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,a.default)(n,h);return[n.context,e,t]}),[n]),o=r[0],s=r[1],p=r[2],k=(0,l.useMemo)((function(){return o&&o.Consumer&&(0,c.isContextConsumer)(l.default.createElement(o.Consumer,null))?o:P}),[o,P]),S=(0,l.useContext)(k),E=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(S)&&Boolean(S.store);var C=E?n.store:S.store,O=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,d)}(C)}),[C]),I=(0,l.useMemo)((function(){if(!A)return g;var e=(0,u.createSubscription)(C,E?null:S.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[C,E,S]),D=I[0],M=I[1],T=(0,l.useMemo)((function(){return E?S:(0,i.default)({},S,{subscription:D})}),[E,S,D]),_=(0,l.useReducer)(v,m,x),R=_[0][0],L=_[1];if(R&&R.error)throw R.error;var N=(0,l.useRef)(),j=(0,l.useRef)(p),B=(0,l.useRef)(),F=(0,l.useRef)(!1),z=f((function(){return B.current&&p===j.current?B.current:O(C.getState(),p)}),[C,R,p]);y(b,[j,N,F,p,z,B,M]),y(w,[A,C,D,O,j,N,F,B,M,L],[C,D,O]);var $=(0,l.useMemo)((function(){return l.default.createElement(t,(0,i.default)({},z,{ref:s}))}),[s,t,z]);return(0,l.useMemo)((function(){return A?l.default.createElement(k.Provider,{value:T},$):$}),[k,$,T])}var C=p?l.default.memo(S):S;if(C.WrappedComponent=t,C.displayName=S.displayName=r,M){var O=l.default.forwardRef((function(e,t){return l.default.createElement(C,(0,i.default)({},e,{reactReduxForwardedRef:t}))}));return O.displayName=r,O.WrappedComponent=t,(0,s.default)(O,t)}return(0,s.default)(C,t)}};var i=r(n(306)),a=r(n(307)),s=r(n(657)),l=o(n(0)),c=n(660),u=n(304),d=n(305),p=n(135),f=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],h=["reactReduxForwardedRef"],m=[],g=[null,null];function v(e,t){var n=e[1];return[t.payload,n+1]}function y(e,t,n){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function b(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function w(e,t,n,r,o,i,a,s,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,n,p=t.getState();try{e=r(p,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var x=function(){return[null,0]}},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!r(e[n[i]],t[n[i]]))return!1;return!0}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.getDependsOnOwnProps=o,t.wrapMapToPropsConstant=function(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}},t.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}};r(n(488));function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=function(e,t,n){(0,o.default)(e)||(0,i.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var o=r(n(665)),i=r(n(489))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.createStoreHook=a,t.useStore=void 0;var r=n(0),o=n(135),i=n(491);function a(e){void 0===e&&(e=o.ReactReduxContext);var t=e===o.ReactReduxContext?i.useReduxContext:function(){return(0,r.useContext)(e)};return function(){return t().store}}var s=a();t.useStore=s},function(e,t,n){"use strict";t.__esModule=!0,t.useReduxContext=function(){0;return(0,r.useContext)(o.ReactReduxContext)};var r=n(0),o=n(135)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17).Node.create({name:"doc",topNode:!0,content:"block+"});t.Document=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});t.ListItem=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});t.Paragraph=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17).Node.create({name:"text",group:"inline"});t.Text=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(120),i=n(643);function a(e,t,n,r,o,i){let a=0,s=!0,l=t.firstChild;const c=e.firstChild;for(let e=0,n=0;e<c.childCount;e+=1){const{colspan:u,colwidth:d}=c.child(e).attrs;for(let e=0;e<u;e+=1,n+=1){const c=o===n?i:d&&d[e],u=c?`${c}px`:"";a+=c||r,c||(s=!1),l?(l.style.width!==u&&(l.style.width=u),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}for(;l;){const e=l.nextSibling;l.parentNode.removeChild(l),l=e}s?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}class s{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),a(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type===this.node.type&&(this.node=e,a(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"===e.type&&(e.target===this.table||this.colgroup.contains(e.target))}}function l(e,t,n,r){let o=0,i=!0;const a=[],s=e.firstChild;if(!s)return{};for(let e=0,l=0;e<s.childCount;e+=1){const{colspan:c,colwidth:u}=s.child(e).attrs;for(let e=0;e<c;e+=1,l+=1){const s=n===l?r:u&&u[e],c=s?`${s}px`:"";o+=s||t,s||(i=!1),a.push(["col",c?{style:`width: ${c}`}:{}])}}const l=i?`${o}px`:"",c=i?"":`${o}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:c}}function c(e,t){return t?e.createChecked(null,t):e.createAndFill()}function u(e,t,n,r,o){const i=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t}(e),a=[],s=[];for(let e=0;e<n;e+=1){const e=c(i.cell,o);if(e&&s.push(e),r){const e=c(i.header_cell,o);e&&a.push(e)}}const l=[];for(let e=0;e<t;e+=1)l.push(i.row.createChecked(null,r&&0===e?a:s));return i.table.createChecked(null,l)}const d=({editor:e})=>{const{selection:t}=e.state;if(!(t instanceof i.CellSelection))return!1;let n=0;const o=r.findParentNodeClosestToPos(t.ranges[0].$from,(e=>"table"===e.type.name));null==o||o.node.descendants((e=>{if("table"===e.type.name)return!1;["tableCell","tableHeader"].includes(e.type.name)&&(n+=1)}));return n===t.ranges.length&&(e.commands.deleteTable(),!0)},p=r.Node.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:s,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:o,tableMinWidth:i}=l(e,this.options.cellMinWidth);return["table",r.mergeAttributes(this.options.HTMLAttributes,t,{style:o?`width: ${o}`:`minWidth: ${i}`}),n,["tbody",0]]},addCommands:()=>({insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:a})=>{const s=u(a.schema,e,t,n);if(i){const e=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(o.TextSelection.near(r.doc.resolve(e)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>i.addColumnBefore(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>i.addColumnAfter(e,t),deleteColumn:()=>({state:e,dispatch:t})=>i.deleteColumn(e,t),addRowBefore:()=>({state:e,dispatch:t})=>i.addRowBefore(e,t),addRowAfter:()=>({state:e,dispatch:t})=>i.addRowAfter(e,t),deleteRow:()=>({state:e,dispatch:t})=>i.deleteRow(e,t),deleteTable:()=>({state:e,dispatch:t})=>i.deleteTable(e,t),mergeCells:()=>({state:e,dispatch:t})=>i.mergeCells(e,t),splitCell:()=>({state:e,dispatch:t})=>i.splitCell(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>i.toggleHeader("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>i.toggleHeader("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>i.toggleHeaderCell(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>!!i.mergeCells(e,t)||i.splitCell(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>i.setCellAttr(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>i.goToNextCell(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>i.goToNextCell(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&i.fixTables(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const n=i.CellSelection.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:d,"Mod-Backspace":d,Delete:d,"Mod-Delete":d}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[i.columnResizing({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],i.tableEditing({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:r.callOrReturn(r.getExtensionField(e,"tableRole",t))}}});t.Table=p,t.createColGroup=l,t.createTable=u,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:e}){return["td",r.mergeAttributes(this.options.HTMLAttributes,e),0]}});t.TableCell=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:e}){return["th",r.mergeAttributes(this.options.HTMLAttributes,e),0]}});t.TableHeader=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:e}){return["tr",r.mergeAttributes(this.options.HTMLAttributes,e),0]}});t.TableRow=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,i=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,a=r.Mark.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[r.markInputRule({find:o,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:i,type:this.type})]}});t.Highlight=a,t.default=a,t.inputRegex=o,t.pasteRegex=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n.n(a),l=n(503),c=n(70),u=n.n(c),d=n(45),p=n(5),f=n(27),h=n(4),m=n(57),g=n(64),v=n(46),y=n(13),b=n(136);class w extends i.a.Component{constructor(e){super(e),this.state={showEditColor:[],labelEditState:[],highlightColorSettingState:null,highlightColorSettingLoadState:null,showColorEditorPanel:!1,selectedRow:null,highlightColorStateChanged:!1,colorInputValue:null},this.getHighlightColorSettings=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=this.state.highlightColorSettingState;return t&&!e||(t=yield this.syncSettings.highlightColors.get("highlightColors"),t||(t=[...g.a])),this.setState({highlightColorSettingState:t,highlightColorSettingLoadState:"success"}),t})),this.updateHighlightColor=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=document.querySelectorAll("."+m.a),n=Array.from(t).filter((e=>e.classList.contains(`memex-highlight-${this.props.annotationId}`)));for(let t of n)Object(v.c)(t,e);yield this.props.updateAnnotationColor(e.id)})),this.saveHighlightColorSettings=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let e=document.querySelectorAll("."+m.a);for(let t of this.state.highlightColorSettingState){const n=Array.from(e).filter((e=>e.getAttribute("highlightcolor")===t.id));for(let e of n)Object(v.c)(e,t)}this.setState({highlightColorSettingState:this.state.highlightColorSettingState}),yield this.syncSettings.highlightColors.set("highlightColors",this.state.highlightColorSettingState)})),this.labelEditFieldRef=[],this.editButtonRef=[],this.syncSettings=Object(d.a)({syncSettingsBG:this.props.syncSettingsBG})}componentDidMount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=this.setState.bind(this);this.setState=t=>{e(t)},this.setState({highlightColorSettingLoadState:"running"});const t=yield this.getHighlightColorSettings(),n=t.find((e=>e.id===this.props.selectedColor)).color;if(this.editButtonRef=[],t){let e=0;for(let r of t){if(JSON.stringify(r.color)===JSON.stringify(n))break;e+=1,e===t.length-1&&(e=t.length)}this.setState({highlightColorSettingLoadState:"success",highlightColorSettingState:[...t],selectedRow:e})}for(let e=0;e<5;e++)this.editButtonRef[e]=i.a.createRef(),this.labelEditFieldRef[e]=i.a.createRef()}))}componentWillUnmount(){}renderColorPicker(e,t,n,o,a){var s,c,d;return i.a.createElement(k,{onClick:e=>{e.stopPropagation()},key:"ColorEditBox"+o},i.a.createElement(x,null,i.a.createElement(p.a,{label:"Cancel",onClick:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let t=document.querySelectorAll("."+m.a);for(let e of t){const t=e.getAttribute("highlightcolor");let n=null;t&&(n=this.state.highlightColorSettingState.find((e=>e.id===t)).color,n=Object(v.b)(n)),e.setAttribute("style",`background-color:${n};`)}const n=[...this.state.showEditColor];this.getHighlightColorSettings(!0),n[o]=!1,this.setState({showColorEditorPanel:!1,showEditColor:n}),e.stopPropagation()})),size:"small",type:"tertiary",icon:"removeX",padding:"2px 6px 2px 0px"}),i.a.createElement(p.a,{label:"Save Color",onClick:e=>{const t=[...this.state.showEditColor];t[o]=!1,this.setState({showEditColor:t,showColorEditorPanel:!1,colorInputValue:null}),this.saveHighlightColorSettings(),e.stopPropagation()},size:"small",type:"primary",icon:"check",padding:"2px 6px 2px 0px"})),!a&&i.a.createElement(M,{ref:null!==(s=this.labelEditFieldRef[o])&&void 0!==s?s:null,value:null!==(c=this.state.highlightColorSettingState[o].label)&&void 0!==c?c:n,disabled:a,autoFocus:!0,isActivated:this.state.labelEditState[o],onClick:()=>{var e;let t=[...this.state.labelEditState];this.state.labelEditState?null===(e=this.labelEditFieldRef[o])||void 0===e||e.current.addEventListener("blur",(()=>this.handleClickOutside(o))):(t[o]=!0,this.setState({labelEditState:t}))},onChange:e=>{{let t=this.state.highlightColorSettingState.map((e=>JSON.parse(JSON.stringify(e))));t[o].label=e.target.value,this.setState({highlightColorSettingState:t})}}}),i.a.createElement(A,null,i.a.createElement(l.RgbaColorPicker,{color:t,onChange:e=>{{this.setState({highlightColorStateChanged:!0});let t=this.state.highlightColorSettingState;const n=t[o].color;let r=document.querySelectorAll("."+m.a);for(let t of r){const r=t.style.backgroundColor;let o="";r.startsWith("rgb(")?o=t.style.backgroundColor.replace(")",", 1)").replace("rgb(","rgba("):r.startsWith("rgba(")&&(o=r),o===Object(v.b)(n)&&t.setAttribute("style",`background-color:${Object(v.b)(e)};`)}t[o].color=e,this.setState({highlightColorSettingState:t})}}})),i.a.createElement(f.a,{value:null!==(d=this.state.colorInputValue)&&void 0!==d?d:u()(this.state.highlightColorSettingState[o].color).toHex8String(),onChange:e=>{const t=e.target.value;if(u()(t).isValid()){this.setState({highlightColorStateChanged:!0});let n=[...this.state.highlightColorSettingState];n[o].color=u()(t).toRgb(),this.setState({highlightColorSettingState:n,colorInputValue:e.target.value})}else this.setState({colorInputValue:e.target.value})}}))}handleClickOutside(e){let t=[...this.state.labelEditState];t[e]=!1,this.setState({labelEditState:t})}handleColorPickerEditState(e){let t=[...this.state.showEditColor];t[e]=!1,this.setState({showEditColor:t})}render(){if(null==this.state.highlightColorSettingLoadState||"running"===this.state.highlightColorSettingLoadState)return i.a.createElement(b.a,{size:22,width:"230px",height:"208px"});try{const e=this.state.highlightColorSettingState;return i.a.createElement(C,null,i.a.createElement(T,null),Object.entries(e).map(((t,n)=>{var r;const o=t[1].id,a=t[1].color;let s="";return s="default"===e[n].id?"Default Color":null!==(r=t[1].label)&&void 0!==r?r:"Color "+n,this.state.showEditColor[n]?this.renderColorPicker(a,a,s,n,"default"===e[n].id):this.state.showColorEditorPanel?void 0:i.a.createElement(O,{onMouseDown:()=>{this.updateHighlightColor(t[1])},active:this.state.showEditColor[n],selected:this.state.selectedRow===n,key:o},i.a.createElement(D,{backgroundColor:Object(v.b)(a),ref:this.editButtonRef[n]}),i.a.createElement(I,null,s),i.a.createElement(E,null,i.a.createElement(y.a,{keys:[(n+1).toString()],size:"medium"})),i.a.createElement(S,{ref:this.editButtonRef[n],onMouseDown:e=>{e.stopPropagation();const t=[...this.state.showEditColor];t[n]=!0,this.setState({showEditColor:t,showColorEditorPanel:!0})}},i.a.createElement(h.a,{icon:"edit",heightAndWidth:"20px",color:"greyScale6"})))})))}catch(e){console.error("Parsing error:",e)}}}const x=s.a.div.withConfig({displayName:"TopBarBox",componentId:"sc-1c8zk7r-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),k=s.a.div.withConfig({displayName:"ColorEditBox",componentId:"sc-1c8zk7r-1"})(["padding:10px;display:flex;flex-direction:column;grid-gap:10px;align-items:flex-end;"]),S=s.a.div.withConfig({displayName:"EditIconBox",componentId:"sc-1c8zk7r-2"})(["position:absolute;right:3px;display:none;background:",";"],(e=>e.theme.colors.greyScale2)),E=s.a.div.withConfig({displayName:"HotkeyNumber",componentId:"sc-1c8zk7r-3"})(["position:absolute;right:3px;display:flex;font-size:14px;margin-left:10px;width:20px;border-radius:3px;justify-content:center;"]),C=s.a.div.withConfig({displayName:"MenuContainer",componentId:"sc-1c8zk7r-4"})(["display:flex;flex-direction:column;border-radius:12px;width:fit-content;padding:15px;min-width:200px;"]),A=s.a.div.withConfig({displayName:"HexPickerContainer",componentId:"sc-1c8zk7r-5"})(["height:200px;width:200px;> *{width:initial;}"]),O=s.a.div.withConfig({displayName:"SettingsRow",componentId:"sc-1c8zk7r-6"})(["height:40px;display:flex;grid-gap:10px;align-items:center;padding:0px 10px;min-width:30%;flex:1;position:relative;cursor:pointer;border-radius:5px;&:hover ","{display:flex;}&:hover ","{display:none;}&:hover{border-radius:5px;outline:1px solid ",";}"," ",""],S,E,(e=>e.theme.colors.greyScale3),(e=>e.active&&Object(a.css)(["background:",";"],(e=>e.theme.colors.greyScale2))),(e=>e.selected&&Object(a.css)(["background:",";"],(e=>e.theme.colors.greyScale2)))),I=s.a.div.withConfig({displayName:"ColorPickerLabel",componentId:"sc-1c8zk7r-7"})(["font-size:14px;color:",";"],(e=>"dark"===e.theme.variant?e.theme.colors.greyScale7:e.theme.colors.greyScale6)),D=s.a.div.withConfig({displayName:"ColorPickerCircle",componentId:"sc-1c8zk7r-8"})(["height:18px;width:18px;background-color:",";border-radius:50px;margin:5px;border:1px solid ",";"],(e=>e.backgroundColor),(e=>e.theme.colors.greyScale3)),M=s.a.input.withConfig({displayName:"SpaceTitleEditField",componentId:"sc-1c8zk7r-9"})(["font-size:14px;font-weight:500;height:44px;flex:1;width:fill-available;color:",";letter-spacing:1px;background:",";border-radius:5px;padding:10px;outline:1px solid ",";font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on;border:none;",";",";"],(e=>"dark"===e.theme.variant?e.theme.colors.greyScale7:e.theme.colors.greyScale6),(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale4),(e=>!e.isActivated&&Object(a.css)(["font-size:14px;font-weight:500;width:fill-available;color:",";background:transparent;letter-spacing:1px;padding:10px;border-radius:5px;outline:1px solid ",";font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on;border:none;&:hover{cursor:pointer;background:",";}"],(e=>"dark"===e.theme.variant?e.theme.colors.greyScale7:e.theme.colors.greyScale6),(e=>e.theme.colors.greyScale3),(e=>e.theme.colors.greyScale2))),(e=>e.disabled&&Object(a.css)(["outline:none;background:none;cursor:default;&:hover{cursor:pointer;background:none;}"]))),T=(s.a.div.withConfig({displayName:"LoadingBox",componentId:"sc-1c8zk7r-10"})(["display:flex;justify-content:center;align-items:center;height:100%;width:100%;"]),s.a.div.withConfig({displayName:"TopSection",componentId:"sc-1c8zk7r-11"})(["display:flex;align-items:center;justify-content:center;grid-gap:5px;color:",";"],(e=>e.theme.colors.white)),a.createGlobalStyle`

.react-colorful {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 200px;
    height: 200px;
    user-select: none;
    cursor: default;
  }

  .react-colorful__saturation {
    position: relative;
    flex-grow: 1;
    border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
    border-bottom: 12px solid #000;
    border-radius: 8px 8px 0 0;
    background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
      linear-gradient(to right, #fff, rgba(255, 255, 255, 0));
  }

  .react-colorful__pointer-fill,
  .react-colorful__alpha-gradient {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    border-radius: inherit;
  }

  /* Improve elements rendering on light backgrounds */
  .react-colorful__alpha-gradient,
  .react-colorful__saturation {
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .react-colorful__hue,
  .react-colorful__alpha {
    position: relative;
    height: 24px;
  }

  .react-colorful__hue {
    background: linear-gradient(
      to right,
      #f00 0%,
      #ff0 17%,
      #0f0 33%,
      #0ff 50%,
      #00f 67%,
      #f0f 83%,
      #f00 100%
    );
  }

  .react-colorful__last-control {
    border-radius: 0 0 8px 8px;
  }

  .react-colorful__interactive {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    outline: none;
    /* Don't trigger the default scrolling behavior when the event is originating from this element */
    touch-action: none;
  }

  .react-colorful__pointer {
    position: absolute;
    z-index: 1;
    box-sizing: border-box;
    width: 28px;
    height: 28px;
    transform: translate(-50%, -50%);
    background-color: #fff;
    border: 2px solid #fff;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  .react-colorful__interactive:focus .react-colorful__pointer {
    transform: translate(-50%, -50%) scale(1.1);
  }

  /* Chessboard-like pattern for alpha related elements */
  .react-colorful__alpha,
  .react-colorful__alpha-pointer {
    background-color: #fff;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
  }

  /* Display the saturation pointer over the hue one */
  .react-colorful__saturation-pointer {
    z-index: 3;
  }

  /* Display the hue pointer over the alpha one */
  .react-colorful__hue-pointer {
    z-index: 2;
  }

`)},function(e,t,n){var r=n(0);var o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function s(e){var t=r.useRef(e),n=r.useRef((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var l=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},c=function(e){return"touches"in e},u=function(e){return e&&e.ownerDocument.defaultView||self},d=function(e,t,n){var r=e.getBoundingClientRect(),o=c(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:l((o.pageX-(r.left+u(e).pageXOffset))/r.width),top:l((o.pageY-(r.top+u(e).pageYOffset))/r.height)}},p=function(e){!c(e)&&e.preventDefault()},f=o.default.memo((function(e){var t=e.onMove,n=e.onKey,l=a(e,["onMove","onKey"]),f=r.useRef(null),h=s(t),m=s(n),g=r.useRef(null),v=r.useRef(!1),y=r.useMemo((function(){var e=function(e){p(e),(c(e)?e.touches.length>0:e.buttons>0)&&f.current?h(d(f.current,e,g.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=v.current,o=u(f.current),i=n?o.addEventListener:o.removeEventListener;i(r?"touchmove":"mousemove",e),i(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=f.current;if(r&&(p(t),!function(e,t){return t&&!c(e)}(t,v.current)&&r)){if(c(t)){v.current=!0;var o=t.changedTouches||[];o.length&&(g.current=o[0].identifier)}r.focus(),h(d(r,t,g.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),m({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[m,h]),b=y[0],w=y[1],x=y[2];return r.useEffect((function(){return x}),[x]),o.default.createElement("div",i({},l,{onTouchStart:b,onMouseDown:b,className:"react-colorful__interactive",ref:f,onKeyDown:w,tabIndex:0,role:"slider"}))})),h=function(e){return e.filter(Boolean).join(" ")},m=function(e){var t=e.color,n=e.left,r=e.top,i=void 0===r?.5:r,a=h(["react-colorful__pointer",e.className]);return o.default.createElement("div",{className:a,style:{top:100*i+"%",left:100*n+"%"}},o.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},g=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},v={grad:.9,turn:360,rad:360/(2*Math.PI)},y=function(e){return L(b(e))},b=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?g(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?g(parseInt(e.substring(6,8),16)/255,2):1}},w=function(e,t){return void 0===t&&(t="deg"),Number(e)*(v[t]||1)},x=function(e){var t=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?S({h:w(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},k=x,S=function(e){var t=e.s,n=e.l;return{h:e.h,s:(t*=(n<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}},E=function(e){return P(I(e))},C=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:g(e.h),s:g(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:g(o/2),a:g(r,2)}},A=function(e){var t=C(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},O=function(e){var t=C(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},I=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),s=r*(1-(t-i)*n),l=r*(1-(1-t+i)*n),c=i%6;return{r:g(255*[r,s,a,a,l,r][c]),g:g(255*[l,r,r,s,a,a][c]),b:g(255*[a,a,l,r,r,s][c]),a:g(o,2)}},D=function(e){var t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?N({h:w(t[1],t[2]),s:Number(t[3]),v:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},M=D,T=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?L({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},_=T,R=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},P=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?R(g(255*o)):"";return"#"+R(t)+R(n)+R(r)+i},L=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),s=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:g(60*(s<0?s+6:s)),s:g(i?a/i*100:0),v:g(i/255*100),a:o}},N=function(e){return{h:g(e.h),s:g(e.s),v:g(e.v),a:g(e.a,2)}},j=o.default.memo((function(e){var t=e.hue,n=e.onChange,r=h(["react-colorful__hue",e.className]);return o.default.createElement("div",{className:r},o.default.createElement(f,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:l(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":g(t),"aria-valuemax":"360","aria-valuemin":"0"},o.default.createElement(m,{className:"react-colorful__hue-pointer",left:t/360,color:A({h:t,s:100,v:100,a:1})})))})),B=o.default.memo((function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:A({h:t.h,s:100,v:100,a:1})};return o.default.createElement("div",{className:"react-colorful__saturation",style:r},o.default.createElement(f,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:l(t.s+100*e.left,0,100),v:l(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+g(t.s)+"%, Brightness "+g(t.v)+"%"},o.default.createElement(m,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:A(t)})))})),F=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},z=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")},$=function(e,t){return e.toLowerCase()===t.toLowerCase()||F(b(e),b(t))};function H(e,t,n){var o=s(n),i=r.useState((function(){return e.toHsva(t)})),a=i[0],l=i[1],c=r.useRef({color:t,hsva:a});r.useEffect((function(){if(!e.equal(t,c.current.color)){var n=e.toHsva(t);c.current={hsva:n,color:t},l(n)}}),[t,e]),r.useEffect((function(){var t;F(a,c.current.hsva)||e.equal(t=e.fromHsva(a),c.current.color)||(c.current={hsva:a,color:t},o(t))}),[a,e,o]);var u=r.useCallback((function(e){l((function(t){return Object.assign({},t,e)}))}),[]);return[a,u]}var U,W="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,V=new Map,q=function(e){W((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!V.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',V.set(t,r);var o=U||n.nc;o&&r.setAttribute("nonce",o),t.head.appendChild(r)}}),[])},G=function(e){var t=e.className,n=e.colorModel,s=e.color,l=void 0===s?n.defaultColor:s,c=e.onChange,u=a(e,["className","colorModel","color","onChange"]),d=r.useRef(null);q(d);var p=H(n,l,c),f=p[0],m=p[1],g=h(["react-colorful",t]);return o.default.createElement("div",i({},u,{ref:d,className:g}),o.default.createElement(B,{hsva:f,onChange:m}),o.default.createElement(j,{hue:f.h,onChange:m,className:"react-colorful__last-control"}))},Y={defaultColor:"000",toHsva:y,fromHsva:function(e){return E({h:e.h,s:e.s,v:e.v,a:1})},equal:$},K=function(e){var t=e.className,n=e.hsva,r=e.onChange,i={backgroundImage:"linear-gradient(90deg, "+O(Object.assign({},n,{a:0}))+", "+O(Object.assign({},n,{a:1}))+")"},a=h(["react-colorful__alpha",t]),s=g(100*n.a);return o.default.createElement("div",{className:a},o.default.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),o.default.createElement(f,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:l(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},o.default.createElement(m,{className:"react-colorful__alpha-pointer",left:n.a,color:O(n)})))},J=function(e){var t=e.className,n=e.colorModel,s=e.color,l=void 0===s?n.defaultColor:s,c=e.onChange,u=a(e,["className","colorModel","color","onChange"]),d=r.useRef(null);q(d);var p=H(n,l,c),f=p[0],m=p[1],g=h(["react-colorful",t]);return o.default.createElement("div",i({},u,{ref:d,className:g}),o.default.createElement(B,{hsva:f,onChange:m}),o.default.createElement(j,{hue:f.h,onChange:m}),o.default.createElement(K,{hsva:f,onChange:m,className:"react-colorful__last-control"}))},X={defaultColor:"0001",toHsva:y,fromHsva:E,equal:$},Q={defaultColor:{h:0,s:0,l:0,a:1},toHsva:S,fromHsva:C,equal:F},Z={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:x,fromHsva:O,equal:z},ee={defaultColor:{h:0,s:0,l:0},toHsva:function(e){return S({h:e.h,s:e.s,l:e.l,a:1})},fromHsva:function(e){return{h:(t=C(e)).h,s:t.s,l:t.l};var t},equal:F},te={defaultColor:"hsl(0, 0%, 0%)",toHsva:k,fromHsva:A,equal:z},ne={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(e){return e},fromHsva:N,equal:F},re={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:D,fromHsva:function(e){var t=N(e);return"hsva("+t.h+", "+t.s+"%, "+t.v+"%, "+t.a+")"},equal:z},oe={defaultColor:{h:0,s:0,v:0},toHsva:function(e){return{h:e.h,s:e.s,v:e.v,a:1}},fromHsva:function(e){var t=N(e);return{h:t.h,s:t.s,v:t.v}},equal:F},ie={defaultColor:"hsv(0, 0%, 0%)",toHsva:M,fromHsva:function(e){var t=N(e);return"hsv("+t.h+", "+t.s+"%, "+t.v+"%)"},equal:z},ae={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},se={defaultColor:"rgba(0, 0, 0, 1)",toHsva:T,fromHsva:function(e){var t=I(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:z},le={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return L({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(t=I(e)).r,g:t.g,b:t.b};var t},equal:F},ce={defaultColor:"rgb(0, 0, 0)",toHsva:_,fromHsva:function(e){var t=I(e);return"rgb("+t.r+", "+t.g+", "+t.b+")"},equal:z},ue=/^#?([0-9A-F]{3,8})$/i,de=function(e){var t=e.color,n=void 0===t?"":t,l=e.onChange,c=e.onBlur,u=e.escape,d=e.validate,p=e.format,f=e.process,h=a(e,["color","onChange","onBlur","escape","validate","format","process"]),m=r.useState((function(){return u(n)})),g=m[0],v=m[1],y=s(l),b=s(c),w=r.useCallback((function(e){var t=u(e.target.value);v(t),d(t)&&y(f?f(t):t)}),[u,f,d,y]),x=r.useCallback((function(e){d(e.target.value)||v(u(n)),b(e)}),[n,u,d,b]);return r.useEffect((function(){v(u(n))}),[n,u]),o.default.createElement("input",i({},h,{value:p?p(g):g,spellCheck:"false",onChange:w,onBlur:x}))},pe=function(e){return"#"+e};t.HexAlphaColorPicker=function(e){return o.default.createElement(J,i({},e,{colorModel:X}))},t.HexColorInput=function(e){var t=e.prefixed,n=e.alpha,s=a(e,["prefixed","alpha"]),l=r.useCallback((function(e){return e.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)}),[n]),c=r.useCallback((function(e){return function(e,t){var n=ue.exec(e),r=n?n[1].length:0;return 3===r||6===r||!!t&&4===r||!!t&&8===r}(e,n)}),[n]);return o.default.createElement(de,i({},s,{escape:l,format:t?pe:void 0,process:pe,validate:c}))},t.HexColorPicker=function(e){return o.default.createElement(G,i({},e,{colorModel:Y}))},t.HslColorPicker=function(e){return o.default.createElement(G,i({},e,{colorModel:ee}))},t.HslStringColorPicker=function(e){return o.default.createElement(G,i({},e,{colorModel:te}))},t.HslaColorPicker=function(e){return o.default.createElement(J,i({},e,{colorModel:Q}))},t.HslaStringColorPicker=function(e){return o.default.createElement(J,i({},e,{colorModel:Z}))},t.HsvColorPicker=function(e){return o.default.createElement(G,i({},e,{colorModel:oe}))},t.HsvStringColorPicker=function(e){return o.default.createElement(G,i({},e,{colorModel:ie}))},t.HsvaColorPicker=function(e){return o.default.createElement(J,i({},e,{colorModel:ne}))},t.HsvaStringColorPicker=function(e){return o.default.createElement(J,i({},e,{colorModel:re}))},t.RgbColorPicker=function(e){return o.default.createElement(G,i({},e,{colorModel:le}))},t.RgbStringColorPicker=function(e){return o.default.createElement(G,i({},e,{colorModel:ce}))},t.RgbaColorPicker=function(e){return o.default.createElement(J,i({},e,{colorModel:ae}))},t.RgbaStringColorPicker=function(e){return o.default.createElement(J,i({},e,{colorModel:se}))},t.setNonce=function(e){U=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(2),o=n(0),i=n.n(o),a=n(45),s=n(33),l=n(84),c=n(59);class u extends s.a{constructor(e){super(),this.dependencies=e,this.init=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t,n;this.syncSettings=Object(a.a)({syncSettingsBG:this.dependencies.syncSettingsBG});let r=null!==(t=yield null===(e=this.syncSettings.openAI)||void 0===e?void 0:e.get("promptSuggestions"))&&void 0!==t?t:l.a.map((e=>({text:e,isEditing:null,isFocused:!1})));null==r[0].text&&(r=null!==(n=null==r?void 0:r.map((e=>({text:e,isEditing:null,isFocused:!1}))))&&void 0!==n?n:l.a.map((e=>({text:e,isEditing:null,isFocused:!1})))),this.emitMutation({promptTemplatesArray:{$set:r}}),this.getInitialState()})),this.focusTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=e.id,r=t.promptTemplatesArray,o=null==r?void 0:r.map(((e,t)=>t===n?Object.assign(Object.assign({},e),{isFocused:!0}):t!==n?Object.assign(Object.assign({},e),{isFocused:!1}):e));this.emitMutation({promptTemplatesArray:{$set:o}})})),this.selectTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;const r=e.id,o=t.promptTemplatesArray;this.dependencies.onTemplateSelect(c.marked.parse(null===(n=o[r])||void 0===n?void 0:n.text))})),this.setTemplateEdit=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n;const r=e.id,o=t.promptTemplatesArray,i=e.value||(null===(n=o[r])||void 0===n?void 0:n.text);o[r]&&(o[r]=Object.assign(Object.assign({},o[r]),{isEditing:i}),this.emitMutation({promptTemplatesArray:{$set:o},editValue:{$set:i}}))})),this.saveEditTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(0===e.text.length)return;const n=e.id,r={text:e.text,isEditing:null},o=[...t.promptTemplatesArray];o[n]=r,this.emitMutation({promptTemplatesArray:{$set:o.map((({text:e})=>({text:e})))},editValue:{$set:null}}),yield this.syncSettings.openAI.set("promptSuggestions",o)})),this.startNewTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=[{text:"",isEditing:"",isFocused:!0},...t.promptTemplatesArray];this.emitMutation({promptTemplatesArray:{$set:e}})})),this.confirmDelete=!0,this.deleteTemplate=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n=e.id,r=t.promptTemplatesArray.filter(((e,t)=>t!==n));this.emitMutation({promptTemplatesArray:{$set:r}}),yield this.syncSettings.openAI.set("promptSuggestions",r)})),this.reorderTemplates=({event:e,previousState:t})=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{oldIndex:n,newIndex:r}=e;let o=[...t.promptTemplatesArray];const[i]=o.splice(n,1);o.splice(r,0,i);const a=o.map((({text:e})=>({text:e})));this.emitMutation({promptTemplatesArray:{$set:a}}),yield this.syncSettings.openAI.set("promptSuggestions",a)}))}getInitialState(){return{promptTemplatesArray:[],editValue:null}}}var d=n(113),p=n(122),f=n(5),h=n(85),m=n(1),g=n.n(m),v=n(4),y=n(28),b=n.n(y),w=n(154),x=n(25);class k extends d.a{constructor(e){super(e,{logic:new u(e)}),this.onDragEnd=e=>{e.destination&&e.source.index!==e.destination.index&&this.processEvent("reorderTemplates",{oldIndex:e.source.index,newIndex:e.destination.index})}}componentDidMount(){const e=Object.create(null,{componentDidMount:{get:()=>super.componentDidMount}});return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.handleKeyDown=this.handleKeyDown.bind(this),window.addEventListener("keydown",this.handleKeyDown),yield e.componentDidMount.call(this)}))}componentWillUnmount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){window.removeEventListener("keydown",this.handleKeyDown)}))}handleKeyDown(e){const t=this.state.promptTemplatesArray.findIndex((e=>e.isFocused));e.defaultPrevented||("ArrowUp"===e.key?(this.processEvent("focusTemplate",{id:t-1}),e.preventDefault(),e.stopPropagation()):"ArrowDown"===e.key&&(e.preventDefault(),e.stopPropagation(),this.processEvent("focusTemplate",{id:t+1})),"Enter"===e.key&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),e.shiftKey,this.processEvent("selectTemplate",{id:t})))}render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(C,null,i.a.createElement(O,null,"Prompt Templates"),i.a.createElement(A,null,i.a.createElement(h.a,{getRootElement:this.props.getRootElement,tutorialId:"useTemplates"}),i.a.createElement(f.a,{label:"New",onClick:()=>this.processEvent("startNewTemplate",null),size:"small",type:"forth",icon:"plus",iconColor:"prime1",padding:"0px 6px 0 0"}))),i.a.createElement(I,null,i.a.createElement(p.DragDropContext,{onDragEnd:this.onDragEnd},i.a.createElement(p.Droppable,{droppableId:"droppableTemplates"},(e=>i.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,style:{gridGap:"3px",display:"flex",flexDirection:"column"}}),this.state.promptTemplatesArray.map(((e,t)=>i.a.createElement(p.Draggable,{key:t,draggableId:String(t),index:t},((e,n)=>{var r,o,a;const s=i.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:Object.assign(Object.assign({},e.draggableProps.style),{zIndex:3e13})}),null==this.state.promptTemplatesArray[t].isEditing?i.a.createElement(R,{inFocus:this.state.promptTemplatesArray[t].isFocused,onMouseOver:()=>{this.processEvent("focusTemplate",{id:t})},onMouseLeave:()=>{this.processEvent("focusTemplate",{id:null})},onClick:()=>this.processEvent("selectTemplate",{id:t}),allowFitContent:!!this.state.promptTemplatesArray[t].isEditing},i.a.createElement(M,null,i.a.createElement(v.a,{icon:"dragList",rotation:180,heightAndWidth:"16px",hoverOff:!0})),i.a.createElement(D,null,i.a.createElement(_,null,this.state.promptTemplatesArray[t].text)),!this.state.promptTemplatesArray[t].isEditing&&i.a.createElement(T,{onClick:e=>{e.stopPropagation()}},i.a.createElement(v.a,{filePath:"removeX",heightAndWidth:"20px",padding:"4px",onClick:e=>{e.stopPropagation(),this.processEvent("deleteTemplate",{id:t})}}),i.a.createElement(v.a,{filePath:"edit",heightAndWidth:"20px",padding:"4px",onClick:e=>{e.stopPropagation(),this.processEvent("setTemplateEdit",{id:t,value:this.state.promptTemplatesArray[t].text})}}))):i.a.createElement(S,null,i.a.createElement(w.a,{autoFocus:!0,value:this.state.promptTemplatesArray[t].isEditing,placeholder:"Type a new prompt",background:"greyScale3",onChange:e=>{e.stopPropagation(),this.processEvent("setTemplateEdit",{id:t,value:e.target.value})},onKeyUp:e=>{e.stopPropagation()},onKeyDown:e=>{e.stopPropagation(),"Enter"===e.key&&e.metaKey?e.target.value.length>0&&(e.stopPropagation(),this.processEvent("saveEditTemplate",{id:t,text:e.target.value})):e.key}}),i.a.createElement(E,null,i.a.createElement(f.a,{label:k.MOD_KEY+"+ Enter",size:"small",type:"tertiary",fontColor:"greyScale5",fontSize:"12px",padding:"2px 4px;",onClick:()=>{let e=this.state.promptTemplatesArray[t].isEditing;null!=e&&this.processEvent("saveEditTemplate",{id:t,text:e})}})))),l=null!==(a=null===(o=(r=this.props).getRootElement)||void 0===o?void 0:o.call(r))&&void 0!==a?a:document.querySelector("body");return n.isDragging?b.a.createPortal(s,l):s})))),e.placeholder))))))}}k.MOD_KEY=Object(x.a)({key:"mod"});const S=g.a.div.withConfig({displayName:"TextAreaContainer",componentId:"vq8604-0"})(["position:relative;margin-top:3px;"]),E=g.a.div.withConfig({displayName:"TextAreaSaveButton",componentId:"vq8604-1"})(["position:absolute;bottom:5px;right:5px;"]),C=g.a.div.withConfig({displayName:"Header",componentId:"vq8604-2"})(["display:flex;flex-direction:row;justify-content:space-between;padding:10px 15px 0px 15px;height:30px;align-items:center;"]),A=g.a.div.withConfig({displayName:"ButtonBox",componentId:"vq8604-3"})(["display:flex;grid-gap:10px;align-items:center;justify-self:flex-end;"]),O=g.a.div.withConfig({displayName:"SectionTitle",componentId:"vq8604-4"})(["color:",";font-size:14px;font-weight:600;flex:1;white-space:nowrap;"],(e=>e.theme.colors.white)),I=(g.a.div.withConfig({displayName:"NoResultsBox",componentId:"vq8604-5"})(["text-align:center;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;font-size:12px;padding:15px 10px;color:",";display:flex;justify-content:center;align-items:center;flex-direction:column;grid-gap:10px;"],(e=>e.theme.colors.white)),g.a.div.withConfig({displayName:"Center",componentId:"vq8604-6"})(["display:flex;justify-content:center;height:200px;align-items:center;flex-direction:column;grid-gap:10px;"]),g.a.div.withConfig({displayName:"Title",componentId:"vq8604-7"})(["display:flex;color:",";font-size:16px;font-weight:600;"],(e=>e.theme.colors.white)),g.a.div.withConfig({displayName:"ContentBlock",componentId:"vq8604-8"})(["padding:0 5px 5px 5px;width:100%;box-sizing:border-box;display:flex;flex-direction:column;"])),D=(g.a.div.withConfig({displayName:"SectionCircle",componentId:"vq8604-9"})(["background:",";border:1px solid ",";border-radius:8px;height:30px;width:30px;display:flex;justify-content:center;align-items:center;"],(e=>e.theme.colors.greyScale2),(e=>e.theme.colors.greyScale6)),g.a.div.withConfig({displayName:"InfoText",componentId:"vq8604-10"})(["color:",";font-size:14px;font-weight:300;text-align:center;margin:",";"],(e=>e.theme.colors.greyScale5),(e=>e.margin)),g.a.div.withConfig({displayName:"InfoTextTitle",componentId:"vq8604-11"})(["color:",";font-size:16px;font-weight:600;text-align:center;margin-top:20px;"],(e=>e.theme.colors.white)),g.a.div.withConfig({displayName:"TitleBox",componentId:"vq8604-12"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;grid-gap:3px;width:fill-available;width:-moz-available;"])),M=(g.a.div.withConfig({displayName:"DefaultLabel",componentId:"vq8604-13"})(["font-size:10px;font-weight:500;color:",";text-transform:uppercase;letter-spacing:1px;padding:2px 5px;border-radius:5px;background-color:",";text-align:center;align-self:flex-start;justify-self:flex-start;display:inline-block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px;width:fit-content;"],(e=>e.theme.colors.greyScale5),(e=>e.theme.colors.greyScale2)),g.a.div.withConfig({displayName:"DragIconContainer",componentId:"vq8604-14"})(["position:absolute;left:-15px;display:flex;align-items:center;justify-content:center;display:none;&:hover{cursor:grab;}&:hover *{cursor:grab;}"])),T=g.a.div.withConfig({displayName:"ActionsContainer",componentId:"vq8604-15"})(["flex-direction:row;align-items:center;justify-content:flex-end;grid-gap:5px;display:none;position:absolute;background-color:","90;backdrop-filter:blur(4px);right:0px;height:40px;padding:0 10px;border-radius:0 6px 6px 0;"],(e=>e.theme.colors.greyScale2)),_=(g.a.div.withConfig({displayName:"Row",componentId:"vq8604-16"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:40px;position:relative;border-radius:5px;padding:0px 0px 0 18px;&:last-child{border-bottom:none;}&:hover{","{display:flex;}}&:hover ","{display:flex;}",""],T,M,(e=>e.inFocus&&Object(m.css)(["outline:1px solid ",";"],(e=>e.theme.colors.greyScale3)))),g.a.div.withConfig({displayName:"TemplateRowTitle",componentId:"vq8604-17"})(["display:",";justify-content:center;cursor:pointer;text-align:left;font-family:'Satoshi',sans-serif;font-feature-settings:'pnum' on,'lnum' on,'case' on,'ss03' on,'ss04' on,'liga' off;font-style:normal;font-weight:normal;font-size:14px;width:90%;color:",";outline:none;border:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;",""],(e=>e.fullWidth?"flex":"block"),(e=>e.theme.colors.greyScale6),(e=>e.isDefault&&Object(m.css)(["max-width:230px;"])))),R=g.a.div.withConfig({displayName:"RowContainer",componentId:"vq8604-18"})(["position:relative;display:flex;align-items:center;justify-content:space-between;width:100%;height:40px;border-radius:8px;padding:0 0 0 10px;box-sizing:border-box;",";",";&:hover{cursor:pointer;}"],(e=>e.inFocus&&Object(m.css)(["","{display:flex;}","{display:flex;}background:",";"],T,M,(e=>e.theme.colors.greyScale2))),(e=>e.allowFitContent&&Object(m.css)(["height:fit-content;"])))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return De})),n.d(t,"b",(function(){return Me})),n.d(t,"c",(function(){return Te})),n.d(t,"d",(function(){return Pe}));var r=n(2),o=(n(3),n(52)),i=n(123),a=n(0),s=n.n(a),l=n(28),c=n.n(l),u=n(1),d=n.n(u),p=n(325),f=n(4),h=n(7),m=n(5),g=n(13),v=n(12);const y=({size:e,keyboardShortcuts:t,createAnnotation:n,createHighlight:r,openAIInterface:o,closeTooltip:i,hideTooltip:a,addToSpace:l,context:c,windowObject:u,highlightColorsSettings:d,askAIButtonRef:p,openPDFinViewer:y,createLink:I,getRootElement:D,copiedToClipBoard:M,setTutorialId:T,renderAIArea:_,renderSpacesButton:R,renderColorPickerButton:P,renderColorPicker:L,setRenderColorPicker:N,renderAnnotationEditArea:j,linkCopyState:B,shouldShowTooltipsAbove:F,tooltipState:z,themeVariant:$,highlightButtonRef:H})=>u.location.href.includes(".pdf")&&!u.location.href.includes("/pdfjs/viewer.html")?s.a.createElement(S,null,"Open this PDF in the Memex Reader to annotate it",s.a.createElement(E,null,s.a.createElement(m.a,{label:"Open PDF in Memex Reader",icon:"filePDF",onClick:e=>{e.altKey?T("annotatePDFs"):y(u.location.href)},size:"small",type:"forth",iconColor:"dark"===$?"greyScale7":"greyScale5",iconSize:"18px",fontSize:"12px",padding:"0px 8px 0 4px"}),s.a.createElement(k,{fullWidth:!0,onClick:i},s.a.createElement(h.a,{tooltipText:s.a.createElement(C,null,s.a.createElement(O,null,s.a.createElement("strong",null,"Hide Tooltip")),"extension"===c&&s.a.createElement(A,null,"+"," ",s.a.createElement(g.a,{size:"small",optional:"shift",getRootElement:D})," ","-click to disable")),placement:F?"top":"bottom",getPortalRoot:D,width:"100%"},s.a.createElement(f.a,{filePath:"removeX",heightAndWidth:"16px",onClick:i,color:"dark"===$?"greyScale4":"greyScale5"}))))):"addSpaces"!==z&&"askAI"!==z?s.a.createElement(x,{className:"noDrag"},s.a.createElement(b,null,"small"===e?s.a.createElement(s.a.Fragment,null,s.a.createElement(k,{fullWidth:!0,onMouseEnter:()=>{N(!0)},onMouseLeave:()=>{N(!1)},onMouseDown:e=>{if(e.altKey)T("annotatePages");else{r(!1,null,e)}}},s.a.createElement(m.a,{icon:"highlight",size:"small",padding:"small"===e?"1px":"3px 8px",iconSize:"18px",iconColor:"dark"===$?"greyScale7":"greyScale5",type:"menuBar",innerRef:H})),s.a.createElement(k,{onMouseDown:e=>{e.altKey?T("annotatePages"):n(e)},fullWidth:!0},s.a.createElement(h.a,{placement:F?"top":"bottom",tooltipText:s.a.createElement(C,null,s.a.createElement(O,null,s.a.createElement("strong",null,"Add Note"),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createAnnotation,getRootElement:D}))),getPortalRoot:D},s.a.createElement(m.a,{icon:"commentAdd",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===$?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),H?L(H):null):P&&s.a.createElement(k,{fullWidth:!0},P()),R&&s.a.createElement(k,{onClick:t=>{t.altKey?(t.stopPropagation(),T("organiseSpaces")):"small"===e&&l(t)},fullWidth:!0},s.a.createElement(h.a,{fullWidthTarget:!0,tooltipText:s.a.createElement(C,null,s.a.createElement(O,null,s.a.createElement("strong",null,"Add to Space"),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.addToCollection,getRootElement:D}))),placement:F?"top":"bottom",getPortalRoot:D},"small"===e?s.a.createElement(m.a,{icon:"plus",label:"small"===e?"":"Spaces",width:"100%",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===$?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}):R())),I&&s.a.createElement(k,{onClick:e=>{e.altKey?T("annotatePages"):I(e)},fullWidth:!0},s.a.createElement(h.a,{placement:F?"top":"bottom",tooltipText:s.a.createElement(C,null,s.a.createElement(O,null,s.a.createElement("strong",null,"Share Highlight"),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.copyCurrentLink,getRootElement:D}))),getPortalRoot:D,fullWidthTarget:!0},s.a.createElement(m.a,{icon:"link",iconSize:"20px",label:"small"===e?"":"running"===B?s.a.createElement(v.a,{size:16}):"success"===B?"Copied":"Share",size:"small",padding:"small"===e?"0px":"3px 8px",iconColor:"dark"===$?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),u.location.href.includes("/pdfjs/viewer.html")&&s.a.createElement(k,{onClick:e=>{var t;if(e.altKey)T("annotatePDFs");else{r(!0,null,e),null===(t=window.getSelection())||void 0===t||t.empty(),a()}},fullWidth:!0},s.a.createElement(h.a,{fullWidthTarget:!0,tooltipText:s.a.createElement(C,null,s.a.createElement(O,null,s.a.createElement("strong",null,"Draw Rectangle")),"extension"===c&&s.a.createElement(s.a.Fragment,null,s.a.createElement(A,null,"without selected text"),s.a.createElement(O,null,"Highlight","extension"===c&&s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createHighlight,getRootElement:D})),s.a.createElement(O,null,"Add Note","extension"===c&&s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createAnnotation,getRootElement:D})))),placement:F?"top":"bottom",getPortalRoot:D},s.a.createElement(m.a,{icon:"rectangleDraw",label:"small"===e?"":"Share",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===$?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),o&&"extension"===c&&s.a.createElement(k,{fullWidth:!0},s.a.createElement(h.a,{fullWidthTarget:!0,tooltipText:s.a.createElement(C,null,s.a.createElement(O,null,s.a.createElement("strong",null,"Ask & Summarise "),s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.askAI,getRootElement:D}))),placement:F?"top":"bottom",getPortalRoot:D},s.a.createElement(m.a,{icon:"stars",label:"small"===e?"":"Summarize",onClick:e=>{e.altKey?T("askAI"):o(e)},innerRef:p,width:"100%",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===$?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0}))),"small"!==e?null:s.a.createElement(k,{fullWidth:!0,onClick:i},s.a.createElement(h.a,{tooltipText:s.a.createElement(C,null,s.a.createElement(O,null,s.a.createElement("strong",null,"Hide Tooltip")),"extension"===c&&s.a.createElement(A,null,"+"," ",s.a.createElement(g.a,{size:"small",optional:"shift",getRootElement:D})," ","-click to disable")),placement:"bottom",getPortalRoot:D},s.a.createElement(f.a,{filePath:"removeX",heightAndWidth:"16px",onClick:i,color:"dark"===$?"greyScale5":"greyScale4"})))),"small"!=e?s.a.createElement(w,null,_(),j()):null):null,b=d.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    grid-gap: 5px;
    padding: 5px;
    width: 100%;
    box-sizing: border-box;
`,w=d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 5px;

    width: 100%;
    height: 100%;
    min-width: 400px;
    min-height: 200px;
    border-top: 1px solid ${e=>e.theme.colors.greyScale3};
`,x=(d.a.div`
    display: flex;
    align-items: center;
    justify-content: flex-start;
    grid-gap: 5px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 14px;
    white-space: nowrap;
    padding: 5px 10px;
`,d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    height: fit-content;
    flex-direction: column;
    height: 100%;
`),k=d.a.button`
    height: fit-content;
    width: fit-content;
    outline: none;
    border: none;
    background: none;
    cursor: pointer;
    padding: 0px;
    height: 24px;
    display: flex;
    align-items: center;
    flex-direction: row;
    grid-gap: 5px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 14px;
    flex: ${e=>e.fullWidth?"1":"0"};
    justify-content: center;
    width: 20%;
    overflow: hidden;

    span {
        white-space: nowrap; /* Prevents text from wrapping */
        overflow: hidden; /* Hides the overflow text */
        text-overflow: ellipsis; /* Adds the ellipsis */
        max-width: 70px; /* Define a width */
        display: block;
    }
`,S=d.a.button`
    height: fit-content;
    width: fit-content;
    outline: none;
    border: none;
    background: none;
    cursor: pointer;
    padding: 0px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    padding: 5px;
    grid-gap: 10px;
    color: ${e=>e.theme.colors.greyScale6};
    font-size: 14px;
`,E=d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 5px;
`,C=d.a.span`
    font-size: 12px;
    font-family: 'Satoshi', sans-serif;
    font-feature-settings: 'pnum' on, 'lnum' on, 'case' on, 'ss03' on, 'ss04' on,
        'liga' off;
    font-style: unset;
    letter-spacing: 0.3px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    grid-gap: 5px;
`,A=d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
`,O=d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 5px;
    color: ${e=>e.theme.colors.white};
`;d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    grid-gap: 10px;
    border-top: 1px solid ${e=>e.theme.colors.greyScale4};
    margin-top: 10px;
    padding-top: 10px;
`,d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    grid-gap: 5px;
`,d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50px;
    background: ${e=>e.color};
    border: 1px solid ${e=>e.theme.colors.greyScale4};
    height: 24px;
    min-width: 24px;
    width: fit-content;
    padding: 0 3px;
`,d.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    color: ${e=>e.theme.colors.black};
    size: 14px;
`;var I=n(64),D=n(27),M=n(99),T=n(200),_=n(85),R=n(161),P=n(313),L=n(57),N=n(76),j=n(25),B=n(81),F=n(22),z=n(46),$=n(136);class H extends s.a.Component{constructor(){super(...arguments),this.colorPickerCloseTimeout=null,this.MOD_KEY=Object(j.a)({key:"mod"}),this.askAIButtonRef=s.a.createRef(),this.spacesButtonRef=s.a.createRef(),this.colorPickerButtonRef=s.a.createRef(),this.highlightButtonRef=s.a.createRef(),this.containerRef=s.a.createRef(),this.savedSelection=null,this.selectionForAI=null,this.state={position:null,showTooltip:!1,preventClosing:!0,isShiftPressed:!1,isMouseOverTooltip:!1,tooltipDisappear:!1,highlightColorSettings:null,AIQueryText:"",copiedToClipboard:!1,tutorialId:null,tooltipState:"default",isDeboucingEditor:!1,currentAnnotation:null,currentAnnotationId:null,confirmDeletion:!1,linkCopyState:"pristine",renderColorPicker:!1},this.handleDetectHighlightClick=e=>{if(!this.state.isShiftPressed&&e.target.classList.contains(L.a)){const t=e.target.parentElement,n=[];Array.from(t.children).forEach((e=>{e.classList.contains("selectedAnnotation")&&n.push(e)}));let r=0,o=0,i=1/0;for(const e of n){const t=e.getBoundingClientRect();t.right>r&&(r=t.right),t.bottom>o&&(o=t.bottom),t.left<i&&(i=t.left)}const a=this.props.getWindow().innerWidth,s=this.props.getWindow().innerHeight,l=this.props.getWindow().scrollX,c=this.props.getWindow().scrollY,u=50,d="reader"===this.props.context?105:250,p="addAnnotation"===this.state.tooltipState?300:40;let f=Math.max((i+r)/2,20)-d/2;f=Math.max(u,Math.min(f,a-d-u));let h=o+10;h+p>s-u&&(h=Math.max(u,i-p-10));return{x:f+l,y:h+c}}},this.showTooltip=(e,t="default")=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r,o;const i=yield null===(n=this.props.tooltip)||void 0===n?void 0:n.getState();if("true"!==(null===(r=this.currentSelection.focusNode)||void 0===r?void 0:r.parentElement.contentEditable)){if(0===this.currentSelection.toString().length&&!e)return this.setState({showTooltip:!0}),this.makeTooltipDisappear(!0),!0;if(null==this.selectionForAI){const e=null===(o=this.props.getWindow().getSelection())||void 0===o?void 0:o.toString();""!==(null==e?void 0:e.trim())&&(this.selectionForAI=e)}if(this.makeTooltipDisappear(!1),(null==i||i||"default"!==t)&&(this.setState({position:this.calculateTooltipPostion()}),document.addEventListener("click",this.handleMouseDown),!this.state.isShiftPressed))return setTimeout((()=>{this.makeTooltipDisappear(!1),this.setState({preventClosing:!0}),this.setState({showTooltip:!0,preventClosing:!0})}),50),setTimeout((()=>{this.setState({preventClosing:!1})}),400),!0}})),this.closeTooltip=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t,n,r,o;e.preventDefault(),e.stopPropagation(),e.shiftKey&&(yield null===(n=(t=this.props).toggleTooltipState)||void 0===n?void 0:n.call(t,!1)),yield null===(o=(r=this.props).onTooltipClose)||void 0===o?void 0:o.call(r),document.removeEventListener("click",this.handleMouseDown),this.setState({showTooltip:!1}),this.setState({isMouseOverTooltip:!1})})),this.hideTooltip=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t;this.makeTooltipDisappear(!0),yield this.saveAnnotationEditState(),this.setState({tooltipState:"default",currentAnnotation:null,currentAnnotationId:null}),this.props.setCurrentAnnotation&&this.props.currentAnnotation&&this.props.setCurrentAnnotation(null),this.props.toggleSpacePicker&&this.props.toggleSpacePicker(!1),this.setState({showTooltip:!1,tooltipState:"default"}),yield null===(t=(e=this.props).onTooltipHide)||void 0===t?void 0:t.call(e)})),this.makeTooltipDisappear=e=>{this.setState({tooltipDisappear:e})},this.createHighlight=(e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{this.makeTooltipDisappear(!0),this.setState({renderColorPicker:!1}),yield this.props.createHighlight(this.currentSelection,!!n.shiftKey||null,e,null,t,!1)}catch(e){throw e}finally{this.setState({renderColorPicker:!1}),yield this.hideTooltip(),this.makeTooltipDisappear(!1)}})),this.createAnnotation=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{this.makeTooltipDisappear(!0),yield this.props.createAnnotation(this.currentSelection,!!e.shiftKey||null,!1,!1,null)}catch(e){throw e}finally{yield this.hideTooltip(),this.makeTooltipDisappear(!1)}})),this.createLink=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(this.setState({linkCopyState:"running"}),null==this.props.currentAnnotation)try{this.setState({copiedToClipboard:!0}),this.makeTooltipDisappear(!0),yield this.props.createHighlight(this.currentSelection,!1,!0,!0,void 0,!0)}catch(e){throw e}finally{yield new Promise((e=>setTimeout(e,3e3))),this.setState({copiedToClipboard:!1}),yield this.hideTooltip(),this.makeTooltipDisappear(!1)}else{(e=>{if(navigator.clipboard&&this.props.getWindow().isSecureContext)return navigator.clipboard.writeText(e).then((()=>{console.log("Text copied to clipboard successfully.")})).catch((e=>{console.error("Failed to copy text to clipboard: ",e)}))})(`${"https://memex.social"}/a/${this.props.currentAnnotation.remoteId}`),this.setState({linkCopyState:"success"}),yield Object(B.a)(3e3),this.setState({linkCopyState:"pristine"})}})),this.renderAITextField=()=>s.a.createElement(G,{onMouseEnter:()=>this.setState({isMouseOverTooltip:!0}),onMouseLeave:()=>this.setState({isMouseOverTooltip:!1})},null!=this.selectionForAI&&null==this.props.currentAnnotation&&s.a.createElement(K,null,s.a.createElement(X,null),s.a.createElement(J,null,this.selectionForAI)),s.a.createElement(D.a,{placeholder:"Enter your question here",value:this.state.AIQueryText,onChange:e=>{e.preventDefault(),e.stopPropagation(),this.setState({AIQueryText:e.target.value})},autoFocus:!0,width:"100%",onClick:()=>{this.setState({preventClosing:!0})},onKeyDown:e=>{e.stopPropagation(),this.setState({preventClosing:!0}),"Enter"===e.key&&this.openAIInterface(e,this.state.AIQueryText)},onKeyUp:e=>{this.setState({preventClosing:!0})}}),this.props.promptTemplates()),this.openAIInterface=(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var n,r;const o=this.convertHTMlTemplateToMarkdown(null!==(r=null===(n=this.props.currentAnnotation)||void 0===n?void 0:n.body)&&void 0!==r?r:this.selectionForAI);this.selectionForAI=null,yield Promise.all([this.setState({showTooltip:!1,position:null}),this.props.askAI(o,null!=t?t:"",(e.shiftKey||"askAIquery"===this.state.tooltipState)&&!this.props.isAskAIOpen)]),this.setState({isMouseOverTooltip:!1,tooltipState:"default"}),this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(null)})),this.setDebouncingSaveBlock=e=>{this.setState({isDeboucingEditor:e})},this.openSpacePicker=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.props.toggleSpacePicker(!0),this.setState({tooltipState:"addSpaces"});const e=yield this.props.createHighlight(this.currentSelection,!1,!1,!1,null,!1);this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(e),this.setState({currentAnnotationId:e})})),this.setAnnotationEdit=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;this.setState({tooltipState:"addAnnotation"});const n=yield this.props.createHighlight(this.currentSelection,!!e.shiftKey||null,!1,!1,null,!1);this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(n),this.setState({currentAnnotationId:n}),null===(t=this.editorRef)||void 0===t||t.focus()})),this.saveAnnotationEditState=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e,t,n;if(this.setState({preventClosing:!1}),null!=this.state.currentAnnotation&&(null===(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.comment)||void 0===t?void 0:t.length)>0){for(;this.state.isDeboucingEditor;)yield new Promise((e=>setTimeout(e,10)));yield this.props.saveAnnotation(null===(n=this.state.currentAnnotation)||void 0===n?void 0:n.comment)}else;})),this.renderAIArea=()=>{if("askAIquery"===this.state.tooltipState)return this.renderAITextField()},this.renderAnnotationEditArea=()=>{var e,t,n;if("addAnnotation"===this.state.tooltipState)return s.a.createElement(oe,{onMouseEnter:()=>this.setState({isMouseOverTooltip:!0}),onMouseLeave:()=>this.setState({isMouseOverTooltip:!1})}," ",null==this.state.currentAnnotationId?s.a.createElement($.a,{size:20,height:"150px",width:"100%"}):s.a.createElement(ie,null,s.a.createElement(R.a,{onContentUpdate:e=>{this.setState({preventClosing:!0}),this.onCommentChange(e)},markdownContent:null!==(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.comment)&&void 0!==t?t:"",promptPlaceholder:"Write your note. Use #hashtags or [[WikiLinks]] to add Spaces. ( ? ) for formatting help.",setEditorInstanceRef:e=>this.editorRef=e,imageSupport:this.props.imageSupportBG,getRootElement:this.props.getRootElement,onKeyDown:this.handleKeyDown,editable:!0,setDebouncingSaveBlock:this.setDebouncingSaveBlock,height:"fill-available",updateSpacesSearchSuggestions:this.props.updateSpacesSearchSuggestions,openImageInPreview:this.props.openImageInPreview,spaceSearchSuggestions:this.props.spaceSearchResults,selectSpace:this.props.selectSpaceForAnnotation,autoFocus:!0,addNewSpaceViaWikiLinks:this.props.addNewSpaceViaWikiLinks}),(null===(n=this.props.currentAnnotationLists)||void 0===n?void 0:n.length)>0&&s.a.createElement(ae,null,s.a.createElement(P.a,{lists:this.props.currentAnnotationLists,onEditBtnClick:this.props.toggleSpacePicker,removeSpaceForAnnotation:this.props.removeSpaceForAnnotation})),s.a.createElement(Y,null,s.a.createElement(V,null,s.a.createElement(m.a,{onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.saveAnnotationEditState(),this.hideTooltip()})),label:"Save",size:"small",type:"primary",icon:"check"})),s.a.createElement(W,null,this.renderDeleteButton(null),s.a.createElement(q,{className:"dragHandle"},s.a.createElement(h.a,{tooltipText:"Drag around this box",placement:"bottom",getPortalRoot:this.props.getRootElement},s.a.createElement(f.a,{icon:"move",background:"black0",height:"20px"})))))))},this.renderSpacesButton=e=>s.a.createElement(s.a.Fragment,null,this.props.renderSpacePicker&&this.props.showSpacePicker&&this.props.renderSpacePicker(this.spacesButtonRef),this.props.renderSpacePicker&&s.a.createElement(m.a,{label:"small"===e?"":"Spaces",onClick:()=>this.props.toggleSpacePicker(),innerRef:this.spacesButtonRef,icon:"plus",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===this.props.themeVariant?"greyScale7":"greyScale5",type:"menuBar",fullWidth:!0})),this.renderDeleteButton=e=>{if(null!=this.props.currentAnnotation)return s.a.createElement(h.a,{placement:"addSpaces"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState||"askAIquery"===this.state.tooltipState?"top":"bottom",tooltipText:s.a.createElement("span",null,"You can also press",s.a.createElement("strong",null," ",this.MOD_KEY," + Z "),s.a.createElement("br",null)," to undo the last annotation"),getPortalRoot:this.props.getRootElement,fullWidthTarget:!0},s.a.createElement(m.a,{icon:"trash",label:"small"===e?"":this.state.confirmDeletion?"Confirm":"Delete",onClick:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.state.confirmDeletion?(yield this.props.deleteAnnotation(this.state.currentAnnotationId),this.setState({confirmDeletion:!1}),this.hideTooltip()):this.setState({confirmDeletion:!0})})),type:"menuBar",size:"small",padding:"small"===e?"0px":"3px 8px",iconSize:"20px",iconColor:"dark"===this.props.themeVariant?"greyScale7":"greyScale5",width:"90px"}))},this.renderColorPickerButton=()=>{var e;if(null!=this.props.currentAnnotation){const t=this.state.highlightColorSettings,n=null==t?void 0:t.find((e=>this.props.currentAnnotation.color===(null==e?void 0:e.id)?e:null));return s.a.createElement(h.a,{placement:"addSpaces"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState||"askAIquery"===this.state.tooltipState?"top":"bottom",tooltipText:s.a.createElement("span",null,"Change Highlight Color"),getPortalRoot:this.props.getRootElement,fullWidthTarget:!0},s.a.createElement(m.a,{icon:s.a.createElement(se,{color:(null==n?void 0:n.color)&&Object(z.b)(null==n?void 0:n.color)}),innerRef:this.colorPickerButtonRef,label:null!==(e=null==n?void 0:n.label)&&void 0!==e?e:"Color",onMouseDown:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.setState({renderColorPicker:!this.state.renderColorPicker})})),type:"menuBar",size:"small",padding:"3px 8px",fullWidth:!0}))}},this.renderColorPicker=(e,t)=>{if(this.state.renderColorPicker&&null!=this.props.renderHighlightColorPicker)return s.a.createElement(F.a,{getPortalRoot:this.props.getRootElement,placement:"bottom-start",targetElementRef:e.current,offsetX:5,offsetY:-5,closeComponent:()=>{this.setState({renderColorPicker:!1})},instaClose:!this.state.renderColorPicker,onMouseEnter:()=>{this.colorPickerCloseTimeout&&(clearTimeout(this.colorPickerCloseTimeout),this.colorPickerCloseTimeout=null)},onMouseLeave:()=>{this.setRenderColorPicker(!1)},blockedBackgroundTransparent:!0},"addAnnotation"!==this.state.tooltipState&&s.a.createElement(le,null,s.a.createElement("strong",null,"Highlight"),"extension"===this.props.context&&s.a.createElement(g.a,{size:"small",keys:null==t?void 0:t.createHighlight,getRootElement:this.props.getRootElement})),this.props.renderHighlightColorPicker())},this.onCommentChange=e=>{const t=this.state.currentAnnotation;t.comment=e,this.setState({currentAnnotation:t})},this.setRenderColorPicker=e=>{e?(this.colorPickerCloseTimeout&&(clearTimeout(this.colorPickerCloseTimeout),this.colorPickerCloseTimeout=null),this.setState({renderColorPicker:!0})):this.colorPickerCloseTimeout=setTimeout((()=>{this.setState({renderColorPicker:!1})}),200)}}componentDidMount(){var e,t,n,o,i,a,s;return Object(r.__awaiter)(this,void 0,void 0,(function*(){const l=yield null===(e=this.props.tooltip)||void 0===e?void 0:e.getState();if(this.setState({isShiftPressed:!1}),document.addEventListener("selectionchange",(()=>{var e,t;if(null==this.props.currentAnnotation&&!this.state.renderColorPicker){const n=null===(t=null===(e=this.props.getWindow())||void 0===e?void 0:e.getSelection())||void 0===t?void 0:t.toString();""!==(null==n?void 0:n.trim())?this.selectionForAI=n:""===(null==n?void 0:n.trim())&&"default"===this.state.tooltipState&&this.hideTooltip()}})),null===(n=(t=this.props).onExternalDestroy)||void 0===n||n.call(t,(()=>this.setState({showTooltip:!1,position:null}))),this.props.shouldInitTooltip&&(null===(i=(o=this.props).onTooltipInit)||void 0===i||i.call(o,(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var e;const t=yield null===(e=this.props.tooltip)||void 0===e?void 0:e.getState();return this.showTooltip(!t||"addAnnotation"===this.state.tooltipState,this.state.tooltipState)}))))),null===(s=(a=this.props).openAnnotationEdit)||void 0===s||s.call(a,((e,t,n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var r;this.makeTooltipDisappear(!0);let o=e,i=e?"addAnnotation":n?"addSpaces":"default";this.setState({tooltipState:i}),yield this.showTooltip(!l||"addAnnotation"===this.state.tooltipState,this.state.tooltipState);let a=0;let s=10;for(;null==this.state.position&&(0===this.currentSelection.toString().length||0===t.toString().length)&&a<20;)yield new Promise((e=>setTimeout(e,s))),a++,s=Math.min(1.5*s,1e3);if(20===a&&console.warn("Failed to calculate tooltip position after 10 seconds"),yield new Promise((e=>setTimeout(e,0))),this.makeTooltipDisappear(!1),n?(this.props.toggleSpacePicker(!0),this.setState({tooltipState:"addSpaces",showTooltip:!0,preventClosing:!1})):this.setState({tooltipState:"addAnnotation",showTooltip:!0,preventClosing:!1}),null==o&&(o=yield this.props.createHighlight(null!=t?t:this.currentSelection,!n&&null,!1,!1,null,!1)),!o)return;this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(o),this.setState({currentAnnotationId:o});let c=null;for(this.props.getAnnotationLists&&(c=yield this.props.getAnnotationLists(o));null==c;)c=yield this.props.getAnnotationLists(o),yield new Promise((e=>setTimeout(e,100)));this.setState({currentAnnotationId:o}),yield new Promise((e=>setTimeout(e,50))),null===(r=this.editorRef)||void 0===r||r.focus()})))),this.props.getKBShortcuts){const e=yield this.props.getKBShortcuts();this.setState({keyboardShortcuts:e})}if("extension"===this.props.context&&this.props.getHighlightColorsSettings){const e=yield this.props.getHighlightColorsSettings();null==e?this.setState({highlightColorSettings:[...I.a]}):this.setState({highlightColorSettings:e})}this.handleKeyDown=this.handleKeyDown.bind(this),document.addEventListener("click",this.handleDetectHighlightClick),this.handleKeyUp=this.handleKeyUp.bind(this),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}))}componentDidUpdate(e,t){var n,o,i,a,s,l,c,u,d,p;return Object(r.__awaiter)(this,void 0,void 0,(function*(){(null===(n=t.currentAnnotation)||void 0===n?void 0:n.unifiedId)!==(null===(o=this.state.currentAnnotation)||void 0===o?void 0:o.unifiedId)&&null!=(null===(i=t.currentAnnotation)||void 0===i?void 0:i.comment)&&(yield this.props.saveAnnotation(null===(a=t.currentAnnotation)||void 0===a?void 0:a.comment,null===(s=t.currentAnnotation)||void 0===s?void 0:s.color,null===(l=t.currentAnnotation)||void 0===l?void 0:l.unifiedId,!0)),e.currentAnnotation!==this.props.currentAnnotation&&(null===(c=this.editorRef)||void 0===c||c.updateContentExternally(null===(u=this.props.currentAnnotation)||void 0===u?void 0:u.comment),null==(null===(d=e.currentAnnotation)||void 0===d?void 0:d.comment)&&(null===(p=this.props.currentAnnotation)||void 0===p||p.comment),this.setState({currentAnnotation:this.props.currentAnnotation,confirmDeletion:!1}),this.selectionForAI=null),e.aiPrompt!==this.props.aiPrompt&&this.setState({AIQueryText:this.props.aiPrompt}),e.showColorPicker!==this.props.showColorPicker&&(this.setState({renderColorPicker:this.props.showColorPicker}),null==this.props.showColorPicker||this.props.showColorPicker||(this.makeTooltipDisappear(!0),setTimeout((()=>{this.hideTooltip()}),200),this.makeTooltipDisappear(!1)))}))}componentWillUnmount(){this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(null),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("click",this.handleMouseDown),document.addEventListener("click",this.handleDetectHighlightClick)}handleKeyDown(e){var t,n,o,i,a;return Object(r.__awaiter)(this,void 0,void 0,(function*(){let r=!1;if(this.state.showTooltip&&(r=!0),this.currentSelection.toString().length>0&&(r=!0),r){if("Enter"!==e.key&&"Escape"!==e.key&&"Backspace"!==e.key&&e.stopPropagation(),"Enter"===e.key&&e.metaKey&&(e.stopPropagation(),yield this.props.saveAnnotation(null===(t=this.state.currentAnnotation)||void 0===t?void 0:t.comment),this.hideTooltip()),"true"===e.target.contentEditable)return;if(this.updateSavedSelection(),"Shift"===e.key&&(e.stopPropagation(),this.setState({isShiftPressed:!0})),"Shift"===e.key&&!this.state.isMouseOverTooltip&&(null===(o=null===(n=this.savedSelection)||void 0===n?void 0:n.toString())||void 0===o?void 0:o.length)>0&&!this.state.renderColorPicker){e.stopPropagation();const t=null===(i=this.props.getWindow())||void 0===i?void 0:i.getSelection();this.setState({isShiftPressed:!0,showTooltip:!1}),t.addRange(this.savedSelection.getRangeAt(0).cloneRange()),t.addRange(this.savedSelection.getRangeAt(0).cloneRange())}const r=parseFloat(e.key);if(!isNaN(r)&&r>=0&&r<=9&&this.state.highlightColorSettings&&(this.savedSelection.toString().length>0||null!=this.props.currentAnnotation))if(e.stopPropagation(),null!=this.props.currentAnnotation){const e=this.state.highlightColorSettings[r-1];this.props.saveAnnotation(this.state.currentAnnotation.comment,e.id);let t=document.querySelectorAll("."+L.a),n=Array.from(t).filter((e=>e.classList.contains(`memex-highlight-${this.props.currentAnnotation.unifiedId}`)));for(let t of n)Object(z.c)(t,e)}else this.createHighlight(!1,null===(a=this.state.highlightColorSettings[r-1])||void 0===a?void 0:a.id,e);"Escape"===e.key&&this.hideTooltip()}}))}handleKeyUp(e){if("true"===e.target.contentEditable)return;"Shift"===e.key&&this.setState({isShiftPressed:!1});var t;"INPUT"===(t=e.target).tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.savedSelection,"Shift"===e.key&&this.props.getWindow().getSelection().toString().length>0&&this.setState({isShiftPressed:!1,showTooltip:!0}),"Shift"!==e.key||0!==this.props.getWindow().getSelection().toString().length||"addAnnotation"===this.state.tooltipState||this.state.renderColorPicker||this.state.preventClosing||this.setState({isShiftPressed:!1,showTooltip:!1}))}handleMouseDown(e){var t;(null===(t=this.state)||void 0===t?void 0:t.isShiftPressed)&&this.updateSavedSelection()}updateSavedSelection(){var e,t;(null===(t=null===(e=this.props.getWindow())||void 0===e?void 0:e.getSelection())||void 0===t?void 0:t.rangeCount)>0&&(this.savedSelection=this.currentSelection)}get currentSelection(){return Object(N.a)(this.props.getWindow().getSelection())}calculateTooltipPostion(e){try{const t=null!=e?e:this.currentSelection,n=t.getRangeAt(0).getBoundingClientRect(),r="reader"===this.props.context?105:250,o="addAnnotation"===this.state.tooltipState?300:40,i=this.props.getWindow().innerWidth,a=this.props.getWindow().innerHeight,s=this.props.getWindow().scrollY,l=50;let c=(n.left+n.right)/2-r/2;c=Math.max(l,Math.min(c,i-r-l));let u=s+n.bottom+10;return u+o>a-l&&(u=Math.max(l,s+n.top-o-10)),{x:c,y:u}}catch(e){return null}}renderTutorialBox(){if(null!=this.state.tutorialId)return s.a.createElement(_.a,{tutorialId:this.state.tutorialId,onTutorialClose:()=>this.setState({tutorialId:null}),getRootElement:()=>this.props.getRootElement(),isHeadless:!0})}convertHTMlTemplateToMarkdown(e){return e.replace(/<br\s*\/?>/g,"\n").replace(/<[^>]+>/g,"")}render(){const{showTooltip:e,position:t,keyboardShortcuts:n}=this.state;return s.a.createElement(ne,{style:null!=t?{top:t.y,left:t.x+30}:{},id:T.b,screenPosition:"absolute",showTooltip:!this.state.tooltipDisappear},this.state.showTooltip&&s.a.createElement(M.a,{onClickAway:()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.saveAnnotationEditState(),this.props.setCurrentAnnotation&&this.props.setCurrentAnnotation(null),!this.state.preventClosing&&this.state.showTooltip&&this.hideTooltip()})),getDocument:()=>this.props.getWindow().document,clickThrough:"default"===this.state.tooltipState,instaClose:"default"!==this.state.tooltipState},s.a.createElement(Z,{id:T.a,onDragStart:e=>{e.stopPropagation(),e.preventDefault()},onDragEnd:(e,t)=>{this.setState({position:{x:e.x,y:e.y}})},minHeight:"addAnnotation"===this.state.tooltipState&&270,enableResizing:"addAnnotation"===this.state.tooltipState,dragHandleClassName:"dragHandle"},s.a.createElement(re,{bottomShown:"default"!==this.state.tooltipState,id:"tooltipActionBar",onMouseEnter:()=>this.setState({isMouseOverTooltip:!0}),onMouseLeave:()=>this.setState({isMouseOverTooltip:!1})},s.a.createElement(y,{size:"askAIquery"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState?"large":"small",keyboardShortcuts:n,createAnnotation:e=>{this.props.saveAnnotation?this.setAnnotationEdit(e):this.createAnnotation(e)},createHighlight:this.createHighlight,hideTooltip:this.hideTooltip,openAIInterface:this.openAIInterface,closeTooltip:this.closeTooltip,addToSpace:this.openSpacePicker,createLink:this.props.hideAddToSpaceBtn?void 0:this.createLink,linkCopyState:this.state.linkCopyState,copiedToClipBoard:this.state.copiedToClipboard,context:this.props.context,windowObject:this.props.getWindow(),highlightColorsSettings:this.state.highlightColorSettings,askAIButtonRef:this.askAIButtonRef,openPDFinViewer:this.props.openPDFinViewer,getRootElement:this.props.getRootElement,setTutorialId:e=>{this.setState({tutorialId:e})},renderAIArea:this.renderAIArea,renderAnnotationEditArea:this.renderAnnotationEditArea,renderColorPickerButton:this.renderColorPickerButton,renderColorPicker:()=>this.renderColorPicker(this.highlightButtonRef,n),highlightButtonRef:this.highlightButtonRef,setRenderColorPicker:this.setRenderColorPicker,renderSpacesButton:this.renderSpacesButton,shouldShowTooltipsAbove:"addSpaces"===this.state.tooltipState||"addAnnotation"===this.state.tooltipState||"askAIquery"===this.state.tooltipState,tooltipState:this.state.tooltipState})),"addSpaces"===this.state.tooltipState&&this.props.renderSpacePicker&&this.props.showSpacePicker&&this.props.renderSpacePicker())),this.renderTutorialBox(),!this.colorPickerButtonRef||"askAIquery"!==this.state.tooltipState&&"addAnnotation"!==this.state.tooltipState?null:this.renderColorPicker(this.colorPickerButtonRef,n))}}H.defaultProps={getWindow:()=>window};var U=H;const W=d.a.div`
    display: flex;
    justify-content: flex-end;
    align-items: center;
    grid-gap: 10px;
`,V=d.a.div`
    display: flex;
    justify-content: flex-end;
    align-items: center;
    grid-gap: 10px;
`,q=d.a.div`
    z-index: 10;
`,G=d.a.div`
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    grid-gap: 10px;
    flex-direction: column;
    padding: 10px;
    position: relative;
    width: 100%;
`,Y=d.a.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 10px;
    width: fill-available;
    width: 100%;
`,K=d.a.div`
    display: flex;
    grid-gap: 10x;
    display: flex;
    align-items: center;
    padding: 15px 15px 15px 15px;
    position: relative;
    height: fit-content;
`,J=d.a.div`
    font-size: 14px;
    font-weight: 400;
    line-height: 1.5;
    letter-spacing: 0.2px;
    color: ${e=>e.theme.colors.greyScale7};
    padding-left: 20px;
`,X=d.a.div`
    background-color: ${e=>{var t;return null!==(t=e.color)&&void 0!==t?t:e.theme.colors.prime1}};
    margin-right: 10px;
    border-radius: 2px;
    width: 4px;
    top: 0px;
    height: calc(100% - 30px);
    position: absolute;
    margin: 15px 0px 15px 0;
    align-self: center;
    max-height: 100%;
`,Q=u.keyframes`
 0% { zoom: 0.8; opacity: 0 }
 80% { zoom: 1.05; opacity: 0.8 }
 100% { zoom: 1; opacity: 1 }`,Z=d()(p.Rnd)`
    z-index: 100000;
    border: 1px solid ${e=>e.theme.colors.greyScale3};
    animation-duration: 0.1s;
    animation: ${Q} cubic-bezier(0.4, 0, 0.16, 0.87);
    background: ${e=>e.theme.colors.greyScale1};
    box-shadow: 0px 22px 26px 18px rgba(0, 0, 0, 0.03);
    border-radius: 8px;
    height: fit-content;
    min-width: fit-content;
`,ee=u.keyframes`
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
`,te=u.keyframes`
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
`,ne=d.a.div`
    position: ${e=>e.screenPosition};
    width: fit-content;
    height: fit-content;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2147483647;
    pointer-events: ${e=>e.showTooltip?"auto":"none"};

    ${e=>e.showTooltip?u.css`
                  animation: ${ee} 0.15s ease-out forwards;
              `:u.css`
                  /* animation: ${te} 0.2s ease-in forwards; */
              `}
`,re=(d.a.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
`,d.a.div`
    height: 100%;
    /* ${e=>e.bottomShown&&u.css`
            border-bottom: 1px solid ${e=>e.theme.colors.greyScale2};
        `}; */
`),oe=d.a.div`
    display: flex;
    min-width: 400px;
    box-sizing: border-box;
    min-height: 230px;
    height: fill-available;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    padding: 10px;
    flex: 1;
    resize: both;
`,ie=d.a.div`
    display: flex;
    width: 100%;
    min-width: 400px;
    box-sizing: border-box;
    min-height: 200px;
    height: 100%;
    height: fill-available;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    flex: 1;
`,ae=d.a.div`
    width: fill-available;
    padding-top: 10px;
`,se=d.a.div`
    background-color: ${e=>e.color};
    border-radius: 50%;
    height: 16px;
    width: 16px;
    margin-right: 5px;
`,le=d.a.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: ${e=>e.theme.colors.white};
    font-weight: bold;
    padding: 15px 15px 0 15px;
    font-size: 14px;
`;var ce=n(83),ue=n(132),de=n(42),pe=n(6),fe=n(11),he=n(504),me=n(45),ge=n(502);class ve extends s.a.Component{constructor(e){super(e),this.state={currentAnnotation:null,currentAnnotationLists:[],showSpacePicker:!1,spaceSearchResults:[],askAITabActive:!1,aiPrompt:null,currentSelection:null,showColorPicker:null},this.getAnnotationData=e=>this.props.annotationsCache.annotations.byId[e].comment,this.toggleSpacePicker=e=>{void 0===e?this.setState((e=>({showSpacePicker:!e.showSpacePicker}))):this.setState({showSpacePicker:e})},this.updateSpacesSearchSuggestions=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.props.annotationsCache.lists.allIds.filter((t=>this.props.annotationsCache.lists.byId[t].name.toLowerCase().includes(e.toLowerCase())&&"page-link"!==this.props.annotationsCache.lists.byId[t].type)).map((e=>({id:this.props.annotationsCache.lists.byId[e].localId,name:this.props.annotationsCache.lists.byId[e].name})));this.setState({spaceSearchResults:t})})),this.getAnnotationLists=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.props.annotationsCache.annotations.byId[e].unifiedListIds,n=[];for(const e of t){const t=this.props.annotationsCache.lists.byId[e];n.push(t)}return this.setState({currentAnnotationLists:n}),n})),this.setCurrentAnnotation=e=>{if(!e)return void this.setState({currentAnnotation:null,currentAnnotationLists:[]});const t=this.props.annotationsCache.annotations.byId[e];this.setState({currentAnnotation:t,currentAnnotationLists:[]})},this.selectSpaceForAnnotation=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){var t;const{currentAnnotation:n}=this.state;if(!n)return;if(this.state.currentAnnotationLists.some((t=>t.localId===e)))return;const r=this.props.annotationsCache.getListByLocalId(e),o=[...this.state.currentAnnotationLists];o.push(r),this.setState({currentAnnotationLists:o});const i=[...null===(t=this.props.annotationsCache.annotations.byId[n.unifiedId])||void 0===t?void 0:t.unifiedListIds,r.unifiedId];this.props.annotationsCache.updateAnnotation(Object.assign(Object.assign({},n),{unifiedListIds:i,privacyLevel:fe.a.PROTECTED})),this.props.contentSharingBG.shareAnnotationToSomeLists({annotationUrl:n.localId,localListIds:[e],protectAnnotation:!0})})),this.removeSpaceForAnnotation=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{currentAnnotation:t}=this.state;if(!t)return;const n=this.props.annotationsCache.getListByLocalId(e);let r=[...this.state.currentAnnotationLists];const o=r.findIndex((t=>t.localId===e));o>-1&&r.splice(o,1),this.setState({currentAnnotationLists:r});const i=null==n?void 0:n.unifiedId,a=[...this.props.annotationsCache.annotations.byId[t.unifiedId].unifiedListIds],s=a.indexOf(i);s>-1&&a.splice(s,1),this.props.annotationsCache.updateAnnotation(Object.assign(Object.assign({},t),{unifiedListIds:[...a]})),this.props.contentSharingBG.unshareAnnotationFromList({annotationUrl:t.localId,localListId:e})})),this.addNewSpaceViaWikiLinks=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{localListId:t,remoteListId:n,collabKey:r}=yield this.props.spacesBG.createCustomList({name:e}),o={type:"user-reference",id:(yield this.props.authBG.getCurrentUser()).id};this.props.annotationsCache.addList({name:e,collabKey:r,localId:t,remoteId:n,hasRemoteAnnotationsToLoad:!1,type:"user-list",unifiedAnnotationIds:[],creator:null!=o?o:void 0,parentLocalId:null,isPrivate:!0}),yield this.selectSpaceForAnnotation(t)})),this.renderHighlightColorPicker=()=>{var e,t,n,o;return s.a.createElement(ge.a,{syncSettingsBG:this.props.syncSettingsBG,annotationId:null!==(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.unifiedId)&&void 0!==t?t:null,updateAnnotationColor:e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){this.setState({showColorPicker:!0}),this.state.currentAnnotation?yield this.saveAnnotation(null,e):(yield this.props.createHighlight(this.state.currentSelection,!1,!1,!1,e,!1),this.setState({currentSelection:null,showColorPicker:!1}))})),selectedColor:null!==(o=null===(n=this.state.currentAnnotation)||void 0===n?void 0:n.color)&&void 0!==o?o:I.a[0].id})},this.getHighlightColorsSettings=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.syncSettings.highlightColors.get("highlightColors")})),this.saveAnnotation=(e,t,n,o)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){let r,i=e;r=n?this.props.annotationsCache.annotations.byId[n]:this.state.currentAnnotation;const a=this.props.annotationsCache.annotations.byId[r.unifiedId];this.props.annotationsCache.updateAnnotation({unifiedId:a.unifiedId,remoteId:a.remoteId,comment:null!=i?i:a.comment,body:a.body,privacyLevel:a.privacyLevel,color:null!=t?t:a.color,unifiedListIds:a.unifiedListIds},{updateLastEditedTimestamp:!0});try{yield this.props.annotationsBG.editAnnotation(a.localId,i,null!=t?t:a.color,a.body)}catch(e){console.log(e)}o||this.setState({currentAnnotation:Object.assign(Object.assign({},r),{comment:i,color:null!=t?t:a.color})})})),this.renderPromptTemplates=()=>s.a.createElement(he.a,{syncSettingsBG:this.props.syncSettingsBG,getRootElement:this.props.getRootElement,onTemplateSelect:e=>this.setState({aiPrompt:e})}),this.renderSpacePicker=e=>{if(this.state.showSpacePicker){const t=s.a.createElement(ue.a,{authBG:this.props.authBG,spacesBG:this.props.spacesBG,annotationsCache:this.props.annotationsCache,contentSharingBG:this.props.contentSharingBG,bgScriptBG:this.props.bgScriptsBG,analyticsBG:this.props.analyticsBG,pageActivityIndicatorBG:this.props.pageActivityIndicatorBG,getRootElement:()=>this.props.mount.rootElement,localStorageAPI:this.props.localStorageAPI,selectEntry:e=>this.selectSpaceForAnnotation(e),unselectEntry:e=>this.removeSpaceForAnnotation(e),onSpaceCreate:()=>null,initialSelectedListIds:()=>{var e,t;return de.c(this.props.annotationsCache,null!==(t=null===(e=this.state.currentAnnotation)||void 0===e?void 0:e.unifiedListIds)&&void 0!==t?t:[])},closePicker:()=>this.toggleSpacePicker(!1)});return e?s.a.createElement(F.a,{targetElementRef:e.current,placement:"bottom-start",getPortalRoot:this.props.getRootElement,offsetX:12,offsetY:-10,closeComponent:()=>this.toggleSpacePicker(!1),blockedBackground:!0,blockedBackgroundTransparent:!0,instaClose:!0},t):t}},this.syncSettings=Object(me.a)({syncSettingsBG:this.props.syncSettingsBG})}componentDidMount(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.setState({themeVariant:yield Object(ce.a)()}),this.summarisePageEvents=Object(pe.c)("pageSummary"),this.summarisePageEvents.on("setActiveSidebarTab",(({activeTab:e})=>{this.setState({askAITabActive:!0})})),document.addEventListener("selectionchange",(()=>{var e;const t=Object(N.a)(null===(e=this.props.getWindow())||void 0===e?void 0:e.getSelection());t&&this.setState({currentSelection:t})}))}))}render(){const{themeVariant:e}=this.state;if(!e)return null;const{props:t}=this;return s.a.createElement(u.StyleSheetManager,{target:t.mount.shadowRoot},s.a.createElement(u.ThemeProvider,{theme:Object(ce.b)({variant:e})},s.a.createElement(U,Object.assign({onTooltipInit:t.onTooltipInit},t.params,{context:"extension",getRootElement:()=>t.mount.rootElement,setCurrentAnnotation:this.setCurrentAnnotation,renderSpacePicker:e=>this.renderSpacePicker(e),promptTemplates:this.renderPromptTemplates,saveAnnotation:this.saveAnnotation,getAnnotationData:this.getAnnotationData,currentAnnotationLists:this.state.currentAnnotationLists,getHighlightColorsSettings:this.getHighlightColorsSettings,currentAnnotation:this.state.currentAnnotation,getAnnotationLists:this.getAnnotationLists,toggleSpacePicker:this.toggleSpacePicker,removeSpaceForAnnotation:this.removeSpaceForAnnotation,selectSpaceForAnnotation:this.selectSpaceForAnnotation,updateSpacesSearchSuggestions:this.updateSpacesSearchSuggestions,spaceSearchResults:this.state.spaceSearchResults,addNewSpaceViaWikiLinks:this.addNewSpaceViaWikiLinks,isAskAIOpen:this.state.askAITabActive,showSpacePicker:this.state.showSpacePicker,aiPrompt:this.state.aiPrompt,themeVariant:e,renderHighlightColorPicker:this.renderHighlightColorPicker,showColorPicker:this.state.showColorPicker,toggleTooltipState:t.toggleTooltipState,tooltip:t.params.tooltip,shouldInitTooltip:t.shouldInitTooltip}))))}}n(32);var ye=n(38),be=n(107);n(279);const we="memex-tooltip-notification";const xe=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){(yield be.c(ye.b.annotation))===ye.e.annotation.notifiedSelectOption&&(yield be.g(ye.b.annotation,e),function(){const e=document.querySelector(`.${we}`);e&&e.remove()}())}));var ke=n(110);let Se=null;let Ee,Ce=null,Ae=null,Oe=!1,Ie=!0;const De=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){var t,n;Ce||(Ce=e.mount.rootElement,Ae=yield function(e,t,n){return new Promise((o=>Object(r.__awaiter)(this,void 0,void 0,(function*(){c.a.render(s.a.createElement(ve,{mount:e,params:t,onTooltipInit:o,annotationsBG:n.annotationsBG,annotationsCache:n.annotationsCache,contentSharingBG:n.contentSharingBG,authBG:n.authBG,spacesBG:n.spacesBG,bgScriptsBG:n.bgScriptsBG,analyticsBG:n.analyticsBG,pageActivityIndicatorBG:n.pageActivityIndicatorBG,localStorageAPI:n.localStorageAPI,getRootElement:n.getRootElement,inPageUI:n.inPageUI,syncSettingsBG:n.syncSettingsBG,createHighlight:t.createHighlight,getWindow:t.getWindow,toggleTooltipState:n.toggleTooltipState,tooltip:t.tooltip,shouldInitTooltip:t.shouldInitTooltip}),e.rootElement)}))))}(e.mount,{getWindow:()=>window,createAnnotation:(...t)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){yield e.createAnnotation(...t),yield xe(ye.e.annotation.annotationCreated)})),createHighlight:(...t)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.createHighlight(...t)})),deleteAnnotation:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield e.deleteAnnotation(t)})),askAI:e.askAI,getKBShortcuts:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield Object(ke.a)(),t=({shortcut:e})=>e.split("+");return{createAnnotation:t(e.createAnnotation),createHighlight:t(e.createHighlight),addToCollection:t(e.addToCollection),copyCurrentLink:t(e.copyCurrentLink),askAI:t(e.askAI)}})),onTooltipHide:()=>e.inPageUI.hideTooltip(),onTooltipClose:()=>e.inPageUI.removeTooltip(),toggleTooltipState:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){e.toggleTooltipState})),onExternalDestroy:t=>{var n;const r=e=>{"tooltip"in e.changes&&(e.newState.tooltip||(o.a.trackEvent({category:"InPageTooltip",action:"closeTooltip"}),t()))};null===(n=e.inPageUI.events)||void 0===n||n.on("stateChanged",r),Ee=()=>{var t;return null===(t=e.inPageUI.events)||void 0===t?void 0:t.removeListener("stateChanged",r)}},getHighlightColorsSettings:()=>null,saveHighlightColorsSettings:t=>e.saveHighlightColorsSettings(t),openPDFinViewer:t=>e.openPDFinViewer(t),getRootElement:()=>Ce,imageSupportBG:e.imageSupportBG,setCurrentAnnotation:()=>{},saveAnnotation:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){})),renderSpacePicker:()=>null,analyticsBG:e.analyticsBG,openAnnotationEdit:t=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){const n=(e,n)=>{t(e.annotationCacheId,e.selection,e.openForSpaces),n&&n(!0)};e.inPageUI.events.on("tooltipAction",((e,t)=>{e.annotationCacheId||e.openForSpaces?(n(e,t),t(!0)):(n(e,t),Ie=!0),t(!0)}))})),currentAnnotation:null,getAnnotationData:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return{}})),getAnnotationLists:()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return[]})),toggleSpacePicker:e=>{},removeSpaceForAnnotation:e=>{},selectSpaceForAnnotation:e=>{},updateSpacesSearchSuggestions:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return[]})),spaceSearchResults:[],addNewSpaceViaWikiLinks:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){})),openImageInPreview:e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return null})),tooltip:{getState:e.tooltip.getState,setState:e.tooltip.setState},shouldInitTooltip:Ie},{annotationsBG:e.annotationsBG,annotationsCache:e.annotationsCache,analyticsBG:e.analyticsBG,contentSharingBG:e.contentSharingBG,authBG:e.authBG,spacesBG:e.spacesBG,bgScriptsBG:e.bgScriptsBG,pageActivityIndicatorBG:e.pageActivityIndicatorBG,localStorageAPI:e.localStorageAPI,getRootElement:()=>Ce,inPageUI:e.inPageUI,syncSettingsBG:e.syncSettingsBG,createHighlight:e.createHighlight,getWindow:()=>window,toggleTooltipState:e.toggleTooltipState,tooltip:{getState:e.tooltip.getState,setState:e.tooltip.setState},shouldInitTooltip:Ie}),t=()=>{e.inPageUI.showTooltip()},n=null,Se=e=>{_e({callback:t,toolbarNotifications:n},e)},document.body.addEventListener("mouseup",Se),_e({callback:()=>e.inPageUI.showTooltip()}))})),Me=e=>{var t;(Oe=!!(null==e?void 0:e.override),Ce)&&(null==Ee||Ee(),document.body.removeEventListener("mouseup",Se),Se=null,t=Ce,c.a.unmountComponentAtNode(t),Ce.remove(),Ce=null,Ae=null)},Te=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){null==Ae&&(yield De(e));let t=0;for(;null==Ae&&t<20;)yield new Promise((e=>setTimeout(e,50*Math.pow(1.5,t)))),t++;if(null==Ae)return void console.error("Failed to initialize showTooltip after multiple attempts");const n=Re();Ae(n)})),_e=Object(i.a)((({callback:e,toolbarNotifications:t},n)=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){if(!Pe()||n&&function(e){const t=document.querySelector("#memex-tooltip-container");if(!t)return!0;return t.contains(e.target)}(n))return;let i;i=Re(),o.a.trackEvent({category:"InPageTooltip",action:"showTooltip"}),e(i),(({toolbarNotifications:e,position:t})=>{Object(r.__awaiter)(void 0,void 0,void 0,(function*(){be.e()&&(yield be.c(ye.b.annotation))===ye.e.annotation.notifiedHighlightText&&(e._destroyRootElement(),yield be.g(ye.b.annotation,ye.e.annotation.notifiedSelectOption))}))})({toolbarNotifications:t,position:i})}))),10);function Re(){const e=document.getSelection();if(!e||0===e.rangeCount)return{x:window.innerWidth/2,y:window.innerHeight/2};const t=e.getRangeAt(0).getBoundingClientRect();return{x:t.left+t.width/2,y:window.pageYOffset+t.top+t.height}}function Pe(){const e=document.getSelection();if("None"===e.type)return!1;const t=e.toString().trim(),n=function(e){let t=e.parentElement;for(;t;){if("true"===t.contentEditable||"A"===t.nodeName)return!0;t=t.parentElement}return!1}(e.getRangeAt(0).commonAncestorContainer);return!(!e||e.isCollapsed||!t||n)}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(220),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),i=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:w.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var C=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case i:l=!0}}if(l)return a=a(l=e),e=""===r?"."+A(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),O(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+A(s=e[c],c);l+=O(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=O(s=s.value,t,n,u=r+A(s,c++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var M={current:null};function T(){var e=M.current;if(null===e)throw Error(f(321));return e}var _={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.0-alpha.0-2d131d782"},function(e,t,n){"use strict";var r=n(0),o=n(220),i=n(523);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function g(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,S=60106,E=60107,C=60108,A=60114,O=60109,I=60110,D=60112,M=60113,T=60120,_=60115,R=60116,P=60121,L=60128,N=60129,j=60130,B=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;k=F("react.element"),S=F("react.portal"),E=F("react.fragment"),C=F("react.strict_mode"),A=F("react.profiler"),O=F("react.provider"),I=F("react.context"),D=F("react.forward_ref"),M=F("react.suspense"),T=F("react.suspense_list"),_=F("react.memo"),R=F("react.lazy"),P=F("react.block"),F("react.scope"),L=F("react.opaque.id"),N=F("react.debug_trace_mode"),j=F("react.offscreen"),B=F("react.legacy_hidden")}var z,$="function"==typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}function U(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function V(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case A:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return G(e.type);case P:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Ie=null,De=null;function Me(e){if(e=Jr(e)){if("function"!=typeof Oe)throw Error(a(280));var t=e.stateNode;t&&(t=Qr(t),Oe(e.stateNode,e.type,t))}}function Te(e){Ie?De?De.push(e):De=[e]:Ie=e}function _e(){if(Ie){var e=Ie,t=De;if(De=Ie=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Re(e,t){return e(t)}function Pe(e,t,n,r,o){return e(t,n,r,o)}function Le(){}var Ne=Re,je=!1,Be=!1;function Fe(){null===Ie&&null===De||(Le(),_e())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=Qr(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var $e=!1;if(d)try{var He={};Object.defineProperty(He,"passive",{get:function(){$e=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(ge){$e=!1}function Ue(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var We=!1,Ve=null,qe=!1,Ge=null,Ye={onError:function(e){We=!0,Ve=e}};function Ke(e,t,n,r,o,i,a,s,l){We=!1,Ve=null,Ue.apply(Ye,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Je(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Qe(o),e;if(i===r)return Qe(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,ot,it=!1,at=[],st=null,lt=null,ct=null,ut=new Map,dt=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=ht(t,n,r,o,i),null!==t&&(null!==(t=Jr(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function vt(e){var t=Kr(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Jr(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=Jr(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(bt),dt.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wt)))}function kt(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&xt(st,e),null!==lt&&xt(lt,e),null!==ct&&xt(ct,e),ut.forEach(t),dt.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)vt(n),null===n.blockedOn&&pt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},At={};function Ot(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in At)return Ct[e]=n[t];return e}d&&(At=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var It=Ot("animationend"),Dt=Ot("animationiteration"),Mt=Ot("animationstart"),Tt=Ot("transitionend"),_t=new Map,Rt=new Map,Pt=["abort","abort",It,"animationEnd",Dt,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Rt.set(r,t),_t.set(r,o),c(o,[r])}}(0,i.unstable_now)();var Nt=8;function jt(e){if(1&e)return Nt=15,1;if(2&e)return Nt=14,2;if(4&e)return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):32&e?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):256&e?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):4096&e?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):134217728&e?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):1073741824&e?(Nt=1,1073741824):(Nt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,o=Nt=15;else if(0!==(i=134217727&n)){var l=i&~a;0!==l?(r=jt(l),o=Nt):0!==(s&=i)&&(r=jt(s),o=Nt)}else 0!==(i=n&~a)?(r=jt(i),o=Nt):0!==s&&(r=jt(s),o=Nt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&a)){if(jt(t),o<=Nt)return t;Nt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Ut(t)),r|=e[n],t&=~o;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=$t(24&~t))?zt(10,t):e;case 10:return 0===(e=$t(192&~t))?zt(8,t):e;case 8:return 0===(e=$t(3584&~t))&&(0===(e=$t(4186112&~t))&&(e=512)),e;case 2:return 0===(t=$t(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function $t(e){return e&-e}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Vt|0)|0},Wt=Math.log,Vt=Math.LN2;var qt=i.unstable_UserBlockingPriority,Gt=i.unstable_runWithPriority,Yt=!0;function Kt(e,t,n,r){je||Le();var o=Xt,i=je;je=!0;try{Pe(o,e,t,n,r)}finally{(je=i)||Fe()}}function Jt(e,t,n,r){Gt(qt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var o;if(Yt)if((o=!(4&t))&&0<at.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var i=Qt(e,t,n,r);if(null===i)o&&mt(e,r);else{if(o){if(-1<ft.indexOf(e))return e=ht(i,e,t,n,r),void at.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return st=gt(st,e,t,n,r,o),!0;case"dragenter":return lt=gt(lt,e,t,n,r,o),!0;case"mouseover":return ct=gt(ct,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ut.set(i,gt(ut.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,dt.set(i,gt(dt.get(i)||null,e,t,n,r,o)),!0}return!1}(i,e,t,n,r))return;mt(e,r)}Ir(e,t,r,null,n)}}}function Qt(e,t,n,r){var o=Ae(r);if(null!==(o=Kr(o))){var i=Je(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=Xe(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Ir(e,t,r,o,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0};function an(){return!0}function sn(){return!1}function ln(e,t,n,r,o){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:on;for(var a in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=o,this.currentTarget=null,i)if(i.hasOwnProperty(a)){var s=i[a];this[a]=s?s(r):r[a]}return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?an:sn,this.isPropagationStopped=sn,this}o(ln.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an});var cn,un,dn,pn=o({},on,{view:0,detail:0}),fn=o({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,un=e.screenY-dn.screenY):un=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),hn=o({},fn,{dataTransfer:0}),mn=o({},pn,{relatedTarget:0}),gn=o({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),vn=o({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=o({},on,{data:0}),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return kn}var En=o({},pn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=o({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),An=o({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn}),On=o({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),In=o({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Tn=null;d&&"documentMode"in document&&(Tn=document.documentMode);var _n=d&&"TextEvent"in window&&!Tn,Rn=d&&(!Mn||Tn&&8<Tn&&11>=Tn),Pn=String.fromCharCode(32),Ln=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function $n(e,t,n,r){n=new ln("onChange","change",null,n,r),Te(r),Mr(t,e,n)}var Hn=null,Un=null;function Wn(e){kr(e,0)}function Vn(e){if(X(Xr(e)))return e}function qn(e,t){if("change"===e)return t}var Gn=!1;if(d){var Yn;if(d){var Kn="oninput"in document;if(!Kn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Kn="function"==typeof Jn.oninput}Yn=Kn}else Yn=!1;Gn=Yn&&(!document.documentMode||9<document.documentMode)}function Xn(){Hn&&(Hn.detachEvent("onpropertychange",Qn),Un=Hn=null)}function Qn(e){if("value"===e.propertyName&&Vn(Un)){var t=[];if($n(t,Un,e,Ae(e)),e=Wn,je)e(t);else{je=!0;try{Re(e,t)}finally{je=!1,Fe()}}}}function Zn(e,t,n){"focusin"===e?(Xn(),Un=n,(Hn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Xn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Un)}function tr(e,t){if("click"===e)return Vn(t)}function nr(e,t){if("input"===e||"change"===e)return Vn(t)}var rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},or=Object.prototype.hasOwnProperty;function ir(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!or.call(t,n[r])||!rr(e[n[r]],t[n[r]]))return!1;return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var dr=d&&"documentMode"in document&&11>=document.documentMode,pr=null,fr=null,hr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&ur(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&ir(hr,r)||(hr=r,(t=new ln("onSelect","select",null,t,n)).target=pr,Mr(fr,e,t)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Pt,2);for(var vr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),yr=0;yr<vr.length;yr++)Rt.set(vr[yr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,l,c){if(Ke.apply(this,arguments),We){if(!We)throw Error(a(198));var u=Ve;We=!1,Ve=null,qe||(qe=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;xr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;xr(o,s,c),i=l}}}if(qe)throw e=Ge,qe=!1,Ge=null,e}function Sr(e,t){var n=Zr(t),r=e+"__bubble";void 0===n.get(r)&&(e=Or(t,e,2,!1),n.set(r,{passive:!1,listener:e}))}var Er="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[Er]||(e[Er]=!0,s.forEach((function(t){wr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r,o,i){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),void 0!==o||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(o=!0),null!==r&&!t&&wr.has(e)){if("scroll"!==e)return;a|=2,s=r}var l=Zr(s),c=e+"__"+(t?"capture":"bubble"),u=l.get(c),d=void 0!==u&&!0===u.passive&&!o;(void 0===u||d)&&(d&&s.removeEventListener(e,u.listener,t),t&&(a|=4),a=Or(s,e,a,t,!1,o,i),l.set(c,{passive:o,listener:a}))}function Or(e,t,n,r,o,i,a){switch(void 0===a?o=void 0===(o=Rt.get(t))?2:o:o=a,o){case 0:o=Kt;break;case 1:o=Jt;break;default:o=Xt}return n=o.bind(null,t,n,e),!0!==i||$e||(i=!1),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1),n}function Ir(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Kr(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{return Ne(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=i,o=Ae(n),a=[];e:{var s=_t.get(e);if(void 0!==s){var l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":var c=En;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=An;break;case It:case Dt:case Mt:c=gn;break;case Tt:c=On;break;case"scroll":c=pn;break;case"wheel":c=In;break;case"copy":case"cut":case"paste":c=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}s=new ln(s,l,null,n,o,c),l=!(c=!!(4&t))&&"scroll"===e;for(var u=s._reactName,d=null!==u?u+"Capture":null,p=[],f=r;null!==f;){var h=f,m=h.stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&c&&(null!=(m=ze(f,d))&&p.push(Dr(f,m,h))),null===u||c||null!=(m=ze(f,u))&&p.push(Dr(f,m,h))),l)break;f=f.return}0!==p.length&&a.push({event:s,listeners:p})}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(l=n.relatedTarget||n.fromElement)||!Kr(l)&&!l[Gr])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?Kr(l):null)&&(l!==(u=Je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(d=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cn,m="onPointerLeave",p="onPointerEnter",f="pointer"),u=null==c?s:Xr(c),h=null==l?s:Xr(l),(s=new ln(m,f+"leave",c,n,o,d)).target=u,s.relatedTarget=h,m=null,Kr(o)===r&&((d=new ln(p,f+"enter",l,n,o,d)).target=h,d.relatedTarget=u,m=d),u=m,c&&l)e:{for(p=l,f=0,h=d=c;h;h=Tr(h))f++;for(h=0,m=p;m;m=Tr(m))h++;for(;0<f-h;)d=Tr(d),f--;for(;0<h-f;)p=Tr(p),h--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=Tr(d),p=Tr(p)}d=null}else d=null;null!==c&&_r(a,s,c,d,!1),null!==l&&null!==u&&_r(a,u,l,d,!0)}if("select"===(c=(s=r?Xr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=qn;else if(zn(s))if(Gn)g=nr;else{g=er;var v=Zn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?$n(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&oe(s,"number",s.value)),v=r?Xr(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(pr=v,fr=r,hr=null);break;case"focusout":hr=fr=pr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(a,n,o);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(a,n,o)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=nn()):(en="value"in(Zt=o)?Zt.value:Zt.textContent,Bn=!0)),Mr(r,a,b=new ln(b,e,null,n,o,yn)),y?b.data=y:null!==(y=jn(n))&&(b.data=y)),(y=_n?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Pn);case"textInput":return(e=t.data)===Pn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Mn&&Nn(e,t)?(e=nn(),tn=en=Zt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(Mr(r,a,o=new ln("onBeforeInput","beforeinput",null,n,o,yn)),o.data=y)}kr(a,t)}))}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t,n){for(var r=n._reactName,o=null!==r?r+"Capture":null,i=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!==o&&(null!=(s=ze(e,o))&&i.unshift(Dr(e,s,a))),null!==r&&(null!=(s=ze(e,r))&&i.push(Dr(e,s,a)))),e=e.return}0!==i.length&&t.push({event:n,listeners:i})}function Tr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _r(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=ze(n,i))&&a.unshift(Dr(n,l,s)):o||null!=(l=ze(n,i))&&a.push(Dr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Rr(){}var Pr=null,Lr=null;function Nr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"==typeof setTimeout?setTimeout:void 0,Fr="function"==typeof clearTimeout?clearTimeout:void 0;function zr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ur=0;var Wr=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Wr,qr="__reactProps$"+Wr,Gr="__reactContainer$"+Wr,Yr="__reactEvents$"+Wr;function Kr(e){var t=e[Vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gr]||n[Vr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Hr(e);null!==e;){if(n=e[Vr])return n;e=Hr(e)}return t}n=(e=n).parentNode}return null}function Jr(e){return!(e=e[Vr]||e[Gr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Qr(e){return e[qr]||null}function Zr(e){var t=e[Yr];return void 0===t&&(t=e[Yr]=new Map),t}var eo=[],to=-1;function no(e){return{current:e}}function ro(e){0>to||(e.current=eo[to],eo[to]=null,to--)}function oo(e,t){to++,eo[to]=e.current,e.current=t}var io={},ao=no(io),so=no(!1),lo=io;function co(e,t){var n=e.type.contextTypes;if(!n)return io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function uo(e){return null!=(e=e.childContextTypes)}function po(){ro(so),ro(ao)}function fo(e,t,n){if(ao.current!==io)throw Error(a(168));oo(ao,t),oo(so,n)}function ho(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,G(t)||"Unknown",i));return o({},n,r)}function mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||io,lo=ao.current,oo(ao,e),oo(so,so.current),!0}function go(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ho(e,t,lo),r.__reactInternalMemoizedMergedChildContext=e,ro(so),ro(ao),oo(ao,e)):ro(so),oo(so,n)}var vo=null,yo=null,bo=i.unstable_runWithPriority,wo=i.unstable_scheduleCallback,xo=i.unstable_cancelCallback,ko=i.unstable_shouldYield,So=i.unstable_requestPaint,Eo=i.unstable_now,Co=i.unstable_getCurrentPriorityLevel,Ao=i.unstable_ImmediatePriority,Oo=i.unstable_UserBlockingPriority,Io=i.unstable_NormalPriority,Do=i.unstable_LowPriority,Mo=i.unstable_IdlePriority,To={},_o=void 0!==So?So:function(){},Ro=null,Po=null,Lo=!1,No=Eo(),jo=1e4>No?Eo:function(){return Eo()-No};function Bo(){switch(Co()){case Ao:return 99;case Oo:return 98;case Io:return 97;case Do:return 96;case Mo:return 95;default:throw Error(a(332))}}function Fo(e){switch(e){case 99:return Ao;case 98:return Oo;case 97:return Io;case 96:return Do;case 95:return Mo;default:throw Error(a(332))}}function zo(e,t){return e=Fo(e),bo(e,t)}function $o(e,t,n){return e=Fo(e),wo(e,t,n)}function Ho(){if(null!==Po){var e=Po;Po=null,xo(e)}Uo()}function Uo(){if(!Lo&&null!==Ro){Lo=!0;var e=0;try{var t=Ro;zo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ro=null}catch(t){throw null!==Ro&&(Ro=Ro.slice(e+1)),wo(Ao,Ho),t}finally{Lo=!1}}}function Wo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Vo=no(null),qo=null,Go=null,Yo=null;function Ko(){Yo=Go=qo=null}function Jo(e){var t=Vo.current;ro(Vo),e.type._context._currentValue=t}function Xo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Qo(e,t){qo=e,Yo=Go=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function Zo(e,t){if(Yo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Yo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Go){if(null===qo)throw Error(a(308));Go=t,qo.dependencies={lanes:0,firstContext:t,responders:null}}else Go=Go.next=t;return e._currentValue}var ei=!1;function ti(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ii(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ai(e,t,n,r){var i=e.updateQueue;ei=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=u:p.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(p=i.baseState,s=0,d=u=c=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){p=h.call(f,p,l);break e}p=h;break e;case 3:h.effectTag=-4097&h.effectTag|64;case 0:if(null==(l="function"==typeof(h=m.payload)?h.call(f,p,l):h))break e;p=o({},p,l);break e;case 2:ei=!0}}null!==a.callback&&(e.effectTag|=32,null===(l=i.effects)?i.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=f,c=p):d=d.next=f,s|=l;if(null===(a=a.next)){if(null===(l=i.shared.pending))break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===d&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,Ps|=s,e.lanes=s,e.memoizedState=p}}function si(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var li=x.ReactCurrentBatchConfig,ci=(new r.Component).refs;function ui(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var di={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=il(),o=al(e,li.suspense),i=ri(r,o);i.payload=t,null!=n&&(i.callback=n),oi(e,i),sl(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=il(),o=al(e,li.suspense),i=ri(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),oi(e,i),sl(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=il(),r=al(e,li.suspense),o=ri(n,r);o.tag=2,null!=t&&(o.callback=t),oi(e,o),sl(e,r,n)}};function pi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(o,i))}function fi(e,t,n){var r=!1,o=io,i=t.contextType;return"object"==typeof i&&null!==i?i=Zo(i):(o=uo(t)?lo:ao.current,i=(r=null!=(r=t.contextTypes))?co(e,o):io),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function hi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function mi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ci,ti(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Zo(i):(i=uo(t)?lo:ao.current,o.context=co(e,i)),ai(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(ui(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&di.enqueueReplaceState(o,o.state,null),ai(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var gi=Array.isArray;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===ci&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function yi(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function bi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=zl(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=$l(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=zl(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case S:return(t=Wl(t,e.mode,n)).return=e,t}if(gi(t)||H(t))return(t=$l(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?n.type===E?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null}if(gi(n)||H(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,o,r.key):c(t,e,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(gi(r)||H(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(o,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),c}function g(o,s,l,c){var u=H(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(o,y.value,c))&&(s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=h(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),u}return function(e,r,i,l){var c="object"==typeof i&&null!==i&&i.type===E&&null===i.key;c&&(i=i.props.children);var u="object"==typeof i&&null!==i;if(u)switch(i.$$typeof){case k:e:{for(u=i.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(i.type===E){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=vi(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===E?((r=$l(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=zl(i.type,i.key,i.props,null,e.mode,l)).ref=vi(e,r,i),l.return=e,e=l)}return s(e);case S:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wl(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Ul(i,e.mode,l)).return=e,e=r),s(e);if(gi(i))return m(e,r,i,l);if(H(i))return g(e,r,i,l);if(u&&yi(e,i),void 0===i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var wi=bi(!0),xi=bi(!1),ki={},Si=no(ki),Ei=no(ki),Ci=no(ki);function Ai(e){if(e===ki)throw Error(a(174));return e}function Oi(e,t){switch(oo(Ci,t),oo(Ei,e),oo(Si,ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ro(Si),oo(Si,t)}function Ii(){ro(Si),ro(Ei),ro(Ci)}function Di(e){Ai(Ci.current);var t=Ai(Si.current),n=he(t,e.type);t!==n&&(oo(Ei,e),oo(Si,n))}function Mi(e){Ei.current===e&&(ro(Si),ro(Ei))}var Ti=no(0);function _i(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.effectTag)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ri=null,Pi=null,Li=!1;function Ni(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ji(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Bi(e){if(Li){var t=Pi;if(t){var n=t;if(!ji(e,t)){if(!(t=$r(n.nextSibling))||!ji(e,t))return e.effectTag=-1025&e.effectTag|2,Li=!1,void(Ri=e);Ni(Ri,n)}Ri=e,Pi=$r(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Li=!1,Ri=e}}function Fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ri=e}function zi(e){if(e!==Ri)return!1;if(!Li)return Fi(e),Li=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jr(t,e.memoizedProps))for(t=Pi;t;)Ni(e,t),t=$r(t.nextSibling);if(Fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pi=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pi=null}}else Pi=Ri?$r(e.stateNode.nextSibling):null;return!0}function $i(){Pi=Ri=null,Li=!1}var Hi=[];function Ui(){for(var e=0;e<Hi.length;e++)Hi[e]._workInProgressVersionPrimary=null;Hi.length=0}var Wi=x.ReactCurrentDispatcher,Vi=x.ReactCurrentBatchConfig,qi=0,Gi=null,Yi=null,Ki=null,Ji=!1,Xi=!1;function Qi(){throw Error(a(321))}function Zi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,o,i){if(qi=i,Gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wi.current=null===e||null===e.memoizedState?Aa:Oa,e=n(r,o),Xi){i=0;do{if(Xi=!1,!(25>i))throw Error(a(301));i+=1,Ki=Yi=null,t.updateQueue=null,Wi.current=Ia,e=n(r,o)}while(Xi)}if(Wi.current=Ca,t=null!==Yi&&null!==Yi.next,qi=0,Ki=Yi=Gi=null,Ji=!1,t)throw Error(a(300));return e}function ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ki?Gi.memoizedState=Ki=e:Ki=Ki.next=e,Ki}function na(){if(null===Yi){var e=Gi.alternate;e=null!==e?e.memoizedState:null}else e=Yi.next;var t=null===Ki?Gi.memoizedState:Ki.next;if(null!==t)Ki=t,Yi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Yi=e).memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},null===Ki?Gi.memoizedState=Ki=e:Ki=Ki.next=e}return Ki}function ra(e,t){return"function"==typeof t?t(e):t}function oa(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Yi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=s=i=null,c=o;do{var u=c.lane;if((qi&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,i=r):l=l.next=d,Gi.lanes|=u,Ps|=u}c=c.next}while(null!==c&&c!==o);null===l?i=r:l.next=s,rr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ia(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);rr(i,t.memoizedState)||(Ma=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function aa(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(qi&e)===e)&&(t._workInProgressVersionPrimary=r,Hi.push(t))),e)return n(t._source);throw Hi.push(t),Error(a(350))}function sa(e,t,n,r){var o=As;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),l=Wi.current,c=l.useState((function(){return aa(o,t,n)})),u=c[1],d=c[0];c=Ki;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var g=Gi;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=i(t._source);if(!rr(s,e)){e=n(t._source),rr(d,e)||(u(e),e=al(g,li.suspense),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,a=e;0<a;){var l=31-Ut(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=al(g,li.suspense);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),rr(h,n)&&rr(m,t)&&rr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:d}).dispatch=u=Ea.bind(null,Gi,e),c.queue=e,c.baseQueue=null,d=aa(o,t,n),c.memoizedState=c.baseState=d),d}function la(e,t,n){return sa(na(),e,t,n)}function ca(e){var t=ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e}).dispatch=Ea.bind(null,Gi,e),[t.memoizedState,e]}function ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Gi.updateQueue)?(t={lastEffect:null},Gi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function da(){return na().memoizedState}function pa(e,t,n,r){var o=ta();Gi.effectTag|=e,o.memoizedState=ua(1|t,n,void 0,void 0===r?null:r)}function fa(e,t,n,r){var o=na();r=void 0===r?null:r;var i=void 0;if(null!==Yi){var a=Yi.memoizedState;if(i=a.destroy,null!==r&&Zi(r,a.deps))return void ua(t,n,i,r)}Gi.effectTag|=e,o.memoizedState=ua(1|t,n,i,r)}function ha(e,t){return pa(516,4,e,t)}function ma(e,t){return fa(516,4,e,t)}function ga(e,t){return fa(4,2,e,t)}function va(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ya(e,t,n){return n=null!=n?n.concat([e]):null,fa(4,2,va.bind(null,t,e),n)}function ba(){}function wa(e,t){return ta().memoizedState=[e,void 0===t?null:t],e}function xa(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sa(e,t,n){var r=Bo();zo(98>r?98:r,(function(){e(!0)})),zo(97<r?97:r,(function(){var r=Vi.suspense;Vi.suspense=void 0===t?null:t;try{e(!1),n()}finally{Vi.suspense=r}}))}function Ea(e,t,n){var r=il(),o=al(e,li.suspense),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Gi||null!==a&&a===Gi)Xi=Ji=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(i.eagerReducer=a,i.eagerState=l,rr(l,s))return}catch(e){}sl(e,o,r)}}var Ca={readContext:Zo,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useMutableSource:Qi,useOpaqueIdentifier:Qi,unstable_isNewReconciler:!1},Aa={readContext:Zo,useCallback:wa,useContext:Zo,useEffect:ha,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,pa(4,2,va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pa(4,2,e,t)},useMemo:function(e,t){var n=ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ea.bind(null,Gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ta().memoizedState=e},useState:ca,useDebugValue:ba,useDeferredValue:function(e,t){var n=ca(e),r=n[0],o=n[1];return ha((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{o(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ca(!1),n=t[0];return t=t[1],[wa(Sa.bind(null,t,e),[t,e]),n]},useMutableSource:function(e,t,n){var r=ta();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},sa(r,e,t,n)},useOpaqueIdentifier:function(){if(Li){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ur++).toString(36))),Error(a(355))})),n=ca(t)[1];return!(2&Gi.mode)&&(Gi.effectTag|=516,ua(5,(function(){n("r:"+(Ur++).toString(36))}),void 0,null)),t}return ca(t="r:"+(Ur++).toString(36)),t},unstable_isNewReconciler:!1},Oa={readContext:Zo,useCallback:xa,useContext:Zo,useEffect:ma,useImperativeHandle:ya,useLayoutEffect:ga,useMemo:ka,useReducer:oa,useRef:da,useState:function(){return oa(ra)},useDebugValue:ba,useDeferredValue:function(e,t){var n=oa(ra),r=n[0],o=n[1];return ma((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{o(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=oa(ra),n=t[0];return t=t[1],[xa(Sa.bind(null,t,e),[t,e]),n]},useMutableSource:la,useOpaqueIdentifier:function(){return oa(ra)[0]},unstable_isNewReconciler:!1},Ia={readContext:Zo,useCallback:xa,useContext:Zo,useEffect:ma,useImperativeHandle:ya,useLayoutEffect:ga,useMemo:ka,useReducer:ia,useRef:da,useState:function(){return ia(ra)},useDebugValue:ba,useDeferredValue:function(e,t){var n=ia(ra),r=n[0],o=n[1];return ma((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{o(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(ra),n=t[0];return t=t[1],[xa(Sa.bind(null,t,e),[t,e]),n]},useMutableSource:la,useOpaqueIdentifier:function(){return ia(ra)[0]},unstable_isNewReconciler:!1},Da=x.ReactCurrentOwner,Ma=!1;function Ta(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function _a(e,t,n,r,o){n=n.render;var i=t.ref;return Qo(t,o),r=ea(e,t,n,r,i,o),null===e||Ma?(t.effectTag|=1,Ta(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~o,Qa(e,t,o))}function Ra(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Bl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pa(e,t,a,r,o,i))}return a=e.child,o&i||(o=a.memoizedProps,!(n=null!==(n=n.compare)?n:ir)(o,r)||e.ref!==t.ref)?(t.effectTag|=1,(e=Fl(a,r)).ref=t.ref,e.return=t,t.child=e):Qa(e,t,i)}function Pa(e,t,n,r,o,i){if(null!==e&&ir(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,!(i&o))return t.lanes=e.lanes,Qa(e,t,i);16384&e.effectTag&&(Ma=!0)}return ja(e,t,n,r,i)}function La(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ml(t,e),null;t.memoizedState={baseLanes:0},ml(t,null!==i?i.baseLanes:n)}else t.memoizedState={baseLanes:0},ml(t,n);else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ml(t,r);return Ta(e,t,o,n),t.child}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ja(e,t,n,r,o){var i=uo(n)?lo:ao.current;return i=co(t,i),Qo(t,o),n=ea(e,t,n,r,i,o),null===e||Ma?(t.effectTag|=1,Ta(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~o,Qa(e,t,o))}function Ba(e,t,n,r,o){if(uo(n)){var i=!0;mo(t)}else i=!1;if(Qo(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),fi(t,n,r),mi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Zo(c):c=co(t,c=uo(n)?lo:ao.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&hi(t,a,r,c),ei=!1;var p=t.memoizedState;a.state=p,ai(t,r,a,o),l=t.memoizedState,s!==r||p!==l||so.current||ei?("function"==typeof u&&(ui(t,n,u,r),l=t.memoizedState),(s=ei||pi(t,n,s,r,p,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else{a=t.stateNode,ni(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wo(t.type,s),a.props=c,d=t.pendingProps,p=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Zo(l):l=co(t,l=uo(n)?lo:ao.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==l)&&hi(t,a,r,l),ei=!1,p=t.memoizedState,a.state=p,ai(t,r,a,o);var h=t.memoizedState;s!==d||p!==h||so.current||ei?("function"==typeof f&&(ui(t,n,f,r),h=t.memoizedState),(c=ei||pi(t,n,c,r,p,h,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),r=!1)}return Fa(e,t,n,r,i,o)}function Fa(e,t,n,r,o,i){Na(e,t);var a=!!(64&t.effectTag);if(!r&&!a)return o&&go(t,n,!1),Qa(e,t,i);r=t.stateNode,Da.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):Ta(e,t,s,i),t.memoizedState=r.state,o&&go(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?fo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&fo(0,t.context,!1),Oi(e,t.containerInfo)}var $a,Ha,Ua,Wa,Va={dehydrated:null,retryLane:0};function qa(e,t,n){var r,o=t.pendingProps,i=Ti.current,a=!1;return(r=!!(64&t.effectTag))||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),oo(Ti,1&i),null===e?(void 0!==o.fallback&&Bi(t),a?(e=o.fallback,i=t.mode,a=t.child,o={mode:"hidden",children:o.children},2&i||null===a?a=Hl(o,i,0,null):(a.childLanes=0,a.pendingProps=o),e=$l(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState={baseLanes:n},t.memoizedState=Va,e):((n=Hl({mode:"visible",children:o.children},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=Ya(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Va,o):(n=Ga(e,t,o.children,n),t.memoizedState=null,n))}function Ga(e,t,n,r){var o=e.child;return e=o.sibling,n=Fl(o,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.effectTag=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ya(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 2&i||t.child===a?n=Fl(a,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=Fl(e,r):(r=$l(r,i,o,null)).effectTag|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ka(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Xo(e.return,t)}function Ja(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function Xa(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ta(e,t,r.children,n),2&(r=Ti.current))r=1&r|2,t.effectTag|=64;else{if(null!==e&&64&e.effectTag)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n);else if(19===e.tag)Ka(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oo(Ti,r),2&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===_i(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ja(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===_i(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ja(t,!0,n,null,i,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Za(e,t){if(!Li)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return uo(t.type)&&po(),null;case 3:return Ii(),ro(so),ro(ao),Ui(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zi(t)?t.effectTag|=4:r.hydrate||(t.effectTag|=256)),Ha(t),null;case 5:Mi(t);var i=Ai(Ci.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r,i),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ai(Si.current),zi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Vr]=t,r[qr]=s,n){case"dialog":Sr("cancel",r),Sr("close",r);break;case"iframe":case"object":case"embed":Sr("load",r);break;case"video":case"audio":for(e=0;e<br.length;e++)Sr(br[e],r);break;case"source":Sr("error",r);break;case"img":case"image":case"link":Sr("error",r),Sr("load",r);break;case"details":Sr("toggle",r);break;case"input":ee(r,s),Sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sr("invalid",r);break;case"textarea":le(r,s),Sr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):l.hasOwnProperty(c));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Vr]=t,e[qr]=r,$a(e,t,!1,!1),t.stateNode=e,c=Ce(n,r),n){case"dialog":Sr("cancel",e),Sr("close",e),i=r;break;case"iframe":case"object":case"embed":Sr("load",e),i=r;break;case"video":case"audio":for(i=0;i<br.length;i++)Sr(br[i],e);i=r;break;case"source":Sr("error",e),i=r;break;case"img":case"image":case"link":Sr("error",e),Sr("load",e),i=r;break;case"details":Sr("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),Sr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Sr("invalid",e);break;case"textarea":le(e,r),i=se(e,r),Sr("invalid",e);break;default:i=r}Ee(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?ke(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"==typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Sr("scroll",e):null!=d&&w(e,s,d,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Rr)}Nr(n,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wa(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ai(Ci.current),Ai(Si.current),zi(t)?(r=t.stateNode,n=t.memoizedProps,r[Vr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Vr]=t,t.stateNode=r)}return null;case 13:return ro(Ti),r=t.memoizedState,64&t.effectTag?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zi(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Ti.current?0===Ts&&(Ts=3):(0!==Ts&&3!==Ts||(Ts=4),null===As||!(134217727&Ps)&&!(134217727&Ls)||dl(As,Is))),(r||n)&&(t.effectTag|=4),null);case 4:return Ii(),Ha(t),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return Jo(t),null;case 19:if(ro(Ti),null===(r=t.memoizedState))return null;if(s=!!(64&t.effectTag),null===(c=r.rendering))if(s)Za(r,!1);else{if(0!==Ts||null!==e&&64&e.effectTag)for(e=t.child;null!==e;){if(null!==(c=_i(e))){for(t.effectTag|=64,Za(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oo(Ti,1&Ti.current|2),t.child}e=e.sibling}null!==r.tail&&jo()>Fs&&(t.effectTag|=64,s=!0,Za(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=_i(c))){if(t.effectTag|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Za(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Li)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*jo()-r.renderingStartTime>Fs&&1073741824!==n&&(t.effectTag|=64,s=!0,Za(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=jo(),n.sibling=null,t=Ti.current,oo(Ti,s?1&t|2:1&t),n):null;case 23:case 24:return gl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.effectTag|=4),null}throw Error(a(156,t.tag))}function ts(e){switch(e.tag){case 1:uo(e.type)&&po();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ii(),ro(so),ro(ao),Ui(),64&(t=e.effectTag))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Mi(e),null;case 13:return ro(Ti),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ro(Ti),null;case 4:return Ii(),null;case 10:return Jo(e),null;case 23:case 24:return gl(),null;default:return null}}function ns(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function rs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}$a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(){},Ua=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ai(Si.current);var a,s=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Rr)}for(d in Ee(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Sr("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.effectTag|=4)}},Wa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function is(e,t,n){(n=ri(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Us||(Us=!0,Ws=r),rs(0,t)},n}function as(e,t,n){(n=ri(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return rs(0,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Vs?Vs=new Set([this]):Vs.add(this),rs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ss="function"==typeof WeakSet?WeakSet:Set;function ls(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Rl(e,t,n)}else n.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.effectTag&&zr(t.stateNode.containerInfo))}throw Error(a(163))}function us(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,4&(o=o.tag)&&1&o&&(Ml(n,e),Dl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.effectTag&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Wo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&si(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}si(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Nr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(a(163))}function ds(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=xe("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ps(e,t,n){if(yo&&"function"==typeof yo.onCommitFiberUnmount)try{yo.onCommitFiberUnmount(vo,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var o=r,i=o.destroy;if(o=o.tag,void 0!==i)if(4&o)Ml(t,r);else{o=t;var a=n;try{i()}catch(e){Rl(o,a,e)}}r=r.next}while(r!==e)}break;case 1:if(ls(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Rl(t,n,e)}break;case 5:ls(t,n);break;case 4:ys(e,t,n)}}function fs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function hs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(hs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ye(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):vs(e,n,t)}function gs(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rr));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function vs(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var l=e,c=i,u=n,d=c;;)if(ps(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(l=r,c=i.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(ps(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,o),t=Ce(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?ke(n,l):"dangerouslySetInnerHTML"===s?ve(n,l):"children"===s?ye(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?ae(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Bs=jo(),ds(t.child,!0)),void ws(t);case 19:return void ws(t);case 23:case 24:return void ds(t,null!==t.memoizedState)}throw Error(a(163))}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ss),t.forEach((function(t){var r=Ll.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Ss=x.ReactCurrentDispatcher,Es=x.ReactCurrentOwner,Cs=0,As=null,Os=null,Is=0,Ds=0,Ms=no(0),Ts=0,_s=null,Rs=0,Ps=0,Ls=0,Ns=0,js=null,Bs=0,Fs=1/0;function zs(){Fs=jo()+500}var $s,Hs=null,Us=!1,Ws=null,Vs=null,qs=!1,Gs=null,Ys=90,Ks=[],Js=[],Xs=null,Qs=0,Zs=null,el=-1,tl=0,nl=0,rl=null,ol=!1;function il(){return 48&Cs?jo():-1!==el?el:el=jo()}function al(e,t){return 2&(e=e.mode)?4&e?(0===tl&&(tl=Rs),null!==t?(0!==nl&&(nl=null!==js?js.pendingLanes:0),t=tl,e=4186112&~nl,0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e):(t=Bo(),4&Cs&&98===t?t=zt(12,tl):(t=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),t=zt(t,tl)),t)):99===Bo()?1:2:1}function sl(e,t,n){if(50<Qs)throw Qs=0,Zs=null,Error(a(185));if(null===(e=ll(e,t)))return null;Ht(e,t,n),e===As&&(Ls|=t,4===Ts&&dl(e,Is));var r=Bo();1===t?8&Cs&&!(48&Cs)?pl(e):(cl(e,n),0===Cs&&(zs(),Ho())):(!(4&Cs)||98!==r&&99!==r||(null===Xs?Xs=new Set([e]):Xs.add(e)),cl(e,n)),js=e}function ll(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ut(s),c=1<<l,u=i[l];if(-1===u){if(!(c&r)||c&o){u=t,jt(c);var d=Nt;i[l]=10<=d?u+1e3:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Bt(e,e===As?Is:0),t=Nt,0===r)null!==n&&(n!==To&&xo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==To&&xo(n)}15===t?(n=pl.bind(null,e),null===Ro?(Ro=[n],Po=wo(Ao,Uo)):Ro.push(n),n=To):14===t?n=$o(99,pl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=$o(n,ul.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ul(e){if(el=-1,nl=tl=0,48&Cs)throw Error(a(327));var t=e.callbackNode;if(Il()&&e.callbackNode!==t)return null;var n=Bt(e,e===As?Is:0);if(0===n)return null;var r=n,o=Cs;Cs|=16;var i=bl();for(As===e&&Is===r||(zs(),vl(e,r));;)try{kl();break}catch(t){yl(e,t)}if(Ko(),Ss.current=i,Cs=o,null!==Os?r=0:(As=null,Is=0,r=Ts),Rs&Ls)vl(e,0);else if(0!==r){if(2===r&&(Cs|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=Ft(e))&&(r=wl(e,n))),1===r)throw t=_s,vl(e,0),dl(e,n),cl(e,jo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Cl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(r=Bs+500-jo())){if(0!==Bt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){il(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Br(Cl.bind(null,e),r);break}Cl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Ut(n);i=1<<s,(s=r[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=jo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Br(Cl.bind(null,e),n);break}Cl(e);break;default:throw Error(a(329))}}return cl(e,jo()),e.callbackNode===t?ul.bind(null,e):null}function dl(e,t){for(t&=~Ns,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function pl(e){if(48&Cs)throw Error(a(327));if(Il(),e===As&&e.expiredLanes&Is){var t=Is,n=wl(e,t);Rs&Ls&&(n=wl(e,t=Bt(e,t)))}else n=wl(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Cs|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=Ft(e))&&(n=wl(e,t))),1===n)throw n=_s,vl(e,0),dl(e,t),cl(e,jo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e),cl(e,jo()),null}function fl(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs(),Ho())}}function hl(e,t){var n=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=n)&&(zs(),Ho())}}function ml(e,t){oo(Ms,Ds),Ds|=t,Rs|=t}function gl(){Ds=Ms.current,ro(Ms)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Fr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&po();break;case 3:Ii(),ro(so),ro(ao),Ui();break;case 5:Mi(r);break;case 4:Ii();break;case 13:case 19:ro(Ti);break;case 10:Jo(r);break;case 23:case 24:gl()}n=n.return}As=e,Os=Fl(e.current,null),Is=Ds=Rs=t,Ts=0,_s=null,Ns=Ls=Ps=0}function yl(e,t){for(;;){var n=Os;try{if(Ko(),Wi.current=Ca,Ji){for(var r=Gi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Ji=!1}if(qi=0,Ki=Yi=Gi=null,Xi=!1,Es.current=null,null===n||null===n.return){Ts=1,_s=t,Os=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=Is,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=!!(1&Ti.current),p=a;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=p.updateQueue;if(null===g){var v=new Set;v.add(c),p.updateQueue=v}else g.add(c);if(!(2&p.mode)){if(p.effectTag|=64,s.effectTag|=16384,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ri(-1,1);y.tag=2,oi(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new os,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var w=Pl.bind(null,i,c,s);c.then(w,w)}p.effectTag|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ts&&(Ts=2),l=ns(l,s),p=a;do{switch(p.tag){case 3:i=l,p.effectTag|=4096,t&=-t,p.lanes|=t,ii(p,is(0,i,t));break e;case 1:i=l;var x=p.type,k=p.stateNode;if(!(64&p.effectTag||"function"!=typeof x.getDerivedStateFromError&&(null===k||"function"!=typeof k.componentDidCatch||null!==Vs&&Vs.has(k)))){p.effectTag|=4096,t&=-t,p.lanes|=t,ii(p,as(p,i,t));break e}}p=p.return}while(null!==p)}El(n)}catch(e){t=e,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function bl(){var e=Ss.current;return Ss.current=Ca,null===e?Ca:e}function wl(e,t){var n=Cs;Cs|=16;var r=bl();for(As===e&&Is===t||vl(e,t);;)try{xl();break}catch(t){yl(e,t)}if(Ko(),Cs=n,Ss.current=r,null!==Os)throw Error(a(261));return As=null,Is=0,Ts}function xl(){for(;null!==Os;)Sl(Os)}function kl(){for(;null!==Os&&!ko();)Sl(Os)}function Sl(e){var t=$s(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?El(e):Os=t,Es.current=null}function El(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.effectTag){if(null!==(n=ts(t)))return n.effectTag&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(null!==(n=es(n,t,Ds)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Ds||!(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&!(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ts&&(Ts=5)}function Cl(e){var t=Bo();return zo(99,Al.bind(null,e,t)),null}function Al(e,t){do{Il()}while(null!==Gs);if(48&Cs)throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<i;){var c=31-Ut(i),u=1<<c;o[c]=0,s[c]=-1,l[c]=-1,i&=~u}if(null!==Xs&&!(24&r)&&Xs.has(e)&&Xs.delete(e),e===As&&(Os=As=null,Is=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Cs,Cs|=32,Es.current=null,Pr=Yt,ur(s=cr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,i=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,h=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==l||0!==i&&3!==g.nodeType||(p=d+i),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===l&&++h===i&&(p=d),v===c&&++m===u&&(f=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Lr={focusedElem:s,selectionRange:l},Yt=!1,rl=null,ol=!1,Hs=r;do{try{Ol()}catch(e){if(null===Hs)throw Error(a(330));Rl(Hs,Hs.return,e),Hs=Hs.nextEffect}}while(null!==Hs);rl=null,Hs=r;do{try{for(s=e;null!==Hs;){var b=Hs.effectTag;if(16&b&&ye(Hs.stateNode,""),128&b){var w=Hs.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ms(Hs),Hs.effectTag&=-3;break;case 6:ms(Hs),Hs.effectTag&=-3,bs(Hs.alternate,Hs);break;case 1024:Hs.effectTag&=-1025;break;case 1028:Hs.effectTag&=-1025,bs(Hs.alternate,Hs);break;case 4:bs(Hs.alternate,Hs);break;case 8:ys(s,l=Hs,Hs.return);var k=l.alternate;fs(l),null!==k&&fs(k)}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));Rl(Hs,Hs.return,e),Hs=Hs.nextEffect}}while(null!==Hs);if(x=Lr,w=cr(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&lr(b.ownerDocument.documentElement,b)){null!==s&&ur(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,k=Math.min(s.start,l),s=void 0===s.end?k:Math.min(s.end,l),!x.extend&&k>s&&(l=s,s=k,k=l),l=sr(b,k),i=sr(b,s),l&&i&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==i.node||x.focusOffset!==i.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),k>s?(x.addRange(w),x.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Yt=!!Pr,Lr=Pr=null,e.current=n,Hs=r;do{try{for(b=e;null!==Hs;){var S=Hs.effectTag;if(36&S&&us(b,Hs.alternate,Hs),128&S){w=void 0;var E=Hs.ref;if(null!==E){var C=Hs.stateNode;Hs.tag,w=C,"function"==typeof E?E(w):E.current=w}}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));Rl(Hs,Hs.return,e),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,_o(),Cs=o}else e.current=n;if(qs)qs=!1,Gs=e,Ys=t;else for(Hs=r;null!==Hs;)t=Hs.nextEffect,Hs.nextEffect=null,8&Hs.effectTag&&((S=Hs).sibling=null,S.stateNode=null),Hs=t;if(0===(r=e.pendingLanes)&&(Vs=null),1===r?e===Zs?Qs++:(Qs=0,Zs=e):Qs=0,n=n.stateNode,yo&&"function"==typeof yo.onCommitFiberRoot)try{yo.onCommitFiberRoot(vo,n,void 0,!(64&~n.current.effectTag))}catch(e){}if(cl(e,jo()),Us)throw Us=!1,e=Ws,Ws=null,e;return 8&Cs||Ho(),null}function Ol(){for(;null!==Hs;){var e=Hs.alternate;ol||null===rl||(8&Hs.effectTag?et(Hs,rl)&&(ol=!0):13===Hs.tag&&xs(e,Hs)&&et(Hs,rl)&&(ol=!0));var t=Hs.effectTag;256&t&&cs(e,Hs),!(512&t)||qs||(qs=!0,$o(97,(function(){return Il(),null}))),Hs=Hs.nextEffect}}function Il(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,zo(e,Tl)}return!1}function Dl(e,t){Ks.push(t,e),qs||(qs=!0,$o(97,(function(){return Il(),null})))}function Ml(e,t){Js.push(t,e),qs||(qs=!0,$o(97,(function(){return Il(),null})))}function Tl(){if(null===Gs)return!1;var e=Gs;if(Gs=null,48&Cs)throw Error(a(331));var t=Cs;Cs|=32;var n=Js;Js=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===i)throw Error(a(330));Rl(i,i.return,e)}}for(n=Ks,Ks=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var l=o.create;o.destroy=l()}catch(e){if(null===i)throw Error(a(330));Rl(i,i.return,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.effectTag&&(l.sibling=null,l.stateNode=null),l=e;return Cs=t,Ho(),!0}function _l(e,t,n){oi(e,t=is(0,t=ns(n,t),1)),t=il(),null!==(e=ll(e,1))&&(Ht(e,1,t),cl(e,t))}function Rl(e,t,n){var r;if(3===e.tag)_l(e,e,n);else for(r=e.return;null!==r;){if(3===r.tag){_l(r,e,n);break}if(1===r.tag&&(t=r.stateNode,"function"==typeof r.type.getDerivedStateFromError||"function"==typeof t.componentDidCatch&&(null===Vs||!Vs.has(t)))){var o=as(r,e=ns(n,e),1);if(oi(r,o),o=il(),null!==(r=ll(r,1)))Ht(r,1,o),cl(r,o);else if("function"==typeof t.componentDidCatch&&(null===Vs||!Vs.has(t)))try{t.componentDidCatch(n,e)}catch(e){}break}r=r.return}}function Pl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=il(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Is&n)===n&&(4===Ts||3===Ts&&(62914560&Is)===Is&&500>jo()-Bs?vl(e,0):Ns|=n),cl(e,t)}function Ll(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(2&(t=e.mode)?4&t?(0===tl&&(tl=Rs),0===(t=$t(62914560&~tl))&&(t=4194304)):t=99===Bo()?1:2:t=1),n=il(),null!==(e=ll(e,t))&&(Ht(e,t,n),cl(e,n))}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Nl(e,t,n,r)}function Bl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Bl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case E:return $l(n.children,o,i,t);case N:s=8,o|=16;break;case C:s=8,o|=1;break;case A:return(e=jl(12,n,t,8|o)).elementType=A,e.type=A,e.lanes=i,e;case M:return(e=jl(13,n,t,o)).type=M,e.elementType=M,e.lanes=i,e;case T:return(e=jl(19,n,t,o)).elementType=T,e.lanes=i,e;case j:return Hl(n,o,i,t);case B:return(e=jl(24,n,t,o)).elementType=B,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case I:s=9;break e;case D:s=11;break e;case _:s=14;break e;case R:s=16,r=null;break e;case P:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jl(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function $l(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function Hl(e,t,n,r){return(e=jl(23,e,r,t)).elementType=j,e.lanes=n,e}function Ul(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function Wl(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Array(31).fill(0),this.expirationTimes=Array(31).fill(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Array(31).fill(0),this.mutableSourceEagerHydrationData=null}function ql(e,t,n,r){var o=t.current,i=il(),s=al(o,li.suspense);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(uo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(uo(c)){n=ho(n,c,l);break e}}n=l}else n=io;return null===t.context?t.context=n:t.pendingContext=n,(t=ri(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),oi(o,t),sl(o,s,i),s}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}function Jl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Vl(e,t,null!=n&&!0===n.hydrate),t=jl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ti(t),e[Gr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Gl(a);s.call(e)}}ql(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Jl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Gl(a);l.call(e)}}hl((function(){ql(t,a,e,o)}))}return Gl(a)}function Zl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||so.current)Ma=!0;else{if(!(n&r)){switch(Ma=!1,t.tag){case 3:za(t),$i();break;case 5:Di(t);break;case 1:uo(t.type)&&mo(t);break;case 4:Oi(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;oo(Vo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?qa(e,t,n):(oo(Ti,1&Ti.current),null!==(t=Qa(e,t,n))?t.sibling:null);oo(Ti,1&Ti.current);break;case 19:if(r=!!(n&t.childLanes),64&e.effectTag){if(r)return Xa(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),oo(Ti,Ti.current),r)break;return null;case 23:case 24:return t.lanes=0,La(e,t,n)}return Qa(e,t,n)}Ma=!!(16384&e.effectTag)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=co(t,ao.current),Qo(t,n),o=ea(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,uo(r)){var i=!0;mo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ti(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&ui(t,r,s,e),o.updater=di,t.stateNode=o,o._reactInternals=t,mi(t,r,e,n),t=Fa(null,t,r,!0,i,n)}else t.tag=0,Ta(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"==typeof e)return Bl(e)?1:0;if(null!=e){if((e=e.$$typeof)===D)return 11;if(e===_)return 14}return 2}(o),e=Wo(o,e),i){case 0:t=ja(null,t,o,e,n);break e;case 1:t=Ba(null,t,o,e,n);break e;case 11:t=_a(null,t,o,e,n);break e;case 14:t=Ra(null,t,o,Wo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,ja(e,t,r,o=t.elementType===r?o:Wo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ba(e,t,r,o=t.elementType===r?o:Wo(r,o),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ni(e,t),ai(t,r,null,n),(r=t.memoizedState.element)===o)$i(),t=Qa(e,t,n);else{if((i=(o=t.stateNode).hydrate)&&(Pi=$r(t.stateNode.containerInfo.firstChild),Ri=t,i=Li=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],Hi.push(i);for(n=xi(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling}else Ta(e,t,r,n),$i();t=t.child}return t;case 5:return Di(t),null===e&&Bi(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,jr(r,o)?s=null:null!==i&&jr(r,i)&&(t.effectTag|=16),Na(e,t),Ta(e,t,s,n),t.child;case 6:return null===e&&Bi(t),null;case 13:return qa(e,t,n);case 4:return Oi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,_a(e,t,r,o=t.elementType===r?o:Wo(r,o),n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var l=t.type._context;if(oo(Vo,l._currentValue),l._currentValue=i,null!==s)if(l=s.value,0===(i=rr(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!so.current){t=Qa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&u.observedBits&i){1===l.tag&&((u=ri(-1,n&-n)).tag=2,oi(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),Xo(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ta(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,Qo(t,n),r=r(o=Zo(o,i.unstable_observedBits)),t.effectTag|=1,Ta(e,t,r,n),t.child;case 14:return i=Wo(o=t.type,t.pendingProps),Ra(e,t,o,i=Wo(o.type,i),r,n);case 15:return Pa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,uo(r)?(e=!0,mo(t)):e=!1,Qo(t,n),fi(t,r,o),mi(t,r,o,n),Fa(null,t,r,!0,e,n);case 19:return Xa(e,t,n);case 23:case 24:return La(e,t,n)}throw Error(a(156,t.tag))},Jl.prototype.render=function(e){ql(e,this._internalRoot,null,null)},Jl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ql(null,e,null,(function(){t[Gr]=null}))},tt=function(e){13===e.tag&&(sl(e,4,il()),Kl(e,4))},nt=function(e){13===e.tag&&(sl(e,67108864,il()),Kl(e,67108864))},rt=function(e){if(13===e.tag){var t=il(),n=al(e,null);sl(e,n,t),Kl(e,n)}},ot=function(e,t){return t()},Oe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Qr(r);if(!o)throw Error(a(90));X(r),ne(r,o)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=fl,Pe=function(e,t,n,r,o){var i=Cs;Cs|=4;try{return zo(98,e.bind(null,t,n,r,o))}finally{0===(Cs=i)&&(zs(),Ho())}},Le=function(){!(49&Cs)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cl(e,jo())}))}Ho()}(),Il())},Ne=function(e,t){var n=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=n)&&(zs(),Ho())}};var ec={Events:[Jr,Xr,Qr,Te,_e,Il,{current:!1}]},tc={findFiberByHostInstance:Kr,bundleType:0,version:"17.0.0-alpha.0-2d131d782",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{vo=rc.inject(nc),yo=rc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=Zl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Cs;if(48&n)return e(t);Cs|=1;try{if(e)return zo(99,e.bind(null,t))}finally{Cs=n,Ho()}},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return Ql(null,e,t,!0,n)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return Ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(hl((function(){Ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[Gr]=null}))})),!0)},t.unstable_batchedUpdates=fl,t.unstable_createPortal=function(e,t){return Zl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ql(e,t,n,!1,r)},t.version="17.0.0-alpha.0-2d131d782"},function(e,t,n){"use strict";e.exports=n(524)},function(e,t,n){"use strict";var r,o,i,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,d=null,p=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(p,0),e}};r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(p,0))},o=function(e,t){d=setTimeout(e,t)},i=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,y=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+b;try{v(!0,e)?k.postMessage(null):(g=!1,v=null)}catch(e){throw k.postMessage(null),e}}else g=!1},r=function(e){v=e,g||(g=!0,k.postMessage(null))},o=function(e,n){y=f((function(){e(t.unstable_now())}),n)},i=function(){h(y),y=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<A(o,t)))break e;e[r]=t,e[n]=o,n=r}}function E(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>A(a,n))void 0!==l&&0>A(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>A(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],I=[],D=1,M=null,T=3,_=!1,R=!1,P=!1;function L(e){for(var t=E(I);null!==t;){if(null===t.callback)C(I);else{if(!(t.startTime<=e))break;C(I),t.sortIndex=t.expirationTime,S(O,t)}t=E(I)}}function N(e){if(P=!1,L(e),!R)if(null!==E(O))R=!0,r(j);else{var t=E(I);null!==t&&o(N,t.startTime-e)}}function j(e,n){R=!1,P&&(P=!1,i()),_=!0;var r=T;try{for(L(n),M=E(O);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=M.callback;if("function"==typeof a){M.callback=null,T=M.priorityLevel;var s=a(M.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?M.callback=s:M===E(O)&&C(O),L(n)}else C(O);M=E(O)}if(null!==M)var l=!0;else{var c=E(I);null!==c&&o(N,c.startTime-n),l=!1}return l}finally{M=null,T=r,_=!1}}var B=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||_||(R=!0,r(j))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return E(O)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:D++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,S(I,e),null===E(O)&&e===E(I)&&(P?i():P=!0,o(N,a-s))):(e.sortIndex=l,S(O,e),R||_||(R=!0,r(j))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},function(e,t,n){var r=n(151),o=n(297),i=n(286),a=n(526),s=n(48),l=n(126),c=n(298);e.exports=function e(t,n,u,d,p){t!==n&&i(n,(function(i,l){if(p||(p=new r),s(i))a(t,n,l,u,e,d,p);else{var f=d?d(c(t,l),i,l+"",t,n,p):void 0;void 0===f&&(f=i),o(t,l,f)}}),l)}},function(e,t,n){var r=n(297),o=n(283),i=n(284),a=n(124),s=n(285),l=n(149),c=n(41),u=n(527),d=n(150),p=n(148),f=n(48),h=n(212),m=n(190),g=n(298),v=n(528);e.exports=function(e,t,n,y,b,w,x){var k=g(e,n),S=g(t,n),E=x.get(S);if(E)r(e,n,E);else{var C=w?w(k,S,n+"",e,t,x):void 0,A=void 0===C;if(A){var O=c(S),I=!O&&d(S),D=!O&&!I&&m(S);C=S,O||I||D?c(k)?C=k:u(k)?C=a(k):I?(A=!1,C=o(S,!0)):D?(A=!1,C=i(S,!0)):C=[]:h(S)||l(S)?(C=k,l(k)?C=v(k):f(k)&&!p(k)||(C=s(S))):A=!1}A&&(x.set(S,C),b(C,S,y,w,x),x.delete(S)),r(e,n,C)}}},function(e,t,n){var r=n(134),o=n(50);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(118),o=n(126);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(472),o=n(347);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case c:return e;default:return t}}case v:case g:case i:return t}}}function x(e){return w(e)===p}t.typeOf=w,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b)},t.isAsyncMode=function(e){return x(e)||w(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h}},function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(o=n?n.call(r,u,d,c):void 0)||void 0===o&&u!==d)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,r,l,c,p){for(var f,h,m,g,w,k=0,S=0,E=0,C=0,A=0,_=0,P=m=f=0,N=0,j=0,B=0,F=0,z=l.length,$=z-1,H="",U="",W="",V="";N<z;){if(h=l.charCodeAt(N),N===$&&0!==S+C+E+k&&(0!==S&&(h=47===S?10:47),C=E=k=0,z++,$++),0===S+C+E+k){if(N===$&&(0<j&&(H=H.replace(d,"")),0<H.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:H+=l.charAt(N)}h=59}switch(h){case 123:for(f=(H=H.trim()).charCodeAt(0),m=1,F=++N;N<z;){switch(h=l.charCodeAt(N)){case 123:m++;break;case 125:m--;break;case 47:switch(h=l.charCodeAt(N+1)){case 42:case 47:e:{for(P=N+1;P<$;++P)switch(l.charCodeAt(P)){case 47:if(42===h&&42===l.charCodeAt(P-1)&&N+2!==P){N=P+1;break e}break;case 10:if(47===h){N=P+1;break e}}N=P}}break;case 91:h++;case 40:h++;case 34:case 39:for(;N++<$&&l.charCodeAt(N)!==h;);}if(0===m)break;N++}if(m=l.substring(F,N),0===f&&(f=(H=H.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<j&&(H=H.replace(d,"")),h=H.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=T}if(F=(m=t(r,j,m,h,p+1)).length,0<R&&(w=s(3,m,j=n(T,H,B),r,I,O,F,h,p,c),H=j.join(""),void 0!==w&&0===(F=(m=w.trim()).length)&&(h=0,m="")),0<F)switch(h){case 115:H=H.replace(x,a);case 100:case 109:case 45:m=H+"{"+m+"}";break;case 107:m=(H=H.replace(v,"$1 $2"))+"{"+m+"}",m=1===M||2===M&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=H+m,112===c&&(U+=m,m="")}else m=""}else m=t(r,n(r,H,B),m,c,p+1);W+=m,m=B=j=P=f=0,H="",h=l.charCodeAt(++N);break;case 125:case 59:if(1<(F=(H=(0<j?H.replace(d,""):H).trim()).length))switch(0===P&&(f=H.charCodeAt(0),45===f||96<f&&123>f)&&(F=(H=H.replace(" ",":")).length),0<R&&void 0!==(w=s(1,H,r,e,I,O,U.length,c,p,c))&&0===(F=(H=w.trim()).length)&&(H="\0\0"),f=H.charCodeAt(0),h=H.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){V+=H+l.charAt(N);break}default:58!==H.charCodeAt(F-1)&&(U+=o(H,f,h,H.charCodeAt(2)))}B=j=P=f=0,H="",h=l.charCodeAt(++N)}}switch(h){case 13:case 10:47===S?S=0:0===1+f&&107!==c&&0<H.length&&(j=1,H+="\0"),0<R*L&&s(0,H,r,e,I,O,U.length,c,p,c),O=1,I++;break;case 59:case 125:if(0===S+C+E+k){O++;break}default:switch(O++,g=l.charAt(N),h){case 9:case 32:if(0===C+k+S)switch(A){case 44:case 58:case 9:case 32:g="";break;default:32!==h&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===C+S+k&&(j=B=1,g="\f"+g);break;case 108:if(0===C+S+k+D&&0<P)switch(N-P){case 2:112===A&&58===l.charCodeAt(N-3)&&(D=A);case 8:111===_&&(D=_)}break;case 58:0===C+S+k&&(P=N);break;case 44:0===S+E+C+k&&(j=1,g+="\r");break;case 34:case 39:0===S&&(C=C===h?0:0===C?h:C);break;case 91:0===C+S+E&&k++;break;case 93:0===C+S+E&&k--;break;case 41:0===C+S+k&&E--;break;case 40:if(0===C+S+k){if(0===f)if(2*A+3*_==533);else f=1;E++}break;case 64:0===S+E+C+k+P+m&&(m=1);break;case 42:case 47:if(!(0<C+k+E))switch(S){case 0:switch(2*h+3*l.charCodeAt(N+1)){case 235:S=47;break;case 220:F=N,S=42}break;case 42:47===h&&42===A&&F+2!==N&&(33===l.charCodeAt(F+2)&&(U+=l.substring(F,N+1)),g="",S=0)}}0===S&&(H+=g)}_=A,A=h,N++}if(0<(F=U.length)){if(j=r,0<R&&(void 0!==(w=s(2,U,j,e,I,O,F,c,p,c))&&0===(U=w).length))return V+U+W;if(U=j.join(",")+"{"+U+"}",0!=M*D){switch(2!==M||i(U,2)||(D=0),D){case 111:U=U.replace(b,":-moz-$1")+U;break;case 112:U=U.replace(y,"::-webkit-input-$1")+U.replace(y,"::-moz-$1")+U.replace(y,":-ms-input-$1")+U}D=0}}return V+U+W}function n(e,t,n){var o=t.trim().split(m);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[l++]=r(e[c]+" ",o[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===M||2===M&&i(l,1)?"-webkit-"+l+l:l}if(0===M||2===M&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(A,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return f.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(w,"tb");break;case 232:l=a.replace(w,"tb-rl");break;case 220:l=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(E,"$1"),n,t)}function a(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,o,i,a,s,l,u){for(var d,p=0,f=t;p<R;++p)switch(d=_[p].call(c,e,f,n,r,o,i,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!=typeof e?M=1:(M=2,P=e):M=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var o=s(-1,n,r,r,I,O,0,0,0,0);void 0!==o&&"string"==typeof o&&(n=o)}var i=t(T,r,n,0,0);return 0<R&&(void 0!==(o=s(-2,i,r,r,I,O,i.length,0,0,0))&&(i=o)),D=0,O=I=1,i}var u=/^\0+/g,d=/[\0\r\f]/g,p=/: */g,f=/zoo|gra/,h=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,O=1,I=1,D=0,M=1,T=[],_=[],R=0,P=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=_.length=0;break;default:if("function"==typeof t)_[R++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=l,void 0!==e&&l(e),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(535))&&"object"==typeof r&&"default"in r?r.default:r,i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=o((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";var r=n(299),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!(i[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=p(n,v);try{c(t,v,y)}catch(e){}}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popper=function(e){var t=e.placement,n=void 0===t?"bottom":t,s=e.strategy,d=void 0===s?"absolute":s,p=e.modifiers,f=void 0===p?u:p,h=e.referenceElement,m=e.onFirstUpdate,g=e.innerRef,v=e.children,y=r.useContext(o.ManagerReferenceNodeContext),b=r.useState(null),w=b[0],x=b[1],k=r.useState(null),S=k[0],E=k[1];r.useEffect((function(){(0,i.setRef)(g,w)}),[g,w]);var C=r.useMemo((function(){return{placement:n,strategy:d,onFirstUpdate:m,modifiers:[].concat(f,[{name:"arrow",enabled:null!=S,options:{element:S}}])}}),[n,d,m,f,S]),A=(0,a.usePopper)(h||y,w,C),O=A.state,I=A.styles,D=A.forceUpdate,M=A.update,T=r.useMemo((function(){return{ref:x,style:I.popper,placement:O?O.placement:n,hasPopperEscaped:O&&O.modifiersData.hide?O.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:O&&O.modifiersData.hide?O.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:I.arrow,ref:E},forceUpdate:D||l,update:M||c}}),[x,E,n,O,I,M,D]);return(0,i.unwrapArray)(v)(T)};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(205),i=n(206),a=n(300);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var l=function(){},c=function(){return Promise.resolve(null)},u=[]},function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof r(e).Element||e instanceof Element}function i(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}Object.defineProperty(t,"__esModule",{value:!0});var s=Math.max,l=Math.min,c=Math.round;function u(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function d(){return!/^((?!chrome|android).)*safari/i.test(u())}function p(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),s=1,l=1;t&&i(e)&&(s=e.offsetWidth>0&&c(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&c(a.height)/e.offsetHeight||1);var u=(o(e)?r(e):window).visualViewport,p=!d()&&n,f=(a.left+(p&&u?u.offsetLeft:0))/s,h=(a.top+(p&&u?u.offsetTop:0))/l,m=a.width/s,g=a.height/l;return{width:m,height:g,top:h,right:f+m,bottom:h+g,left:f,x:f,y:h}}function f(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function h(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function g(e){return p(m(e)).left+f(e).scrollLeft}function v(e){return r(e).getComputedStyle(e)}function y(e){var t=v(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function b(e,t,n){void 0===n&&(n=!1);var o,a,s=i(t),l=i(t)&&function(e){var t=e.getBoundingClientRect(),n=c(t.width)/e.offsetWidth||1,r=c(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),u=m(t),d=p(e,l,n),v={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(s||!s&&!n)&&(("body"!==h(t)||y(u))&&(v=(o=t)!==r(o)&&i(o)?{scrollLeft:(a=o).scrollLeft,scrollTop:a.scrollTop}:f(o)),i(t)?((b=p(t,!0)).x+=t.clientLeft,b.y+=t.clientTop):u&&(b.x=g(u))),{x:d.left+v.scrollLeft-b.x,y:d.top+v.scrollTop-b.y,width:d.width,height:d.height}}function w(e){var t=p(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function x(e){return"html"===h(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||m(e)}function k(e){return["html","body","#document"].indexOf(h(e))>=0?e.ownerDocument.body:i(e)&&y(e)?e:k(x(e))}function S(e,t){var n;void 0===t&&(t=[]);var o=k(e),i=o===(null==(n=e.ownerDocument)?void 0:n.body),a=r(o),s=i?[a].concat(a.visualViewport||[],y(o)?o:[]):o,l=t.concat(s);return i?l:l.concat(S(x(s)))}function E(e){return["table","td","th"].indexOf(h(e))>=0}function C(e){return i(e)&&"fixed"!==v(e).position?e.offsetParent:null}function A(e){for(var t=r(e),n=C(e);n&&E(n)&&"static"===v(n).position;)n=C(n);return n&&("html"===h(n)||"body"===h(n)&&"static"===v(n).position)?t:n||function(e){var t=/firefox/i.test(u());if(/Trident/i.test(u())&&i(e)&&"fixed"===v(e).position)return null;var n=x(e);for(a(n)&&(n=n.host);i(n)&&["html","body"].indexOf(h(n))<0;){var r=v(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var O="top",I="bottom",D="right",M="left",T="auto",_=[O,I,D,M],R="start",P="end",L="viewport",N="popper",j=_.reduce((function(e,t){return e.concat([t+"-"+R,t+"-"+P])}),[]),B=[].concat(_,[T]).reduce((function(e,t){return e.concat([t,t+"-"+R,t+"-"+P])}),[]),F=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function z(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function $(e){return e.split("-")[0]}function H(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function U(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function W(e,t,n){return t===L?U(function(e,t){var n=r(e),o=m(e),i=n.visualViewport,a=o.clientWidth,s=o.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;var u=d();(u||!u&&"fixed"===t)&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l+g(e),y:c}}(e,n)):o(t)?function(e,t){var n=p(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):U(function(e){var t,n=m(e),r=f(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=s(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+g(e),c=-r.scrollTop;return"rtl"===v(o||n).direction&&(l+=s(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}(m(e)))}function V(e,t,n,r){var a="clippingParents"===t?function(e){var t=S(x(e)),n=["absolute","fixed"].indexOf(v(e).position)>=0&&i(e)?A(e):e;return o(n)?t.filter((function(e){return o(e)&&H(e,n)&&"body"!==h(e)})):[]}(e):[].concat(t),c=[].concat(a,[n]),u=c[0],d=c.reduce((function(t,n){var o=W(e,n,r);return t.top=s(o.top,t.top),t.right=l(o.right,t.right),t.bottom=l(o.bottom,t.bottom),t.left=s(o.left,t.left),t}),W(e,u,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function q(e){return e.split("-")[1]}function G(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?$(o):null,a=o?q(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case O:t={x:s,y:n.y-r.height};break;case I:t={x:s,y:n.y+n.height};break;case D:t={x:n.x+n.width,y:l};break;case M:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?G(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case R:t[c]=t[c]-(n[u]/2-r[u]/2);break;case P:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function K(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function J(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function X(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,s=void 0===a?e.strategy:a,l=n.boundary,c=void 0===l?"clippingParents":l,u=n.rootBoundary,d=void 0===u?L:u,f=n.elementContext,h=void 0===f?N:f,g=n.altBoundary,v=void 0!==g&&g,y=n.padding,b=void 0===y?0:y,w=K("number"!=typeof b?b:J(b,_)),x=h===N?"reference":N,k=e.rects.popper,S=e.elements[v?x:h],E=V(o(S)?S:S.contextElement||m(e.elements.popper),c,d,s),C=p(e.elements.reference),A=Y({reference:C,element:k,strategy:"absolute",placement:i}),M=U(Object.assign({},k,A)),T=h===N?M:C,R={top:E.top-T.top+w.top,bottom:T.bottom-E.bottom+w.bottom,left:E.left-T.left+w.left,right:T.right-E.right+w.right},P=e.modifiersData.offset;if(h===N&&P){var j=P[i];Object.keys(R).forEach((function(e){var t=[D,I].indexOf(e)>=0?1:-1,n=[O,I].indexOf(e)>=0?"y":"x";R[e]+=j[n]*t}))}return R}var Q={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Q:i;return function(e,t,n){void 0===n&&(n=a);var i,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Q,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var i="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},a,l.options,i),l.scrollParents={reference:o(e)?S(e):e.contextElement?S(e.contextElement):[],popper:S(t)};var s=function(e){var t=z(e);return F.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,l.options.modifiers)));return l.orderedModifiers=s.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:l,name:t,instance:d,options:r}),a=function(){};c.push(i||a)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(Z(t,n)){l.rects={reference:b(t,A(n),"fixed"===l.options.strategy),popper:w(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],i=o.fn,a=o.options,s=void 0===a?{}:a,c=o.name;"function"==typeof i&&(l=i({state:l,options:s,name:c,instance:d})||l)}else l.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){p(),u=!0}};if(!Z(e,t))return d;function p(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var te={passive:!0};var ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,i=o.scroll,a=void 0===i||i,s=o.resize,l=void 0===s||s,c=r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,te)})),l&&c.addEventListener("resize",n.update,te),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,te)})),l&&c.removeEventListener("resize",n.update,te)}},data:{}};var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ie(e){var t,n=e.popper,o=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,l=e.position,u=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,f=e.isFixed,h=s.x,g=void 0===h?0:h,y=s.y,b=void 0===y?0:y,w="function"==typeof p?p({x:g,y:b}):{x:g,y:b};g=w.x,b=w.y;var x=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),S=M,E=O,C=window;if(d){var T=A(n),_="clientHeight",R="clientWidth";if(T===r(n)&&"static"!==v(T=m(n)).position&&"absolute"===l&&(_="scrollHeight",R="scrollWidth"),i===O||(i===M||i===D)&&a===P)E=I,b-=(f&&T===C&&C.visualViewport?C.visualViewport.height:T[_])-o.height,b*=u?1:-1;if(i===M||(i===O||i===I)&&a===P)S=D,g-=(f&&T===C&&C.visualViewport?C.visualViewport.width:T[R])-o.width,g*=u?1:-1}var L,N=Object.assign({position:l},d&&oe),j=!0===p?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:c(t*r)/r||0,y:c(n*r)/r||0}}({x:g,y:b}):{x:g,y:b};return g=j.x,b=j.y,u?Object.assign({},N,((L={})[E]=k?"0":"",L[S]=x?"0":"",L.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",L)):Object.assign({},N,((t={})[E]=k?b+"px":"",t[S]=x?g+"px":"",t.transform="",t))}var ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:$(t.placement),variation:q(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ie(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ie(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];i(o)&&h(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});i(r)&&h(r)&&(Object.assign(r.style,a),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=B.reduce((function(e,n){return e[n]=function(e,t,n){var r=$(e),o=[M,O].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[M,D].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},ce={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(e){return e.replace(/left|right|bottom|top/g,(function(e){return ce[e]}))}var de={start:"end",end:"start"};function pe(e){return e.replace(/start|end/g,(function(e){return de[e]}))}function fe(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?B:l,u=q(r),d=u?s?j:j.filter((function(e){return q(e)===u})):_,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=X(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[$(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}var he={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=$(g),y=l||(v===g||!h?[ue(g)]:function(e){if($(e)===T)return[];var t=ue(e);return[pe(e),t,pe(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat($(n)===T?fe(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,k=new Map,S=!0,E=b[0],C=0;C<b.length;C++){var A=b[C],_=$(A),P=q(A)===R,L=[O,I].indexOf(_)>=0,N=L?"width":"height",j=X(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),B=L?P?D:M:P?I:O;w[N]>x[N]&&(B=ue(B));var F=ue(B),z=[];if(i&&z.push(j[_]<=0),s&&z.push(j[B]<=0,j[F]<=0),z.every((function(e){return e}))){E=A,S=!1;break}k.set(A,z)}if(S)for(var H=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},U=h?3:1;U>0;U--){if("break"===H(U))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function me(e,t,n){return s(e,l(t,n))}var ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,c=void 0!==a&&a,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.padding,h=n.tether,m=void 0===h||h,g=n.tetherOffset,v=void 0===g?0:g,y=X(t,{boundary:u,rootBoundary:d,padding:f,altBoundary:p}),b=$(t.placement),x=q(t.placement),k=!x,S=G(b),E="x"===S?"y":"x",C=t.modifiersData.popperOffsets,T=t.rects.reference,_=t.rects.popper,P="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,L="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(C){if(i){var B,F="y"===S?O:M,z="y"===S?I:D,H="y"===S?"height":"width",U=C[S],W=U+y[F],V=U-y[z],Y=m?-_[H]/2:0,K=x===R?T[H]:_[H],J=x===R?-_[H]:-T[H],Q=t.elements.arrow,Z=m&&Q?w(Q):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[F],ne=ee[z],re=me(0,T[H],Z[H]),oe=k?T[H]/2-Y-re-te-L.mainAxis:K-re-te-L.mainAxis,ie=k?-T[H]/2+Y+re+ne+L.mainAxis:J+re+ne+L.mainAxis,ae=t.elements.arrow&&A(t.elements.arrow),se=ae?"y"===S?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(B=null==N?void 0:N[S])?B:0,ce=U+ie-le,ue=me(m?l(W,U+oe-le-se):W,U,m?s(V,ce):V);C[S]=ue,j[S]=ue-U}if(c){var de,pe="x"===S?O:M,fe="x"===S?I:D,he=C[E],ge="y"===E?"height":"width",ve=he+y[pe],ye=he-y[fe],be=-1!==[O,M].indexOf(b),we=null!=(de=null==N?void 0:N[E])?de:0,xe=be?ve:he-T[ge]-_[ge]-we+L.altAxis,ke=be?he+T[ge]+_[ge]-we-L.altAxis:ye,Se=m&&be?function(e,t,n){var r=me(e,t,n);return r>n?n:r}(xe,he,ke):me(m?xe:ve,he,m?ke:ye);C[E]=Se,j[E]=Se-he}t.modifiersData[r]=j}},requiresIfExists:["offset"]};var ve={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=$(n.placement),l=G(s),c=[M,D].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return K("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:J(e,_))}(o.padding,n),d=w(i),p="y"===l?O:M,f="y"===l?I:D,h=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=A(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=h/2-m/2,b=u[p],x=v-d[c]-u[f],k=v/2-d[c]/2+y,S=me(b,k,x),E=l;n.modifiersData[r]=((t={})[E]=S,t.centerOffset=S-k,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&H(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ye(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function be(e){return[O,D,I,M].some((function(t){return e[t]>=0}))}var we={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=X(t,{elementContext:"reference"}),s=X(t,{altBoundary:!0}),l=ye(a,r),c=ye(s,o,i),u=be(l),d=be(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},xe=ee({defaultModifiers:[ne,re,ae,se]}),ke=[ne,re,ae,se,le,he,ge,ve,we],Se=ee({defaultModifiers:ke});t.applyStyles=se,t.arrow=ve,t.computeStyles=ae,t.createPopper=Se,t.createPopperLite=xe,t.defaultModifiers=ke,t.detectOverflow=X,t.eventListeners=ne,t.flip=he,t.hide=we,t.offset=le,t.popperGenerator=ee,t.popperOffsets=re,t.preventOverflow=ge},function(e,t){var n="undefined"!=typeof Element,r="function"==typeof Map,o="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(l=s;0!=l--;)if(!a(e[l],t[l]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!t.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!a(l.value[1],t.get(l.value[0])))return!1;return!0}if(o&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(l=s;0!=l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(t,c[l]))return!1;if(n&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!a(e[c[l]],t[c[l]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=function(e){var t=e.children,n=e.innerRef,r=o.useContext(a.ManagerReferenceNodeSetterContext),l=o.useCallback((function(e){(0,s.setRef)(n,e),(0,s.safeInvoke)(r,e)}),[n,r]);return o.useEffect((function(){return function(){return(0,s.setRef)(n,null)}}),[]),o.useEffect((function(){(0,i.default)(Boolean(r),"`Reference` should not be used outside of a `Manager` component.")}),[r]),(0,s.unwrapArray)(t)({ref:l})};var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=(r=n(541))&&r.__esModule?r:{default:r},a=n(205),s=n(206);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(546),o=n(301),i=n(547),a=n(548);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},s(t)}e.exports=s},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(301),o=n(549);function i(t,n,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),e.raw=t,e}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(89);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(2);function o(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return a((t=>t.readAsDataURL(e)))}))}function i(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return a((t=>t.readAsText(e)))}))}function a(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=new FileReader,n=new Promise(((e,n)=>{t.onload=()=>{const n=t.result;e(n)},t.onerror=e=>{n(e)}}));return e(t),n}))}},,,,,,,,,,function(e,t,n){var r=n(40);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";var r=n(578);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(609),o=r.default,i=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=p(n(478)),i=p(n(28)),a=p(n(58)),s=n(302),l=n(479),c=n(221),u=p(n(613)),d=p(n(480));function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;return C(e)}(this,n)}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,e);var t=E(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),O(C(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,d.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,l.createDraggableData)(C(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),O(C(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);var n=(0,l.createDraggableData)(C(r),t),o={x:n.x,y:n.y};if(r.props.bounds){var i=o.x,a=o.y;o.x+=r.state.slackX,o.y+=r.state.slackY;var s=v((0,l.getBoundPosition)(C(r),o.x,o.y),2),c=s[0],u=s[1];o.x=c,o.y=u,o.slackX=r.state.slackX+(i-o.x),o.slackY=r.state.slackY+(a-o.y),n.x=o.x,n.y=o.y,n.deltaX=o.x-r.state.x,n.deltaY=o.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(o)})),O(C(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,l.createDraggableData)(C(r),t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var o=r.props.position,i=o.x,a=o.y;n.x=i,n.y=a}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:w({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return k(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:w({},n)})}}]),k(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:i.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),o=t.defaultPosition,i=t.defaultClassName,c=t.defaultClassNameDragging,d=t.defaultClassNameDragged,p=t.position,f=t.positionOffset,h=(t.scale,g(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),v={},y=null,b=!Boolean(p)||this.state.dragging,x=p||o,k={x:(0,l.canDragX)(this)&&b?this.state.x:x.x,y:(0,l.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?y=(0,s.createSVGTransform)(k,f):v=(0,s.createCSSTransform)(k,f);var S=(0,a.default)(n.props.className||"",i,(O(e={},c,this.state.dragging),O(e,d,this.state.dragged),e));return r.createElement(u.default,m({},h,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:S,style:w(w({},n.props.style),v),transform:y}))}}]),n}(r.Component);t.default=I,O(I,"displayName","Draggable"),O(I,"propTypes",w(w({},u.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),O(I,"defaultProps",w(w({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";var r=n(611);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=o,t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(i(e,r[n])in t)return r[n];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=o();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=u(n(478)),i=u(n(28)),a=n(302),s=n(479),l=n(221),c=u(n(480));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={start:"touchstart",move:"touchmove",stop:"touchend"},k={start:"mousedown",move:"mousemove",stop:"mouseup"},S=k,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,o,l=v(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(y(e=l.call.apply(l,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(y(e),"mounted",!1),w(y(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,a.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,a.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,a.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var i=(0,s.getControlPosition)(t,o,y(e));if(null!=i){var l=i.x,u=i.y,d=(0,s.createCoreData)(y(e),l,u);(0,c.default)("DraggableCore: handleDragStart: %j",d),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:l,lastY:u}),(0,a.addEvent)(r,S.move,e.handleDrag),(0,a.addEvent)(r,S.stop,e.handleDragStop))}}})),w(y(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,a=o-e.state.lastY,l=f((0,s.snapToGrid)(e.props.grid,i,a),2);if(i=l[0],a=l[1],!i&&!a)return;r=e.state.lastX+i,o=e.state.lastY+a}var u=(0,s.createCoreData)(y(e),r,o);if((0,c.default)("DraggableCore: handleDrag: %j",u),!1!==e.props.onDrag(t,u)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),w(y(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,o=n.y,i=(0,s.createCoreData)(y(e),r,o);if(!1===e.props.onStop(t,i)||!1===e.mounted)return!1;var l=e.findDOMNode();l&&e.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(l.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",i),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),l&&((0,c.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(l.ownerDocument,S.move,e.handleDrag),(0,a.removeEvent)(l.ownerDocument,S.stop,e.handleDragStop))}}})),w(y(e),"onMouseDown",(function(t){return S=k,e.handleDragStart(t)})),w(y(e),"onMouseUp",(function(t){return S=k,e.handleDragStop(t)})),w(y(e),"onTouchStart",(function(t){return S=x,e.handleDragStart(t)})),w(y(e),"onTouchEnd",(function(t){return S=x,e.handleDragStop(t)})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,a.addEvent)(e,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,a.removeEvent)(t,k.move,this.handleDrag),(0,a.removeEvent)(t,x.move,this.handleDrag),(0,a.removeEvent)(t,k.stop,this.handleDragStop),(0,a.removeEvent)(t,x.stop,this.handleDragStop),(0,a.removeEvent)(e,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:i.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&m(t.prototype,n),o&&m(t,o),u}(r.Component);t.default=E,w(E,"displayName","DraggableCore"),w(E,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),w(E,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(615);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var s=a(r),l=i(o),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)},p={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return u(t,e),t.prototype.render=function(){return s.createElement("div",{className:this.props.className||"",style:d(d({position:"absolute",userSelect:"none"},p[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(s.PureComponent),h={width:"auto",height:"auto"},m=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),g=l.default((function(e,t){return Math.round(e/t)*t})),v=l.default((function(e,t){return new RegExp(e,"i").test(t)})),y=function(e){return Boolean(e.touches&&e.touches.length)},b=l.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e})),w=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),x=l.default((function(e){return"auto"===(e=e.toString())||w(e,"px")||w(e,"%")||w(e,"vh")||w(e,"vw")||w(e,"vmax")||w(e,"vmin")?e:e+"px"})),k=function(e,t,n,r){if(e&&"string"==typeof e){if(w(e,"px"))return Number(e.replace("px",""));if(w(e,"%"))return t*(Number(e.replace("%",""))/100);if(w(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(w(e,"vh"))return r*(Number(e.replace("vh",""))/100)}return e},S=l.default((function(e,t,n,r,o,i,a){return r=k(r,e.width,t,n),o=k(o,e.height,t,n),i=k(i,e.width,t,n),a=k(a,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===o?void 0:Number(o),minWidth:void 0===i?void 0:Number(i),minHeight:void 0===a?void 0:Number(a)}})),E=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],C="__resizable_base__",A=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add(C):t.className+=C,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return u(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&w(e.propsSize[t].toString(),"%")){if(w(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return x(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?x(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?x(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,o=this.props.boundsByDirection,i=this.state.direction,a=o&&v("left",i),s=o&&v("top",i);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,s=this.props,l=s.lockAspectRatio,c=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,d=a.width,p=a.height,f=c||0,h=u||0;return v("right",i)&&(d=a.width+(e-a.x)*r/n,l&&(p=(d-h)/this.ratio+f)),v("left",i)&&(d=a.width-(e-a.x)*r/n,l&&(p=(d-h)/this.ratio+f)),v("bottom",i)&&(p=a.height+(t-a.y)*r/n,l&&(d=(p-f)*this.ratio+h)),v("top",i)&&(p=a.height-(t-a.y)*r/n,l&&(d=(p-f)*this.ratio+h)),{newWidth:d,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,c=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,p=a||0,f=s||0;if(i){var h=(u-p)*this.ratio+f,g=(d-p)*this.ratio+f,v=(l-f)/this.ratio+p,y=(c-f)/this.ratio+p,b=Math.max(l,h),w=Math.min(c,g),x=Math.max(u,v),k=Math.min(d,y);e=m(e,b,w),t=m(t,x,k)}else e=m(e,l,c),t=m(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,i=r.top,a=r.right,s=r.bottom;this.resizableLeft=o,this.resizableRight=a,this.resizableTop=i,this.resizableBottom=s}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,o=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&y(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var i=this.window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:d(d({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&y(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.minWidth,i=t.minHeight,a=y(e)?e.touches[0].clientX:e.clientX,s=y(e)?e.touches[0].clientY:e.clientY,l=this.state,c=l.direction,u=l.original,d=l.width,p=l.height,f=this.getParentSize(),h=S(f,this.window.innerWidth,this.window.innerHeight,n,r,o,i);n=h.maxWidth,r=h.maxHeight,o=h.minWidth,i=h.minHeight;var m=this.calculateNewSizeFromDirection(a,s),v=m.newHeight,x=m.newWidth,k=this.calculateNewMaxFromBoundary(n,r),E=this.calculateNewSizeFromAspectRatio(x,v,{width:k.maxWidth,height:k.maxHeight},{width:o,height:i});if(x=E.newWidth,v=E.newHeight,this.props.grid){var C=g(x,this.props.grid[0]),A=g(v,this.props.grid[1]),O=this.props.snapGap||0;x=0===O||Math.abs(C-x)<=O?C:x,v=0===O||Math.abs(A-v)<=O?A:v}this.props.snap&&this.props.snap.x&&(x=b(x,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=b(v,this.props.snap.y,this.props.snapGap));var I={width:x-u.width,height:v-u.height};if(d&&"string"==typeof d)if(w(d,"%"))x=x/f.width*100+"%";else if(w(d,"vw")){x=x/this.window.innerWidth*100+"vw"}else if(w(d,"vh")){x=x/this.window.innerHeight*100+"vh"}if(p&&"string"==typeof p)if(w(p,"%"))v=v/f.height*100+"%";else if(w(p,"vw")){v=v/this.window.innerWidth*100+"vw"}else if(w(p,"vh")){v=v/this.window.innerHeight*100+"vh"}var D={width:this.createSizeForCssProperty(x,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?D.flexBasis=D.width:"column"===this.flexDir&&(D.flexBasis=D.height),this.setState(D),this.props.onResize&&this.props.onResize(e,c,this.resizable,I)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:d(d({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(f,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},l&&l[t]?l[t]:null):null}));return s.createElement("div",{className:a,style:i},c)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==E.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=d(d(d({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return s.createElement(r,d({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&s.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);t.Resizable=A},function(e,t){function n(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function o(e,t,n,r,o){return n.bind(t,e,r,o)}function i(e,t){return o(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:l,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return o(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,n,t.cache.create(),t.serializer)}}},function(e,t,n){"use strict";function r(e){this.content=e}r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,i=o.find(e),a=o.content.slice();return-1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new r(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var o=this.remove(t),i=o.content.slice(),a=o.find(e);return i.splice(-1==a?i.length:a,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)},e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(303);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},i="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),a="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),s=0;s<10;s++)r[48+s]=r[96+s]=String(s);for(s=1;s<=24;s++)r[s+111]="F"+s;for(s=65;s<=90;s++)r[s]=String.fromCharCode(s+32),o[s]=String.fromCharCode(s);for(var l in r)o.hasOwnProperty(l)||(o[l]=r[l]);t.base=r,t.keyName=function(e){var t=!(i&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||a&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t},t.shift=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(121);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(621);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(121),i=n(89),a=n(39),s=function(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)};function l(e,t){var n=e.selection.$cursor;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}var c=function(e,t,n){var r=l(e,n);if(!r)return!1;var s=f(r);if(!s){var c=r.blockRange(),u=c&&o.liftTarget(c);return null!=u&&(t&&t(e.tr.lift(c,u).scrollIntoView()),!0)}var p=s.nodeBefore;if(!p.type.spec.isolating&&A(e,s,t))return!0;if(0==r.parent.content.size&&(d(p,"end")||a.NodeSelection.isSelectable(p))){var h=o.replaceStep(e.doc,r.before(),r.after(),i.Slice.empty);if(h&&h.slice.size<h.to-h.from){if(t){var m=e.tr.step(h);m.setSelection(d(p,"end")?a.Selection.findFrom(m.doc.resolve(m.mapping.map(s.pos,-1)),-1):a.NodeSelection.create(m.doc,s.pos-p.nodeSize)),t(m.scrollIntoView())}return!0}}return!(!p.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos-p.nodeSize,s.pos).scrollIntoView()),!0)};function u(e,t,n){for(var r=t.nodeBefore,s=t.pos-1;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;var l=r.lastChild;if(!l)return!1;r=l}for(var c=t.nodeAfter,u=t.pos+1;!c.isTextblock;u++){if(c.type.spec.isolating)return!1;var d=c.firstChild;if(!d)return!1;c=d}var p=o.replaceStep(e.doc,s,u,i.Slice.empty);if(!p||p.from!=s||p instanceof o.ReplaceStep&&p.slice.size>=u-s)return!1;if(n){var f=e.tr.step(p);f.setSelection(a.TextSelection.create(f.doc,s)),n(f.scrollIntoView())}return!0}function d(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}var p=function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=f(o)}var s=i&&i.nodeBefore;return!(!s||!a.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function f(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function h(e,t){var n=e.selection.$cursor;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}var m=function(e,t,n){var r=h(e,n);if(!r)return!1;var s=v(r);if(!s)return!1;var l=s.nodeAfter;if(A(e,s,t))return!0;if(0==r.parent.content.size&&(d(l,"start")||a.NodeSelection.isSelectable(l))){var c=o.replaceStep(e.doc,r.before(),r.after(),i.Slice.empty);if(c&&c.slice.size<c.to-c.from){if(t){var u=e.tr.step(c);u.setSelection(d(l,"start")?a.Selection.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):a.NodeSelection.create(u.doc,u.mapping.map(s.pos))),t(u.scrollIntoView())}return!0}}return!(!l.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos,s.pos+l.nodeSize).scrollIntoView()),!0)},g=function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=v(o)}var s=i&&i.nodeAfter;return!(!s||!a.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)};function v(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}var y=function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function b(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}var w=function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),l=b(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(t){var c=r.after(),u=e.tr.replaceWith(c,c,l.createAndFill());u.setSelection(a.Selection.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0},x=function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(n instanceof a.AllSelection||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=b(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(s,i.createAndFill());l.setSelection(a.TextSelection.create(l.doc,s+1)),t(l.scrollIntoView())}return!0},k=function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(o.canSplit(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),a=i&&o.liftTarget(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)};function S(e){return function(t,n){var r=t.selection,i=r.$from,s=r.$to;if(t.selection instanceof a.NodeSelection&&t.selection.node.isBlock)return!(!i.parentOffset||!o.canSplit(t.doc,i.pos))&&(n&&n(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(n){var l=s.parentOffset==s.parent.content.size,c=t.tr;(t.selection instanceof a.TextSelection||t.selection instanceof a.AllSelection)&&c.deleteSelection();var u=0==i.depth?null:b(i.node(-1).contentMatchAt(i.indexAfter(-1))),d=e&&e(s.parent,l),p=d?[d]:l&&u?[{type:u}]:void 0,f=o.canSplit(c.doc,c.mapping.map(i.pos),1,p);if(p||f||!o.canSplit(c.doc,c.mapping.map(i.pos),1,u?[{type:u}]:void 0)||(u&&(p=[{type:u}]),f=!0),f&&(c.split(c.mapping.map(i.pos),1,p),!l&&!i.parentOffset&&i.parent.type!=u)){var h=c.mapping.map(i.before()),m=c.doc.resolve(h);u&&i.node(-1).canReplaceWith(m.index(),m.index()+1,u)&&c.setNodeMarkup(c.mapping.map(i.before()),u)}n(c.scrollIntoView())}return!0}}var E=S(),C=function(e,t){return t&&t(e.tr.setSelection(new a.AllSelection(e.doc))),!0};function A(e,t,n){var r,s,l=t.nodeBefore,c=t.nodeAfter;if(l.type.spec.isolating||c.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,i=t.nodeAfter,a=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!i.isTextblock&&!o.canJoin(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var u=t.parent.canReplace(t.index(),t.index()+1);if(u&&(r=(s=l.contentMatchAt(l.childCount)).findWrapping(c.type))&&s.matchType(r[0]||c.type).validEnd){if(n){for(var p=t.pos+c.nodeSize,f=i.Fragment.empty,h=r.length-1;h>=0;h--)f=i.Fragment.from(r[h].create(null,f));f=i.Fragment.from(l.copy(f));var m=e.tr.step(new o.ReplaceAroundStep(t.pos-1,p,t.pos,p,new i.Slice(f,1,0),r.length,!0)),g=p+2*r.length;o.canJoin(m.doc,g)&&m.join(g),n(m.scrollIntoView())}return!0}var v=a.Selection.findFrom(t,1),y=v&&v.$from.blockRange(v.$to),b=y&&o.liftTarget(y);if(null!=b&&b>=t.depth)return n&&n(e.tr.lift(y,b).scrollIntoView()),!0;if(u&&d(c,"start",!0)&&d(l,"end")){for(var w=l,x=[];x.push(w),!w.isTextblock;)w=w.lastChild;for(var k=c,S=1;!k.isTextblock;k=k.firstChild)S++;if(w.canReplace(w.childCount,w.childCount,k.content)){if(n){for(var E=i.Fragment.empty,C=x.length-1;C>=0;C--)E=i.Fragment.from(x[C].copy(E));n(e.tr.step(new o.ReplaceAroundStep(t.pos-x.length,t.pos+c.nodeSize,t.pos+S,t.pos+c.nodeSize-S,new i.Slice(E,x.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function O(e){return function(t,n){for(var r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(a.TextSelection.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}var I=O(-1),D=O(1);function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var T=M(s,c,p),_=M(s,m,g),R={Enter:M(y,x,k,E),"Mod-Enter":w,Backspace:T,"Mod-Backspace":T,"Shift-Backspace":T,Delete:_,"Mod-Delete":_,"Mod-a":C},P={"Ctrl-h":R.Backspace,"Alt-Backspace":R["Mod-Backspace"],"Ctrl-d":R.Delete,"Ctrl-Alt-Backspace":R["Mod-Delete"],"Alt-Delete":R["Mod-Delete"],"Alt-d":R["Mod-Delete"],"Ctrl-a":I,"Ctrl-e":D};for(var L in R)P[L]=R[L];var N=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?P:R;t.autoJoin=function(e,t){var n=Array.isArray(t)?function(e){return t.indexOf(e.type.name)>-1}:t;return function(t,r,i){return e(t,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r=[],i=0;i<n.mapping.maps.length;i++){for(var a=n.mapping.maps[i],s=0;s<r.length;s++)r[s]=a.map(r[s]);a.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var l=[],c=0;c<r.length;c+=2)for(var u=r[c],d=r[c+1],p=n.doc.resolve(u),f=p.sharedDepth(d),h=p.node(f),m=p.indexAfter(f),g=p.after(f+1);g<=d;++m){var v=h.maybeChild(m);if(!v)break;if(m&&-1==l.indexOf(g)){var y=h.child(m-1);y.type==v.type&&t(y,v)&&l.push(g)}g+=v.nodeSize}l.sort((function(e,t){return e-t}));for(var b=l.length-1;b>=0;b--)o.canJoin(n.doc,l[b])&&n.join(l[b]);e(n)}}(r,n),i)}},t.baseKeymap=N,t.chainCommands=M,t.createParagraphNear=x,t.deleteSelection=s,t.exitCode=w,t.joinBackward=c,t.joinDown=function(e,t){var n,r=e.selection;if(r instanceof a.NodeSelection){if(r.node.isTextblock||!o.canJoin(e.doc,r.to))return!1;n=r.to}else if(null==(n=o.joinPoint(e.doc,r.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t.joinForward=m,t.joinTextblockBackward=function(e,t,n){var r=l(e,n);if(!r)return!1;var o=f(r);return!!o&&u(e,o,t)},t.joinTextblockForward=function(e,t,n){var r=h(e,n);if(!r)return!1;var o=v(r);return!!o&&u(e,o,t)},t.joinUp=function(e,t){var n,r=e.selection,i=r instanceof a.NodeSelection;if(i){if(r.node.isTextblock||!o.canJoin(e.doc,r.from))return!1;n=r.from}else if(null==(n=o.joinPoint(e.doc,r.from,-1)))return!1;if(t){var s=e.tr.join(n);i&&s.setSelection(a.NodeSelection.create(s.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},t.lift=function(e,t){var n=e.selection,r=n.$from,i=n.$to,a=r.blockRange(i),s=a&&o.liftTarget(a);return null!=s&&(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)},t.liftEmptyBlock=k,t.macBaseKeymap=P,t.newlineInCode=y,t.pcBaseKeymap=R,t.selectAll=C,t.selectNodeBackward=p,t.selectNodeForward=g,t.selectParentNode=function(e,t){var n,r=e.selection,o=r.$from,i=r.to,s=o.sharedDepth(i);return 0!=s&&(n=o.before(s),t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,n))),!0)},t.selectTextblockEnd=D,t.selectTextblockStart=I,t.setBlockType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){for(var o=!1,i=0;i<n.selection.ranges.length&&!o;i++){var a=n.selection.ranges[i],s=a.$from.pos,l=a.$to.pos;n.doc.nodesBetween(s,l,(function(r,i){if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{var a=n.doc.resolve(i),s=a.index();o=a.parent.canReplaceWith(s,s+1,e)}}))}if(!o)return!1;if(r){for(var c=n.tr,u=0;u<n.selection.ranges.length;u++){var d=n.selection.ranges[u],p=d.$from.pos,f=d.$to.pos;c.setBlockType(p,f,e,t)}r(c.scrollIntoView())}return!0}},t.splitBlock=E,t.splitBlockAs=S,t.splitBlockKeepMarks=function(e,t){return E(e,t&&function(n){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})},t.toggleMark=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,o){var i=n.selection,a=i.empty,s=i.$cursor,l=i.ranges;if(a&&!s||!function(e,t,n){for(var o=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.inlineContent&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},i=0;i<t.length;i++){var a=o(i);if("object"===r(a))return a.v}return!1}(n.doc,l,e))return!1;if(o)if(s)e.isInSet(n.storedMarks||s.marks())?o(n.tr.removeStoredMark(e)):o(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,u=n.tr,d=0;!c&&d<l.length;d++){var p=l[d],f=p.$from,h=p.$to;c=n.doc.rangeHasMark(f.pos,h.pos,e)}for(var m=0;m<l.length;m++){var g=l[m],v=g.$from,y=g.$to;if(c)u.removeMark(v.pos,y.pos,e);else{var b=v.pos,w=y.pos,x=v.nodeAfter,k=y.nodeBefore,S=x&&x.isText?/^\s*/.exec(x.text)[0].length:0,E=k&&k.isText?/\s*$/.exec(k.text)[0].length:0;b+S<w&&(b+=S,w-=E),u.addMark(b,w,e.create(t))}}o(u.scrollIntoView())}return!0}},t.wrapIn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){var i=n.selection,a=i.$from,s=i.$to,l=a.blockRange(s),c=l&&o.findWrapping(l,e,t);return!!c&&(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(623);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(121),o=n(89),i=n(39),a=["ol",0],s=["ul",0],l=["li",0],c={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?a:["ol",{start:e.attrs.order},0]}},u={parseDOM:[{tag:"ul"}],toDOM:function(){return s}},d={parseDOM:[{tag:"li"}],toDOM:function(){return l},defining:!0};function p(e,t){var n={};for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n}t.addListNodes=function(e,t,n){return e.append({ordered_list:p(c,{content:"list_item+",group:n}),bullet_list:p(u,{content:"list_item+",group:n}),list_item:p(d,{content:t})})},t.bulletList=u,t.liftListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,l=a.blockRange(s,(function(t){return t.childCount>0&&t.firstChild.type==e}));return!!l&&(!n||(a.node(l.depth-1).type==e?function(e,t,n,i){var a=e.tr,s=i.end,l=i.$to.end(i.depth);s<l&&(a.step(new r.ReplaceAroundStep(s-1,l,s,l,new o.Slice(o.Fragment.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new o.NodeRange(a.doc.resolve(i.$from.pos),a.doc.resolve(l),i.depth));var c=r.liftTarget(i);if(null==c)return!1;a.lift(i,c);var u=a.mapping.map(s,-1)-1;r.canJoin(a.doc,u)&&a.join(u);return t(a.scrollIntoView()),!0}(t,n,e,l):function(e,t,n){for(var i=e.tr,a=n.parent,s=n.end,l=n.endIndex-1,c=n.startIndex;l>c;l--)s-=a.child(l).nodeSize,i.delete(s-1,s+1);var u=i.doc.resolve(n.start),d=u.nodeAfter;if(i.mapping.map(n.end)!=n.start+u.nodeAfter.nodeSize)return!1;var p=0==n.startIndex,f=n.endIndex==a.childCount,h=u.node(-1),m=u.index(-1);if(!h.canReplace(m+(p?0:1),m+1,d.content.append(f?o.Fragment.empty:o.Fragment.from(a))))return!1;var g=u.pos,v=g+d.nodeSize;return i.step(new r.ReplaceAroundStep(g-(p?1:0),v+(f?1:0),g+1,v-1,new o.Slice((p?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))).append(f?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))),p?0:1,f?0:1),p?0:1)),t(i.scrollIntoView()),!0}(t,n,l)))}},t.listItem=d,t.orderedList=c,t.sinkListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,l=a.blockRange(s,(function(t){return t.childCount>0&&t.firstChild.type==e}));if(!l)return!1;var c=l.startIndex;if(0==c)return!1;var u=l.parent,d=u.child(c-1);if(d.type!=e)return!1;if(n){var p=d.lastChild&&d.lastChild.type==u.type,f=o.Fragment.from(p?e.create():null),h=new o.Slice(o.Fragment.from(e.create(null,o.Fragment.from(u.type.create(null,f)))),p?3:1,0),m=l.start,g=l.end;n(t.tr.step(new r.ReplaceAroundStep(m-(p?3:1),g,m,g,h,1,!0)).scrollIntoView())}return!0}},t.splitListItem=function(e,t){return function(n,a){var s=n.selection,l=s.$from,c=s.$to,u=s.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;var d=l.node(-1);if(d.type!=e)return!1;if(0==l.parent.content.size&&l.node(-1).childCount==l.indexAfter(-1)){if(3==l.depth||l.node(-3).type!=e||l.index(-2)!=l.node(-2).childCount-1)return!1;if(a){for(var p=o.Fragment.empty,f=l.index(-1)?1:l.index(-2)?2:3,h=l.depth-f;h>=l.depth-3;h--)p=o.Fragment.from(l.node(h).copy(p));var m=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3;p=p.append(o.Fragment.from(e.createAndFill()));var g=l.before(l.depth-(f-1)),v=n.tr.replace(g,l.after(-m),new o.Slice(p,4-f,0)),y=-1;v.doc.nodesBetween(g,v.doc.content.size,(function(e,t){if(y>-1)return!1;e.isTextblock&&0==e.content.size&&(y=t+1)})),y>-1&&v.setSelection(i.Selection.near(v.doc.resolve(y))),a(v.scrollIntoView())}return!0}var b=c.pos==l.end()?d.contentMatchAt(0).defaultType:null,w=n.tr.delete(l.pos,c.pos),x=b?[t?{type:e,attrs:t}:null,{type:b}]:void 0;return!!r.canSplit(w.doc,l.pos,2,x)&&(a&&a(w.split(l.pos,2,x).scrollIntoView()),!0)}},t.wrapInList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,i){var a=n.selection,s=a.$from,l=a.$to,c=s.blockRange(l),u=!1,d=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(e)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;var p=n.doc.resolve(c.start-2);d=new o.NodeRange(p,p,c.depth),c.endIndex<c.parent.childCount&&(c=new o.NodeRange(s,n.doc.resolve(l.end(c.depth)),c.depth)),u=!0}var f=r.findWrapping(d,e,t,c);return!!f&&(i&&i(function(e,t,n,i,a){for(var s=o.Fragment.empty,l=n.length-1;l>=0;l--)s=o.Fragment.from(n[l].type.create(n[l].attrs,s));e.step(new r.ReplaceAroundStep(t.start-(i?2:0),t.end,t.start,t.end,new o.Slice(s,0,0),n.length,!0));for(var c=0,u=0;u<n.length;u++)n[u].type==a&&(c=u+1);for(var d=n.length-c,p=t.start+n.length-(i?2:0),f=t.parent,h=t.startIndex,m=t.endIndex,g=!0;h<m;h++,g=!1)!g&&r.canSplit(e.doc,p,d)&&(e.split(p,d),p+=2*d),p+=f.child(h).nodeSize;return e}(n.tr,c,f,u,e).scrollIntoView()),!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=/^\s*>\s$/,i=r.Node.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[r.wrappingInputRule({find:o,type:this.type})]}});t.Blockquote=i,t.default=i,t.inputRegex=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,i=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,a=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,s=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,l=r.Mark.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[r.markInputRule({find:o,type:this.type}),r.markInputRule({find:a,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:i,type:this.type}),r.markPasteRule({find:s,type:this.type})]}});t.Bold=l,t.default=l,t.starInputRegex=o,t.starPasteRegex=i,t.underscoreInputRegex=a,t.underscorePasteRegex=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),i=r.Mark.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=r.getMarkAttributes(e,this.type);return!!Object.entries(n).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),a=/^\s*([-+*])\s$/,s=r.Node.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(o.name,this.editor.getAttributes(i.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=r.wrappingInputRule({find:a,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=r.wrappingInputRule({find:a,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(i.name),editor:this.editor})),[e]}});t.BulletList=s,t.default=s,t.inputRegex=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,i=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,a=r.Mark.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[r.markInputRule({find:o,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:i,type:this.type})]}});t.Code=a,t.default=a,t.inputRegex=o,t.pasteRegex=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(629);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),i=n(121);var a=function(){function e(t,n){var r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(r=n.width)&&void 0!==r?r:1,this.color=!1===n.color?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var n=function(t){o[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}var t,n,o;return t=e,(n=[{key:"destroy",value:function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))}},{key:"update",value:function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}},{key:"setCursor",value:function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}},{key:"updateOverlay",value:function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent;if(n){var r=t.nodeBefore,o=t.nodeAfter;if(r||o){var i=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0));if(i){var a=i.getBoundingClientRect(),s=r?a.bottom:a.top;r&&o&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:a.left,right:a.right,top:s-this.width/2,bottom:s+this.width/2}}}}if(!e){var l=this.editorView.coordsAtPos(this.cursorPos);e={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}var c,u,d=this.editorView.dom.offsetParent;if(this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!d||d==document.body&&"static"==getComputedStyle(d).position)c=-pageXOffset,u=-pageYOffset;else{var p=d.getBoundingClientRect();c=p.left-d.scrollLeft,u=p.top-d.scrollTop}this.element.style.left=e.left-c+"px",this.element.style.top=e.top-u+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}},{key:"scheduleRemoval",value:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)}},{key:"dragover",value:function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){var a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){var s=i.dropPoint(this.editorView.state.doc,a,this.editorView.dragging.slice);null!=s&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}}},{key:"dragend",value:function(){this.scheduleRemoval(20)}},{key:"drop",value:function(){this.scheduleRemoval(20)}},{key:"dragleave",value:function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.dropCursor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o.Plugin({view:function(t){return new a(t,e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(631);const i=r.Extension.create({name:"gapCursor",addProseMirrorPlugins:()=>[o.gapCursor()],extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:null!==(t=r.callOrReturn(r.getExtensionField(e,"allowGapCursor",n)))&&void 0!==t?t:null}}});t.Gapcursor=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(632);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(303),d=n(39),p=n(89),f=n(222),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(n,e);var t=l(n);function n(e){return o(this,n),t.call(this,e,e)}return a(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));return n.valid(r)?new n(r):d.Selection.near(r)}},{key:"content",value:function(){return p.Slice.empty}},{key:"eq",value:function(e){return e instanceof n&&e.head==this.head}},{key:"toJSON",value:function(){return{type:"gapcursor",pos:this.head}}},{key:"getBookmark",value:function(){return new m(this.anchor)}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new n(e.resolve(t.pos))}},{key:"valid",value:function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t),r=e.node(t);if(0!=n)for(var o=r.child(n-1);;o=o.lastChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}},{key:"findGapCursorFrom",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e:for(;;){if(!r&&n.valid(e))return e;for(var o=e.pos,i=null,a=e.depth;;a--){var s=e.node(a);if(t>0?e.indexAfter(a)<s.childCount:e.index(a)>0){i=s.child(t>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;o+=t;var l=e.doc.resolve(o);if(n.valid(l))return l}for(;;){var c=t>0?i.firstChild:i.lastChild;if(!c){if(i.isAtom&&!i.isText&&!d.NodeSelection.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*t),r=!1;continue e}break}i=c,o+=t;var u=e.doc.resolve(o);if(n.valid(u))return u}return null}}}]),n}(d.Selection);h.prototype.visible=!1,h.findFrom=h.findGapCursorFrom,d.Selection.jsonID("gapcursor",h);var m=function(){function e(t){o(this,e),this.pos=t}return a(e,[{key:"map",value:function(t){return new e(t.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return h.valid(t)?new h(t):d.Selection.near(t)}}]),e}();var g=u.keydownHandler({ArrowLeft:v("horiz",-1),ArrowRight:v("horiz",1),ArrowUp:v("vert",-1),ArrowDown:v("vert",1)});function v(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){var i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof d.TextSelection){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}var l=h.findGapCursorFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new h(l))),!0)}}function y(e,t,n){if(!e||!e.editable)return!1;var r=e.state.doc.resolve(t);if(!h.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&d.NodeSelection.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new h(r))),!0)}function b(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof h))return!1;var n=e.state.selection.$from,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;for(var o=p.Fragment.empty,i=r.length-1;i>=0;i--)o=p.Fragment.from(r[i].createAndFill(null,o));var a=e.state.tr.replace(n.pos,n.pos,new p.Slice(o,0,0));return a.setSelection(d.TextSelection.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function w(e){if(!(e.selection instanceof h))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",f.DecorationSet.create(e.doc,[f.Decoration.widget(e.selection.head,t,{key:"gapcursor"})])}t.GapCursor=h,t.gapCursor=function(){return new d.Plugin({props:{decorations:w,createSelectionBetween:function(e,t,n){return t.pos==n.pos&&h.valid(n)?new h(n):null},handleClick:y,handleKeyDown:g,handleDOMEvents:{beforeinput:b}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",r.mergeAttributes(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:o}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,s=o||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&s&&i){const t=s.filter((e=>a.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});t.HardBreak=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(635);const i=r.Extension.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>o.undo(e,t),redo:()=>({state:e,dispatch:t})=>o.redo(e,t)}),addProseMirrorPlugins(){return[o.history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}});t.History=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(636);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(637),l=n(121),c=n(39);var u,d=(u=s)&&"object"===a(u)&&"default"in u?u:{default:u},p=function(){function e(t,n){r(this,e),this.items=t,this.eventCount=n}return i(e,[{key:"popEvent",value:function(t,n){var r=this;if(0==this.eventCount)return null;for(var o,i,a=this.items.length;;a--){if(this.items.get(a-1).selection){--a;break}}n&&(o=this.remapping(a,this.items.length),i=o.maps.length);var s,l,c=t.tr,u=[],d=[];return this.items.forEach((function(t,n){if(!t.step)return o||(o=r.remapping(a,n+1),i=o.maps.length),i--,void d.push(t);if(o){d.push(new f(t.map));var p,h=t.step.map(o.slice(i));h&&c.maybeStep(h).doc&&(p=c.mapping.maps[c.mapping.maps.length-1],u.push(new f(p,void 0,void 0,u.length+d.length))),i--,p&&o.appendMap(p,i)}else c.maybeStep(t.step);return t.selection?(s=o?t.selection.map(o.slice(i)):t.selection,l=new e(r.items.slice(0,a).append(d.reverse().concat(u)),r.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:c,selection:s}}},{key:"addTransform",value:function(t,n,r,o){for(var i=[],a=this.eventCount,s=this.items,l=!o&&s.length?s.get(s.length-1):null,c=0;c<t.steps.length;c++){var u,d=t.steps[c].invert(t.docs[c]),p=new f(t.mapping.maps[c],d,n);(u=l&&l.merge(p))&&(p=u,c?i.pop():s=s.slice(0,s.length-1)),i.push(p),n&&(a++,n=void 0),o||(l=p)}var h,g,v,y=a-r.depth;return y>m&&(g=y,(h=s).forEach((function(e,t){if(e.selection&&0==g--)return v=t,!1})),s=h.slice(v),a-=y),new e(s.append(i),a)}},{key:"remapping",value:function(e,t){var n=new l.Mapping;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}},{key:"addMaps",value:function(t){return 0==this.eventCount?this:new e(this.items.append(t.map((function(e){return new f(e)}))),this.eventCount)}},{key:"rebased",value:function(t,n){if(!this.eventCount)return this;var r=[],o=Math.max(0,this.items.length-n),i=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),o);var l=n;this.items.forEach((function(e){var n=i.getMirror(--l);if(null!=n){a=Math.min(a,n);var o=i.maps[n];if(e.step){var c=t.steps[n].invert(t.docs[n]),u=e.selection&&e.selection.map(i.slice(l+1,n));u&&s++,r.push(new f(o,c,u))}else r.push(new f(o))}}),o);for(var c=[],u=n;u<a;u++)c.push(new f(i.maps[u]));var d=new e(this.items.slice(0,o).append(c).append(r),s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-r.length)),d}},{key:"emptyItemCount",value:function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e}},{key:"compress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,n=this.remapping(0,t),r=n.maps.length,o=[],i=0;return this.items.forEach((function(e,a){if(a>=t)o.push(e),e.selection&&i++;else if(e.step){var s=e.step.map(n.slice(r)),l=s&&s.getMap();if(r--,l&&n.appendMap(l,r),s){var c=e.selection&&e.selection.map(n.slice(r));c&&i++;var u,d=new f(l.invert(),s,c),p=o.length-1;(u=o.length&&o[p].merge(d))?o[p]=u:o.push(d)}}else e.map&&r--}),this.items.length,0),new e(d.default.from(o.reverse()),i)}}]),e}();p.empty=new p(d.default.empty,0);var f=function(){function e(t,n,o,i){r(this,e),this.map=t,this.step=n,this.selection=o,this.mirrorOffset=i}return i(e,[{key:"merge",value:function(t){if(this.step&&t.step&&!t.selection){var n=t.step.merge(this.step);if(n)return new e(n.getMap().invert(),n,this.selection)}}}]),e}(),h=i((function e(t,n,o,i,a){r(this,e),this.done=t,this.undone=n,this.prevRanges=o,this.prevTime=i,this.prevComposition=a})),m=20;function g(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function v(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function y(e,t,n,r){var o=x(t),i=k.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),l=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),c=new h(r?l:a.remaining,r?a.remaining:l,null,0,-1);n(a.transform.setSelection(s).setMeta(k,{redo:r,historyState:c}).scrollIntoView())}}var b=!1,w=null;function x(e){var t=e.plugins;if(w!=t){b=!1,w=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){b=!0;break}}return b}var k=new c.PluginKey("history"),S=new c.PluginKey("closeHistory");var E=function(e,t){var n=k.getState(e);return!(!n||0==n.done.eventCount)&&(t&&y(n,e,t,!1),!0)},C=function(e,t){var n=k.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&y(n,e,t,!0),!0)};t.closeHistory=function(e){return e.setMeta(S,!0)},t.history=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new c.Plugin({key:k,state:{init:function(){return new h(p.empty,p.empty,null,0,-1)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(k);if(i)return i.historyState;n.getMeta(S)&&(e=new h(e.done,e.undone,null,0,-1));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(k))return a.getMeta(k).redo?new h(e.done.addTransform(n,void 0,r,x(t)),e.undone,g(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new h(e.done,e.undone.addTransform(n,void 0,r,x(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new h(e.done.rebased(n,o),e.undone.rebased(n,o),v(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new h(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),v(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);var s=n.getMeta("composition"),l=0==e.prevTime||!a&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),c=a?v(e.prevRanges,n.mapping):g(n.mapping.maps[n.steps.length-1]);return new h(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,x(t)),p.empty,c,n.time,null==s?e.prevComposition:s)}(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(e,t){var n=t.inputType,r="historyUndo"==n?E:"historyRedo"==n?C:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})},t.redo=C,t.redoDepth=function(e){var t=k.getState(e);return t?t.undone.eventCount:0},t.undo=E,t.undoDepth=function(e){var t=k.getState(e);return t?t.done.eventCount:0}},function(e,t,n){"use strict";var r=200,o=function(){};o.prototype.append=function(e){return e.length?(e=o.from(e),!this.length&&e||e.length<r&&this.leafAppend(e)||this.length<r&&e.leafPrepend(this)||this.appendInner(e)):this},o.prototype.prepend=function(e){return e.length?o.from(e).append(this):this},o.prototype.appendInner=function(e){return new a(this,e)},o.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?o.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},o.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},o.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},o.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},o.from=function(e){return e instanceof o?e:e&&e.length?new i(e):o.empty};var i=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=r)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=r)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(o);o.empty=new i([]);var a=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(o);e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(120);const i=r.Node.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",r.mergeAttributes(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{$to:n}=t.selection,r=e();return 0===n.parentOffset?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command((({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,r=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(o.TextSelection.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(o.NodeSelection.create(e.doc,t.pos)):e.setSelection(o.TextSelection.create(e.doc,t.pos));else{const i=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(e.insert(r,i),e.setSelection(o.TextSelection.create(e.doc,r+1)))}e.scrollIntoView()}return!0})).run()}}},addInputRules(){return[r.nodeInputRule({find:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type})]}});t.HorizontalRule=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,i=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,a=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,s=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,l=r.Mark.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[r.markInputRule({find:o,type:this.type}),r.markInputRule({find:a,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:i,type:this.type}),r.markPasteRule({find:s,type:this.type})]}});t.Italic=l,t.default=l,t.starInputRegex=o,t.starPasteRegex=i,t.underscoreInputRegex=a,t.underscorePasteRegex=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=r.Node.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),i=r.Mark.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=r.getMarkAttributes(e,this.type);return!!Object.entries(n).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),a=/^(\d+)\.\s$/,s=r.Node.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",r.mergeAttributes(this.options.HTMLAttributes,n),0]:["ol",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(o.name,this.editor.getAttributes(i.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=r.wrappingInputRule({find:a,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=r.wrappingInputRule({find:a,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(i.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}});t.OrderedList=s,t.default=s,t.inputRegex=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);const o=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,i=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,a=r.Mark.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",r.mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){const e={};return r.isMacOS()?e["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():e["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),e},addInputRules(){return[r.markInputRule({find:o,type:this.type})]},addPasteRules(){return[r.markPasteRule({find:i,type:this.type})]}});t.Strike=a,t.default=a,t.inputRegex=o,t.pasteRegex=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>{for(const n in t)e[n]=t[n];return e},o="numeric",i="ascii",a="alpha",s="asciinumeric",l="alphanumeric",c="domain",u="emoji",d="scheme",p="slashscheme",f="whitespace";function h(e,t){return e in t||(t[e]=[]),t[e]}function m(e,t,n){t[o]&&(t[s]=!0,t[l]=!0),t[i]&&(t[s]=!0,t[a]=!0),t[s]&&(t[l]=!0),t[a]&&(t[l]=!0),t[l]&&(t[c]=!0),t[u]&&(t[c]=!0);for(const r in t){const t=h(r,n);t.indexOf(e)<0&&t.push(e)}}function g(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}g.groups={},g.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let n=0;n<t.jr.length;n++){const r=t.jr[n][0],o=t.jr[n][1];if(o&&r.test(e))return o}return t.jd},has(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){let o;return r=r||g.groups,t&&t.j?o=t:(o=new g(t),n&&r&&m(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const i=e.length;if(!i)return o;for(let t=0;t<i-1;t++)o=o.tt(e[t]);return o.tt(e[i-1],t,n,r)},tt(e,t,n,o){o=o||g.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const a=t;let s,l=i.go(e);if(l?(s=new g,r(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new g,a){if(o)if(s.t&&"string"==typeof s.t){const e=r(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(s.t,o),n);m(a,e,o)}else n&&m(a,n,o);s.t=a}return i.j[e]=s,s}};const v=(e,t,n,r,o)=>e.ta(t,n,r,o),y=(e,t,n,r,o)=>e.tr(t,n,r,o),b=(e,t,n,r,o)=>e.ts(t,n,r,o),w=(e,t,n,r,o)=>e.tt(t,n,r,o),x="WORD",k="UWORD",S="LOCALHOST",E="TLD",C="UTLD",A="SCHEME",O="SLASH_SCHEME",I="NUM",D="NL",M="OPENBRACE",T="CLOSEBRACE",_="OPENBRACKET",R="CLOSEBRACKET",P="OPENPAREN",L="CLOSEPAREN",N="OPENANGLEBRACKET",j="CLOSEANGLEBRACKET",B="FULLWIDTHLEFTPAREN",F="FULLWIDTHRIGHTPAREN",z="LEFTCORNERBRACKET",$="RIGHTCORNERBRACKET",H="LEFTWHITECORNERBRACKET",U="RIGHTWHITECORNERBRACKET",W="FULLWIDTHLESSTHAN",V="FULLWIDTHGREATERTHAN",q="AMPERSAND",G="APOSTROPHE",Y="ASTERISK",K="AT",J="BACKSLASH",X="BACKTICK",Q="CARET",Z="COLON",ee="COMMA",te="DOLLAR",ne="DOT",re="EQUALS",oe="EXCLAMATION",ie="HYPHEN",ae="PERCENT",se="PIPE",le="PLUS",ce="POUND",ue="QUERY",de="QUOTE",pe="SEMI",fe="SLASH",he="TILDE",me="UNDERSCORE",ge="EMOJI",ve="SYM";var ye=Object.freeze({__proto__:null,WORD:x,UWORD:k,LOCALHOST:S,TLD:E,UTLD:C,SCHEME:A,SLASH_SCHEME:O,NUM:I,WS:"WS",NL:D,OPENBRACE:M,CLOSEBRACE:T,OPENBRACKET:_,CLOSEBRACKET:R,OPENPAREN:P,CLOSEPAREN:L,OPENANGLEBRACKET:N,CLOSEANGLEBRACKET:j,FULLWIDTHLEFTPAREN:B,FULLWIDTHRIGHTPAREN:F,LEFTCORNERBRACKET:z,RIGHTCORNERBRACKET:$,LEFTWHITECORNERBRACKET:H,RIGHTWHITECORNERBRACKET:U,FULLWIDTHLESSTHAN:W,FULLWIDTHGREATERTHAN:V,AMPERSAND:q,APOSTROPHE:G,ASTERISK:Y,AT:K,BACKSLASH:J,BACKTICK:X,CARET:Q,COLON:Z,COMMA:ee,DOLLAR:te,DOT:ne,EQUALS:re,EXCLAMATION:oe,HYPHEN:ie,PERCENT:ae,PIPE:se,PLUS:le,POUND:ce,QUERY:ue,QUOTE:de,SEMI:pe,SLASH:fe,TILDE:he,UNDERSCORE:me,EMOJI:ge,SYM:ve});const be=/[a-z]/,we=/\p{L}/u,xe=/\p{Emoji}/u,ke=/\d/,Se=/\s/;var Ee=Object.freeze({__proto__:null,ASCII_LETTER:be,LETTER:we,EMOJI:xe,EMOJI_VARIATION:/\ufe0f/,DIGIT:ke,SPACE:Se});let Ce=null,Ae=null;function Oe(e){const t=[],n=e.length;let r=0;for(;r<n;){let o,i=e.charCodeAt(r),a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function Ie(e,t,n,r,o){let i;const a=t.length;for(let n=0;n<a-1;n++){const a=t[n];e.j[a]?i=e.j[a]:(i=new g(r),i.jr=o.slice(),e.j[a]=i),e=i}return i=new g(n),i.jr=o.slice(),e.j[t[a-1]]=i,i}function De(e){const t=[],n=[];let r=0;for(;r<e.length;){let o=0;for(;"0123456789".indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+o),10);t>0;t--)n.pop();r+=o}else n.push(e[r]),r++}return t}const Me={defaultProtocol:"http",events:null,format:_e,formatHref:_e,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Te(e,t){void 0===t&&(t=null);let n=r({},Me);e&&(n=r(n,e instanceof Te?e.o:e));const o=n.ignoreTags,i=[];for(let e=0;e<o.length;e++)i.push(o[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function _e(e){return e}Te.prototype={o:Me,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let o=this.o[e];return o?("object"==typeof o?(o=n.t in o?o[n.t]:Me[e],"function"==typeof o&&r&&(o=o(t,n))):"function"==typeof o&&r&&(o=o(t,n.t,n)),o):o},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};var Re=Object.freeze({__proto__:null,defaults:Me,Options:Te,assign:r});function Pe(e,t){this.t="token",this.v=e,this.tk=t}function Le(e,t){class n extends Pe{constructor(t,n){super(t,n),this.t=e}}for(const e in t)n.prototype[e]=t[e];return n.t=e,n}Pe.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return void 0===e&&(e=Me.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),o=e.get("formatHref",n,this),i=e.get("tagName",n,t),a=this.toFormattedString(e),s={},l=e.get("className",n,t),c=e.get("target",n,t),u=e.get("rel",n,t),d=e.getObj("attributes",n,t),p=e.getObj("events",n,t);return s.href=o,l&&(s.class=l),c&&(s.target=c),u&&(s.rel=u),d&&r(s,d),{tagName:i,attributes:s,content:a,eventListeners:p}}};const Ne=Le("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),je=Le("text"),Be=Le("nl"),Fe=Le("url",{isLink:!0,toHref(e){return void 0===e&&(e=Me.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==S&&e[1].t===Z}});var ze=Object.freeze({__proto__:null,MultiToken:Pe,Base:Pe,createTokenClass:Le,Email:Ne,Text:je,Nl:Be,Url:Fe});const $e=e=>new g(e);function He(e,t,n){const r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}const Ue="undefined"!=typeof console&&console&&console.warn||(()=>{}),We="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ve={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function qe(){Ve.scanner=function(e){void 0===e&&(e=[]);const t={};g.groups=t;const n=new g;null==Ce&&(Ce=De("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==Ae&&(Ae=De("\u03b5\u03bb1\u03c52\u0431\u04331\u0435\u043b3\u0434\u0435\u0442\u04384\u0435\u044e2\u043a\u0430\u0442\u043e\u043b\u0438\u043a6\u043e\u043c3\u043c\u043a\u04342\u043e\u043d1\u0441\u043a\u0432\u04306\u043e\u043d\u043b\u0430\u0439\u043d5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043a\u04403\u049b\u0430\u04373\u0570\u0561\u05753\u05d9\u05e9\u05e8\u05d0\u05dc5\u05e7\u05d5\u05dd3\u0627\u0628\u0648\u0638\u0628\u064a5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062f\u06464\u0628\u062d\u0631\u064a\u06465\u062c\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062f\u064a\u06296\u0639\u0644\u064a\u0627\u06465\u0645\u063a\u0631\u06285\u0645\u0627\u0631\u0627\u062a5\u06cc\u0631\u0627\u06465\u0628\u0627\u0631\u062a2\u0632\u0627\u06314\u064a\u062a\u06433\u06be\u0627\u0631\u062a5\u062a\u0648\u0646\u06334\u0633\u0648\u062f\u0627\u06463\u0631\u064a\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064a\u06466\u0642\u0637\u06313\u0643\u0627\u062b\u0648\u0644\u064a\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064a\u0633\u064a\u06275\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067e\u0627\u06a9\u0633\u062a\u0627\u06467\u0680\u0627\u0631\u062a4\u0915\u0949\u092e3\u0928\u0947\u091f3\u092d\u093e\u0930\u09240\u092e\u094d3\u094b\u09245\u0938\u0902\u0917\u0920\u09285\u09ac\u09be\u0982\u09b2\u09be5\u09ad\u09be\u09b0\u09a42\u09f0\u09a44\u0a2d\u0a3e\u0a30\u0a244\u0aad\u0abe\u0ab0\u0aa44\u0b2d\u0b3e\u0b30\u0b244\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe6\u0bb2\u0b99\u0bcd\u0b95\u0bc86\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd11\u0c2d\u0c3e\u0c30\u0c24\u0c4d5\u0cad\u0cbe\u0cb0\u0ca44\u0d2d\u0d3e\u0d30\u0d24\u0d025\u0dbd\u0d82\u0d9a\u0dcf4\u0e04\u0e2d\u0e213\u0e44\u0e17\u0e223\u0ea5\u0eb2\u0ea73\u10d2\u10d42\u307f\u3093\u306a3\u30a2\u30de\u30be\u30f34\u30af\u30e9\u30a6\u30c94\u30b0\u30fc\u30b0\u30eb4\u30b3\u30e02\u30b9\u30c8\u30a23\u30bb\u30fc\u30eb3\u30d5\u30a1\u30c3\u30b7\u30e7\u30f36\u30dd\u30a4\u30f3\u30c84\u4e16\u754c2\u4e2d\u4fe11\u56fd1\u570b1\u6587\u7f513\u4e9a\u9a6c\u900a3\u4f01\u4e1a2\u4f5b\u5c712\u4fe1\u606f2\u5065\u5eb72\u516b\u53662\u516c\u53f81\u76ca2\u53f0\u6e7e1\u70632\u5546\u57ce1\u5e971\u68072\u5609\u91cc0\u5927\u9152\u5e975\u5728\u7ebf2\u5927\u62ff2\u5929\u4e3b\u65593\u5a31\u4e502\u5bb6\u96fb2\u5e7f\u4e1c2\u5fae\u535a2\u6148\u55842\u6211\u7231\u4f603\u624b\u673a2\u62db\u80582\u653f\u52a11\u5e9c2\u65b0\u52a0\u57612\u95fb2\u65f6\u5c1a2\u66f8\u7c4d2\u673a\u67842\u6de1\u9a6c\u95213\u6e38\u620f2\u6fb3\u95802\u70b9\u770b2\u79fb\u52a82\u7ec4\u7ec7\u673a\u67844\u7f51\u57401\u5e971\u7ad91\u7edc2\u8054\u901a2\u8c37\u6b4c2\u8d2d\u72692\u901a\u8ca92\u96c6\u56e22\u96fb\u8a0a\u76c8\u79d14\u98de\u5229\u6d663\u98df\u54c12\u9910\u53852\u9999\u683c\u91cc\u62c93\u6e2f2\ub2f7\ub1371\ucef42\uc0bc\uc1312\ud55c\uad6d2")),w(n,"'",G),w(n,"{",M),w(n,"}",T),w(n,"[",_),w(n,"]",R),w(n,"(",P),w(n,")",L),w(n,"<",N),w(n,">",j),w(n,"\uff08",B),w(n,"\uff09",F),w(n,"\u300c",z),w(n,"\u300d",$),w(n,"\u300e",H),w(n,"\u300f",U),w(n,"\uff1c",W),w(n,"\uff1e",V),w(n,"&",q),w(n,"*",Y),w(n,"@",K),w(n,"`",X),w(n,"^",Q),w(n,":",Z),w(n,",",ee),w(n,"$",te),w(n,".",ne),w(n,"=",re),w(n,"!",oe),w(n,"-",ie),w(n,"%",ae),w(n,"|",se),w(n,"+",le),w(n,"#",ce),w(n,"?",ue),w(n,'"',de),w(n,"/",fe),w(n,";",pe),w(n,"~",he),w(n,"_",me),w(n,"\\",J);const l=y(n,ke,I,{[o]:!0});y(l,ke,l);const h=y(n,be,x,{[i]:!0});y(h,be,h);const v=y(n,we,k,{[a]:!0});y(v,be),y(v,we,v);const Ee=y(n,Se,"WS",{[f]:!0});w(n,"\n",D,{[f]:!0}),w(Ee,"\n"),y(Ee,Se,Ee);const Oe=y(n,xe,ge,{[u]:!0});y(Oe,xe,Oe),w(Oe,"\ufe0f",Oe);const Me=w(Oe,"\u200d");y(Me,xe,Oe);const Te=[[be,h]],_e=[[be,null],[we,v]];for(let e=0;e<Ce.length;e++)Ie(n,Ce[e],E,x,Te);for(let e=0;e<Ae.length;e++)Ie(n,Ae[e],C,k,_e);m(E,{tld:!0,ascii:!0},t),m(C,{utld:!0,alpha:!0},t),Ie(n,"file",A,x,Te),Ie(n,"mailto",A,x,Te),Ie(n,"http",O,x,Te),Ie(n,"https",O,x,Te),Ie(n,"ftp",O,x,Te),Ie(n,"ftps",O,x,Te),m(A,{scheme:!0,ascii:!0},t),m(O,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let t=0;t<e.length;t++){const r=e[t][0],a=e[t][1]?{[d]:!0}:{[p]:!0};r.indexOf("-")>=0?a[c]=!0:be.test(r)?ke.test(r)?a[s]=!0:a[i]=!0:a[o]=!0,b(n,r,r,a)}return b(n,"localhost",S,{ascii:!0}),n.jd=new g(ve),{start:n,tokens:r({groups:t},ye)}}(Ve.customSchemes);for(let e=0;e<Ve.tokenQueue.length;e++)Ve.tokenQueue[e][1]({scanner:Ve.scanner});Ve.parser=function(e){let{groups:t}=e;const n=t.domain.concat([q,Y,K,J,X,Q,te,re,ie,I,ae,se,le,ce,fe,ve,he,me]),r=[G,Z,ee,ne,oe,ue,de,pe,N,j,M,T,R,_,P,L,B,F,z,$,H,U,W,V],o=[q,G,Y,J,X,Q,te,re,ie,M,T,ae,se,le,ce,ue,fe,ve,he,me],i=$e(),a=w(i,he);v(a,o,a),v(a,t.domain,a);const s=$e(),l=$e(),c=$e();v(i,t.domain,s),v(i,t.scheme,l),v(i,t.slashscheme,c),v(s,o,a),v(s,t.domain,s);const u=w(s,K);w(a,K,u),w(l,K,u),w(c,K,u);const d=w(a,ne);v(d,o,a),v(d,t.domain,a);const p=$e();v(u,t.domain,p),v(p,t.domain,p);const f=w(p,ne);v(f,t.domain,p);const h=$e(Ne);v(f,t.tld,h),v(f,t.utld,h),w(u,S,h);const m=w(p,ie);v(m,t.domain,p),v(h,t.domain,p),w(h,ne,f),w(h,ie,m);const g=w(h,Z);v(g,t.numeric,Ne);const y=w(s,ie),b=w(s,ne);v(y,t.domain,s),v(b,o,a),v(b,t.domain,s);const x=$e(Fe);v(b,t.tld,x),v(b,t.utld,x),v(x,t.domain,s),v(x,o,a),w(x,ne,b),w(x,ie,y),w(x,K,u);const k=w(x,Z),E=$e(Fe);v(k,t.numeric,E);const C=$e(Fe),A=$e();v(C,n,C),v(C,r,A),v(A,n,C),v(A,r,A),w(x,fe,C),w(E,fe,C);const O=w(l,Z),ge=w(c,Z),be=w(ge,fe),we=w(be,fe);v(l,t.domain,s),w(l,ne,b),w(l,ie,y),v(c,t.domain,s),w(c,ne,b),w(c,ie,y),v(O,t.domain,C),w(O,fe,C),v(we,t.domain,C),v(we,n,C),w(we,fe,C);const xe=[[M,T],[_,R],[P,L],[N,j],[B,F],[z,$],[H,U],[W,V]];for(let e=0;e<xe.length;e++){const[t,o]=xe[e],i=w(C,t);w(A,t,i),w(i,o,C);const a=$e(Fe);v(i,n,a);const s=$e();v(i,r),v(a,n,a),v(a,r,s),v(s,n,a),v(s,r,s),w(a,o,C),w(s,o,C)}return w(i,S,x),w(i,D,Be),{start:i,tokens:ye}}(Ve.scanner.tokens);for(let e=0;e<Ve.pluginQueue.length;e++)Ve.pluginQueue[e][1]({scanner:Ve.scanner,parser:Ve.parser});Ve.initialized=!0}function Ge(e){return Ve.initialized||qe(),function(e,t,n){let r=n.length,o=0,i=[],a=[];for(;o<r;){let s=e,l=null,c=null,u=0,d=null,p=-1;for(;o<r&&!(l=s.go(n[o].t));)a.push(n[o++]);for(;o<r&&(c=l||s.go(n[o].t));)l=null,s=c,s.accepts()?(p=0,d=s):p>=0&&p++,o++,u++;if(p<0)o-=u,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(He(je,t,a)),a=[]),o-=p,u-=p;const e=d.t,r=n.slice(o-u,o);i.push(He(e,t,r))}}return a.length>0&&i.push(He(je,t,a)),i}(Ve.parser.start,e,function(e,t){const n=Oe(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),r=n.length,o=[];let i=0,a=0;for(;a<r;){let s=e,l=null,c=0,u=null,d=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,p=0,u=s):d>=0&&(d+=n[a].length,p++),c+=n[a].length,i+=n[a].length,a++;i-=d,a-=p,c-=d,o.push({t:u.t,v:t.slice(i-c,i),s:i-c,e:i})}return o}(Ve.scanner.start,e))}t.MultiToken=Pe,t.Options=Te,t.State=g,t.createTokenClass=Le,t.find=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new Te(n),o=Ge(e),i=[];for(let e=0;e<o.length;e++){const n=o[e];!n.isLink||t&&n.t!==t||!r.check(n)||i.push(n.toFormattedObject(r))}return i},t.init=qe,t.multi=ze,t.options=Re,t.regexp=Ee,t.registerCustomProtocol=function(e,t){if(void 0===t&&(t=!1),Ve.initialized&&Ue(`linkifyjs: already initialized - will not register custom scheme "${e}" ${We}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');Ve.customSchemes.push([e,t])},t.registerPlugin=function(e,t){if("function"!=typeof t)throw new Error(`linkifyjs: Invalid plugin ${t} (expects function)`);for(let n=0;n<Ve.pluginQueue.length;n++)if(e===Ve.pluginQueue[n][0])return Ue(`linkifyjs: plugin "${e}" already registered - will be overwritten`),void(Ve.pluginQueue[n]=[e,t]);Ve.pluginQueue.push([e,t]),Ve.initialized&&Ue(`linkifyjs: already initialized - will not register plugin "${e}" ${We}`)},t.registerTokenPlugin=function(e,t){if("function"!=typeof t)throw new Error(`linkifyjs: Invalid token plugin ${t} (expects function)`);for(let n=0;n<Ve.tokenQueue.length;n++)if(e===Ve.tokenQueue[n][0])return Ue(`linkifyjs: token plugin "${e}" already registered - will be overwritten`),void(Ve.tokenQueue[n]=[e,t]);Ve.tokenQueue.push([e,t]),Ve.initialized&&Ue(`linkifyjs: already initialized - will not register token plugin "${e}" ${We}`)},t.reset=function(){g.groups={},Ve.scanner=null,Ve.parser=null,Ve.tokenQueue=[],Ve.pluginQueue=[],Ve.customSchemes=[],Ve.initialized=!1},t.stringToArray=Oe,t.test=function(e,t){void 0===t&&(t=null);const n=Ge(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)},t.tokenize=Ge},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(644);r=o,Object.keys(r).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((e=>{t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>r[e]})}))},function(e,t,n){"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CellBookmark:()=>L,CellSelection:()=>P,ResizeState:()=>he,TableMap:()=>m,TableView:()=>ue,__clipCells:()=>G,__insertCells:()=>J,__pastedCells:()=>V,addColSpan:()=>_,addColumn:()=>ke,addColumnAfter:()=>Ee,addColumnBefore:()=>Se,addRow:()=>Ie,addRowAfter:()=>Me,addRowBefore:()=>De,cellAround:()=>k,colCount:()=>D,columnIsHeader:()=>R,columnResizing:()=>fe,columnResizingPluginKey:()=>pe,deleteColumn:()=>Ae,deleteRow:()=>_e,deleteTable:()=>We,findCell:()=>I,fixTables:()=>F,fixTablesKey:()=>j,goToNextCell:()=>Ue,handlePaste:()=>re,inSameTable:()=>O,isInTable:()=>S,mergeCells:()=>Pe,moveCellForward:()=>A,nextCell:()=>M,pointsAtCell:()=>C,removeColSpan:()=>T,removeColumn:()=>Ce,removeRow:()=>Te,rowIsHeader:()=>Oe,selectedRect:()=>xe,selectionCell:()=>E,setCellAttr:()=>je,splitCell:()=>Le,splitCellWithType:()=>Ne,tableEditing:()=>Ve,tableEditingKey:()=>x,tableNodeTypes:()=>w,tableNodes:()=>b,toggleHeader:()=>Fe,toggleHeaderCell:()=>He,toggleHeaderColumn:()=>$e,toggleHeaderRow:()=>ze,updateColumnsOnResize:()=>de}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))s.call(e,l)||l===n||o(e,l,{get:()=>t[l],enumerable:!(r=i(t,l))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c,u,d=n(39),p=n(89),f=n(39),h=n(222);if("undefined"!=typeof WeakMap){let e=new WeakMap;c=t=>e.get(t),u=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;c=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},u=(r,o)=>(n==t&&(n=0),e[n++]=r,e[n++]=o)}var m=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,a=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;a<this.height&&this.map[t+this.width*e]==n;e++)a++;return{left:r,top:o,right:i,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:a}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(o,l),right:Math.max(r,s),bottom:Math.max(i,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<o;)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return c(e)||u(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){const t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[];let o=0,i=null;const a=[];for(let e=0,o=t*n;e<o;e++)r[e]=0;for(let s=0,l=0;s<n;s++){const c=e.child(s);l++;for(let e=0;;e++){for(;o<r.length&&0!=r[o];)o++;if(e==c.childCount)break;const u=c.child(e),{colspan:d,rowspan:p,colwidth:f}=u.attrs;for(let e=0;e<p;e++){if(e+s>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:l,n:p-e});break}const c=o+e*t;for(let e=0;e<d;e++){0==r[c+e]?r[c+e]=l:(i||(i=[])).push({type:"collision",row:s,pos:l,n:d-e});const n=f&&f[e];if(n){const r=(c+e)%t*2,o=a[r];null==o||o!=n&&1==a[r+1]?(a[r]=n,a[r+1]=1):o==n&&a[r+1]++}}}o+=d,l+=u.nodeSize}const u=(s+1)*t;let d=0;for(;o<u;)0==r[o++]&&d++;d&&(i||(i=[])).push({type:"missing",row:s,n:d}),l++}const s=new m(t,n,r,i);let l=!1;for(let e=0;!l&&e<a.length;e+=2)null!=a[e]&&a[e+1]<n&&(l=!0);l&&function(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const i=e.map[o];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let s=null;const l=a.attrs;for(let n=0;n<l.colspan;n++){const r=t[2*((o+n)%e.width)];null==r||l.colwidth&&l.colwidth[n]==r||((s||(s=g(l)))[n]=r)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}(s,a,e);return s}(e))}};function g(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function v(e,t){if("string"==typeof e)return{};const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((e=>Number(e))):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(const n in t){const r=t[n].getFromDOM,o=r&&r(e);null!=o&&(i[n]=o)}return i}function y(e,t){const n={};1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function b(e){const t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const e in t)n[e]={default:t[e].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:()=>["table",["tbody",0]]},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:e=>v(e,t)}],toDOM:e=>["td",y(e,t),0]},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:e=>v(e,t)}],toDOM:e=>["th",y(e,t),0]}}}function w(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}var x=new(n(39).PluginKey)("selectingCells");function k(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function S(e){const t=e.selection.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function E(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=k(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function C(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function A(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function O(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function I(e){return m.get(e.node(-1)).findCell(e.pos-e.start(-1))}function D(e){return m.get(e.node(-1)).colCount(e.pos-e.start(-1))}function M(e,t,n){const r=e.node(-1),o=m.get(r),i=e.start(-1),a=o.nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function T(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((e=>e>0))||(r.colwidth=null)),r}function _(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let e=0;e<n;e++)r.colwidth.splice(t,0,0)}return r}function R(e,t,n){const r=w(t.type.schema).header_cell;for(let o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}var P=class e extends f.Selection{constructor(e,t=e){const n=e.node(-1),r=m.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),a=e.node(0),s=r.cellsInRect(i).filter((e=>e!=t.pos-o));s.unshift(t.pos-o);const l=s.map((e=>{const t=n.nodeAt(e);if(!t)throw RangeError(`No cell with offset ${e} found`);const r=o+e+1;return new f.SelectionRange(a.resolve(r),a.resolve(r+t.content.size))}));super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(C(r)&&C(o)&&O(r,o)){const t=this.$anchorCell.node(-1)!=r.node(-1);return t&&this.isRowSelection()?e.rowSelection(r,o):t&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return f.TextSelection.between(r,o)}content(){const e=this.$anchorCell.node(-1),t=m.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[];for(let n=r.top;n<r.bottom;n++){const a=[];for(let i=n*t.width+r.left,s=r.left;s<r.right;s++,i++){const n=t.map[i];if(o[n])continue;o[n]=!0;const s=t.findCell(n);let l=e.nodeAt(n);if(!l)throw RangeError(`No cell with offset ${n} found`);const c=r.left-s.left,u=s.right-r.right;if(c>0||u>0){let e=l.attrs;if(c>0&&(e=T(e,0,c)),u>0&&(e=T(e,e.colspan-u,u)),s.left<r.left){if(l=l.type.createAndFill(e),!l)throw RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(s.top<r.top||s.bottom>r.bottom){const e={...l.attrs,rowspan:Math.min(s.bottom,r.bottom)-Math.max(s.top,r.top)};l=s.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}a.push(l)}i.push(e.child(n).copy(p.Fragment.from(a)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new p.Slice(p.Fragment.from(a),1,1)}replace(e,t=p.Slice.empty){const n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){const{$from:i,$to:a}=r[o],s=e.mapping.slice(n);e.replace(s.map(i.pos),s.map(a.pos),o?p.Slice.empty:t)}const o=f.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new p.Slice(p.Fragment.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=m.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<o.length;n++)e(t.nodeAt(o[n]),r+o[n])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=m.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(n=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(t=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=m.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),o=t.colCount(this.$headCell.pos-n);if(Math.min(r,o)>0)return!1;const i=r+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=m.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(n=l.resolve(i+o.map[o.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(t=l.resolve(i+o.map[o.width*(a.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new e(t.resolve(n),t.resolve(r))}getBookmark(){return new L(this.$anchorCell.pos,this.$headCell.pos)}};P.prototype.visible=!1,f.Selection.jsonID("cell",P);var L=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&O(t,n)?new P(t,n):f.Selection.near(n,1)}};function N(e){if(!(e.selection instanceof P))return null;const t=[];return e.selection.forEachCell(((e,n)=>{t.push(h.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))})),h.DecorationSet.create(e.doc,t)}var j=new(n(39).PluginKey)("fix-tables");function B(e,t,n,r){const o=e.childCount,i=t.childCount;e:for(let a=0,s=0;a<i;a++){const i=t.child(a);for(let t=s,r=Math.min(o,a+3);t<r;t++)if(e.child(t)==i){s=t+1,n+=i.nodeSize;continue e}r(i,n),s<o&&e.child(s).sameMarkup(i)?B(e.child(s),i,n+1,r):i.nodesBetween(0,i.content.size,r,n+1),n+=i.nodeSize}}function F(e,t){let n;const r=(t,r)=>{"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){const o=m.get(t);if(!o.problems)return r;r||(r=e.tr);const i=[];for(let e=0;e<o.height;e++)i.push(0);for(let e=0;e<o.problems.length;e++){const a=o.problems[e];if("collision"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;const o=e.attrs;for(let e=0;e<o.rowspan;e++)i[a.row+e]+=a.n;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,T(o,o.colspan-a.n,a.n))}else if("missing"==a.type)i[a.row]+=a.n;else if("overlong_rowspan"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,{...e.attrs,rowspan:e.attrs.rowspan-a.n})}else if("colwidth mismatch"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,{...e.attrs,colwidth:a.colwidth})}}let a,s;for(let e=0;e<i.length;e++)i[e]&&(null==a&&(a=e),s=e);for(let l=0,c=n+1;l<o.height;l++){const n=t.child(l),o=c+n.nodeSize,u=i[l];if(u>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const i=[];for(let n=0;n<u;n++){const n=w(e.schema)[t].createAndFill();n&&i.push(n)}const d=0!=l&&a!=l-1||s!=l?o-1:c+1;r.insert(r.mapping.map(d),i)}c=o}return r.setMeta(j,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&B(t.doc,e.doc,0,r):e.doc.descendants(r),n}var z=n(89),$=n(39),H=n(303),U=n(89),W=n(121);function V(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;1==t.childCount&&(n>0&&r>0||"table"==t.child(0).type.spec.tableRole);)n--,r--,t=t.child(0).content;const o=t.child(0),i=o.type.spec.tableRole,a=o.type.schema,s=[];if("row"==i)for(let e=0;e<t.childCount;e++){let o=t.child(e).content;const i=e?0:Math.max(0,n-1),l=e<t.childCount-1?0:Math.max(0,r-1);(i||l)&&(o=q(w(a).row,new U.Slice(o,i,l)).content),s.push(o)}else{if("cell"!=i&&"header_cell"!=i)return null;s.push(n||r?q(w(a).row,new U.Slice(t,n,r)).content:t)}return function(e,t){const n=[];for(let e=0;e<t.length;e++){const r=t[e];for(let t=r.childCount-1;t>=0;t--){const{rowspan:o,colspan:i}=r.child(t).attrs;for(let t=e;t<e+o;t++)n[t]=(n[t]||0)+i}}let r=0;for(let e=0;e<n.length;e++)r=Math.max(r,n[e]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(U.Fragment.empty),n[o]<r){const i=w(e).cell.createAndFill(),a=[];for(let e=n[o];e<r;e++)a.push(i);t[o]=t[o].append(U.Fragment.from(a))}return{height:t.length,width:r,rows:t}}(a,s)}function q(e,t){const n=e.createAndFill();return new W.Transform(n).replace(0,n.content.size,t).doc}function G({width:e,height:t,rows:n},r,o){if(e!=r){const t=[],o=[];for(let e=0;e<n.length;e++){const i=n[e],a=[];for(let n=t[e]||0,o=0;n<r;o++){let s=i.child(o%i.childCount);n+s.attrs.colspan>r&&(s=s.type.createChecked(T(s.attrs,s.attrs.colspan,n+s.attrs.colspan-r),s.content)),a.push(s),n+=s.attrs.colspan;for(let n=1;n<s.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+s.attrs.colspan}o.push(U.Fragment.from(a))}n=o,e=r}if(t!=o){const e=[];for(let r=0,i=0;r<o;r++,i++){const a=[],s=n[i%t];for(let e=0;e<s.childCount;e++){let t=s.child(e);r+t.attrs.rowspan>o&&(t=t.type.create({...t.attrs,rowspan:Math.max(1,o-t.attrs.rowspan)},t.content)),a.push(t)}e.push(U.Fragment.from(a))}n=e,t=o}return{width:e,height:t,rows:n}}function Y(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;let l=!1;for(let c=o;c<i;c++){const o=a*t.width+c,i=t.map[o];if(t.map[o-t.width]==i){l=!0;const o=n.nodeAt(i),{top:u,left:d}=t.findCell(i);e.setNodeMarkup(e.mapping.slice(s).map(i+r),null,{...o.attrs,rowspan:a-u}),e.insert(e.mapping.slice(s).map(t.positionAt(a,d,n)),o.type.createAndFill({...o.attrs,rowspan:u+o.attrs.rowspan-a})),c+=o.attrs.colspan-1}}return l}function K(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;let l=!1;for(let c=o;c<i;c++){const o=c*t.width+a,i=t.map[o];if(t.map[o-1]==i){l=!0;const o=n.nodeAt(i),u=t.colCount(i),d=e.mapping.slice(s).map(i+r);e.setNodeMarkup(d,null,T(o.attrs,a-u,o.attrs.colspan-(a-u))),e.insert(d+o.nodeSize,o.type.createAndFill(T(o.attrs,0,a-u))),c+=o.attrs.rowspan-1}}return l}function J(e,t,n,r,o){let i=n?e.doc.nodeAt(n-1):e.doc;if(!i)throw new Error("No table found");let a=m.get(i);const{top:s,left:l}=r,c=l+o.width,u=s+o.height,d=e.tr;let p=0;function f(){if(i=n?d.doc.nodeAt(n-1):d.doc,!i)throw new Error("No table found");a=m.get(i),p=d.mapping.maps.length}(function(e,t,n,r,o,i,a){const s=w(e.doc.type.schema);let l,c;if(o>t.width)for(let i=0,u=0;i<t.height;i++){const d=n.child(i);u+=d.nodeSize;const p=[];let f;f=null==d.lastChild||d.lastChild.type==s.cell?l||(l=s.cell.createAndFill()):c||(c=s.header_cell.createAndFill());for(let e=t.width;e<o;e++)p.push(f);e.insert(e.mapping.slice(a).map(u-1+r),p)}if(i>t.height){const u=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,o);e++){const o=!(e>=t.width)&&n.nodeAt(t.map[r+e]).type==s.header_cell;u.push(o?c||(c=s.header_cell.createAndFill()):l||(l=s.cell.createAndFill()))}const d=s.row.create(null,U.Fragment.from(u)),p=[];for(let e=t.height;e<i;e++)p.push(d);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),p)}return!(!l&&!c)})(d,a,i,n,c,u,p)&&f(),Y(d,a,i,n,l,c,s,p)&&f(),Y(d,a,i,n,l,c,u,p)&&f(),K(d,a,i,n,s,u,l,p)&&f(),K(d,a,i,n,s,u,c,p)&&f();for(let e=s;e<u;e++){const t=a.positionAt(e,l,i),r=a.positionAt(e,c,i);d.replace(d.mapping.slice(p).map(t+n),d.mapping.slice(p).map(r+n),new U.Slice(o.rows[e-s],0,0))}f(),d.setSelection(new P(d.doc.resolve(n+a.positionAt(s,l,i)),d.doc.resolve(n+a.positionAt(u-1,c-1,i)))),t(d)}var X=(0,H.keydownHandler)({ArrowLeft:Z("horiz",-1),ArrowRight:Z("horiz",1),ArrowUp:Z("vert",-1),ArrowDown:Z("vert",1),"Shift-ArrowLeft":ee("horiz",-1),"Shift-ArrowRight":ee("horiz",1),"Shift-ArrowUp":ee("vert",-1),"Shift-ArrowDown":ee("vert",1),Backspace:te,"Mod-Backspace":te,Delete:te,"Mod-Delete":te});function Q(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Z(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof P)return Q(n,r,$.Selection.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;const a=ie(o,e,t);if(null==a)return!1;if("horiz"==e)return Q(n,r,$.Selection.near(n.doc.resolve(i.head+t),t));{const o=n.doc.resolve(a),i=M(o,e,t);let s;return s=i?$.Selection.near(i,1):t<0?$.Selection.near(n.doc.resolve(o.before(-1)),-1):$.Selection.near(n.doc.resolve(o.after(-1)),1),Q(n,r,s)}}}function ee(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let a;if(i instanceof P)a=i;else{const r=ie(o,e,t);if(null==r)return!1;a=new P(n.doc.resolve(r))}const s=M(a.$headCell,e,t);return!!s&&Q(n,r,new P(a.$anchorCell,s))}}function te(e,t){const n=e.selection;if(!(n instanceof P))return!1;if(t){const r=e.tr,o=w(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new z.Slice(o,0,0))})),r.docChanged&&t(r)}return!0}function ne(e,t){const n=k(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new P(n))),!0)}function re(e,t,n){if(!S(e.state))return!1;let r=V(n);const o=e.state.selection;if(o instanceof P){r||(r={width:1,height:1,rows:[z.Fragment.from(q(w(e.state.schema).cell,n))]});const t=o.$anchorCell.node(-1),i=o.$anchorCell.start(-1),a=m.get(t).rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i);return r=G(r,a.right-a.left,a.bottom-a.top),J(e.state,e.dispatch,i,a,r),!0}if(r){const t=E(e.state),n=t.start(-1);return J(e.state,e.dispatch,n,m.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}function oe(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=ae(e,t.target);let o;if(t.shiftKey&&e.state.selection instanceof P)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(o=k(e.state.selection.$anchor))&&(null==(n=se(e,t))?void 0:n.pos)!=o.pos)i(o,t),t.preventDefault();else if(!r)return;function i(t,n){let r=se(e,n);const o=null==x.getState(e.state);if(!r||!O(t,r)){if(!o)return;r=t}const i=new P(t,r);if(o||!e.state.selection.eq(i)){const n=e.state.tr.setSelection(i);o&&n.setMeta(x,t.pos),e.dispatch(n)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),null!=x.getState(e.state)&&e.dispatch(e.state.tr.setMeta(x,-1))}function s(n){const o=n,s=x.getState(e.state);let l;if(null!=s)l=e.state.doc.resolve(s);else if(ae(e,o.target)!=r&&(l=se(e,t),!l))return a();l&&i(l,o)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function ie(e,t,n){if(!(e.state.selection instanceof $.TextSelection))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){const i=r.before(o),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?i:null}}return null}function ae(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t;return null}function se(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?k(e.state.doc.resolve(n.pos)):null}var le=n(39),ce=n(222),ue=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),de(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,de(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}};function de(e,t,n,r,o,i){var a;let s=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let e=0,n=0;e<u.childCount;e++){const{colspan:a,colwidth:d}=u.child(e).attrs;for(let e=0;e<a;e++,n++){const a=o==n?i:d&&d[e],u=a?a+"px":"";s+=a||r,a||(l=!1),c?(c.style.width!=u&&(c.style.width=u),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}for(;c;){const e=c.nextSibling;null==(a=c.parentNode)||a.removeChild(c),c=e}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var pe=new le.PluginKey("tableColumnResizing");function fe({handleWidth:e=5,cellMinWidth:t=25,View:n=ue,lastColumnResizable:r=!0}={}){const o=new le.Plugin({key:pe,state:{init:(e,r)=>(o.spec.props.nodeViews[w(r.schema).table.name]=(e,r)=>new n(e,t,r),new he(-1,!1)),apply:(e,t)=>t.apply(e)},props:{attributes:e=>{const t=pe.getState(e);return t&&t.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(t,n)=>{!function(e,t,n,r,o){const i=pe.getState(e.state);if(!i)return;if(!i.dragging){const r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target);let a=-1;if(r){const{left:o,right:i}=r.getBoundingClientRect();t.clientX-o<=n?a=me(e,t,"left",n):i-t.clientX<=n&&(a=me(e,t,"right",n))}if(a!=i.activeHandle){if(!o&&-1!==a){const t=e.state.doc.resolve(a),n=t.node(-1),r=m.get(n),o=t.start(-1);if(r.colCount(t.pos-o)+t.nodeAfter.attrs.colspan-1==r.width-1)return}ve(e,a)}}}(t,n,e,0,r)},mouseleave:e=>{!function(e){const t=pe.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&ve(e,-1)}(e)},mousedown:(e,n)=>{!function(e,t,n){var r;const o=null!=(r=e.dom.ownerDocument.defaultView)?r:window,i=pe.getState(e.state);if(!i||-1==i.activeHandle||i.dragging)return!1;const a=e.state.doc.nodeAt(i.activeHandle),s=function(e,t,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const i=e.domAtPos(t);let a=i.node.childNodes[i.offset].offsetWidth,s=n;if(r)for(let e=0;e<n;e++)r[e]&&(a-=r[e],s--);return a/s}(e,i.activeHandle,a.attrs);function l(t){o.removeEventListener("mouseup",l),o.removeEventListener("mousemove",c);const r=pe.getState(e.state);(null==r?void 0:r.dragging)&&(!function(e,t,n){const r=e.state.doc.resolve(t),o=r.node(-1),i=m.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let e=0;e<i.height;e++){const t=e*i.width+s;if(e&&i.map[t]==i.map[t-i.width])continue;const r=i.map[t],c=o.nodeAt(r).attrs,u=1==c.colspan?0:s-i.colCount(r);if(c.colwidth&&c.colwidth[u]==n)continue;const d=c.colwidth?c.colwidth.slice():ye(c.colspan);d[u]=n,l.setNodeMarkup(a+r,null,{...c,colwidth:d})}l.docChanged&&e.dispatch(l)}(e,r.activeHandle,ge(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(pe,{setDragging:null})))}function c(t){if(!t.which)return l(t);const r=pe.getState(e.state);if(r&&r.dragging){const o=ge(r.dragging,t,n);!function(e,t,n,r){const o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=m.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1;let l=e.domAtPos(o.start(-1)).node;for(;l&&"TABLE"!=l.nodeName;)l=l.parentNode;if(!l)return;de(i,l.firstChild,l,r,s,n)}(e,r.activeHandle,o,n)}}e.dispatch(e.state.tr.setMeta(pe,{setDragging:{startX:t.clientX,startWidth:s}})),o.addEventListener("mouseup",l),o.addEventListener("mousemove",c),t.preventDefault()}(e,n,t)}},decorations:e=>{const t=pe.getState(e);if(t&&t.activeHandle>-1)return function(e,t){const n=[],r=e.doc.resolve(t),o=r.node(-1);if(!o)return ce.DecorationSet.empty;const i=m.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan;for(let e=0;e<i.height;e++){const t=s+e*i.width-1;if(!(s!=i.width&&i.map[t]==i.map[t+1]||0!=e&&i.map[t]==i.map[t-i.width])){const e=i.map[t],r=a+e+o.nodeAt(e).nodeSize-1,s=document.createElement("div");s.className="column-resize-handle",n.push(ce.Decoration.widget(r,s))}}return ce.DecorationSet.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}});return o}var he=class e{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(t){const n=this,r=t.getMeta(pe);if(r&&null!=r.setHandle)return new e(r.setHandle,!1);if(r&&void 0!==r.setDragging)return new e(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let r=t.mapping.map(n.activeHandle,-1);return C(t.doc.resolve(r))||(r=-1),new e(r,n.dragging)}return n}};function me(e,t,n,r){const o="right"==n?-r:r,i=e.posAtCoords({left:t.clientX+o,top:t.clientY});if(!i)return-1;const{pos:a}=i,s=k(e.state.doc.resolve(a));if(!s)return-1;if("right"==n)return s.pos;const l=m.get(s.node(-1)),c=s.start(-1),u=l.map.indexOf(s.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function ge(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function ve(e,t){e.dispatch(e.state.tr.setMeta(pe,{setHandle:t}))}function ye(e){return Array(e).fill(0)}var be=n(89),we=n(39);function xe(e){const t=e.selection,n=E(e),r=n.node(-1),o=n.start(-1),i=m.get(r);return{...t instanceof P?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function ke(e,{map:t,tableStart:n,table:r},o){let i=o>0?-1:0;R(t,r,o+i)&&(i=0==o||o==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+o;if(o>0&&o<t.width&&t.map[s-1]==t.map[s]){const i=t.map[s],l=r.nodeAt(i);e.setNodeMarkup(e.mapping.map(n+i),null,_(l.attrs,o-t.colCount(i))),a+=l.attrs.rowspan-1}else{const l=null==i?w(r.type.schema).cell:r.nodeAt(t.map[s+i]).type,c=t.positionAt(a,o,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function Se(e,t){if(!S(e))return!1;if(t){const n=xe(e);t(ke(e.tr,n,n.left))}return!0}function Ee(e,t){if(!S(e))return!1;if(t){const n=xe(e);t(ke(e.tr,n,n.right))}return!0}function Ce(e,{map:t,table:n,tableStart:r},o){const i=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+o,l=t.map[s],c=n.nodeAt(l),u=c.attrs;if(o>0&&t.map[s-1]==l||o<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(i).map(r+l),null,T(u,o-t.colCount(l)));else{const t=e.mapping.slice(i).map(r+l);e.delete(t,t+c.nodeSize)}a+=u.rowspan}}function Ae(e,t){if(!S(e))return!1;if(t){const n=xe(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;Ce(r,n,e),e!=n.left;e--){const e=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=m.get(e)}t(r)}return!0}function Oe(e,t,n){var r;const o=w(t.type.schema).header_cell;for(let i=0;i<e.width;i++)if((null==(r=t.nodeAt(e.map[i+n*e.width]))?void 0:r.type)!=o)return!1;return!0}function Ie(e,{map:t,tableStart:n,table:r},o){var i;let a=n;for(let e=0;e<o;e++)a+=r.child(e).nodeSize;const s=[];let l=o>0?-1:0;Oe(t,r,o+l)&&(l=0==o||o==t.height?null:0);for(let a=0,c=t.width*o;a<t.width;a++,c++)if(o>0&&o<t.height&&t.map[c]==t.map[c-t.width]){const o=t.map[c],i=r.nodeAt(o).attrs;e.setNodeMarkup(n+o,null,{...i,rowspan:i.rowspan+1}),a+=i.colspan-1}else{const e=null==l?w(r.type.schema).cell:null==(i=r.nodeAt(t.map[c+l*t.width]))?void 0:i.type,n=null==e?void 0:e.createAndFill();n&&s.push(n)}return e.insert(a,w(r.type.schema).row.create(null,s)),e}function De(e,t){if(!S(e))return!1;if(t){const n=xe(e);t(Ie(e.tr,n,n.top))}return!0}function Me(e,t){if(!S(e))return!1;if(t){const n=xe(e);t(Ie(e.tr,n,n.bottom))}return!0}function Te(e,{map:t,table:n,tableStart:r},o){let i=0;for(let e=0;e<o;e++)i+=n.child(e).nodeSize;const a=i+n.child(o).nodeSize,s=e.mapping.maps.length;e.delete(i+r,a+r);const l=new Set;for(let i=0,a=o*t.width;i<t.width;i++,a++){const c=t.map[a];if(!l.has(c))if(l.add(c),o>0&&c==t.map[a-t.width]){const t=n.nodeAt(c).attrs;e.setNodeMarkup(e.mapping.slice(s).map(c+r),null,{...t,rowspan:t.rowspan-1}),i+=t.colspan-1}else if(o<t.height&&c==t.map[a+t.width]){const a=n.nodeAt(c),l=a.attrs,u=a.type.create({...l,rowspan:a.attrs.rowspan-1},a.content),d=t.positionAt(o+1,i,n);e.insert(e.mapping.slice(s).map(r+d),u),i+=l.colspan-1}}}function _e(e,t){if(!S(e))return!1;if(t){const n=xe(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;Te(r,n,e),e!=n.top;e--){const e=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=m.get(n.table)}t(r)}return!0}function Re(e){const t=e.content;return 1==t.childCount&&t.child(0).isTextblock&&0==t.child(0).childCount}function Pe(e,t){const n=e.selection;if(!(n instanceof P)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=xe(e),{map:o}=r;if(function({width:e,height:t,map:n},r){let o=r.top*e+r.left,i=o,a=(r.bottom-1)*e+r.left,s=o+(r.right-r.left-1);for(let t=r.top;t<r.bottom;t++){if(r.left>0&&n[i]==n[i-1]||r.right<e&&n[s]==n[s+1])return!0;i+=e,s+=e}for(let i=r.left;i<r.right;i++){if(r.top>0&&n[o]==n[o-e]||r.bottom<t&&n[a]==n[a+e])return!0;o++,a++}return!1}(o,r))return!1;if(t){const n=e.tr,i={};let a,s,l=be.Fragment.empty;for(let e=r.top;e<r.bottom;e++)for(let t=r.left;t<r.right;t++){const c=o.map[e*o.width+t],u=r.table.nodeAt(c);if(!i[c]&&u)if(i[c]=!0,null==a)a=c,s=u;else{Re(u)||(l=l.append(u.content));const e=n.mapping.map(c+r.tableStart);n.delete(e,e+u.nodeSize)}}if(null==a||null==s)return!0;if(n.setNodeMarkup(a+r.tableStart,null,{..._(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const e=a+1+s.content.size,t=Re(s)?a+1:e;n.replaceWith(t+r.tableStart,e+r.tableStart,l)}n.setSelection(new P(n.doc.resolve(a+r.tableStart))),t(n)}return!0}function Le(e,t){const n=w(e.schema);return Ne((({node:e})=>n[e.type.spec.tableRole]))(e,t)}function Ne(e){return(t,n)=>{var r;const o=t.selection;let i,a;if(o instanceof P){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;i=o.$anchorCell.nodeAfter,a=o.$anchorCell.pos}else{if(i=function(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(o.$from),!i)return!1;a=null==(r=k(o.$from))?void 0:r.pos}if(null==i||null==a)return!1;if(1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(n){let r=i.attrs;const s=[],l=r.colwidth;r.rowspan>1&&(r={...r,rowspan:1}),r.colspan>1&&(r={...r,colspan:1});const c=xe(t),u=t.tr;for(let e=0;e<c.right-c.left;e++)s.push(l?{...r,colwidth:l&&l[e]?[l[e]]:null}:r);let d;for(let t=c.top;t<c.bottom;t++){let n=c.map.positionAt(t,c.left,c.table);t==c.top&&(n+=i.nodeSize);for(let r=c.left,o=0;r<c.right;r++,o++)r==c.left&&t==c.top||u.insert(d=u.mapping.map(n+c.tableStart,1),e({node:i,row:t,col:r}).createAndFill(s[o]))}u.setNodeMarkup(a,e({node:i,row:c.top,col:c.left}),s[0]),o instanceof P&&u.setSelection(new P(u.doc.resolve(o.$anchorCell.pos),d?u.doc.resolve(d):void 0)),n(u)}return!0}}function je(e,t){return function(n,r){if(!S(n))return!1;const o=E(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){const i=n.tr;n.selection instanceof P?n.selection.forEachCell(((n,r)=>{n.attrs[e]!==t&&i.setNodeMarkup(r,null,{...n.attrs,[e]:t})})):i.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[e]:t}),r(i)}return!0}}function Be(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<r.length;e++){const o=t.table.nodeAt(r[e]);if(o&&o.type!==n.header_cell)return!1}return!0}function Fe(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!S(t))return!1;if(n){const r=w(t.schema),o=xe(t),i=t.tr,a=o.map.cellsInRect("column"==e?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==e?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),s=a.map((e=>o.table.nodeAt(e)));for(let e=0;e<a.length;e++)s[e].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[e],r.cell,s[e].attrs);if(0==i.steps.length)for(let e=0;e<a.length;e++)i.setNodeMarkup(o.tableStart+a[e],r.header_cell,s[e].attrs);n(i)}return!0}}(e):function(t,n){if(!S(t))return!1;if(n){const r=w(t.schema),o=xe(t),i=t.tr,a=Be("row",o,r),s=Be("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:o.map.height}:"row"==e?{left:l,top:0,right:o.map.width,bottom:1}:o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach((e=>{const t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)})),n(i)}return!0}}var ze=Fe("row",{useDeprecatedLogic:!0}),$e=Fe("column",{useDeprecatedLogic:!0}),He=Fe("cell",{useDeprecatedLogic:!0});function Ue(e){return function(t,n){if(!S(t))return!1;const r=function(e,t){if(t<0){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){const r=e.node(-1).child(t),o=r.lastChild;if(o)return n-1-o.nodeSize;n-=r.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),r=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return r+1;r+=e.nodeSize}}return null}(E(t),e);if(null==r)return!1;if(n){const e=t.doc.resolve(r);n(t.tr.setSelection(we.TextSelection.between(e,A(e))).scrollIntoView())}return!0}}function We(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}function Ve({allowTableNodeSelection:e=!1}={}){return new d.Plugin({key:x,state:{init:()=>null,apply(e,t){const n=e.getMeta(x);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;const{deleted:r,pos:o}=e.mapping.mapResult(t);return r?null:o}},props:{decorations:N,handleDOMEvents:{mousedown:oe},createSelectionBetween:e=>null!=x.getState(e.state)?e.state.selection:null,handleTripleClick:ne,handleKeyDown:X,handlePaste:re},appendTransaction:(t,n,r)=>function(e,t,n){const r=(t||e).selection,o=(t||e).doc;let i,a;if(r instanceof f.NodeSelection&&(a=r.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)i=P.create(o,r.from);else if("row"==a){const e=o.resolve(r.from+1);i=P.rowSelection(e,e)}else if(!n){const e=m.get(r.node),t=r.from+1,n=t+e.map[e.width*e.height-1];i=P.create(o,t+1,n)}}else r instanceof f.TextSelection&&function({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,o=e.depth;for(;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(let e=t.depth;e>=0&&!(t.before(e+1)>t.start(e));e--,r--);return n==r&&/row|table/.test(e.node(o).type.spec.tableRole)}(r)?i=f.TextSelection.create(o,r.from):r instanceof f.TextSelection&&function({$from:e,$to:t}){let n,r;for(let t=e.depth;t>0;t--){const r=e.node(t);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){n=r;break}}for(let e=t.depth;e>0;e--){const n=t.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){r=n;break}}return n!==r&&0===t.parentOffset}(r)&&(i=f.TextSelection.create(o,r.$from.start(),r.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}(r,F(r,n),e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(120);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(n(482));class s{constructor({editor:e,element:t,view:n,tippyOptions:o={},updateDelay:i=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:o})=>{const{doc:i,selection:a}=t,{empty:s}=a,l=!i.textBetween(n,o).length&&r.isTextSelection(t.selection),c=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!c||s||l||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout((()=>{this.updateHandler(e,n,r,t)}),this.updateDelay))},this.updateHandler=(e,t,n,o)=>{var i,a,s;const{state:l,composing:c}=e,{selection:u}=l;if(c||!t&&!n)return;this.createTooltip();const{ranges:d}=u,p=Math.min(...d.map((e=>e.$from.pos))),f=Math.max(...d.map((e=>e.$to.pos)));(null===(i=this.shouldShow)||void 0===i?void 0:i.call(this,{editor:this.editor,view:e,state:l,oldState:o,from:p,to:f}))?(null===(a=this.tippy)||void 0===a||a.setProps({getReferenceClientRect:(null===(s=this.tippyOptions)||void 0===s?void 0:s.getReferenceClientRect)||(()=>{if(r.isNodeSelection(l.selection)){let t=e.nodeDOM(p);const n=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");if(n&&(t=n.firstChild),t)return t.getBoundingClientRect()}return r.posToDOMRect(e,p,f)})}),this.show()):this.hide()},this.editor=e,this.element=t,this.view=n,this.updateDelay=i,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=a.default(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:n}=e,r=n.selection.$from.pos!==n.selection.$to.pos;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);const o=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,o,i,t)}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const l=e=>new o.Plugin({key:"string"==typeof e.pluginKey?new o.PluginKey(e.pluginKey):e.pluginKey,view:t=>new s({view:t,...e})}),c=r.Extension.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[l({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});t.BubbleMenu=c,t.BubbleMenuPlugin=l,t.BubbleMenuView=s,t.default=c},function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof r(e).Element||e instanceof Element}function i(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}Object.defineProperty(t,"__esModule",{value:!0});var s=Math.max,l=Math.min,c=Math.round;function u(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function d(){return!/^((?!chrome|android).)*safari/i.test(u())}function p(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),s=1,l=1;t&&i(e)&&(s=e.offsetWidth>0&&c(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&c(a.height)/e.offsetHeight||1);var u=(o(e)?r(e):window).visualViewport,p=!d()&&n,f=(a.left+(p&&u?u.offsetLeft:0))/s,h=(a.top+(p&&u?u.offsetTop:0))/l,m=a.width/s,g=a.height/l;return{width:m,height:g,top:h,right:f+m,bottom:h+g,left:f,x:f,y:h}}function f(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function h(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function g(e){return p(m(e)).left+f(e).scrollLeft}function v(e){return r(e).getComputedStyle(e)}function y(e){var t=v(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function b(e,t,n){void 0===n&&(n=!1);var o,a,s=i(t),l=i(t)&&function(e){var t=e.getBoundingClientRect(),n=c(t.width)/e.offsetWidth||1,r=c(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),u=m(t),d=p(e,l,n),v={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(s||!s&&!n)&&(("body"!==h(t)||y(u))&&(v=(o=t)!==r(o)&&i(o)?{scrollLeft:(a=o).scrollLeft,scrollTop:a.scrollTop}:f(o)),i(t)?((b=p(t,!0)).x+=t.clientLeft,b.y+=t.clientTop):u&&(b.x=g(u))),{x:d.left+v.scrollLeft-b.x,y:d.top+v.scrollTop-b.y,width:d.width,height:d.height}}function w(e){var t=p(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function x(e){return"html"===h(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||m(e)}function k(e){return["html","body","#document"].indexOf(h(e))>=0?e.ownerDocument.body:i(e)&&y(e)?e:k(x(e))}function S(e,t){var n;void 0===t&&(t=[]);var o=k(e),i=o===(null==(n=e.ownerDocument)?void 0:n.body),a=r(o),s=i?[a].concat(a.visualViewport||[],y(o)?o:[]):o,l=t.concat(s);return i?l:l.concat(S(x(s)))}function E(e){return["table","td","th"].indexOf(h(e))>=0}function C(e){return i(e)&&"fixed"!==v(e).position?e.offsetParent:null}function A(e){for(var t=r(e),n=C(e);n&&E(n)&&"static"===v(n).position;)n=C(n);return n&&("html"===h(n)||"body"===h(n)&&"static"===v(n).position)?t:n||function(e){var t=/firefox/i.test(u());if(/Trident/i.test(u())&&i(e)&&"fixed"===v(e).position)return null;var n=x(e);for(a(n)&&(n=n.host);i(n)&&["html","body"].indexOf(h(n))<0;){var r=v(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var O="top",I="bottom",D="right",M="left",T="auto",_=[O,I,D,M],R="start",P="end",L="viewport",N="popper",j=_.reduce((function(e,t){return e.concat([t+"-"+R,t+"-"+P])}),[]),B=[].concat(_,[T]).reduce((function(e,t){return e.concat([t,t+"-"+R,t+"-"+P])}),[]),F=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function z(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function $(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function H(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function U(e,t,n){return t===L?H(function(e,t){var n=r(e),o=m(e),i=n.visualViewport,a=o.clientWidth,s=o.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;var u=d();(u||!u&&"fixed"===t)&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l+g(e),y:c}}(e,n)):o(t)?function(e,t){var n=p(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):H(function(e){var t,n=m(e),r=f(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=s(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+g(e),c=-r.scrollTop;return"rtl"===v(o||n).direction&&(l+=s(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}(m(e)))}function W(e,t,n,r){var a="clippingParents"===t?function(e){var t=S(x(e)),n=["absolute","fixed"].indexOf(v(e).position)>=0&&i(e)?A(e):e;return o(n)?t.filter((function(e){return o(e)&&$(e,n)&&"body"!==h(e)})):[]}(e):[].concat(t),c=[].concat(a,[n]),u=c[0],d=c.reduce((function(t,n){var o=U(e,n,r);return t.top=s(o.top,t.top),t.right=l(o.right,t.right),t.bottom=l(o.bottom,t.bottom),t.left=s(o.left,t.left),t}),U(e,u,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function V(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function G(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?V(o):null,a=o?q(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case O:t={x:s,y:n.y-r.height};break;case I:t={x:s,y:n.y+n.height};break;case D:t={x:n.x+n.width,y:l};break;case M:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?G(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case R:t[c]=t[c]-(n[u]/2-r[u]/2);break;case P:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function K(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function J(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function X(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,s=void 0===a?e.strategy:a,l=n.boundary,c=void 0===l?"clippingParents":l,u=n.rootBoundary,d=void 0===u?L:u,f=n.elementContext,h=void 0===f?N:f,g=n.altBoundary,v=void 0!==g&&g,y=n.padding,b=void 0===y?0:y,w=K("number"!=typeof b?b:J(b,_)),x=h===N?"reference":N,k=e.rects.popper,S=e.elements[v?x:h],E=W(o(S)?S:S.contextElement||m(e.elements.popper),c,d,s),C=p(e.elements.reference),A=Y({reference:C,element:k,strategy:"absolute",placement:i}),M=H(Object.assign({},k,A)),T=h===N?M:C,R={top:E.top-T.top+w.top,bottom:T.bottom-E.bottom+w.bottom,left:E.left-T.left+w.left,right:T.right-E.right+w.right},P=e.modifiersData.offset;if(h===N&&P){var j=P[i];Object.keys(R).forEach((function(e){var t=[D,I].indexOf(e)>=0?1:-1,n=[O,I].indexOf(e)>=0?"y":"x";R[e]+=j[n]*t}))}return R}var Q={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Q:i;return function(e,t,n){void 0===n&&(n=a);var i,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Q,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var i="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},a,l.options,i),l.scrollParents={reference:o(e)?S(e):e.contextElement?S(e.contextElement):[],popper:S(t)};var s,u,f=function(e){var t=z(e);return F.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(r,l.options.modifiers),u=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=f.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:l,name:t,instance:d,options:r}),a=function(){};c.push(i||a)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(Z(t,n)){l.rects={reference:b(t,A(n),"fixed"===l.options.strategy),popper:w(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],i=o.fn,a=o.options,s=void 0===a?{}:a,c=o.name;"function"==typeof i&&(l=i({state:l,options:s,name:c,instance:d})||l)}else l.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){p(),u=!0}};if(!Z(e,t))return d;function p(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var te={passive:!0};var ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,i=o.scroll,a=void 0===i||i,s=o.resize,l=void 0===s||s,c=r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,te)})),l&&c.addEventListener("resize",n.update,te),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,te)})),l&&c.removeEventListener("resize",n.update,te)}},data:{}};var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ie(e){var t,n=e.popper,o=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,l=e.position,u=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,f=e.isFixed,h=s.x,g=void 0===h?0:h,y=s.y,b=void 0===y?0:y,w="function"==typeof p?p({x:g,y:b}):{x:g,y:b};g=w.x,b=w.y;var x=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),S=M,E=O,C=window;if(d){var T=A(n),_="clientHeight",R="clientWidth";if(T===r(n)&&"static"!==v(T=m(n)).position&&"absolute"===l&&(_="scrollHeight",R="scrollWidth"),i===O||(i===M||i===D)&&a===P)E=I,b-=(f&&T===C&&C.visualViewport?C.visualViewport.height:T[_])-o.height,b*=u?1:-1;if(i===M||(i===O||i===I)&&a===P)S=D,g-=(f&&T===C&&C.visualViewport?C.visualViewport.width:T[R])-o.width,g*=u?1:-1}var L,N=Object.assign({position:l},d&&oe),j=!0===p?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:c(n*o)/o||0,y:c(r*o)/o||0}}({x:g,y:b},r(n)):{x:g,y:b};return g=j.x,b=j.y,u?Object.assign({},N,((L={})[E]=k?"0":"",L[S]=x?"0":"",L.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",L)):Object.assign({},N,((t={})[E]=k?b+"px":"",t[S]=x?g+"px":"",t.transform="",t))}var ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:V(t.placement),variation:q(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ie(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ie(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];i(o)&&h(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});i(r)&&h(r)&&(Object.assign(r.style,a),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=B.reduce((function(e,n){return e[n]=function(e,t,n){var r=V(e),o=[M,O].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[M,D].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},ce={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(e){return e.replace(/left|right|bottom|top/g,(function(e){return ce[e]}))}var de={start:"end",end:"start"};function pe(e){return e.replace(/start|end/g,(function(e){return de[e]}))}function fe(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?B:l,u=q(r),d=u?s?j:j.filter((function(e){return q(e)===u})):_,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=X(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[V(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}var he={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=V(g),y=l||(v===g||!h?[ue(g)]:function(e){if(V(e)===T)return[];var t=ue(e);return[pe(e),t,pe(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(V(n)===T?fe(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,k=new Map,S=!0,E=b[0],C=0;C<b.length;C++){var A=b[C],_=V(A),P=q(A)===R,L=[O,I].indexOf(_)>=0,N=L?"width":"height",j=X(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),B=L?P?D:M:P?I:O;w[N]>x[N]&&(B=ue(B));var F=ue(B),z=[];if(i&&z.push(j[_]<=0),s&&z.push(j[B]<=0,j[F]<=0),z.every((function(e){return e}))){E=A,S=!1;break}k.set(A,z)}if(S)for(var $=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},H=h?3:1;H>0;H--){if("break"===$(H))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function me(e,t,n){return s(e,l(t,n))}var ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,c=void 0!==a&&a,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.padding,h=n.tether,m=void 0===h||h,g=n.tetherOffset,v=void 0===g?0:g,y=X(t,{boundary:u,rootBoundary:d,padding:f,altBoundary:p}),b=V(t.placement),x=q(t.placement),k=!x,S=G(b),E="x"===S?"y":"x",C=t.modifiersData.popperOffsets,T=t.rects.reference,_=t.rects.popper,P="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,L="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(C){if(i){var B,F="y"===S?O:M,z="y"===S?I:D,$="y"===S?"height":"width",H=C[S],U=H+y[F],W=H-y[z],Y=m?-_[$]/2:0,K=x===R?T[$]:_[$],J=x===R?-_[$]:-T[$],Q=t.elements.arrow,Z=m&&Q?w(Q):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[F],ne=ee[z],re=me(0,T[$],Z[$]),oe=k?T[$]/2-Y-re-te-L.mainAxis:K-re-te-L.mainAxis,ie=k?-T[$]/2+Y+re+ne+L.mainAxis:J+re+ne+L.mainAxis,ae=t.elements.arrow&&A(t.elements.arrow),se=ae?"y"===S?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(B=null==N?void 0:N[S])?B:0,ce=H+ie-le,ue=me(m?l(U,H+oe-le-se):U,H,m?s(W,ce):W);C[S]=ue,j[S]=ue-H}if(c){var de,pe="x"===S?O:M,fe="x"===S?I:D,he=C[E],ge="y"===E?"height":"width",ve=he+y[pe],ye=he-y[fe],be=-1!==[O,M].indexOf(b),we=null!=(de=null==N?void 0:N[E])?de:0,xe=be?ve:he-T[ge]-_[ge]-we+L.altAxis,ke=be?he+T[ge]+_[ge]-we-L.altAxis:ye,Se=m&&be?function(e,t,n){var r=me(e,t,n);return r>n?n:r}(xe,he,ke):me(m?xe:ve,he,m?ke:ye);C[E]=Se,j[E]=Se-he}t.modifiersData[r]=j}},requiresIfExists:["offset"]};var ve={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=V(n.placement),l=G(s),c=[M,D].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return K("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:J(e,_))}(o.padding,n),d=w(i),p="y"===l?O:M,f="y"===l?I:D,h=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=A(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=h/2-m/2,b=u[p],x=v-d[c]-u[f],k=v/2-d[c]/2+y,S=me(b,k,x),E=l;n.modifiersData[r]=((t={})[E]=S,t.centerOffset=S-k,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&$(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ye(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function be(e){return[O,D,I,M].some((function(t){return e[t]>=0}))}var we={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=X(t,{elementContext:"reference"}),s=X(t,{altBoundary:!0}),l=ye(a,r),c=ye(s,o,i),u=be(l),d=be(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},xe=ee({defaultModifiers:[ne,re,ae,se]}),ke=[ne,re,ae,se,le,he,ge,ve,we],Se=ee({defaultModifiers:ke});t.applyStyles=se,t.arrow=ve,t.computeStyles=ae,t.createPopper=Se,t.createPopperLite=xe,t.defaultModifiers=ke,t.detectOverflow=X,t.eventListeners=ne,t.flip=he,t.hide=we,t.offset=le,t.popperGenerator=ee,t.popperOffsets=re,t.preventOverflow=ge},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(120);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(n(482));class s{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:r,empty:o}=n,i=1===r.depth,a=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent;return!!(e.hasFocus()&&o&&i&&a&&this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.editor=e,this.element=t,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=a.default(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var n,o,i;const{state:a}=e,{doc:s,selection:l}=a,{from:c,to:u}=l;if(t&&t.doc.eq(s)&&t.selection.eq(l))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:a,oldState:t}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:(null===(i=this.tippyOptions)||void 0===i?void 0:i.getReferenceClientRect)||(()=>r.posToDOMRect(e,c,u))}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const l=e=>new o.Plugin({key:"string"==typeof e.pluginKey?new o.PluginKey(e.pluginKey):e.pluginKey,view:t=>new s({view:t,...e})}),c=r.Extension.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[l({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});t.FloatingMenu=c,t.FloatingMenuPlugin=l,t.FloatingMenuView=s,t.default=c},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(651));function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(i(1));return n(u)(e,t)}if("function"!=typeof e)throw new Error(i(2));var o=e,s=t,d=[],p=d,f=!1;function h(){p===d&&(p=d.slice())}function m(){if(f)throw new Error(i(3));return s}function g(e){if("function"!=typeof e)throw new Error(i(4));if(f)throw new Error(i(5));var t=!0;return h(),p.push(e),function(){if(t){if(f)throw new Error(i(6));t=!1,h();var n=p.indexOf(e);p.splice(n,1),d=null}}}function v(e){if(!c(e))throw new Error(i(7));if(void 0===e.type)throw new Error(i(8));if(f)throw new Error(i(9));try{f=!0,s=o(s,e)}finally{f=!1}for(var t=d=p,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:l.INIT}),(r={dispatch:v,subscribe:g,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error(i(10));o=e,v({type:l.REPLACE})}})[a]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e},r}var d=u;function p(e,t){return function(){return t(e.apply(this,arguments))}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=l,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(i(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(a)}));return r=f.apply(void 0,s)(n.dispatch),o.default(o.default({},n),{},{dispatch:r})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return p(e,t);if("object"!=typeof e||null===e)throw new Error(i(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=p(o,t))}return n},t.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(i(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},l=0;l<s.length;l++){var c=s[l],u=n[c],d=e[c],p=u(d,t);if(void 0===p){t&&t.type;throw new Error(i(14))}o[c]=p,r=r||p!==d}return(r=r||s.length!==Object.keys(e).length)?o:e}},t.compose=f,t.createStore=u,t.legacy_createStore=d},function(e,t,n){var r=n(652);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0;var r={batch:!0},o=n(654);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||(t[e]=o[e]))}));var i=n(672);t.batch=i.unstable_batchedUpdates,(0,n(484).setBatch)(i.unstable_batchedUpdates)},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0;var o=r(n(655));t.Provider=o.default;var i=r(n(485));t.connectAdvanced=i.default;var a=n(135);t.ReactReduxContext=a.ReactReduxContext;var s=r(n(662));t.connect=s.default;var l=n(670);t.useDispatch=l.useDispatch,t.createDispatchHook=l.createDispatchHook;var c=n(671);t.useSelector=c.useSelector,t.createSelectorHook=c.createSelectorHook;var u=n(490);t.useStore=u.useStore,t.createStoreHook=u.createStoreHook;var d=r(n(486));t.shallowEqual=d.default},function(e,t,n){"use strict";var r=n(90).default,o=n(483).default;t.__esModule=!0,t.default=void 0;var i=o(n(0)),a=(r(n(14)),n(135)),s=n(304),l=n(305);var c=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)((function(){var e=(0,s.createSubscription)(t);return{store:t,subscription:e}}),[t]),c=(0,i.useMemo)((function(){return t.getState()}),[t]);(0,l.useIsomorphicLayoutEffect)((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,c]);var u=n||a.ReactReduxContext;return i.default.createElement(u.Provider,{value:o},r)};t.default=c},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(658),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!(i[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=p(n,v);try{c(t,v,y)}catch(e){}}}}return t}},function(e,t,n){"use strict";e.exports=n(659)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case c:return e;default:return t}}case v:case g:case i:return t}}}function x(e){return w(e)===p}t.typeOf=w,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b)},t.isAsyncMode=function(e){return x(e)||w(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h}},function(e,t,n){"use strict";e.exports=n(661)},function(e,t,n){"use strict";var r=60103,o=60106,i=60107,a=60108,s=60114,l=60109,c=60110,u=60112,d=60113,p=60120,f=60115,h=60116,m=60121,g=60122,v=60117,y=60129,b=60131;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),o=w("react.portal"),i=w("react.fragment"),a=w("react.strict_mode"),s=w("react.profiler"),l=w("react.provider"),c=w("react.context"),u=w("react.forward_ref"),d=w("react.suspense"),p=w("react.suspense_list"),f=w("react.memo"),h=w("react.lazy"),m=w("react.block"),g=w("react.server.block"),v=w("react.fundamental"),y=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case d:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case f:case l:return e;default:return t}}case o:return t}}}var k=l,S=r,E=u,C=i,A=h,O=f,I=o,D=s,M=a,T=d;t.ContextConsumer=c,t.ContextProvider=k,t.Element=S,t.ForwardRef=E,t.Fragment=C,t.Lazy=A,t.Memo=O,t.Portal=I,t.Profiler=D,t.StrictMode=M,t.Suspense=T,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===u},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===h},t.isMemo=function(e){return x(e)===f},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===s||e===y||e===a||e===d||e===p||e===b||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===u||e.$$typeof===v||e.$$typeof===m||e[0]===g)},t.typeOf=x},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.createConnect=m,t.default=void 0;var o=r(n(306)),i=r(n(307)),a=r(n(485)),s=r(n(486)),l=r(n(663)),c=r(n(666)),u=r(n(667)),d=r(n(668)),p=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function f(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function h(e,t){return e===t}function m(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?a.default:n,m=t.mapStateToPropsFactories,g=void 0===m?c.default:m,v=t.mapDispatchToPropsFactories,y=void 0===v?l.default:v,b=t.mergePropsFactories,w=void 0===b?u.default:b,x=t.selectorFactory,k=void 0===x?d.default:x;return function(e,t,n,a){void 0===a&&(a={});var l=a,c=l.pure,u=void 0===c||c,d=l.areStatesEqual,m=void 0===d?h:d,v=l.areOwnPropsEqual,b=void 0===v?s.default:v,x=l.areStatePropsEqual,S=void 0===x?s.default:x,E=l.areMergedPropsEqual,C=void 0===E?s.default:E,A=(0,i.default)(l,p),O=f(e,g,"mapStateToProps"),I=f(t,y,"mapDispatchToProps"),D=f(n,w,"mergeProps");return r(k,(0,o.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:O,initMapDispatchToProps:I,initMergeProps:D,pure:u,areStatesEqual:m,areOwnPropsEqual:b,areStatePropsEqual:S,areMergedPropsEqual:C},A))}}var g=m();t.default=g},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=void 0,t.whenMapDispatchToPropsIsFunction=a,t.whenMapDispatchToPropsIsMissing=s,t.whenMapDispatchToPropsIsObject=l;var o=r(n(664)),i=n(487);function a(e){return"function"==typeof e?(0,i.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function s(e){return e?void 0:(0,i.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function l(e){return e&&"object"==typeof e?(0,i.wrapMapToPropsConstant)((function(t){return(0,o.default)(e,t)})):void 0}var c=[a,s,l];t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={},r=function(r){var o=e[r];"function"==typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.whenMapStateToPropsIsFunction=o,t.whenMapStateToPropsIsMissing=i;var r=n(487);function o(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(){return{}}))}var a=[o,i];t.default=a},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=void 0,t.defaultMergeProps=i,t.whenMergePropsIsFunction=s,t.whenMergePropsIsOmitted=l,t.wrapMergePropsFunc=a;var o=r(n(306));r(n(488));function i(e,t,n){return(0,o.default)({},n,e,t)}function a(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}function s(e){return"function"==typeof e?a(e):void 0}function l(e){return e?void 0:function(){return i}}var c=[s,l];t.default=c},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,l=t.initMergeProps,c=(0,o.default)(t,i),u=n(e,c),d=r(e,c),p=l(e,c);0;return(c.pure?s:a)(u,d,p,e,c)},t.impureFinalPropsSelectorFactory=a,t.pureFinalPropsSelectorFactory=s;var o=r(n(307)),i=(r(n(669)),["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);function a(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function s(e,t,n,r,o){var i,a,s,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;function h(o,f){var h,m,g=!d(f,a),v=!u(o,i,f,a);return i=o,a=f,g&&v?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):v?(h=e(i,a),m=!p(h,s),s=h,m&&(c=n(s,l,a)),c):c}return function(o,u){return f?h(o,u):(s=e(i=o,a=u),l=t(r,a),c=n(s,l,a),f=!0,c)}}},function(e,t,n){"use strict";var r=n(90).default;t.__esModule=!0,t.default=function(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)};var o=r(n(489));function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,o.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},function(e,t,n){"use strict";t.__esModule=!0,t.createDispatchHook=i,t.useDispatch=void 0;var r=n(135),o=n(490);function i(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?o.useStore:(0,o.createStoreHook)(e);return function(){return t().dispatch}}var a=i();t.useDispatch=a},function(e,t,n){"use strict";t.__esModule=!0,t.createSelectorHook=c,t.useSelector=void 0;var r=n(0),o=n(491),i=n(304),a=n(305),s=n(135),l=function(e,t){return e===t};function c(e){void 0===e&&(e=s.ReactReduxContext);var t=e===s.ReactReduxContext?o.useReduxContext:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=l);var o=t(),s=function(e,t,n,o){var s,l=(0,r.useReducer)((function(e){return e+1}),0)[1],c=(0,r.useMemo)((function(){return(0,i.createSubscription)(n,o)}),[n,o]),u=(0,r.useRef)(),d=(0,r.useRef)(),p=(0,r.useRef)(),f=(0,r.useRef)(),h=n.getState();try{if(e!==d.current||h!==p.current||u.current){var m=e(h);s=void 0!==f.current&&t(m,f.current)?f.current:m}else s=f.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return(0,a.useIsomorphicLayoutEffect)((function(){d.current=e,p.current=h,f.current=s,u.current=void 0})),(0,a.useIsomorphicLayoutEffect)((function(){function e(){try{var e=n.getState();if(e===p.current)return;var r=d.current(e);if(t(r,f.current))return;f.current=r,p.current=e}catch(e){u.current=e}l()}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[n,c]),s}(e,n,o.store,o.subscription);return(0,r.useDebugValue)(s),s}}var u=c();t.useSelector=u},function(e,t,n){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var r=n(28);t.unstable_batchedUpdates=r.unstable_batchedUpdates},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function o(e,t){var n=r.useState((function(){return{inputs:t,result:e()}}))[0],o=r.useRef(!0),i=r.useRef(n),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return r.useEffect((function(){o.current=!1,i.current=a}),[a]),a.result}function i(e,t){return o((function(){return e}),t)}var a=o,s=i;t.useCallback=s,t.useCallbackOne=i,t.useMemo=a,t.useMemoOne=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(675))&&"object"==typeof r&&"default"in r?r.default:r,i=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},a=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},s=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},l={top:0,right:0,bottom:0,left:0},c=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?l:n,o=e.border,c=void 0===o?l:o,u=e.padding,d=void 0===u?l:u,p=i(a(t,r)),f=i(s(t,c)),h=i(s(f,d));return{marginBox:p,borderBox:i(t),paddingBox:f,contentBox:h,margin:r,border:c,padding:d}},u=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&o(!1),n},d=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return c({borderBox:l,border:i,margin:a,padding:s})},p=function(e,t){var n={top:u(t.marginTop),right:u(t.marginRight),bottom:u(t.marginBottom),left:u(t.marginLeft)},r={top:u(t.paddingTop),right:u(t.paddingRight),bottom:u(t.paddingBottom),left:u(t.paddingLeft)},o={top:u(t.borderTopWidth),right:u(t.borderRightWidth),bottom:u(t.borderBottomWidth),left:u(t.borderLeftWidth)};return c({borderBox:e,margin:n,padding:r,border:o})};t.calculateBox=p,t.createBox=c,t.expand=a,t.getBox=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return p(t,n)},t.getRect=i,t.offset=d,t.shrink=s,t.withScroll=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),d(e,t)}},function(e,t,n){"use strict";var r="Invariant failed";e.exports=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],i=t[n],!(o===i||r(o)&&r(i)))return!1;var o,i;return!0}e.exports=function(e,t){var n;void 0===t&&(t=o);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}}},function(e,t,n){"use strict";e.exports=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),o=n(288),i=n(6),a=n(73),s=n(68),l=n(566);const c="@memexContextMenu:",u=c+"createHighlight",d=c+"saveImage",p=c+"analyseImage";class f{constructor(e){this.options=e,this.createHighlightInTab=e=>Object(i.l)(e).createHighlight(!1,null),this.saveImageAsNewNote=(e,t)=>Object(i.l)(e).saveImageAsNewNote(t),this.analyseImageAsWithAI=(e,t)=>Object(i.l)(e).analyseImageAsWithAI(t),this.remoteFunctions={showSidebar:Object(o.a)(this,"showSidebar"),openDashboard:Object(o.a)(this,"openDashboard"),getCurrentTabURL:Object(o.a)(this,"getCurrentTabURL"),checkStripePlan:Object(o.a)(this,"checkStripePlan"),updateContextMenuEntries:Object(o.a)(this,"updateContextMenuEntries")},this.setupContextMenuEntries()}setupRemoteFunctions(){Object(i.d)(this.remoteFunctions)}getHighlightContextMenuTitle(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return"Highlight with Memex"}))}setupContextMenuEntries(){this.options.contextMenuAPI.create({id:u,title:"Highlight with Memex",contexts:["selection"]}),this.options.contextMenuAPI.onClicked.addListener((({menuItemId:e,srcUrl:t},n)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){if(e===u)return this.createHighlightInTab(n.id);if(e===d&&t){const e=yield this.options.fetch(t).then((e=>e.blob())),r=yield Object(l.a)(e);yield this.saveImageAsNewNote(n.id,r)}if(e===p&&t){const e=yield this.options.fetch(t).then((e=>e.blob())),r=yield Object(l.a)(e);yield this.analyseImageAsWithAI(n.id,r)}})))),this.options.contextMenuAPI.create({id:d,title:"Save with Memex",contexts:["image"]}),this.options.contextMenuAPI.create({id:p,title:"Analyse with AI",contexts:["image"]})}updateContextMenuEntries(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.options.contextMenuAPI.update(u,{title:yield this.getHighlightContextMenuTitle()})}))}openDashboard(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.options.tabsAPI.create({url:a.c})}))}checkStripePlan(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield Object(s.b)(e,this.options.browserAPIs)}))}getCurrentTabURL(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.options.tabsAPI.query({active:!0,currentWindow:!0});return e.length>0?e[0].url:null}))}showSidebar(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=(yield this.options.tabsAPI.query({active:!0,currentWindow:!0}))[0];Object(i.l)(e.id).showSidebar()}))}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(362),e.exports=n(1525)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"main",(function(){return d}));var r=n(2),o=n(1041);function i(e){let t;return(...n)=>(t||(t=e(...n).then((e=>(t.loaded=!0,e)))),t)}const a=i((()=>new Promise((e=>{if("complete"===document.readyState)return window.location.href.includes("youtube.com/watch?")&&function(){const e=new MutationObserver((t=>{if("ytp-popup ytp-contextmenu"===t[0].target.className){const t=document.getElementsByClassName("ytp-panel-menu")[1],n=document.createElement("div"),r=new o.a;n.setAttribute("class","ytp-menuitem"),n.onclick=function(){r.showSidebar()},n.innerHTML='<div class="ytp-menuitem-icon"></div><div class="ytp-menuitem-label">Add Note to timestamp with Memex</div>',t.prepend(n),t.style.height="320px",e.disconnect()}}));e.observe(document,{attributes:!0,childList:!0,subtree:!0})}(),e();window.addEventListener("load",(()=>{e()}))}))));i((()=>new Promise((e=>{if("loading"!==document.readyState)return e();document.addEventListener("readystatechange",(()=>{if("loading"!==document.readyState)return e()}))}))));var s=n(123),l=n(508),c=n(327),u=n(91);const d=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){let t=null;const n=()=>{t||(t=Object(c.a)("tooltip",null,[u.a]))};n(),Object(s.e)((()=>Object(l.b)())),e.inPageUI.events.on("componentShouldSetUp",(o=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){"tooltip"===o.component&&(n(),yield a(),yield Object(l.a)(Object.assign(Object.assign({},e),{mount:t})))})))),e.inPageUI.events.on("componentShouldDestroy",(e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){"tooltip"===e.component&&(Object(c.b)("tooltip"),Object(l.b)())})))),e.inPageUI.events.on("stateChanged",(n=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){"tooltip"in n.changes&&n.newState.tooltip&&Object(l.c)(Object.assign(Object.assign({},e),{mount:t}))}))))}));globalThis.contentScriptRegistry.registerTooltipScript(d)}]);